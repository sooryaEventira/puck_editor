import{j as e}from"./puck-vendor-BeE6vXWX.js";import{r as t}from"./react-vendor-BdxBrZfF.js";import{T as s,j as r,k as n,l as o,m as a,t as i,n as l,o as d,p as c,q as p,r as m,v as u}from"./index-DDsewsre.js";const x=({direction:t,active:s})=>{const r="h-3.5 w-3.5 transition-colors";return s?"ascending"===t?e.jsxs("svg",{className:i(r,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M12 19V5"}),e.jsx("path",{d:"m6 11 6-6 6 6"})]}):e.jsxs("svg",{className:i(r,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M12 5v14"}),e.jsx("path",{d:"m18 13-6 6-6-6"})]}):e.jsxs("svg",{className:i(r,"text-primary/50 group-hover:text-primary/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"m8 7 4-4 4 4"}),e.jsx("path",{d:"m8 17 4 4 4-4"})]})};function h({data:h,columns:b,getRowKey:g,headerLeading:j,headerActions:f,emptyState:y,footer:v,bodyClassName:N,size:k="md",sortDescriptor:w,onSortChange:C,initialSortDescriptor:S,onRowClick:L}){const A=void 0!==w,[M,D]=t.useState(S),P=A?w:M,B=t.useMemo(()=>{if(!P)return h;const e=b.find(e=>e.id===P.column&&e.sortable&&e.sortAccessor);return e&&e.sortAccessor?[...h].sort((t,s)=>{var r,n;return function(e,t,s){const r=e=>null==e?"":e instanceof Date?e.getTime():"boolean"==typeof e?e?1:0:e,n=r(e),o=r(t);return"number"==typeof n&&"number"==typeof o?"descending"===s?o-n:n-o:"descending"===s?String(o).localeCompare(String(n)):String(n).localeCompare(String(o))}(null==(r=e.sortAccessor)?void 0:r.call(e,t),null==(n=e.sortAccessor)?void 0:n.call(e,s),P.direction)}):h},[b,h,P]),T=e=>{if(!e.sortable)return;const t=P&&P.column===e.id?{column:e.id,direction:"ascending"===P.direction?"descending":"ascending"}:{column:e.id,direction:"ascending"};A||D(t),null==C||C(t)},W=t=>{const s=(null==P?void 0:P.column)===t.id;return t.sortable?e.jsxs("button",{type:"button",onClick:()=>T(t),className:"group inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-primary",children:[e.jsx("span",{children:t.header}),e.jsx(x,{active:s,direction:s?null==P?void 0:P.direction:void 0})]}):t.header};return e.jsxs(s,{size:k,className:"border-0",children:[(j||f)&&e.jsxs(r,{className:"md:flex-row-reverse",children:[f&&e.jsx(n,{className:"w-full justify-end md:w-auto",children:f}),j&&e.jsx(o,{className:"gap-2",children:j})]}),e.jsx(a,{className:i(0===B.length?"":"border border-slate-200",N),children:e.jsxs(l,{className:0===B.length?"border-collapse":"",children:[e.jsx(d,{children:e.jsx(c,{children:b.map((t,s)=>e.jsx(p,{scope:"col",className:i("px-3 sm:px-6 py-3 sm:py-4 text-xs font-semibold uppercase tracking-wide text-primary border-b border-slate-200",0===B.length&&0===s?"border-l border-slate-200 rounded-tl-lg":"",0===B.length&&s===b.length-1?"border-r border-slate-200 rounded-tr-lg":"",0===B.length?"border-t border-slate-200":"","right"===t.align?"text-right":"center"===t.align?"text-center":"",t.headerClassName),onClick:()=>t.sortable&&T(t),children:W(t)},t.id))})}),e.jsx(m,{className:0===B.length?"divide-y-0":"",children:0===B.length?e.jsx(c,{className:"border-0",children:e.jsx(u,{colSpan:b.length,className:"px-6 py-10 border-0",children:y??e.jsx("div",{className:"flex min-h-[200px] items-center justify-center text-sm text-slate-500",children:"No data available."})})}):B.map((t,s)=>e.jsx(c,{onClick:e=>{e.target.closest('button, input, a, [role="button"]')||null==L||L(t,s)},className:L?"cursor-pointer":"",children:b.map(r=>e.jsx(u,{className:i("right"===r.align?"px-3 sm:px-6 py-3 sm:py-4 text-right":"center"===r.align?"px-3 sm:px-6 py-3 sm:py-4 text-center":"px-3 sm:px-6 py-3 sm:py-4",r.cellClassName),children:r.render(t,s)},r.id))},g(t,s)))})]})}),v]})}const b=({currentPage:t,totalPages:s,onPageChange:r})=>{if(s<=1)return null;const n=[];if(s<=7)for(let e=1;e<=s;e++)n.push(e);else if(t<=3){for(let e=1;e<=3;e++)n.push(e);n.push("..."),n.push(s-1),n.push(s)}else if(t>=s-2){n.push(1),n.push(2),n.push("...");for(let e=s-2;e<=s;e++)n.push(e)}else{n.push(1),n.push("...");for(let e=t-1;e<=t+1;e++)n.push(e);n.push("..."),n.push(s)}return e.jsxs("div",{className:"flex items-center justify-center gap-2 border-t border-slate-200 px-6 py-4",children:[e.jsx("button",{type:"button",onClick:()=>r(Math.max(1,t-1)),disabled:1===t,className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"← Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:n.map((s,n)=>{if("..."===s)return e.jsx("span",{className:"px-2 text-sm text-slate-500",children:"..."},`ellipsis-${n}`);const o=s,a=t===o;return e.jsx("button",{type:"button",onClick:()=>r(o),className:"rounded-md px-3 py-2 text-sm font-medium transition "+(a?"bg-primary text-white":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:o},o)})}),e.jsx("button",{type:"button",onClick:()=>r(Math.min(s,t+1)),disabled:t===s,className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Next →"})]})};export{h as D,b as T};
