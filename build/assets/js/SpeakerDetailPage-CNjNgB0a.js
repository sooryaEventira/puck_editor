import{j as e}from"./puck-vendor-BeE6vXWX.js";import{r as t}from"./react-vendor-BdxBrZfF.js";import{r as s}from"./eventLocalStore-CWbqpkVu.js";import{f as a}from"./publicSpeakerService-uLUOSPIn.js";import"./index-Cuj1Wa0k.js";import"./icons-vendor-BRMUrJuS.js";const l=({eventUuid:l,speakerId:r,onNavigate:i})=>{const[n,o]=t.useState(null),[d,c]=t.useState("loading");t.useEffect(()=>{let e=!1;return(async()=>{e||c("loading");try{const t=await a(l),s=(Array.isArray(t)?t:[]).map((e,t)=>({id:String(e.uuid??e.id??`speaker-${t}`),name:String(e.name??"").trim()||String([e.first_name,e.last_name].filter(Boolean).join(" ")).trim()||"Unknown",title:e.title??e.role??void 0,organization:e.organization??e.company??void 0,avatarUrl:e.avatarUrl??e.avatar_url??void 0,bio:e.bio??e.description??void 0}));e||(o(s),c("success"))}catch{e||(o(null),c("error"))}})(),()=>{e=!0}},[l]);const m=t.useMemo(()=>(n??s(l,"speakers",[])).find(e=>String(e.id)===String(r))||null,[n,l,r]);if(!m&&"loading"===d)return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsx("button",{type:"button",onClick:()=>i(`/events/${l}/speakers`),className:"mb-4 inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:"← Back"}),e.jsx("span",{className:"sr-only",children:"Loading speaker"}),e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-xl bg-slate-100 ring-1 ring-slate-200"}),e.jsx("div",{className:"mt-6 h-7 w-56 rounded bg-slate-100"}),e.jsx("div",{className:"mt-2 h-4 w-72 rounded bg-slate-100"}),e.jsx("div",{className:"mt-6 h-20 w-full max-w-2xl rounded bg-slate-100"})]})})]});if(!m)return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsx("button",{type:"button",onClick:()=>i(`/events/${l}/speakers`),className:"mb-4 inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:"← Back"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Speaker not found"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"This speaker doesn’t exist or hasn’t been published to this browser."})]});const x=[m.title,m.organization].filter(Boolean).join(" • ");return e.jsxs("div",{className:"space-y-10",children:[e.jsx("button",{type:"button",onClick:()=>i(`/events/${l}/speakers`),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900","aria-label":"Back to speakers",children:"← Back"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.avatarUrl?e.jsx("img",{src:m.avatarUrl,alt:m.name,className:"h-32 w-32 rounded-xl object-cover ring-1 ring-slate-200"}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-xl bg-slate-100 ring-1 ring-slate-200 text-xl font-semibold text-slate-500",children:(m.name||"S").split(" ").filter(Boolean).map(e=>e[0]).join("").toUpperCase().slice(0,2)}),e.jsx("h1",{className:"mt-6 text-2xl font-semibold text-slate-900",children:m.name}),x?e.jsx("div",{className:"mt-1 text-sm text-slate-500",children:x}):null,m.bio?e.jsx("div",{className:"mt-6 max-w-2xl text-sm leading-6 text-slate-600",children:m.bio}):null]})]})};export{l as default};
