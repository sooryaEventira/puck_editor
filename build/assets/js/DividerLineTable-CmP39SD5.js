import{j as e}from"./puck-vendor-DXoNcV6M.js";import{r}from"./react-vendor-BdxBrZfF.js";import{T as s,d as t,e as n,f as o,g as i,t as a,h as l,i as c,j as d,k as m,l as p,m as x}from"./index-BiC8NOJs.js";const u=({direction:r,active:s})=>{const t="h-3.5 w-3.5 transition-colors";return s?"ascending"===r?e.jsxs("svg",{className:a(t,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M12 19V5"}),e.jsx("path",{d:"m6 11 6-6 6 6"})]}):e.jsxs("svg",{className:a(t,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M12 5v14"}),e.jsx("path",{d:"m18 13-6 6-6-6"})]}):e.jsxs("svg",{className:a(t,"text-primary/50 group-hover:text-primary/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"m8 7 4-4 4 4"}),e.jsx("path",{d:"m8 17 4 4 4-4"})]})};function h({data:h,columns:g,getRowKey:j,headerLeading:b,headerActions:f,emptyState:y,footer:v,bodyClassName:N,size:k="md",sortDescriptor:C,onSortChange:w,initialSortDescriptor:S,onRowClick:L}){const A=void 0!==C,[D,B]=r.useState(S),M=A?C:D,W=r.useMemo(()=>{if(!M)return h;const e=g.find(e=>e.id===M.column&&e.sortable&&e.sortAccessor);return e&&e.sortAccessor?[...h].sort((r,s)=>{var t,n;return function(e,r,s){const t=e=>null==e?"":e instanceof Date?e.getTime():"boolean"==typeof e?e?1:0:e,n=t(e),o=t(r);return"number"==typeof n&&"number"==typeof o?"descending"===s?o-n:n-o:"descending"===s?String(o).localeCompare(String(n)):String(n).localeCompare(String(o))}(null==(t=e.sortAccessor)?void 0:t.call(e,r),null==(n=e.sortAccessor)?void 0:n.call(e,s),M.direction)}):h},[g,h,M]),z=e=>{if(!e.sortable)return;const r=M&&M.column===e.id?{column:e.id,direction:"ascending"===M.direction?"descending":"ascending"}:{column:e.id,direction:"ascending"};A||B(r),null==w||w(r)},R=r=>{const s=(null==M?void 0:M.column)===r.id;return r.sortable?e.jsxs("button",{type:"button",onClick:()=>z(r),className:"group inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-primary",children:[e.jsx("span",{children:r.header}),e.jsx(u,{active:s,direction:s?null==M?void 0:M.direction:void 0})]}):r.header};return e.jsxs(s,{size:k,className:"border-0",children:[(b||f)&&e.jsxs(t,{className:"md:flex-row-reverse",children:[f&&e.jsx(n,{className:"w-full justify-end md:w-auto",children:f}),b&&e.jsx(o,{className:"gap-2",children:b})]}),e.jsx(i,{className:a(0===W.length?"":"border border-slate-200",N),children:e.jsxs(l,{className:0===W.length?"border-collapse":"",children:[e.jsx(c,{children:e.jsx(d,{children:g.map((r,s)=>e.jsx(m,{scope:"col",className:a("px-3 sm:px-6 py-3 sm:py-4 text-xs font-semibold uppercase tracking-wide text-primary border-b border-slate-200",0===W.length&&0===s?"border-l border-slate-200 rounded-tl-lg":"",0===W.length&&s===g.length-1?"border-r border-slate-200 rounded-tr-lg":"",0===W.length?"border-t border-slate-200":"","right"===r.align?"text-right":"center"===r.align?"text-center":"",r.headerClassName),onClick:()=>r.sortable&&z(r),children:R(r)},r.id))})}),e.jsx(p,{className:0===W.length?"divide-y-0":"",children:0===W.length?e.jsx(d,{className:"border-0",children:e.jsx(x,{colSpan:g.length,className:"px-6 py-10 border-0",children:y??e.jsx("div",{className:"flex min-h-[200px] items-center justify-center text-sm text-slate-500",children:"No data available."})})}):W.map((r,s)=>e.jsx(d,{onClick:e=>{e.target.closest('button, input, a, [role="button"]')||null==L||L(r,s)},className:L?"cursor-pointer":"",children:g.map(t=>e.jsx(x,{className:a("right"===t.align?"px-3 sm:px-6 py-3 sm:py-4 text-right":"center"===t.align?"px-3 sm:px-6 py-3 sm:py-4 text-center":"px-3 sm:px-6 py-3 sm:py-4",t.cellClassName),children:t.render(r,s)},t.id))},j(r,s)))})]})}),v]})}export{h as D};
