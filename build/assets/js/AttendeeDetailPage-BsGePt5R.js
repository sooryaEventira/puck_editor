import{j as e}from"./puck-vendor-BeE6vXWX.js";import{r as t}from"./react-vendor-BdxBrZfF.js";import{r as s}from"./eventLocalStore-CWbqpkVu.js";import{f as a}from"./publicAttendeeService-CFOV4Dzm.js";import"./index-BmzR9LWJ.js";import"./icons-vendor-B3tUBqWS.js";const n=({eventUuid:n,attendeeId:i,onNavigate:r})=>{const[l,o]=t.useState(null);t.useEffect(()=>{let e=!1;return(async()=>{try{const t=await a(n),s=(Array.isArray(t)?t:[]).map((e,t)=>({id:String(e.uuid??e.id??`attendee-${t}`),name:String(e.name??"").trim()||String([e.first_name,e.last_name].filter(Boolean).join(" ")).trim()||"Unknown",post:e.post??e.title??void 0,institute:e.institute??e.company??void 0,avatarUrl:e.avatarUrl??e.avatar_url??void 0}));e||o(s)}catch{e||o(null)}})(),()=>{e=!0}},[n]);const d=t.useMemo(()=>(l??s(n,"attendees",[])).find(e=>String(e.id)===String(i))||null,[l,i,n]);if(!d)return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsx("button",{type:"button",onClick:()=>r(`/events/${n}/attendees`),className:"mb-4 inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:"← Back"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Attendee not found"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"This attendee doesn’t exist or hasn’t been published to this browser."})]});const c=[d.post,d.institute].filter(Boolean).join(" • ");return e.jsxs("div",{className:"space-y-10",children:[e.jsx("button",{type:"button",onClick:()=>r(`/events/${n}/attendees`),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900","aria-label":"Back to attendees",children:"← Back"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.avatarUrl?e.jsx("img",{src:d.avatarUrl,alt:d.name,className:"h-32 w-32 rounded-xl object-cover ring-1 ring-slate-200"}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-xl bg-slate-100 ring-1 ring-slate-200 text-xl font-semibold text-slate-500",children:(d.name||"A").split(" ").filter(Boolean).map(e=>e[0]).join("").toUpperCase().slice(0,2)}),e.jsx("h1",{className:"mt-6 text-2xl font-semibold text-slate-900",children:d.name}),c?e.jsx("div",{className:"mt-1 text-sm text-slate-500",children:c}):null]})]})};export{n as default};
