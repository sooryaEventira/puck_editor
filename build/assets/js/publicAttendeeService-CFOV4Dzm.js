import{h as r,A as e,a as t,b as o}from"./index-BmzR9LWJ.js";const n=async n=>{try{if(!n){const e=r("Event UUID is required.",void 0,"Event UUID is required.");throw new Error(e)}const s=e.PUBLIC.ATTENDEES.LIST(n),c=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c||!c.ok){if(!c){const r=t(null);throw new Error(r)}try{const e=await c.text();let t=null;try{t=e?JSON.parse(e):null}catch{if(e&&e.trim()){const t=r(e.trim(),c,"An error occurred. Please try again.");throw new Error(t)}}if(t){const e=r(t,c,"An error occurred. Please try again.");throw new Error(e)}const o=r(null,c,"An error occurred. Please try again.");throw new Error(o)}catch(a){if(a instanceof Error)throw a;const e=r(null,c,"An error occurred. Please try again.");throw new Error(e)}}let i;try{i=await c.json()}catch{const r=o("Invalid response from server. Please try again.");throw new Error(r)}if("error"===(null==i?void 0:i.status)){const e=r(i,void 0,"Failed to fetch attendees. Please try again.");throw new Error(e)}const l=(null==i?void 0:i.data)??(null==i?void 0:i.results)??i;return Array.isArray(l)?l:l&&"object"==typeof l&&Array.isArray(l.results)?l.results:[]}catch(s){if(s instanceof TypeError&&s.message.includes("fetch"))throw s.message.includes("Cannot connect")||t(),new Error(s.message||"Network error occurred");throw s instanceof Error?s:new Error("Failed to fetch attendees. Please try again.")}};export{n as f};
