import{j as e}from"./puck-vendor-BeE6vXWX.js";import{r as s}from"./react-vendor-BdxBrZfF.js";import{S as t}from"./icons-vendor-B3tUBqWS.js";import{r as a}from"./eventLocalStore-CWbqpkVu.js";import{n,b as l}from"./indexedSearch-DGht6u-v.js";const i=({name:s,logoLink:t})=>e.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[t?e.jsx("img",{src:t,alt:s,className:"h-12 w-12 rounded-full object-cover ring-1 ring-slate-200"}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 ring-1 ring-slate-200"}),e.jsx("div",{className:"min-w-0",children:e.jsx("div",{className:"truncate text-sm font-semibold text-slate-900",children:s})})]}),r=({eventUuid:r,onNavigate:o})=>{const[d,c]=s.useState(""),m=s.useMemo(()=>a(r,"organizations",[]),[r]),x=s.useMemo(()=>{const e=new Set;return m.map((s,t)=>{const a=String((null==s?void 0:s.id)??"").trim(),l=n(null==s?void 0:s.name).replace(/\s+/g,"-")||"org";let i=a||`${l}-${t}`;for(;e.has(i);)i=`${i}-${t}`;return e.add(i),{...s,id:i}})},[m]),h=s.useMemo(()=>l(x,e=>e.name),[x]),u=s.useMemo(()=>{const e=n(d);if(!e)return x;const s=e.split(" ").filter(Boolean);return h.filter(e=>s.every(s=>e.text.includes(s))).map(e=>e.item)},[x,h,d]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-black",children:"Organizations"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center overflow-hidden rounded-md border border-slate-200 bg-white shadow-sm",children:[e.jsx("input",{value:d,onChange:e=>c(e.target.value),placeholder:"Search organizations",className:"w-[240px] px-3 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:outline-none"}),e.jsx("button",{type:"button",className:"flex h-9 w-10 items-center justify-center bg-primary text-white","aria-label":"Search",children:e.jsx(t,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Showing ",e.jsx("span",{className:"font-semibold text-slate-700",children:u.length})," of"," ",e.jsx("span",{className:"font-semibold text-slate-700",children:x.length})]}),0===u.length?e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsx("div",{className:"text-base font-semibold text-slate-900",children:0===m.length?"No organizations yet":"No organizations found"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Add organizations in EventHub â†’ Organization Management to see them here."})]}):e.jsx("div",{className:"space-y-3",children:u.map((s,t)=>e.jsx("button",{type:"button",onClick:()=>o(`/events/${r}/organizations/${s.id}`),className:"w-full text-left",children:e.jsx(i,{name:s.name,logoLink:s.logoLink})},`${s.id}-${t}`))})]})};export{r as default};
