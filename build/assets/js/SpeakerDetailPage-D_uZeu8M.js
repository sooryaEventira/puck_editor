import{j as e}from"./puck-vendor-BeE6vXWX.js";import{r as t}from"./react-vendor-BdxBrZfF.js";import{r as s}from"./eventLocalStore-CWbqpkVu.js";import{f as a}from"./publicSpeakerService-BSwYM8d4.js";import"./index-BmzR9LWJ.js";import"./icons-vendor-B3tUBqWS.js";const i=({eventUuid:i,speakerId:r,onNavigate:n})=>{const[l,o]=t.useState(null);t.useEffect(()=>{let e=!1;return(async()=>{try{const t=await a(i),s=(Array.isArray(t)?t:[]).map((e,t)=>({id:String(e.uuid??e.id??`speaker-${t}`),name:String(e.name??"").trim()||String([e.first_name,e.last_name].filter(Boolean).join(" ")).trim()||"Unknown",title:e.title??e.role??void 0,organization:e.organization??e.company??void 0,avatarUrl:e.avatarUrl??e.avatar_url??void 0,bio:e.bio??e.description??void 0}));e||o(s)}catch{e||o(null)}})(),()=>{e=!0}},[i]);const c=t.useMemo(()=>(l??s(i,"speakers",[])).find(e=>String(e.id)===String(r))||null,[l,i,r]);if(!c)return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsx("button",{type:"button",onClick:()=>n(`/events/${i}/speakers`),className:"mb-4 inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:"← Back"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Speaker not found"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"This speaker doesn’t exist or hasn’t been published to this browser."})]});const m=[c.title,c.organization].filter(Boolean).join(" • ");return e.jsxs("div",{className:"space-y-10",children:[e.jsx("button",{type:"button",onClick:()=>n(`/events/${i}/speakers`),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900","aria-label":"Back to speakers",children:"← Back"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.avatarUrl?e.jsx("img",{src:c.avatarUrl,alt:c.name,className:"h-32 w-32 rounded-xl object-cover ring-1 ring-slate-200"}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-xl bg-slate-100 ring-1 ring-slate-200 text-xl font-semibold text-slate-500",children:(c.name||"S").split(" ").filter(Boolean).map(e=>e[0]).join("").toUpperCase().slice(0,2)}),e.jsx("h1",{className:"mt-6 text-2xl font-semibold text-slate-900",children:c.name}),m?e.jsx("div",{className:"mt-1 text-sm text-slate-500",children:m}):null,c.bio?e.jsx("div",{className:"mt-6 max-w-2xl text-sm leading-6 text-slate-600",children:c.bio}):null]})]})};export{i as default};
