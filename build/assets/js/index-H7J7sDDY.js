import{B as e,u as t,M as s,E as a,h as r,A as i,a as n,b as l,s as o,I as c}from"./index-Uxn3yAjE.js";import{d,E as m}from"./EventHubContent-CwVy8wez.js";import{a as u}from"./EventHubContent-CwVy8wez.js";import{j as x}from"./puck-vendor-BeE6vXWX.js";import{r as p,R as h}from"./react-vendor-BdxBrZfF.js";import{S as g,c as f,f as b,a as v,u as j,C as y}from"./CommunicationPage-eDchdtYg.js";import{b as N}from"./CommunicationPage-eDchdtYg.js";import w from"./ResourceManagementPage-Dv7AQzrT.js";import{S as k,a as C}from"./SchedulePage-D5auuyHA.js";import{E as S}from"./EventWebsitePage-BFQ8jEAk.js";import{D as E,T as A}from"./TablePagination-CTtXOV9M.js";import{T as P,P as U,D,G as F,a as M,X as I,H as z,C as L,E as T,b as O,I as G,c as R,d as V,S as B,F as _,e as $}from"./icons-vendor-B3tUBqWS.js";import{B as W}from"./Button-Ch-bJN4k.js";import{u as X}from"./TableHeader-BCupUAxR.js";import{U as H}from"./UploadModal-Ci0apRNV.js";import{w as q,r as K}from"./eventLocalStore-CWbqpkVu.js";import{S as J}from"./ScheduleContent-xRR9nuVK.js";import"./resourceService-DBBEW7zO.js";import"./timezoneService-B4nt9ta5.js";const Q=({allVisibleSelected:e,partiallySelected:t,selectedCustomFieldIds:s,onToggleAllVisible:a,onToggleRow:r,onEditCustomField:i,onDeleteCustomField:n})=>p.useMemo(()=>[{id:"fieldName",header:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(g,{checked:e,indeterminate:t,onChange:a,ariaLabel:"Select all custom fields"}),x.jsx("span",{children:"Field name"})]}),sortable:!0,sortAccessor:({customField:e})=>(null==e?void 0:e.fieldName)||"",render:({customField:e})=>e?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${e.fieldName}`,checked:s.has(e.id),onChange:t=>r(e.id,t.target.checked)}),x.jsx("span",{className:"text-sm font-medium text-slate-900",children:e.fieldName})]}):null},{id:"users",header:"Users",sortable:!0,sortAccessor:({customField:e})=>(null==e?void 0:e.users)||0,render:({customField:e})=>e?x.jsxs("span",{className:"text-sm text-slate-600",children:[e.users," Users"]}):null},{id:"fieldType",header:"Field type",sortable:!0,sortAccessor:({customField:e})=>(null==e?void 0:e.fieldType)||"",render:({customField:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.fieldType}):null},{id:"visibility",header:"Visibility",sortable:!0,sortAccessor:({customField:e})=>(null==e?void 0:e.visibility)||"",render:({customField:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.visibility}):null},{id:"actions",header:"",align:"right",render:({customField:e})=>e?x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:()=>null==n?void 0:n(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${e.fieldName}`,children:x.jsx(P,{className:"h-4 w-4",strokeWidth:1.8})}),x.jsx("button",{type:"button",onClick:()=>null==i?void 0:i(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${e.fieldName}`,children:x.jsx(U,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[e,t,s,a,r,i,n]),Y=({attendees:t,customFields:s=[],activeTab:a,onTabChange:r,onUpload:i,onCreateProfile:n,onCreateField:l,onEditAttendee:o,onDeleteAttendee:c,onEditCustomField:d,onDeleteCustomField:m,onDownload:u,onGridView:f,onFilter:b,isLoading:v=!1})=>{const[j,y]=p.useState(""),[N,w]=p.useState(new Set),[k,C]=p.useState(new Set),[S,I]=p.useState(1),[z,L]=p.useState({column:"name",direction:"ascending"}),T=p.useMemo(()=>{const e=j.trim().toLowerCase();return e?t.filter(t=>{const s=t.tags?Array.isArray(t.tags)?t.tags.join(" "):t.tags:"";return[t.name,t.email,t.inviteCode,...t.groups.map(e=>e.name),s].filter(Boolean).join(" ").toLowerCase().includes(e)}):t},[j,t]),O=p.useMemo(()=>{const e=j.trim().toLowerCase();return e?s.filter(t=>t.fieldName.toLowerCase().includes(e)):s},[j,s]),G=p.useMemo(()=>T.map(e=>e.id),[T]),R=p.useMemo(()=>O.map(e=>e.id),[O]),V=p.useMemo(()=>{const e=10*(S-1),t=e+10;return T.slice(e,t)},[T,S]),B=p.useMemo(()=>{const e=10*(S-1),t=e+10;return O.slice(e,t)},[O,S]),_=p.useMemo(()=>{const e="user"===a?T.length:O.length;return Math.ceil(e/10)},[a,T.length,O.length]),$=p.useMemo(()=>G.length>0&&G.every(e=>N.has(e)),[G,N]),H=p.useMemo(()=>!$&&G.some(e=>N.has(e)),[$,G,N]),q=p.useMemo(()=>R.length>0&&R.every(e=>k.has(e)),[R,k]),K=p.useMemo(()=>!q&&R.some(e=>k.has(e)),[q,R,k]),J=p.useCallback(e=>{w(t=>{const s=new Set(t);return G.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[G]),Y=p.useCallback((e,t)=>{w(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),Z=p.useCallback(e=>{C(t=>{const s=new Set(t);return R.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[R]),ee=p.useCallback((e,t)=>{C(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),te=p.useMemo(()=>V.map((e,t)=>({attendee:e,index:t})),[V]),se=p.useMemo(()=>B.map((e,t)=>({customField:e,index:t})),[B]),ae=(({allVisibleSelected:t,partiallySelected:s,selectedAttendeeIds:a,onToggleAllVisible:r,onToggleRow:i,onEditAttendee:n,onDeleteAttendee:l})=>p.useMemo(()=>[{id:"name",header:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(g,{checked:t,indeterminate:s,onChange:r,ariaLabel:"Select all attendees"}),x.jsx("span",{children:"Name"})]}),sortable:!0,sortAccessor:({attendee:e})=>(null==e?void 0:e.name)||"",render:({attendee:e})=>e?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${e.name}`,checked:a.has(e.id),onChange:t=>{t.stopPropagation(),i(e.id,t.target.checked)},onClick:e=>e.stopPropagation()}),e.avatarUrl?x.jsx("img",{src:e.avatarUrl,alt:e.name,className:"h-8 w-8 rounded-full object-cover"}):x.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-xs font-medium text-slate-600",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),x.jsx("span",{className:"text-sm font-medium text-slate-900 cursor-pointer hover:text-primary transition-colors",onClick:()=>null==n?void 0:n(e.id),children:e.name})]}):null},{id:"email",header:"Email address",sortable:!0,sortAccessor:({attendee:e})=>(null==e?void 0:e.email)||"",render:({attendee:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.email}):null},{id:"inviteCode",header:"Invite code",sortable:!0,sortAccessor:({attendee:e})=>(null==e?void 0:e.inviteCode)||"",render:({attendee:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.inviteCode||"-"}):null},{id:"groups",header:"Group",sortable:!0,sortAccessor:({attendee:e})=>(null==e?void 0:e.tags)&&e.tags.length>0?Array.isArray(e.tags)?e.tags.join(" "):e.tags:(null==e?void 0:e.groups.map(e=>e.name).join(" "))||"",render:({attendee:t})=>{if(!t)return null;if(t.tags&&t.tags.length>0){const s=Array.isArray(t.tags)?t.tags:[t.tags];return x.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.map((t,s)=>x.jsx(e,{variant:"muted",children:t},s))})}return x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.groups.slice(0,3).map((t,s)=>{return x.jsx(e,{variant:(a=t.variant,"primary"===a?"primary":"info"===a?"info":"muted"),children:t.name},s);var a}),t.groups.length>3&&x.jsxs(e,{variant:"muted",children:["+",t.groups.length-3]})]})}},{id:"actions",header:"",align:"right",render:({attendee:e})=>e?x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:()=>null==l?void 0:l(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${e.name}`,children:x.jsx(P,{className:"h-4 w-4",strokeWidth:1.8})}),x.jsx("button",{type:"button",onClick:()=>null==n?void 0:n(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${e.name}`,children:x.jsx(U,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[t,s,a,r,i,n,l]))({allVisibleSelected:$,partiallySelected:H,selectedAttendeeIds:N,onToggleAllVisible:J,onToggleRow:Y,onEditAttendee:o,onDeleteAttendee:c}),re=Q({allVisibleSelected:q,partiallySelected:K,selectedCustomFieldIds:k,onToggleAllVisible:Z,onToggleRow:ee,onEditCustomField:d,onDeleteCustomField:m}),ie=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===t.length?"No attendees have been added yet!":"No attendees match your search."}),ne=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===s.length?"No custom fields have been created yet!":"No custom fields match your search."}),le=p.useMemo(()=>"custom-schedule"===a?"Search personal schedule":"Search attendees",[a]),oe=p.useMemo(()=>"custom-schedule"===a?"+ New field":"+ New profile",[a]),ce=p.useMemo(()=>"custom-schedule"===a?l:n,[a,l,n]),de=X({tabs:[{id:"user",label:"User"},{id:"groups",label:"Groups"},{id:"custom-schedule",label:"Custom schedule"}],activeTabId:a,searchQuery:j,searchPlaceholder:le,onTabChange:e=>r(e),onSearchChange:y,showFilter:!0,onFilterClick:b||(()=>{}),filterLabel:"Filter "+("custom-schedule"===a?"custom fields":"attendees"),customActions:"user"===a?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Download",children:x.jsx(D,{className:"h-4 w-4",strokeWidth:2})}),x.jsx("button",{type:"button",onClick:f,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Grid view",children:x.jsx(F,{className:"h-4 w-4",strokeWidth:2})})]}):void 0}),me=p.useCallback(e=>{L(e)},[]);h.useEffect(()=>{I(1)},[a,j]);const ue="custom-schedule"===a?{data:se,columns:re,emptyState:ne,getRowKey:e=>{var t;return(null==(t=e.customField)?void 0:t.id)||""}}:{data:te,columns:ae,emptyState:ie,getRowKey:e=>{var t;return(null==(t=e.attendee)?void 0:t.id)||""}};return v?x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Attendee Management"})}),x.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#6938EF] mb-4"}),x.jsx("p",{className:"text-slate-600",children:"Loading attendees..."})]})})]}):x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Attendee Management"}),x.jsxs("div",{className:"flex items-center gap-3",children:["user"===a&&x.jsx(W,{type:"button",onClick:i,iconLeading:x.jsx(M,{className:"h-4 w-4"}),className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Upload"}),x.jsx("button",{type:"button",onClick:ce,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:oe})]})]}),x.jsx(E,{headerLeading:de.leading,headerActions:de.actions,data:ue.data,columns:ue.columns,getRowKey:ue.getRowKey,emptyState:ue.emptyState,sortDescriptor:z,onSortChange:me,onRowClick:"user"===a?e=>{const t=e;t.attendee&&(null==o||o(t.attendee.id))}:void 0,footer:x.jsx(A,{currentPage:S,totalPages:_,onPageChange:I})})]})},Z=({allVisibleSelected:e,partiallySelected:t,selectedGroupIds:s,onToggleAllVisible:a,onToggleRow:r,onEditGroup:i,onDeleteGroup:n})=>p.useMemo(()=>[{id:"groupName",header:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(g,{checked:e,indeterminate:t,onChange:a,ariaLabel:"Select all groups"}),x.jsx("span",{children:"Group name"})]}),sortable:!0,sortAccessor:({group:e})=>(null==e?void 0:e.name)||"",render:({group:e})=>e?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${e.name}`,checked:s.has(e.id),onChange:t=>r(e.id,t.target.checked)}),x.jsx("span",{className:"text-sm font-medium text-slate-900",children:e.name})]}):null},{id:"attendeeCount",header:"Attendee count",sortable:!0,sortAccessor:({group:e})=>(null==e?void 0:e.attendeeCount)||0,render:({group:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.attendeeCount}):null},{id:"actions",header:"",align:"right",render:({group:e})=>e?x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:()=>null==n?void 0:n(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${e.name}`,children:x.jsx(P,{className:"h-4 w-4",strokeWidth:1.8})}),x.jsx("button",{type:"button",onClick:()=>null==i?void 0:i(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${e.name}`,children:x.jsx(U,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[e,t,s,a,r,i,n]),ee=({groups:e,onCreateGroup:t,onEditGroup:s,onDeleteGroup:a,onFilter:r,onTabChange:i,isLoading:n=!1})=>{const[l,o]=p.useState(""),[c,d]=p.useState(new Set),[m,u]=p.useState(1),[g,f]=p.useState({column:"groupName",direction:"ascending"}),b=p.useMemo(()=>{const t=e.filter(e=>e&&"object"==typeof e&&"id"in e&&"name"in e&&"attendeeCount"in e&&!("email"in e)&&!("inviteCode"in e)&&!("status"in e)),s=l.trim().toLowerCase();return s?t.filter(e=>e.name.toLowerCase().includes(s)):t},[l,e]),v=p.useMemo(()=>b.map(e=>e.id),[b]),j=p.useMemo(()=>{const e=10*(m-1),t=e+10;return b.slice(e,t)},[b,m]),y=p.useMemo(()=>Math.ceil(b.length/10),[b.length]),N=p.useMemo(()=>v.length>0&&v.every(e=>c.has(e)),[v,c]),w=p.useMemo(()=>!N&&v.some(e=>c.has(e)),[N,v,c]),k=p.useCallback(e=>{d(t=>{const s=new Set(t);return v.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[v]),C=p.useCallback((e,t)=>{d(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),S=p.useMemo(()=>j.map((e,t)=>({group:e,index:t})),[j]),P=Z({allVisibleSelected:N,partiallySelected:w,selectedGroupIds:c,onToggleAllVisible:k,onToggleRow:C,onEditGroup:s,onDeleteGroup:a}),U=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===e.length?"No groups have been created yet!":"No groups match your search."}),D=X({tabs:[{id:"user",label:"User"},{id:"groups",label:"Groups"},{id:"custom-schedule",label:"Custom schedule"}],activeTabId:"groups",searchQuery:l,searchPlaceholder:"Search group",onTabChange:e=>null==i?void 0:i(e),onSearchChange:o,showFilter:!0,onFilterClick:r||(()=>{}),filterLabel:"Filter groups",customActions:void 0}),F=p.useCallback(e=>{f(e)},[]);return h.useEffect(()=>{u(1)},[l]),n?x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Attendee Management"})}),x.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#6938EF] mb-4"}),x.jsx("p",{className:"text-slate-600",children:"Loading groups..."})]})})]}):x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Attendee Management"}),x.jsx("div",{className:"flex items-center gap-3",children:x.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"+ New group"})})]}),x.jsx(E,{headerLeading:D.leading,headerActions:D.actions,data:S,columns:P,getRowKey:(e,t)=>{var s;return(null==(s=e.group)?void 0:s.id)||`group-${t}`},emptyState:U,sortDescriptor:g,onSortChange:F,footer:x.jsx(A,{currentPage:m,totalPages:y,onPageChange:u})})]})},te=({isOpen:e,onClose:t,onSave:s})=>{const[a,r]=p.useState(""),[i,n]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[m,u]=p.useState(""),[h,g]=p.useState(""),[f,b]=p.useState(""),[v,j]=p.useState(null),[y,N]=p.useState(!1),w=p.useRef(null);if(!e)return null;const k=e=>{if(e){if(!["image/svg+xml","image/png","image/jpeg","image/jpg","image/gif"].includes(e.type))return void alert("Please upload a valid image file (SVG, PNG, JPG, or GIF)");const t=new FileReader;t.onloadend=()=>{j(t.result)},t.readAsDataURL(e)}},C=()=>{r(""),n(""),o(""),d(""),u(""),g(""),b(""),j(null),t()};return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:C}),x.jsxs("div",{className:"relative z-50 w-[450px]  max-w-2xl mx-4 bg-white rounded-lg shadow-xl",children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create profile"}),x.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Choose a username and write a brief intro."})]}),x.jsx("button",{type:"button",onClick:C,className:"text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Close",children:x.jsx(I,{className:"h-5 w-5"})})]}),x.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[calc(100vh-250px)] overflow-y-auto",children:[x.jsx("div",{children:x.jsxs("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer "+(y?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400"),onDragOver:e=>{e.preventDefault(),N(!0)},onDragLeave:e=>{e.preventDefault(),N(!1)},onDrop:e=>{var t;e.preventDefault(),N(!1);const s=null==(t=e.dataTransfer.files)?void 0:t[0];s&&k(s)},onClick:()=>{var e;return null==(e=w.current)?void 0:e.click()},children:[x.jsx("input",{ref:w,type:"file",accept:"image/svg+xml,image/png,image/jpeg,image/jpg,image/gif",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];s&&k(s)},className:"hidden"}),v?x.jsxs("div",{className:"space-y-1",children:[x.jsx("img",{src:v,alt:"Profile preview",className:"mx-auto h-24 w-24 rounded-full object-cover"}),x.jsx("p",{className:"text-xs text-slate-600",children:"Click to change image"})]}):x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"flex justify-center",children:x.jsx(M,{className:"h-6 w-6 text-slate-400"})}),x.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Click to upload or drag and drop"}),x.jsx("p",{className:"text-xs text-slate-500",children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["First name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"First name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Last name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Last name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Email ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"email",value:l,onChange:e=>o(e.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),x.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",children:[x.jsx("option",{value:"",children:"Organization"}),x.jsx("option",{value:"org1",children:"Organization 1"}),x.jsx("option",{value:"org2",children:"Organization 2"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),x.jsxs("select",{value:m,onChange:e=>u(e.target.value),className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",children:[x.jsx("option",{value:"",children:"Role"}),x.jsx("option",{value:"admin",children:"Admin"}),x.jsx("option",{value:"user",children:"User"}),x.jsx("option",{value:"speaker",children:"Speaker"}),x.jsx("option",{value:"attendee",children:"Attendee"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Group"}),x.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Group",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),x.jsx("textarea",{value:f,onChange:e=>b(e.target.value),placeholder:"Write a brief introduction to show on your profile...",rows:3,className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary resize-y"})]})]}),x.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-slate-200",children:[x.jsxs("a",{href:"#",className:"inline-flex items-center gap-1 text-sm text-slate-600 hover:text-primary transition-colors",children:[x.jsx(z,{className:"h-4 w-4"}),"Need help?"]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>{a.trim()&&i.trim()&&l.trim()?(s({firstName:a.trim(),lastName:i.trim(),email:l.trim(),organization:c.trim()||void 0,role:m.trim()||void 0,group:h.trim()||void 0,description:f.trim()||void 0,avatarUrl:v||void 0}),r(""),n(""),o(""),d(""),u(""),g(""),b(""),j(null),t()):alert("Please fill in all required fields")},className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]})]})]})]})},se=({isOpen:e,onClose:a,onConfirm:r})=>{const{createdEvent:i}=t(),[n,l]=p.useState(""),[o,c]=p.useState(""),[d,m]=p.useState(!1);p.useEffect(()=>{e||(l(""),c(""),m(!1))},[e]);const u=async()=>{if(n.trim()&&(null==i?void 0:i.uuid)){m(!0);try{await f({event_uuid:i.uuid,name:n.trim(),description:o.trim()||"",is_active:!0}),r(n.trim()),l(""),c(""),a()}catch(e){}finally{m(!1)}}};return x.jsx(s,{isVisible:e,onClose:a,title:"",width:480,maxWidth:"90vw",showCloseButton:!1,padding:{top:20,right:24,bottom:24,left:24},showHeaderBorder:!1,customHeader:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Create new group."}),x.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 -mt-1 -mr-1 items-center justify-center rounded-md text-slate-500 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:x.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6L6 18"}),x.jsx("path",{d:"M6 6l12 12"})]})})]}),footer:x.jsxs("div",{className:"flex items-center justify-end gap-3 py-2",children:[x.jsx("button",{type:"button",onClick:a,className:"px-4 py-2  text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:u,disabled:!n.trim()||d,className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Confirm"})]}),children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Group name",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:n,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&n.trim()&&!d&&u()},placeholder:"e.g. Speaker",disabled:d,className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50 disabled:cursor-not-allowed",autoFocus:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Description ",x.jsx("span",{className:"text-slate-400 text-xs",children:"(optional)"})]}),x.jsx("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"e.g. All event speakers",disabled:d,rows:3,className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50 disabled:cursor-not-allowed resize-none"})]})]})})},ae=({isOpen:e,onClose:t,onConfirm:a})=>{const[r,i]=p.useState(""),[n,l]=p.useState(""),[o,c]=p.useState("");p.useEffect(()=>{e||(i(""),l(""),c(""))},[e]);const d=()=>{r.trim()&&n&&o&&(a({fieldName:r.trim(),fieldType:n,visibility:o}),i(""),l(""),c(""),t())};return x.jsx(s,{isVisible:e,onClose:t,title:"",width:380,maxWidth:"90vw",showCloseButton:!1,padding:{top:20,right:24,bottom:24,left:24},showHeaderBorder:!1,customHeader:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Create new field"}),x.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Please enter a name for this project."})]}),x.jsx("button",{type:"button",onClick:t,className:"inline-flex h-9 w-9 -mt-1 -mr-1 items-center justify-center rounded-md text-slate-500 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:x.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6L6 18"}),x.jsx("path",{d:"M6 6l12 12"})]})})]}),footer:x.jsxs("div",{className:"flex items-center justify-end gap-3 py-2",children:[x.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:d,disabled:!r.trim()||!n||!o,className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"})]}),children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Field name",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:r,onChange:e=>i(e.target.value),onKeyPress:e=>{"Enter"===e.key&&r.trim()&&n&&o&&d()},placeholder:"e.g. Website design",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",autoFocus:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Field type",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[x.jsx("option",{value:"",children:"e.g. Website design"}),x.jsx("option",{value:"Text",children:"Text"}),x.jsx("option",{value:"Dropdown",children:"Dropdown"}),x.jsx("option",{value:"PDF",children:"PDF"})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Visibility",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("select",{value:o,onChange:e=>c(e.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[x.jsx("option",{value:"",children:"e.g. Website design"}),x.jsx("option",{value:"Visible to attendees",children:"Visible to attendees"}),x.jsx("option",{value:"Invisible",children:"Invisible"})]})]})]})})},re=({isOpen:t,onClose:s,attendee:a,onSave:r,topOffset:i=64})=>{const[n,l]=p.useState(null),[o,c]=p.useState(""),[d,m]=p.useState(""),[u,h]=p.useState(""),[g,f]=p.useState(""),[b,v]=p.useState(""),[j,y]=p.useState([]);p.useEffect(()=>{if(a&&t){l(a);const e=a.name.split(" ");c(a.firstName||e[0]||""),m(a.lastName||e.slice(1).join(" ")||""),h(a.email||""),f(a.institute||""),v(a.post||""),y([...a.groups])}},[a,t]);return a?x.jsxs(k,{isOpen:t,onClose:s,topOffset:i,width:"440px",maxWidth:"460px",footer:x.jsxs(x.Fragment,{children:[x.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>{if(!n)return;const e={...n,firstName:o,lastName:d,name:`${o} ${d}`.trim(),email:u,institute:g,post:b,groups:j};null==r||r(e),s()},className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]}),children:[x.jsxs("div",{className:"relative h-40 w-full overflow-hidden",children:[a.bannerUrl?x.jsx("img",{src:a.bannerUrl,alt:"Banner",className:"h-full w-full object-cover"}):x.jsx("div",{className:"h-full w-full bg-gradient-to-br from-purple-200 via-pink-200 to-blue-200"}),x.jsx("button",{type:"button",onClick:s,className:"absolute right-4 top-4 flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-slate-600 transition hover:bg-white hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:x.jsx(I,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"relative -mt-20 px-6 pb-4",children:[x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx(e,{variant:"success",className:"text-xs whitespace-nowrap",children:"Active"}),x.jsxs("div",{className:"relative",children:[a.avatarUrl?x.jsx("img",{src:a.avatarUrl,alt:a.name,className:"h-24 w-24 rounded-full border-4 border-white object-cover shadow-lg"}):x.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full border-4 border-white bg-slate-200 text-lg font-semibold text-slate-600 shadow-lg",children:a.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),x.jsx("button",{type:"button",className:"absolute bottom-0 right-0 flex h-7 w-7 items-center justify-center rounded-full border-2 border-white bg-primary text-white shadow-md transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Change profile picture",children:x.jsx(L,{className:"h-3.5 w-3.5"})})]}),x.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"View",children:x.jsx(T,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"mt-4 text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:a.name}),x.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a.post&&a.institute?`${a.post} @ ${a.institute}`:a.post||a.institute||"No title"})]})]}),a.feedbackIncomplete&&x.jsxs("div",{className:"mx-6 mb-6 flex items-center justify-between rounded-lg bg-yellow-50 border border-yellow-200 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),x.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Feedback incomplete!"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",className:"rounded-md bg-orange-600 px-3 py-1.5 text-xs font-medium text-white transition hover:bg-orange-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-orange-500/40",children:"Send reminder"}),x.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800","aria-label":"Dismiss",children:x.jsx(I,{className:"h-4 w-4"})})]})]}),x.jsxs("div",{className:"px-6 pb-6 space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("div",{children:x.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"First name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})}),x.jsx("div",{children:x.jsx("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Last name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:u,onChange:e=>h(e.target.value),placeholder:"Email",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),a.emailVerified&&x.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-xs text-blue-600",children:[x.jsx(O,{className:"h-3.5 w-3.5"}),x.jsxs("span",{children:["Verified ",a.emailVerifiedDate||"2 Jan, 2025"]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Institute/Company"}),x.jsx("input",{type:"text",value:g,onChange:e=>f(e.target.value),placeholder:"Institute/Company",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Post"}),x.jsx("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Post",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Groups"}),x.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",onChange:e=>{if(e.target.value){const t={id:Date.now().toString(),name:e.target.value,variant:"primary"};y(e=>[...e,t]),e.target.value=""}},children:[x.jsx("option",{value:"",children:"Select groups"}),x.jsx("option",{value:"Speaker",children:"Speaker"}),x.jsx("option",{value:"VIP",children:"VIP"}),x.jsx("option",{value:"Attendee",children:"Attendee"}),x.jsx("option",{value:"Volunteer",children:"Volunteer"}),x.jsx("option",{value:"Press",children:"Press"}),x.jsx("option",{value:"Sponsor",children:"Sponsor"})]}),j.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:j.map(t=>{return x.jsxs(e,{variant:(s=t.name,"Speaker"===s?"primary":"VIP"===s?"success":"Attendee"===s?"warning":"primary"),className:"inline-flex items-center gap-1.5",children:[t.name,x.jsx("button",{type:"button",onClick:()=>{return e=t.id,void y(t=>t.filter(t=>t.id!==e));var e},className:"ml-1 hover:text-slate-700","aria-label":`Remove ${t.name}`,children:x.jsx(I,{className:"h-3 w-3"})})]},t.id);var s})})]})]})]}):null},ie="/assets/Attendee%20Speaker%20template-B8Or4N3d.xlsx",ne=({eventName:e,isDraft:s,onBackClick:r,userAvatarUrl:i,onCardClick:n,hideNavbarAndSidebar:l=!1})=>{const{eventData:o,createdEvent:c}=t(),u=(null==c?void 0:c.eventName)||(null==o?void 0:o.eventName)||e||"Highly important conference of 2025",h=void 0===s||s,g=p.useMemo(()=>{const e=d.map(e=>({id:e.id,label:e.title,icon:e.icon}));return[{id:"overview",label:"Overview",icon:x.jsx(G,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:x.jsx(R,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:x.jsx(V,{className:"h-5 w-5"}),subItems:e}]},[]),[f,y]=p.useState([]),[N,w]=p.useState([]),[k,C]=p.useState([]),[S,E]=p.useState("user"),[A,P]=p.useState(!1),[U,D]=p.useState(!1),[F,M]=p.useState(!1),[I,z]=p.useState(!1),[L,T]=p.useState(!1),[O,B]=p.useState(null),[_,$]=p.useState(!1),[W,X]=p.useState(!1);p.useEffect(()=>{const e=(null==c?void 0:c.uuid)||localStorage.getItem("createdEventUuid")||"unknown-event";q(e,"attendees",f)},[null==c?void 0:c.uuid,f]);const K=async()=>{const e=null==c?void 0:c.uuid;if(e){$(!0);try{const t=(await b(e)).map(e=>{let t;return e.tags&&(Array.isArray(e.tags)?t=e.tags:"string"==typeof e.tags&&(t=e.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0))),{id:e.id||e.uuid||"",name:e.name||`${e.first_name||""} ${e.last_name||""}`.trim()||"Unknown",firstName:e.first_name,lastName:e.last_name,email:e.email,avatarUrl:e.avatar_url,bannerUrl:e.banner_url,status:e.status||"sent",inviteCode:e.invite_code,groups:e.groups||[],tags:t,institute:e.institute,post:e.post,emailVerified:e.email_verified,emailVerifiedDate:e.email_verified_date,feedbackIncomplete:e.feedback_incomplete}});y(t)}catch(t){}finally{$(!1)}}},J=async()=>{const e=null==c?void 0:c.uuid;if(e){X(!0);try{const t=(await v(e)).filter(e=>!1!==e.is_active).map(e=>({id:e.uuid,name:e.name,attendeeCount:0}));0,w(t)}catch(t){t instanceof Error&&t.message.includes("not found"),w([])}finally{X(!1)}}else w([])};p.useEffect(()=>{(null==c?void 0:c.uuid)&&(K(),J())},[null==c?void 0:c.uuid]);const Q=()=>{};return x.jsxs("div",{className:l?"":"min-h-screen overflow-x-hidden bg-white",children:[!l&&x.jsxs(x.Fragment,{children:[x.jsx(a,{eventName:u,isDraft:h,onBackClick:r,onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:()=>{},userAvatarUrl:i}),x.jsx(m,{items:g,activeItemId:"attendee-management",onItemClick:e=>{if("event-hub"===e&&r)r();else if("attendee-management"!==e){d.some(t=>t.id===e)&&n&&n(e)}},isModalOpen:A||U||F||I||L})]}),x.jsx("div",{className:l?"":"md:pl-[250px]",children:"groups"===S?x.jsx(ee,{groups:N,onCreateGroup:()=>{D(!0)},onEditGroup:e=>{},onDeleteGroup:e=>{w(t=>t.filter(t=>t.id!==e))},onFilter:Q,onTabChange:E,isLoading:W}):x.jsx(Y,{attendees:f,customFields:k,activeTab:S,onTabChange:E,onUpload:()=>{z(!0)},isLoading:_,onCreateProfile:()=>{P(!0)},onCreateField:()=>{M(!0)},onEditAttendee:e=>{const t=f.find(t=>t.id===e);t&&(B(t),T(!0))},onDeleteAttendee:e=>{y(t=>t.filter(t=>t.id!==e))},onEditCustomField:e=>{},onDeleteCustomField:e=>{C(t=>t.filter(t=>t.id!==e))},onDownload:()=>{},onGridView:()=>{},onFilter:Q})}),x.jsx(te,{isOpen:A,onClose:()=>P(!1),onSave:e=>{const t={id:Date.now().toString(),name:`${e.firstName} ${e.lastName}`,email:e.email,avatarUrl:e.avatarUrl,status:"sent",inviteCode:void 0,groups:e.group?[{id:Date.now().toString(),name:e.group,variant:"primary"}]:[]};y(e=>[...e,t])}}),x.jsx(se,{isOpen:U,onClose:()=>D(!1),onConfirm:async e=>{await J()}}),x.jsx(ae,{isOpen:F,onClose:()=>M(!1),onConfirm:e=>{const t={id:Date.now().toString(),fieldName:e.fieldName,fieldType:e.fieldType,visibility:e.visibility,users:0};C(e=>[...e,t])}}),x.jsx(H,{isOpen:I,onClose:()=>z(!1),onUpload:async e=>{const t=null==c?void 0:c.uuid;if(!t)throw new Error("Event UUID is required. Please select an event first.");for(const s of e)await j(s,t);await K()},title:"Upload attendees",description:"XLSX files only",instructions:["Step 1: Download template","Step 2: Upload attendees"],onDownloadTemplate:()=>{const e=document.createElement("a");e.href=ie,e.download="Attendee Speaker template.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}),x.jsx(re,{isOpen:L,onClose:()=>{T(!1),B(null)},attendee:O,onSave:e=>{y(t=>t.map(t=>t.id===e.id?e:t)),B(null)}})]})},le=async(e,t)=>{try{const c=localStorage.getItem("accessToken");if(!c){const e=r("Authentication required. Please login again.",void 0,"Authentication required. Please login again.");throw new Error(e)}const d=localStorage.getItem("organizationUuid");if(!d){const e=r("Organization UUID is missing. Please create or select an organization first.",void 0,"Organization UUID is missing. Please create or select an organization first.");throw new Error(e)}let m=t;if(!m){const e=localStorage.getItem("created-event");if(e)try{m=JSON.parse(e).uuid}catch{}}if(!m){const e=r("Event UUID is required. Please select an event first.",void 0,"Event UUID is required. Please select an event first.");throw new Error(e)}const u=new FormData;u.append("file",e),u.append("event",m);const x=await fetch(i.SPEAKER_MANAGEMENT.UPLOAD_SPEAKER,{method:"POST",headers:{Authorization:`Bearer ${c}`,"X-Organization":d},credentials:"include",body:u}),p=await x.text();if(!x||!x.ok){if(!x){const e=n(null);throw new Error(e)}try{let e=null;try{e=p?JSON.parse(p):null}catch(s){if(p&&p.trim()){const e=r(p.trim(),x,"Failed to upload speakers. Please try again.");throw new Error(e)}}if(e){const t=r(e,x,"Failed to upload speakers. Please try again.");throw new Error(t)}const t=r(null,x,"Failed to upload speakers. Please try again.");throw new Error(t)}catch(a){if(a instanceof Error&&(a.message.includes("Failed to upload")||a.message.includes("Cannot connect")))throw a;const e=r(null,x,"Failed to upload speakers. Please try again.");throw new Error(e)}}let h;try{h=JSON.parse(p)}catch(a){const e=l("Invalid response from server. Please try again.");throw new Error(e)}if("error"===h.status){const e=r(h,void 0,"Failed to upload speakers. Please try again.");throw new Error(e)}if("success"===h.status){h.data&&Array.isArray(h.data)&&h.data.length>0&&h.data.forEach((e,t)=>{});const e=h.message||(h.data&&h.data.length>0?`Successfully uploaded ${h.data.length} speaker(s)`:"Speakers uploaded successfully");o.success(e)}return h}catch(c){if(c instanceof TypeError&&c.message.includes("fetch"))throw c.message.includes("Cannot connect")||n(),new Error(c.message||"Network error occurred");if(c instanceof Error&&(c.message.includes("Cannot connect")||c.message.includes("Invalid response")||c.message.includes("Authentication required")||c.message.includes("Organization UUID")||c.message.includes("Event UUID")||c.message.includes("Failed to upload")))throw c;const e=c instanceof Error?c.message:"Failed to upload speakers. Please try again.";throw r(e,void 0,"Failed to upload speakers. Please try again."),new Error(e)}},oe=({speakers:t,customFields:s=[],activeTab:a,onTabChange:r,onUpload:i,onCreateProfile:n,onCreateField:l,onEditSpeaker:o,isLoading:c=!1,onDeleteSpeaker:d,onEditCustomField:m,onDeleteCustomField:u,onDownload:f,onGridView:b,onFilter:v})=>{const[j,y]=p.useState(""),[N,w]=p.useState(new Set),[k,C]=p.useState(new Set),[S,I]=p.useState(1),[z,L]=p.useState({column:"name",direction:"ascending"}),T=p.useMemo(()=>{const e=j.trim().toLowerCase();return e?t.filter(t=>[t.name,t.email,t.phoneNumber,t.role,t.organization,...t.groups.map(e=>e.name)].filter(Boolean).join(" ").toLowerCase().includes(e)):t},[j,t]),O=p.useMemo(()=>{const e=j.trim().toLowerCase();return e?s.filter(t=>t.fieldName.toLowerCase().includes(e)):s},[j,s]),G=p.useMemo(()=>T.map(e=>e.id),[T]),R=p.useMemo(()=>O.map(e=>e.id),[O]),V=p.useMemo(()=>{const e=10*(S-1),t=e+10;return T.slice(e,t)},[T,S]),B=p.useMemo(()=>{const e=10*(S-1),t=e+10;return O.slice(e,t)},[O,S]),_=p.useMemo(()=>{const e="user"===a?T.length:O.length;return Math.ceil(e/10)},[a,T.length,O.length]),$=p.useMemo(()=>G.length>0&&G.every(e=>N.has(e)),[G,N]),H=p.useMemo(()=>!$&&G.some(e=>N.has(e)),[$,G,N]),q=p.useMemo(()=>R.length>0&&R.every(e=>k.has(e)),[R,k]),K=p.useMemo(()=>!q&&R.some(e=>k.has(e)),[q,R,k]),J=p.useCallback(e=>{w(t=>{const s=new Set(t);return G.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[G]),Y=p.useCallback((e,t)=>{w(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),Z=p.useCallback(e=>{C(t=>{const s=new Set(t);return R.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[R]),ee=p.useCallback((e,t)=>{C(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),te=p.useMemo(()=>V.map((e,t)=>({speaker:e,index:t})),[V]),se=p.useMemo(()=>B.map((e,t)=>({customField:e,index:t})),[B]),ae=(({allVisibleSelected:t,partiallySelected:s,selectedSpeakerIds:a,onToggleAllVisible:r,onToggleRow:i,onEditSpeaker:n,onDeleteSpeaker:l})=>p.useMemo(()=>[{id:"name",header:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(g,{checked:t,indeterminate:s,onChange:r,ariaLabel:"Select all speakers"}),x.jsx("span",{children:"Name"})]}),sortable:!0,sortAccessor:({speaker:e})=>(null==e?void 0:e.name)||"",render:({speaker:e})=>e?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${e.name||"speaker"}`,checked:a.has(e.id),onChange:t=>{t.stopPropagation(),i(e.id,t.target.checked)},onClick:e=>e.stopPropagation()}),e.avatarUrl?x.jsx("img",{src:e.avatarUrl,alt:e.name,className:"h-8 w-8 rounded-full object-cover"}):x.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-xs font-medium text-slate-600",children:(e.name||"U").split(" ").filter(Boolean).map(e=>e[0]).join("").toUpperCase().slice(0,2)}),x.jsx("div",{className:"min-w-0",children:x.jsx("div",{className:"text-sm font-medium text-slate-900 cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>null==n?void 0:n(e.id),children:e.name||"Unknown"})})]}):null},{id:"inviteCode",header:"Invite code",sortable:!0,sortAccessor:({speaker:e})=>(null==e?void 0:e.inviteCode)||"",render:({speaker:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.inviteCode||"-"}):null},{id:"email",header:"Email",sortable:!0,sortAccessor:({speaker:e})=>(null==e?void 0:e.email)||"",render:({speaker:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.email||"-"}):null},{id:"role",header:"Role",sortable:!0,sortAccessor:({speaker:e})=>(null==e?void 0:e.role)||"",render:({speaker:e})=>e?x.jsx("span",{className:"text-sm text-slate-600",children:e.role||"-"}):null},{id:"groups",header:"Group",sortable:!0,sortAccessor:({speaker:e})=>{var t;return(null==(t=null==e?void 0:e.groups)?void 0:t.map(e=>e.name).join(", "))||""},render:({speaker:t})=>{if(!t)return null;const s=t.groups||[];return s.length?x.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.slice(0,2).map(t=>{return x.jsx(e,{variant:(s=t.variant,"primary"===s?"primary":"info"===s?"info":"muted"),children:t.name},t.id);var s}),s.length>2?x.jsxs(e,{variant:"muted",children:["+",s.length-2]}):null]}):x.jsx("span",{className:"text-sm text-slate-600",children:"-"})}},{id:"actions",header:"",align:"right",render:({speaker:e})=>e?x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:()=>null==l?void 0:l(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${e.name}`,children:x.jsx(P,{className:"h-4 w-4",strokeWidth:1.8})}),x.jsx("button",{type:"button",onClick:()=>null==n?void 0:n(e.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${e.name}`,children:x.jsx(U,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[t,s,a,r,i,n,l]))({allVisibleSelected:$,partiallySelected:H,selectedSpeakerIds:N,onToggleAllVisible:J,onToggleRow:Y,onEditSpeaker:o,onDeleteSpeaker:d}),re=Q({allVisibleSelected:q,partiallySelected:K,selectedCustomFieldIds:k,onToggleAllVisible:Z,onToggleRow:ee,onEditCustomField:m,onDeleteCustomField:u}),ie=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===t.length?"No speakers have been added yet!":"No speakers match your search."}),ne=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===s.length?"No custom fields have been created yet!":"No custom fields match your search."}),le=p.useMemo(()=>"custom-schedule"===a?"Search personal schedule":"Search speakers",[a]),oe=p.useMemo(()=>"custom-schedule"===a?"+ New field":"+ New profile",[a]),ce=p.useMemo(()=>"custom-schedule"===a?l:n,[a,l,n]),de=X({tabs:[{id:"user",label:"User"},{id:"groups",label:"Groups"},{id:"custom-schedule",label:"Custom schedule"}],activeTabId:a,searchQuery:j,searchPlaceholder:le,onTabChange:e=>r(e),onSearchChange:y,showFilter:!0,onFilterClick:v||(()=>{}),filterLabel:"Filter "+("custom-schedule"===a?"custom fields":"speakers"),customActions:"user"===a?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:f,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Download",children:x.jsx(D,{className:"h-4 w-4",strokeWidth:2})}),x.jsx("button",{type:"button",onClick:b,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Grid view",children:x.jsx(F,{className:"h-4 w-4",strokeWidth:2})})]}):void 0}),me=p.useCallback(e=>{L(e)},[]);h.useEffect(()=>{I(1)},[a,j]);const ue="custom-schedule"===a?{data:se,columns:re,emptyState:ne,getRowKey:e=>{var t;return(null==(t=e.customField)?void 0:t.id)||""}}:{data:te,columns:ae,emptyState:ie,getRowKey:e=>{var t;return(null==(t=e.speaker)?void 0:t.id)||""}};return c?x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Speaker Management"})}),x.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#6938EF] mb-4"}),x.jsx("p",{className:"text-slate-600",children:"Loading speakers..."})]})})]}):x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Speaker Management"}),x.jsxs("div",{className:"flex items-center gap-3",children:["user"===a&&x.jsx(W,{type:"button",onClick:i,iconLeading:x.jsx(M,{className:"h-4 w-4"}),className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Upload"}),x.jsx("button",{type:"button",onClick:ce,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:oe})]})]}),x.jsx(E,{headerLeading:de.leading,headerActions:de.actions,data:ue.data,columns:ue.columns,getRowKey:ue.getRowKey,emptyState:ue.emptyState,sortDescriptor:z,onSortChange:me,onRowClick:"user"===a?e=>{const t=e;t.speaker&&(null==o||o(t.speaker.id))}:void 0,footer:x.jsx(A,{currentPage:S,totalPages:_,onPageChange:I})})]})},ce=({groups:e,onCreateGroup:t,onEditGroup:s,onDeleteGroup:a,onFilter:r,onTabChange:i,isLoading:n=!1})=>{const[l,o]=p.useState(""),[c,d]=p.useState(new Set),[m,u]=p.useState(1),[g,f]=p.useState({column:"groupName",direction:"ascending"}),b=p.useMemo(()=>{const t=e.filter(e=>e&&"object"==typeof e&&"id"in e&&"name"in e&&"speakerCount"in e&&!("email"in e)&&!("phoneNumber"in e)&&!("status"in e)),s=l.trim().toLowerCase();return s?t.filter(e=>e.name.toLowerCase().includes(s)):t},[l,e]),v=p.useMemo(()=>b.map(e=>e.id),[b]),j=p.useMemo(()=>{const e=10*(m-1),t=e+10;return b.slice(e,t)},[b,m]),y=p.useMemo(()=>Math.ceil(b.length/10),[b.length]),N=p.useMemo(()=>v.length>0&&v.every(e=>c.has(e)),[v,c]),w=p.useMemo(()=>!N&&v.some(e=>c.has(e)),[N,v,c]),k=p.useCallback(e=>{d(t=>{const s=new Set(t);return v.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[v]),C=p.useCallback((e,t)=>{d(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),S=p.useMemo(()=>j.map((e,t)=>({group:{...e,attendeeCount:e.speakerCount},index:t})),[j]),P=Z({allVisibleSelected:N,partiallySelected:w,selectedGroupIds:c,onToggleAllVisible:k,onToggleRow:C,onEditGroup:s,onDeleteGroup:a}),U=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===e.length?"No groups have been created yet!":"No groups match your search."}),D=X({tabs:[{id:"user",label:"User"},{id:"groups",label:"Groups"},{id:"custom-schedule",label:"Custom schedule"}],activeTabId:"groups",searchQuery:l,searchPlaceholder:"Search group",onTabChange:e=>null==i?void 0:i(e),onSearchChange:o,showFilter:!0,onFilterClick:r||(()=>{}),filterLabel:"Filter groups",customActions:void 0}),F=p.useCallback(e=>{f(e)},[]);return h.useEffect(()=>{u(1)},[l]),n?x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Speaker Management"})}),x.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#6938EF] mb-4"}),x.jsx("p",{className:"text-slate-600",children:"Loading groups..."})]})})]}):x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Speaker Management"}),x.jsx("div",{className:"flex items-center gap-3",children:x.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"+ New group"})})]}),x.jsx(E,{headerLeading:D.leading,headerActions:D.actions,data:S,columns:P,getRowKey:(e,t)=>{var s;return(null==(s=e.group)?void 0:s.id)||`group-${t}`},emptyState:U,sortDescriptor:g,onSortChange:F,footer:x.jsx(A,{currentPage:m,totalPages:y,onPageChange:u})})]})},de=({isOpen:e,onClose:t,onSave:s})=>{const[a,r]=p.useState(""),[i,n]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[m,u]=p.useState(""),[h,g]=p.useState(""),[f,b]=p.useState(""),[v,j]=p.useState(null),[y,N]=p.useState(!1),w=p.useRef(null);if(!e)return null;const k=e=>{if(e){if(!["image/svg+xml","image/png","image/jpeg","image/jpg","image/gif"].includes(e.type))return void alert("Please upload a valid image file (SVG, PNG, JPG, or GIF)");const t=new FileReader;t.onloadend=()=>{j(t.result)},t.readAsDataURL(e)}},C=()=>{r(""),n(""),o(""),d(""),u(""),g(""),b(""),j(null),t()};return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:C}),x.jsxs("div",{className:"relative z-50 w-[450px] max-w-2xl mx-4 bg-white rounded-lg shadow-xl",children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create speaker profile"}),x.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Add a new speaker to your event."})]}),x.jsx("button",{type:"button",onClick:C,className:"text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Close",children:x.jsx(I,{className:"h-5 w-5"})})]}),x.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[calc(100vh-250px)] overflow-y-auto",children:[x.jsx("div",{children:x.jsxs("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer "+(y?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400"),onDragOver:e=>{e.preventDefault(),N(!0)},onDragLeave:e=>{e.preventDefault(),N(!1)},onDrop:e=>{var t;e.preventDefault(),N(!1);const s=null==(t=e.dataTransfer.files)?void 0:t[0];s&&k(s)},onClick:()=>{var e;return null==(e=w.current)?void 0:e.click()},children:[x.jsx("input",{ref:w,type:"file",accept:"image/svg+xml,image/png,image/jpeg,image/jpg,image/gif",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];s&&k(s)},className:"hidden"}),v?x.jsxs("div",{className:"space-y-1",children:[x.jsx("img",{src:v,alt:"Profile preview",className:"mx-auto h-24 w-24 rounded-full object-cover"}),x.jsx("p",{className:"text-xs text-slate-600",children:"Click to change image"})]}):x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"flex justify-center",children:x.jsx(M,{className:"h-6 w-6 text-slate-400"})}),x.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Click to upload or drag and drop"}),x.jsx("p",{className:"text-xs text-slate-500",children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["First name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"First name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Last name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Last name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Email ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"email",value:l,onChange:e=>o(e.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),x.jsx("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Organization",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),x.jsx("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Title/Position",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Group"}),x.jsx("input",{type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"Group",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bio"}),x.jsx("textarea",{value:h,onChange:e=>g(e.target.value),placeholder:"Write a brief bio about the speaker...",rows:3,className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary resize-y"})]})]}),x.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-slate-200",children:[x.jsxs("a",{href:"#",className:"inline-flex items-center gap-1 text-sm text-slate-600 hover:text-primary transition-colors",children:[x.jsx(z,{className:"h-4 w-4"}),"Need help?"]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>{a.trim()&&i.trim()&&l.trim()?(s({firstName:a.trim(),lastName:i.trim(),email:l.trim(),organization:c.trim()||void 0,title:m.trim()||void 0,bio:h.trim()||void 0,group:f.trim()||void 0,avatarUrl:v||void 0}),r(""),n(""),o(""),d(""),u(""),g(""),b(""),j(null),t()):alert("Please fill in all required fields")},className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]})]})]})]})},me=({isOpen:t,onClose:s,speaker:a,onSave:r,topOffset:i=64})=>{const[n,l]=p.useState(null),[o,c]=p.useState(""),[d,m]=p.useState(""),[u,h]=p.useState(""),[g,f]=p.useState(""),[b,v]=p.useState(""),[j,y]=p.useState(""),[N,w]=p.useState([]);p.useEffect(()=>{if(a&&t){l(a);const e=a.name.split(" ");c(a.firstName||e[0]||""),m(a.lastName||e.slice(1).join(" ")||""),h(a.email||""),f(a.organization||""),v(a.title||""),y(a.bio||""),w([...a.groups])}},[a,t]);return a?x.jsxs(k,{isOpen:t,onClose:s,topOffset:i,width:"440px",maxWidth:"460px",footer:x.jsxs(x.Fragment,{children:[x.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>{if(!n)return;const e={...n,firstName:o,lastName:d,name:`${o} ${d}`.trim(),email:u,organization:g,title:b,bio:j,groups:N};null==r||r(e),s()},className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]}),children:[x.jsxs("div",{className:"relative h-40 w-full overflow-hidden",children:[a.bannerUrl?x.jsx("img",{src:a.bannerUrl,alt:"Banner",className:"h-full w-full object-cover"}):x.jsx("div",{className:"h-full w-full bg-gradient-to-br from-purple-200 via-pink-200 to-blue-200"}),x.jsx("button",{type:"button",onClick:s,className:"absolute right-4 top-4 flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-slate-600 transition hover:bg-white hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:x.jsx(I,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"relative -mt-20 px-6 pb-4",children:[x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx(e,{variant:"success",className:"text-xs whitespace-nowrap",children:"active"===a.status?"Active":"pending"===a.status?"Pending":"Inactive"}),x.jsxs("div",{className:"relative",children:[a.avatarUrl?x.jsx("img",{src:a.avatarUrl,alt:a.name,className:"h-24 w-24 rounded-full border-4 border-white object-cover shadow-lg"}):x.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full border-4 border-white bg-slate-200 text-lg font-semibold text-slate-600 shadow-lg",children:a.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),x.jsx("button",{type:"button",className:"absolute bottom-0 right-0 flex h-7 w-7 items-center justify-center rounded-full border-2 border-white bg-primary text-white shadow-md transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Change profile picture",children:x.jsx(L,{className:"h-3.5 w-3.5"})})]}),x.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"View",children:x.jsx(T,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"mt-4 text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:a.name}),x.jsx("p",{className:"mt-1 text-sm text-slate-600",children:b&&g?`${b} @ ${g}`:b||g||"Speaker"})]})]}),x.jsxs("div",{className:"px-6 pb-6 space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("div",{children:x.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"First name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})}),x.jsx("div",{children:x.jsx("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Last name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:u,onChange:e=>h(e.target.value),placeholder:"Email",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Organization"}),x.jsx("input",{type:"text",value:g,onChange:e=>f(e.target.value),placeholder:"Organization",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),x.jsx("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Title/Position",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bio"}),x.jsx("textarea",{value:j,onChange:e=>y(e.target.value),placeholder:"Write a brief bio...",rows:4,className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-y"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Groups"}),x.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",onChange:e=>{if(e.target.value){const t={id:Date.now().toString(),name:e.target.value,variant:"primary"};w(e=>[...e,t]),e.target.value=""}},children:[x.jsx("option",{value:"",children:"Select groups"}),x.jsx("option",{value:"Keynote Speaker",children:"Keynote Speaker"}),x.jsx("option",{value:"Panelist",children:"Panelist"}),x.jsx("option",{value:"Workshop Leader",children:"Workshop Leader"}),x.jsx("option",{value:"Moderator",children:"Moderator"}),x.jsx("option",{value:"Speaker",children:"Speaker"})]}),N.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:N.map(t=>{return x.jsxs(e,{variant:(s=t.name,"Keynote Speaker"===s?"primary":"Panelist"===s?"success":"Workshop Leader"===s?"warning":"primary"),className:"inline-flex items-center gap-1.5",children:[t.name,x.jsx("button",{type:"button",onClick:()=>{return e=t.id,void w(t=>t.filter(t=>t.id!==e));var e},className:"ml-1 hover:text-slate-700","aria-label":`Remove ${t.name}`,children:x.jsx(I,{className:"h-3 w-3"})})]},t.id);var s})})]})]})]}):null},ue=({eventName:e,isDraft:s,onBackClick:o,userAvatarUrl:c,onCardClick:u,hideNavbarAndSidebar:h=!1})=>{const{eventData:g,createdEvent:f}=t(),b=(null==f?void 0:f.eventName)||(null==g?void 0:g.eventName)||e||"Highly important conference of 2025",j=void 0===s||s,y=p.useMemo(()=>{const e=d.map(e=>({id:e.id,label:e.title,icon:e.icon}));return[{id:"overview",label:"Overview",icon:x.jsx(G,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:x.jsx(R,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:x.jsx(V,{className:"h-5 w-5"}),subItems:e}]},[]),[N,w]=p.useState([]),[k,C]=p.useState([]),[S,E]=p.useState([]),[A,P]=p.useState("user"),[U,D]=p.useState(!1),[F,M]=p.useState(!1),[I,z]=p.useState(!1),[L,T]=p.useState(!1),[O,B]=p.useState(!1),[_,$]=p.useState(null),[W,X]=p.useState(!1),[K,J]=p.useState(!1),Q=async()=>{const e=null==f?void 0:f.uuid;if(e){X(!0);try{const t=await(async e=>{try{const a=localStorage.getItem("accessToken");if(!a){const e=r("Authentication required. Please login again.",void 0,"Authentication required. Please login again.");throw new Error(e)}const o=localStorage.getItem("organizationUuid");if(!o){const e=r("Organization UUID is missing. Please create or select an organization first.",void 0,"Organization UUID is missing. Please create or select an organization first.");throw new Error(e)}if(!e){const e=r("Event UUID is required.",void 0,"Event UUID is required.");throw new Error(e)}const c=i.SPEAKER_MANAGEMENT.LIST(e),d=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Organization":o},credentials:"include"});if(!d||!d.ok){if(!d){const e=n(null);throw new Error(e)}try{const e=await d.text();let s=null;try{s=e?JSON.parse(e):null}catch(t){if(e&&e.trim()){const t=r(e.trim(),d,"Failed to fetch speakers. Please try again.");throw new Error(t)}}if(s){const e=r(s,d,"Failed to fetch speakers. Please try again.");throw new Error(e)}const a=r(null,d,"Failed to fetch speakers. Please try again.");throw new Error(a)}catch(s){if(s instanceof Error&&(s.message.includes("Failed to fetch")||s.message.includes("Cannot connect")))throw s;const e=r(null,d,"Failed to fetch speakers. Please try again.");throw new Error(e)}}let m,u;try{m=await d.json()}catch(s){const e=l("Invalid response from server. Please try again.");throw new Error(e)}if("error"===m.status){const e=r(m,void 0,"Failed to fetch speakers. Please try again.");throw new Error(e)}if(Array.isArray(m))u=m;else if(m.data&&Array.isArray(m.data))u=m.data;else if(m.results&&Array.isArray(m.results))u=m.results;else{if(!m.data||"object"!=typeof m.data||Array.isArray(m.data))return[];u=[m.data]}return u||[]}catch(a){if(a instanceof TypeError&&a.message.includes("fetch"))throw a.message.includes("Cannot connect")||n(),new Error(a.message||"Network error occurred");if(a instanceof Error&&(a.message.includes("Cannot connect")||a.message.includes("Invalid response")||a.message.includes("Authentication required")||a.message.includes("Organization UUID")||a.message.includes("Event UUID")||a.message.includes("Failed to fetch")))throw a;const e=a instanceof Error?a.message:"Failed to fetch speakers. Please try again.";throw r(e,void 0,"Failed to fetch speakers. Please try again."),new Error(e)}})(e),s=t.map((e,t)=>{var s,a,r;const i=e.profile,n=e.user,l=e.email||e.user_email||e.userEmail||(null==i?void 0:i.email)||(null==n?void 0:n.email)||"",o=e.id||e.uuid||(null==i?void 0:i.id)||(null==i?void 0:i.uuid)||(null==n?void 0:n.id)||(null==n?void 0:n.uuid)||"",c=String(o||l||`speaker-${t}`).trim(),d=(...e)=>{for(const t of e)if("string"==typeof t&&t.trim())return t.trim();return""},m=d(e.first_name,e.firstName,null==i?void 0:i.first_name,null==i?void 0:i.firstName,null==n?void 0:n.first_name,null==n?void 0:n.firstName),u=d(e.last_name,e.lastName,null==i?void 0:i.last_name,null==i?void 0:i.lastName,null==n?void 0:n.last_name,null==n?void 0:n.lastName),x=`${m} ${u}`.trim();let p=d(e.name,e.full_name,e.fullName,null==i?void 0:i.name,null==i?void 0:i.full_name,null==i?void 0:i.fullName,null==n?void 0:n.name,null==n?void 0:n.full_name,null==n?void 0:n.fullName,x);p||(p=(e=>{const t=(e||"").split("@")[0]||"";if(!t)return"";return t.replace(/[._-]+/g," ").trim().split(/\s+/).filter(Boolean).slice(0,4).map(e=>e.length<=2?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join(" ")})(l)),p||(p="Unknown");const h=e.phone_number||e.phoneNumber||(null==i?void 0:i.phone_number)||(null==i?void 0:i.phoneNumber)||(null==n?void 0:n.phone_number)||(null==n?void 0:n.phoneNumber)||"",g=e.invite_code||e.inviteCode||e.invitecode||e.invite||e.code||e.invite_token||e.inviteToken||e.invitation_code||e.invitation_code||e.invitationCode||e.invitationCode||(null==(s=e.invitation)?void 0:s.code)||(null==(a=e.invitation)?void 0:a.invite_code)||(null==(r=e.invitation)?void 0:r.inviteCode)||(null==i?void 0:i.invite_code)||(null==i?void 0:i.inviteCode)||(null==n?void 0:n.invite_code)||(null==n?void 0:n.inviteCode)||"",f=g?String(g):"",b=e.groups??e.group??e.tags??e.tag??e.tag_ids??e.tagIds??e.group_ids??e.groupIds??e.user_tags??e.userTags??(null==i?void 0:i.groups)??(null==i?void 0:i.tags)??(null==n?void 0:n.groups)??(null==n?void 0:n.tags)??[],v=(()=>{if(null==b)return[];if(Array.isArray(b))return b;if("string"==typeof b){return b.split(",").map(e=>e.trim()).filter(Boolean)}return[b]})(),j=e=>{const t=k.find(t=>String(t.id)===String(e));return(null==t?void 0:t.name)||""},y=v.map(e=>{if(null==e)return null;if("string"==typeof e||"number"==typeof e){const t=String(e);return{id:t,name:j(t)||t,variant:"muted"}}const t=String(e.id||e.uuid||e.tag_uuid||e.tagUuid||e.group_uuid||e.groupUuid||e.value||e.name||""),s=String(e.name||e.title||e.label||"").trim()||j(t);return t||s?{id:t||s,name:s||t,variant:e.variant||"muted"}:null}).filter(e=>e&&e.name);return{id:c,name:p,firstName:m||void 0,lastName:u||void 0,email:l,phoneNumber:h,inviteCode:f||void 0,role:e.role||(null==i?void 0:i.role)||(null==n?void 0:n.role)||"",avatarUrl:e.avatar_url||(null==i?void 0:i.avatar_url)||(null==n?void 0:n.avatar_url),bannerUrl:void 0,status:"active",bio:void 0,organization:e.organization||(null==i?void 0:i.organization)||(null==n?void 0:n.organization),title:e.title||(null==i?void 0:i.title)||(null==n?void 0:n.title),groups:y,sessions:void 0,socialLinks:void 0}});w(s)}catch(t){}finally{X(!1)}}};p.useEffect(()=>{const e=(null==f?void 0:f.uuid)||localStorage.getItem("createdEventUuid")||"unknown-event";q(e,"speakers",N)},[null==f?void 0:f.uuid,N]);const Y=async()=>{const e=null==f?void 0:f.uuid;if(e){J(!0);try{const t=(await v(e)).filter(e=>!1!==e.is_active).map(e=>({id:e.uuid,name:e.name,speakerCount:0}));0,C(t)}catch(t){t instanceof Error&&t.message.includes("not found"),C([])}finally{J(!1)}}else C([])};p.useEffect(()=>{k.length&&w(e=>e.map(e=>{var t;if(!(null==(t=e.groups)?void 0:t.length))return e;const s=e.groups.map(e=>{const t=k.find(t=>String(t.id)===String(e.id));return t?e.name&&e.name!==e.id?e:{...e,name:t.name}:e}).filter(e=>e.name);return{...e,groups:s}}))},[k]),p.useEffect(()=>{(null==f?void 0:f.uuid)&&(Q(),Y())},[null==f?void 0:f.uuid]);const Z=()=>{};return x.jsxs("div",{className:h?"":"min-h-screen overflow-x-hidden bg-white",children:[!h&&x.jsxs(x.Fragment,{children:[x.jsx(a,{eventName:b,isDraft:j,onBackClick:o,onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:()=>{},userAvatarUrl:c}),x.jsx(m,{items:y,activeItemId:"speaker-management",onItemClick:e=>{if("event-hub"===e&&o)o();else if("speaker-management"!==e){d.some(t=>t.id===e)&&u&&u(e)}},isModalOpen:U||F||I||L||O})]}),x.jsx("div",{className:h?"":"md:pl-[250px]",children:"groups"===A?x.jsx(ce,{groups:k,onCreateGroup:()=>{M(!0)},onEditGroup:e=>{},onDeleteGroup:e=>{C(t=>t.filter(t=>t.id!==e))},onFilter:Z,onTabChange:P,isLoading:K}):x.jsx(oe,{speakers:N,isLoading:W,customFields:S,activeTab:A,onTabChange:P,onUpload:()=>{T(!0)},onCreateProfile:()=>{D(!0)},onCreateField:()=>{z(!0)},onEditSpeaker:e=>{const t=N.find(t=>t.id===e);t&&($(t),B(!0))},onDeleteSpeaker:e=>{w(t=>t.filter(t=>t.id!==e))},onEditCustomField:e=>{},onDeleteCustomField:e=>{E(t=>t.filter(t=>t.id!==e))},onDownload:()=>{},onGridView:()=>{},onFilter:Z})}),x.jsx(de,{isOpen:U,onClose:()=>D(!1),onSave:e=>{const t={id:Date.now().toString(),name:`${e.firstName} ${e.lastName}`,firstName:e.firstName,lastName:e.lastName,email:e.email,avatarUrl:e.avatarUrl,status:"active",organization:e.organization,title:e.title,bio:e.bio,groups:e.group?[{id:Date.now().toString(),name:e.group,variant:"primary"}]:[]};w(e=>[...e,t])}}),x.jsx(se,{isOpen:F,onClose:()=>M(!1),onConfirm:async e=>{await Y()}}),x.jsx(ae,{isOpen:I,onClose:()=>z(!1),onConfirm:e=>{const t={id:Date.now().toString(),fieldName:e.fieldName,fieldType:e.fieldType,visibility:e.visibility,users:0};E(e=>[...e,t])}}),x.jsx(H,{isOpen:L,onClose:()=>T(!1),onUpload:async e=>{const t=null==f?void 0:f.uuid;if(!t)throw new Error("Event UUID is required. Please select an event first.");for(const a of e)try{await le(a,t)}catch(s){throw s}await Q(),T(!1)},title:"Upload speakers",description:"XLSX files only",instructions:["Step 1: Download template","Step 2: Fill in the data with the required columns","Step 3: Upload the Excel file"],onDownloadTemplate:()=>{const e=document.createElement("a");e.href=ie,e.download="Attendee Speaker template.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}),x.jsx(me,{isOpen:O,onClose:()=>{B(!1),$(null)},speaker:_,onSave:e=>{w(t=>t.map(t=>t.id===e.id?e:t)),$(null)}})]})},xe=({organizations:e,isLoading:t=!1,onUpload:s,onCreateOrganization:a,onEditOrganization:r,onDeleteOrganization:i})=>{const[n,l]=p.useState(""),[o,c]=p.useState(new Set),[d,m]=p.useState(1),[u,f]=p.useState({column:"name",direction:"ascending"}),b=p.useMemo(()=>{const t=n.trim().toLowerCase();return t?e.filter(e=>[e.name,e.website,e.description,e.logoLink].filter(Boolean).join(" ").toLowerCase().includes(t)):e},[e,n]),v=p.useMemo(()=>b.map(e=>e.id),[b]),j=p.useMemo(()=>v.length>0&&v.every(e=>o.has(e)),[o,v]),y=p.useMemo(()=>!j&&v.some(e=>o.has(e)),[j,o,v]),N=p.useCallback(e=>{c(t=>{const s=new Set(t);return v.forEach(t=>{e?s.add(t):s.delete(t)}),s})},[v]),w=p.useCallback((e,t)=>{c(s=>{const a=new Set(s);return t?a.add(e):a.delete(e),a})},[]),k=p.useMemo(()=>Math.ceil(b.length/10),[b.length]),C=p.useMemo(()=>{const e=10*(d-1);return b.slice(e,e+10)},[b,d]),S=p.useMemo(()=>C.map((e,t)=>({organization:e,index:t})),[C]),D=(({allVisibleSelected:e,partiallySelected:t,selectedOrganizationIds:s,onToggleAllVisible:a,onToggleRow:r,onEditOrganization:i,onDeleteOrganization:n})=>p.useMemo(()=>[{id:"name",header:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(g,{checked:e,indeterminate:t,onChange:a,ariaLabel:"Select all organizations"}),x.jsx("span",{children:"Name"})]}),sortable:!0,sortAccessor:({organization:e})=>(null==e?void 0:e.name)||"",render:({organization:e})=>e?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${e.name||"organization"}`,checked:s.has(e.id),onChange:t=>{t.stopPropagation(),r(e.id,t.target.checked)},onClick:e=>e.stopPropagation()}),x.jsx("div",{className:"min-w-0",children:x.jsx("div",{className:"text-sm font-medium text-slate-900 cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>null==i?void 0:i(e.id),children:e.name||"Unknown"})})]}):null},{id:"website",header:"Website",sortable:!0,sortAccessor:({organization:e})=>(null==e?void 0:e.website)||"",render:({organization:e})=>{if(!e)return null;const t=(e.website||"").trim();return t?x.jsx("a",{className:"text-sm text-primary hover:underline truncate block max-w-[360px]",href:t,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),title:t,children:t}):x.jsx("span",{className:"text-sm text-slate-600",children:"-"})}},{id:"description",header:"Description",sortable:!0,sortAccessor:({organization:e})=>(null==e?void 0:e.description)||"",render:({organization:e})=>{var t;return e?x.jsx("span",{className:"text-sm text-slate-600 line-clamp-2 max-w-[520px] block",children:(null==(t=e.description)?void 0:t.trim())||"-"}):null}},{id:"logoLink",header:"Logo link",sortable:!0,sortAccessor:({organization:e})=>(null==e?void 0:e.logoLink)||"",render:({organization:e})=>{if(!e)return null;const t=(e.logoLink||"").trim();return t?x.jsx("a",{className:"text-sm text-primary hover:underline truncate block max-w-[360px]",href:t,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),title:t,children:t}):x.jsx("span",{className:"text-sm text-slate-600",children:"-"})}},{id:"actions",header:"",align:"right",render:({organization:e})=>e?x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),null==n||n(e.id)},className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${e.name}`,children:x.jsx(P,{className:"h-4 w-4",strokeWidth:1.8})}),x.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),null==i||i(e.id)},className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${e.name}`,children:x.jsx(U,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[e,t,s,a,r,i,n]))({allVisibleSelected:j,partiallySelected:y,selectedOrganizationIds:o,onToggleAllVisible:N,onToggleRow:w,onEditOrganization:r,onDeleteOrganization:i}),F=x.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:0===e.length?"No organizations have been added yet!":"No organizations match your search."}),I=p.useCallback(e=>{f(e)},[]);if(h.useEffect(()=>{m(1)},[n]),t)return x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Organization Management"})}),x.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#6938EF] mb-4"}),x.jsx("p",{className:"text-slate-600",children:"Loading organizations..."})]})})]});const z=x.jsxs("div",{className:"flex w-full flex-row items-center gap-2 md:w-auto md:gap-4",children:[x.jsxs("div",{className:"flex flex-1 md:flex-none w-full md:w-auto max-w-2xl border border-slate-200 rounded-md overflow-hidden",children:[x.jsx("input",{type:"search",value:n,onChange:e=>l(e.target.value),placeholder:"Search organizations",className:"w-full md:w-[350px] px-3 py-2 text-sm text-slate-600 focus:outline-none min-w-0","aria-label":"Search organizations"}),x.jsx("button",{type:"button",className:"inline-flex h-full -mr-1 items-center justify-center bg-primary px-3 py-2.5 text-white transition \n            hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Search",children:x.jsx(B,{className:"h-4 w-4",strokeWidth:2})})]}),x.jsx("button",{type:"button",className:"inline-flex shrink-0 h-10 w-10 items-center justify-center rounded-md border border-slate-200 \n          bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none \n          focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Filter organizations",onClick:()=>{},children:x.jsx(_,{className:"h-4 w-4",strokeWidth:2})})]});return x.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between -mb-4",children:[x.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Organization Management"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(W,{type:"button",onClick:s,iconLeading:x.jsx(M,{className:"h-4 w-4"}),className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Upload"}),x.jsx("button",{type:"button",onClick:a,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"+ New profile"})]})]}),x.jsx(E,{headerActions:z,data:S,columns:D,getRowKey:e=>{var t;return(null==(t=e.organization)?void 0:t.id)||String(e.index)},emptyState:F,sortDescriptor:u,onSortChange:I,onRowClick:e=>{const t=e;t.organization&&(null==r||r(t.organization.id))},footer:x.jsx(A,{currentPage:d,totalPages:k,onPageChange:m})})]})},pe=({isOpen:e,onClose:t,initialValues:a,onSave:r})=>{const[i,n]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[m,u]=p.useState(""),[h,g]=p.useState(""),[f,b]=p.useState(""),v=p.useMemo(()=>!!((null==a?void 0:a.name)||(null==a?void 0:a.website)||(null==a?void 0:a.linkedin)||(null==a?void 0:a.description)||(null==a?void 0:a.logoLink)||(null==a?void 0:a.stallNumber)),[a]);p.useEffect(()=>{e&&(n((null==a?void 0:a.name)||""),o((null==a?void 0:a.website)||""),d((null==a?void 0:a.linkedin)||""),u((null==a?void 0:a.description)||""),g((null==a?void 0:a.logoLink)||""),b((null==a?void 0:a.stallNumber)||""))},[e,a]);const j=()=>{t()};return x.jsx(s,{isVisible:e,onClose:j,title:v?"Edit organization":"Create organization",subtitle:"Add organization details.",maxWidth:560,showHeaderBorder:!0,footer:x.jsxs("div",{className:"flex w-full items-center justify-end gap-3 pb-4",children:[x.jsx("button",{type:"button",onClick:j,className:"inline-flex items-center justify-center rounded-md border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>{const e=i.trim();e?(r({name:e,website:l.trim()||void 0,linkedin:c.trim()||void 0,description:m.trim()||void 0,logoLink:h.trim()||void 0,stallNumber:f.trim()||void 0}),t()):alert("Please enter organization name")},className:"inline-flex items-center justify-center rounded-md border border-slate-200 bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Save"})]}),children:x.jsxs("div",{className:"pt-5 pb-6 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Organization name",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),x.jsx("input",{type:"url",value:l,onChange:e=>o(e.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"LinkedIn"}),x.jsx("input",{type:"url",value:c,onChange:e=>d(e.target.value),placeholder:"https://www.linkedin.com/company/...",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),x.jsx("textarea",{value:m,onChange:e=>u(e.target.value),placeholder:"Short description",rows:3,className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary resize-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Stall number"}),x.jsx("input",{type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"Stall number",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo link"}),x.jsx("input",{type:"url",value:h,onChange:e=>g(e.target.value),placeholder:"https://.../logo.png",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]})]})})},he=({eventName:e,isDraft:s,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:n=!1})=>{const{eventData:l,createdEvent:c}=t(),u=p.useMemo(()=>(null==c?void 0:c.eventName)||(null==l?void 0:l.eventName)||e||"Highly important conference of 2025",[null==c?void 0:c.eventName,null==c?void 0:c.uuid,null==l?void 0:l.eventName,e]),h=void 0===s||s,g=p.useMemo(()=>{const e=d.map(e=>({id:e.id,label:e.title,icon:e.icon}));return[{id:"overview",label:"Overview",icon:x.jsx(G,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:x.jsx(R,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:x.jsx(V,{className:"h-5 w-5"}),subItems:e}]},[]),f=p.useCallback(e=>{const t="event-hub"===e?"/event/hub":`/event/hub?section=${e}`;window.history.pushState({section:e},"",t),window.location.reload()},[]),b=(null==c?void 0:c.uuid)||localStorage.getItem("createdEventUuid")||"unknown-event",[v,j]=p.useState([]);p.useEffect(()=>{const e=K(b,"organizations",[]);Array.isArray(e)&&j(e)},[b]),p.useEffect(()=>{q(b,"organizations",v)},[b,v]);const[y,N]=p.useState(!1),[w,k]=p.useState(!1),[C,S]=p.useState(null),E=p.useMemo(()=>C&&v.find(e=>e.id===C)||null,[C,v]);return x.jsxs("div",{className:n?"":"min-h-screen overflow-x-hidden bg-white",children:[!n&&x.jsxs(x.Fragment,{children:[x.jsx(a,{eventName:u,isDraft:h,onBackClick:r,onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:()=>{},userAvatarUrl:i}),x.jsx(m,{items:g,activeItemId:"organization-management",onItemClick:f,isModalOpen:y||w})]}),x.jsx("div",{className:n?"":"md:pl-[250px]",children:x.jsx(xe,{organizations:v,onUpload:()=>{N(!0)},onCreateOrganization:()=>{S(null),k(!0)},onEditOrganization:e=>{S(e),k(!0)},onDeleteOrganization:e=>{j(t=>t.filter(t=>t.id!==e)),o.success("Organization deleted")}})}),x.jsx(H,{isOpen:y,onClose:()=>N(!1),onUpload:async e=>{o.success("File received (UI only)"),N(!1)},title:"Upload organizations",description:"XLSX files only",showTemplate:!1,instructions:["Step 1: Prepare Excel with columns: Name, Website, Description, Logo link","Step 2: Upload the Excel file"],buttonText:"Upload file",multiple:!1}),x.jsx(pe,{isOpen:w,onClose:()=>{k(!1),S(null)},initialValues:E?{name:E.name,website:E.website,linkedin:E.linkedin,description:E.description,logoLink:E.logoLink,stallNumber:E.stallNumber}:void 0,onSave:e=>{if(C)j(t=>t.map(t=>t.id===C?{...t,...e}:t)),o.success("Organization updated");else{const t=`org-${Date.now()}`;j(s=>[{id:t,...e},...s]),o.success("Organization created")}}})]})},ge=()=>{const[e,t]=p.useState(()=>localStorage.getItem("event-form-banner")||""),[s,a]=p.useState(()=>localStorage.getItem("event-form-logo")||""),[r,i]=p.useState("#6366f1"),[n,l]=p.useState("Inter"),[o,c]=p.useState("Inter"),[d,m]=p.useState(!1),u=p.useRef(null),h=p.useRef(null),g=p.useRef(null);p.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return d&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d]);const f=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins"];return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Banner"}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended: 1920  400px"})]}),e?x.jsxs("div",{className:"relative w-full",children:[x.jsx("img",{src:e,alt:"Banner",className:"w-full h-40 rounded-lg object-cover"}),x.jsx("button",{onClick:()=>{t(""),localStorage.removeItem("event-form-banner"),u.current&&(u.current.value="")},className:"absolute top-2 right-2 h-6 w-6 rounded-full bg-white/90 backdrop-blur-sm border border-slate-300 flex items-center justify-center hover:bg-white transition shadow-sm",children:x.jsx(I,{className:"h-4 w-4 text-slate-600"})})]}):x.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"No banner uploaded"}),x.jsx(W,{variant:"secondary",onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},iconLeading:x.jsx(M,{className:"h-4 w-4"}),children:"Upload Banner"})]}),x.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:e=>{var s;const a=null==(s=e.target.files)?void 0:s[0];if(a){const e=new FileReader;e.onload=()=>{const s=e.result;t(s),localStorage.setItem("event-form-banner",s)},e.readAsDataURL(a)}},className:"hidden"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Logo"}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended: 500 x 500 px"})]}),s?x.jsxs("div",{className:"relative inline-block",children:[x.jsx("img",{src:s,alt:"Logo",className:"h-32 w-32 rounded-lg object-cover"}),x.jsx("button",{onClick:()=>{a(""),localStorage.removeItem("event-form-logo"),h.current&&(h.current.value="")},className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-white border border-slate-300 flex items-center justify-center hover:bg-slate-50 transition",children:x.jsx(I,{className:"h-4 w-4 text-slate-600"})})]}):x.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center w-32 h-32 flex flex-col items-center justify-center gap-2",children:[x.jsx("p",{className:"text-xs text-slate-500",children:"No logo"}),x.jsx(W,{variant:"secondary",onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},iconLeading:x.jsx(M,{className:"h-4 w-4"}),size:"sm",children:"Upload"})]}),x.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){const e=new FileReader;e.onload=()=>{const t=e.result;a(t),localStorage.setItem("event-form-logo",t)},e.readAsDataURL(s)}},className:"hidden"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Brand Colors"}),x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"h-20 w-20 rounded-lg border-2 border-slate-300 flex-shrink-0 flex items-center justify-center",style:{backgroundColor:r},children:x.jsx("span",{className:"text-white text-sm font-medium",children:r})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"relative",ref:g,children:[x.jsxs("label",{className:"flex w-full flex-col gap-1",children:[x.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Primary Color"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 pr-32 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"#6366f1"}),x.jsx(W,{variant:"primary",onClick:()=>m(!d),iconTrailing:x.jsx($,{className:"h-4 w-4 transition-transform "+(d?"rotate-180":"")}),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8",size:"sm",children:"Pick theme"})]})]}),d&&x.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 rounded-lg border border-slate-200 bg-white shadow-lg z-50 max-h-80 overflow-y-auto",children:x.jsx("div",{className:"p-2",children:[{name:"Indigo",hex:"#6366f1"},{name:"Purple",hex:"#8b5cf6"},{name:"Blue",hex:"#3b82f6"},{name:"Teal",hex:"#14b8a6"},{name:"Green",hex:"#10b981"},{name:"Emerald",hex:"#059669"},{name:"Rose",hex:"#f43f5e"},{name:"Pink",hex:"#ec4899"},{name:"Orange",hex:"#f97316"},{name:"Amber",hex:"#f59e0b"}].map(e=>x.jsxs("button",{type:"button",onClick:()=>{return t=e.hex,i(t),void m(!1);var t},className:"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-slate-50 transition-colors text-left",children:[x.jsx("div",{className:"h-8 w-8 rounded border border-slate-300 flex-shrink-0",style:{backgroundColor:e.hex}}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"text-sm font-medium text-slate-900",children:e.name}),x.jsx("div",{className:"text-xs text-slate-500",children:e.hex})]})]},e.hex))})})]}),x.jsx("p",{className:"text-xs text-slate-500",children:"Used for links, buttons."})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Typography"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Heading Font"}),x.jsx("select",{value:n,onChange:e=>l(e.target.value),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:f.map(e=>x.jsx("option",{value:e,children:e},e))}),x.jsx("p",{className:"text-sm text-slate-600",style:{fontFamily:n},children:"Brown fox jumped through the loop"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Body Font"}),x.jsx("select",{value:o,onChange:e=>c(e.target.value),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:f.map(e=>x.jsx("option",{value:e,children:e},e))}),x.jsx("p",{className:"text-sm text-slate-600",style:{fontFamily:o},children:"Brown fox jumped through the loop"})]})]})]})},fe=()=>{const[e,t]=p.useState("HIC2025"),[s,a]=p.useState(!1);return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{children:x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Subdomain"})}),x.jsx("div",{children:x.jsxs("label",{className:"flex w-full flex-col gap-1",children:[x.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Name"}),x.jsxs("div",{className:"flex items-center border border-slate-300 rounded-lg bg-white shadow-sm focus-within:ring-2 focus-within:ring-primary/20 focus-within:border-primary transition",children:[x.jsx("span",{className:"px-3 py-2 text-sm text-slate-500",children:"eventira/"}),x.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-3 py-2 text-sm text-slate-700 focus:outline-none border-0 bg-transparent placeholder:text-slate-400",placeholder:"HIC2025"}),x.jsx("span",{className:"px-3 py-2 text-sm text-slate-500 bg-slate-200",children:".com"})]})]})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 text-sm font-medium text-slate-700 hover:text-slate-900 transition-colors",children:["Advanced",x.jsx($,{className:"h-4 w-4 text-slate-500 transition-transform "+(s?"rotate-180":"")})]}),s&&x.jsx("div",{className:"pl-4 border-l-2 border-slate-200 space-y-4",children:x.jsx("p",{className:"text-sm text-slate-500",children:"Advanced domain settings coming soon..."})})]})]})},be=()=>{const[e,t]=p.useState(""),[s,a]=p.useState(""),[r,i]=p.useState("G-XXXXXXXXXX"),[n,l]=p.useState(()=>localStorage.getItem("event-form-banner")||""),o=p.useRef(null),d=e.length,m=s.length;return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Meta Information"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(c,{label:"Page Title",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter page title",maxLength:60,className:"[&>label>span:first-child]:normal-case [&>label>span:first-child]:text-sm [&>label>span:first-child]:font-medium [&>label>span:first-child]:text-slate-700 [&>label>span:first-child]:tracking-normal"}),x.jsx("div",{className:"flex justify-end",children:x.jsxs("span",{className:"text-xs "+(d>54?"text-rose-500":"text-slate-500"),children:[d,"/",60," characters"]})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{className:"flex w-full flex-col gap-1",children:[x.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Meta Description"}),x.jsx("textarea",{value:s,onChange:e=>a(e.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none",placeholder:"Enter meta description",rows:3,maxLength:160})]}),x.jsx("div",{className:"flex justify-end",children:x.jsxs("span",{className:"text-xs "+(m>144?"text-rose-500":"text-slate-500"),children:[m,"/",160," characters"]})})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Analytics"}),x.jsx(c,{label:"Google analytics ID",type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"G-XXXXXXXXXX",className:"[&>label>span:first-child]:normal-case [&>label>span:first-child]:text-sm [&>label>span:first-child]:font-medium [&>label>span:first-child]:text-slate-700 [&>label>span:first-child]:tracking-normal"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Social Sharing Image"}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended: 500  500 px"})]}),n?x.jsxs("div",{className:"relative inline-block",children:[x.jsx("img",{src:n,alt:"Social Sharing Image",className:"h-[500px] w-[500px] rounded-lg object-cover"}),x.jsx("button",{onClick:()=>{l(""),localStorage.removeItem("event-form-social-image"),o.current&&(o.current.value="")},className:"absolute top-2 right-2 h-6 w-6 rounded-full bg-white/90 backdrop-blur-sm border border-slate-300 flex items-center justify-center hover:bg-white transition shadow-sm",children:x.jsx(I,{className:"h-4 w-4 text-slate-600"})})]}):x.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"No social sharing image uploaded"}),x.jsx(W,{variant:"secondary",onClick:()=>{var e;return null==(e=o.current)?void 0:e.click()},iconLeading:x.jsx(M,{className:"h-4 w-4"}),children:"Upload Image"})]}),x.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){const e=new FileReader;e.onload=()=>{const t=e.result;l(t),localStorage.setItem("event-form-social-image",t)},e.readAsDataURL(s)}},className:"hidden"})]})]})},ve=()=>{const[e,t]=p.useState("public"),[s,a]=p.useState({home:!0,speakers:!0,schedule:!0,newPage:!1}),[r,i]=p.useState(!0),n=e=>{a(t=>({...t,[e]:!t[e]}))};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Visibility"}),x.jsxs("div",{className:"flex flex-col ",children:[x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",name:"visibility",value:"public",checked:"public"===e,onChange:e=>t(e.target.value),className:"h-4 w-4 text-primary focus:ring-2 focus:ring-primary/20 "}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 rounded-lg transition "+("public"===e?"text-primary ":"text-slate-700 hover:border-slate-300"),children:"Public"})]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",name:"visibility",value:"private",checked:"private"===e,onChange:e=>t(e.target.value),className:"h-4 w-4 text-primary focus:ring-2 focus:ring-primary/20"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 rounded-lg transition "+("private"===e?" text-primary ":"text-slate-700"),children:"Private"})]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",name:"visibility",value:"hidden",checked:"hidden"===e,onChange:e=>t(e.target.value),className:"h-4 w-4 text-primary focus:ring-2 focus:ring-primary/20 border-slate-300"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 rounded-lg transition "+("hidden"===e?"text-primary":"border-slate-200 text-slate-700 hover:border-slate-300"),children:"Hidden"})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Pages"}),x.jsxs("div",{className:"flex flex-col ",children:[x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.home,onChange:()=>n("home"),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 rounded-lg transition "+(s.home?" text-primary":" text-slate-700 "),children:"Home"})]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.speakers,onChange:()=>n("speakers"),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 transition "+(s.speakers?"text-primary ":"text-slate-700 "),children:"Speakers"})]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.schedule,onChange:()=>n("schedule"),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 transition "+(s.schedule?"text-primary ":"text-slate-700 "),children:"Schedule"})]}),x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.newPage,onChange:()=>n("newPage"),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),x.jsx("span",{className:"text-sm font-medium px-4 py-2 transition "+(s.newPage?"text-primary":" text-slate-700 "),children:"New Page"})]})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-semibold text-slate-900 block mb-1",children:"Require registration"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Attendees must register to view content"})]}),x.jsx("button",{type:"button",onClick:()=>i(!r),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 "+(r?"bg-primary":"bg-slate-300"),children:x.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(r?"translate-x-6":"translate-x-1")})})]})})]})},je=()=>{const[e,t]=p.useState("branding");return x.jsxs("div",{className:"w-full",children:[x.jsx("div",{className:" bg-white px-8 py-6",children:x.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Website Settings"})}),x.jsx("div",{className:"border-b border-slate-200 bg-white px-8",children:x.jsxs("div",{className:"flex gap-8",children:[x.jsx("button",{onClick:()=>t("branding"),className:"pb-4 px-1 text-sm font-medium transition-colors "+("branding"===e?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"),children:"Branding"}),x.jsx("button",{onClick:()=>t("domain"),className:"pb-4 px-1 text-sm font-medium transition-colors "+("domain"===e?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"),children:"Domain & URL"}),x.jsx("button",{onClick:()=>t("seo"),className:"pb-4 px-1 text-sm font-medium transition-colors "+("seo"===e?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"),children:"SEO"}),x.jsx("button",{onClick:()=>t("access"),className:"pb-4 px-1 text-sm font-medium transition-colors "+("access"===e?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"),children:"Access control"})]})}),x.jsxs("div",{className:"bg-white px-8 py-8",children:["branding"===e&&x.jsx(ge,{}),"domain"===e&&x.jsx(fe,{}),"seo"===e&&x.jsx(be,{}),"access"===e&&x.jsx(ve,{})]})]})},ye=({eventName:e,isDraft:s,onBackClick:r,userAvatarUrl:i})=>{const{eventData:n,createdEvent:l}=t(),o=p.useMemo(()=>(null==l?void 0:l.eventName)||(null==n?void 0:n.eventName)||e||"Highly important conference of 2025",[null==l?void 0:l.eventName,null==l?void 0:l.uuid,null==n?void 0:n.eventName,e]),c=void 0===s||s,[u,g]=p.useState("event-website");h.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("section");g(e||"event-website")},[]);const f=p.useMemo(()=>{const e=d.map(e=>({id:e.id,label:e.title,icon:e.icon}));return[{id:"overview",label:"Overview",icon:x.jsx(G,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:x.jsx(R,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:x.jsx(V,{className:"h-5 w-5"}),subItems:e}]},[]),b=p.useCallback(()=>{null==r||r()},[r]),v=p.useCallback(e=>{if("event-hub"===e||"event-website"===e||"overview"===e){g(e);const t="event-hub"===e?"/event/hub":`/event/hub?section=${e}`;return void window.history.pushState({section:e},"",t)}d.some(t=>t.id===e)&&(g(e),window.history.pushState({section:e},"",`/event/hub?section=${e}`))},[]);return x.jsxs("div",{className:"h-screen overflow-hidden bg-white",children:[x.jsx(a,{eventName:o,isDraft:c,onBackClick:b,onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:()=>{},userAvatarUrl:i},(null==l?void 0:l.uuid)||"no-event"),x.jsx(m,{items:f,activeItemId:u,onItemClick:v}),x.jsx("div",{className:"md:pl-[250px] pt-16 h-[calc(100vh-64px)] overflow-y-auto",children:(()=>{var e;switch(u){case"communications":return x.jsx(y,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"resource-management":return x.jsx(w,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"schedule-session":return x.jsx(C,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,scheduleName:"Schedule 1",hideNavbarAndSidebar:!0});case"event-website":case"event-hub":default:return x.jsx(S,{onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"attendee-management":return x.jsx(ne,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"speaker-management":return x.jsx(ue,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"organization-management":return x.jsx(he,{eventName:o,isDraft:c,onBackClick:r,userAvatarUrl:i,hideNavbarAndSidebar:!0});case"analytics":return x.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:(null==(e=d.find(e=>e.id===u))?void 0:e.title)||"Coming Soon"}),x.jsx("p",{className:"text-slate-500",children:"This feature is coming soon."})]})});case"website-settings":return x.jsx(je,{hideNavbarAndSidebar:!0})}})()},u)]})};export{ne as AttendeeManagementPage,y as CommunicationPage,N as CommunicationsTable,u as EventHubContent,a as EventHubNavbar,ye as EventHubPage,m as EventHubSidebar,w as ResourceManagementPage,J as ScheduleContent,C as SchedulePage};
