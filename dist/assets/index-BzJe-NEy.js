var _T=Object.defineProperty;var OT=(r,e,t)=>e in r?_T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q1=(r,e,t)=>OT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();function Mp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var v2={exports:{}},jp={},y2={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),FT=Symbol.for("react.portal"),BT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),HT=Symbol.for("react.provider"),QT=Symbol.for("react.context"),WT=Symbol.for("react.forward_ref"),UT=Symbol.for("react.suspense"),$T=Symbol.for("react.memo"),GT=Symbol.for("react.lazy"),W1=Symbol.iterator;function ZT(r){return r===null||typeof r!="object"?null:(r=W1&&r[W1]||r["@@iterator"],typeof r=="function"?r:null)}var x2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,C2={};function El(r,e,t){this.props=r,this.context=e,this.refs=C2,this.updater=t||x2}El.prototype.isReactComponent={};El.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};El.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function w2(){}w2.prototype=El.prototype;function ty(r,e,t){this.props=r,this.context=e,this.refs=C2,this.updater=t||x2}var sy=ty.prototype=new w2;sy.constructor=ty;b2(sy,El.prototype);sy.isPureReactComponent=!0;var U1=Array.isArray,S2=Object.prototype.hasOwnProperty,ry={current:null},E2={key:!0,ref:!0,__self:!0,__source:!0};function V2(r,e,t){var s,i={},n=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(n=""+e.key),e)S2.call(e,s)&&!E2.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(r&&r.defaultProps)for(s in l=r.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:jd,type:r,key:n,ref:o,props:i,_owner:ry.current}}function JT(r,e){return{$$typeof:jd,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function iy(r){return typeof r=="object"&&r!==null&&r.$$typeof===jd}function KT(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var $1=/\/+/g;function Zm(r,e){return typeof r=="object"&&r!==null&&r.key!=null?KT(""+r.key):e.toString(36)}function eh(r,e,t,s,i){var n=typeof r;(n==="undefined"||n==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(n){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case jd:case FT:o=!0}}if(o)return o=r,i=i(o),r=s===""?"."+Zm(o,0):s,U1(i)?(t="",r!=null&&(t=r.replace($1,"$&/")+"/"),eh(i,e,t,"",function(c){return c})):i!=null&&(iy(i)&&(i=JT(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($1,"$&/")+"/")+r)),e.push(i)),1;if(o=0,s=s===""?".":s+":",U1(r))for(var l=0;l<r.length;l++){n=r[l];var u=s+Zm(n,l);o+=eh(n,e,t,u,i)}else if(u=ZT(r),typeof u=="function")for(r=u.call(r),l=0;!(n=r.next()).done;)n=n.value,u=s+Zm(n,l++),o+=eh(n,e,t,u,i);else if(n==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(r,e,t){if(r==null)return r;var s=[],i=0;return eh(r,s,"","",function(n){return e.call(t,n,i++)}),s}function YT(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var er={current:null},th={transition:null},XT={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:th,ReactCurrentOwner:ry};function P2(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:mc,forEach:function(r,e,t){mc(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return mc(r,function(){e++}),e},toArray:function(r){return mc(r,function(e){return e})||[]},only:function(r){if(!iy(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};pt.Component=El;pt.Fragment=BT;pt.Profiler=zT;pt.PureComponent=ty;pt.StrictMode=qT;pt.Suspense=UT;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;pt.act=P2;pt.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var s=b2({},r.props),i=r.key,n=r.ref,o=r._owner;if(e!=null){if(e.ref!==void 0&&(n=e.ref,o=ry.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(u in e)S2.call(e,u)&&!E2.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=t;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:jd,type:r.type,key:i,ref:n,props:s,_owner:o}};pt.createContext=function(r){return r={$$typeof:QT,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:HT,_context:r},r.Consumer=r};pt.createElement=V2;pt.createFactory=function(r){var e=V2.bind(null,r);return e.type=r,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(r){return{$$typeof:WT,render:r}};pt.isValidElement=iy;pt.lazy=function(r){return{$$typeof:GT,_payload:{_status:-1,_result:r},_init:YT}};pt.memo=function(r,e){return{$$typeof:$T,type:r,compare:e===void 0?null:e}};pt.startTransition=function(r){var e=th.transition;th.transition={};try{r()}finally{th.transition=e}};pt.unstable_act=P2;pt.useCallback=function(r,e){return er.current.useCallback(r,e)};pt.useContext=function(r){return er.current.useContext(r)};pt.useDebugValue=function(){};pt.useDeferredValue=function(r){return er.current.useDeferredValue(r)};pt.useEffect=function(r,e){return er.current.useEffect(r,e)};pt.useId=function(){return er.current.useId()};pt.useImperativeHandle=function(r,e,t){return er.current.useImperativeHandle(r,e,t)};pt.useInsertionEffect=function(r,e){return er.current.useInsertionEffect(r,e)};pt.useLayoutEffect=function(r,e){return er.current.useLayoutEffect(r,e)};pt.useMemo=function(r,e){return er.current.useMemo(r,e)};pt.useReducer=function(r,e,t){return er.current.useReducer(r,e,t)};pt.useRef=function(r){return er.current.useRef(r)};pt.useState=function(r){return er.current.useState(r)};pt.useSyncExternalStore=function(r,e,t){return er.current.useSyncExternalStore(r,e,t)};pt.useTransition=function(){return er.current.useTransition()};pt.version="18.3.1";y2.exports=pt;var d=y2.exports;const Ie=Mp(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e7=d,t7=Symbol.for("react.element"),s7=Symbol.for("react.fragment"),r7=Object.prototype.hasOwnProperty,i7=e7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n7={key:!0,ref:!0,__self:!0,__source:!0};function I2(r,e,t){var s,i={},n=null,o=null;t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)r7.call(e,s)&&!n7.hasOwnProperty(s)&&(i[s]=e[s]);if(r&&r.defaultProps)for(s in e=r.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:t7,type:r,key:n,ref:o,props:i,_owner:i7.current}}jp.Fragment=s7;jp.jsx=I2;jp.jsxs=I2;v2.exports=jp;var a=v2.exports,Yg={},T2={exports:{}},Ir={},k2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(M,j){var B=M.length;M.push(j);e:for(;0<B;){var Q=B-1>>>1,G=M[Q];if(0<i(G,j))M[Q]=j,M[B]=G,B=Q;else break e}}function t(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var j=M[0],B=M.pop();if(B!==j){M[0]=B;e:for(var Q=0,G=M.length,X=G>>>1;Q<X;){var de=2*(Q+1)-1,se=M[de],fe=de+1,oe=M[fe];if(0>i(se,B))fe<G&&0>i(oe,se)?(M[Q]=oe,M[fe]=B,Q=fe):(M[Q]=se,M[de]=B,Q=de);else if(fe<G&&0>i(oe,B))M[Q]=oe,M[fe]=B,Q=fe;else break e}}return j}function i(M,j){var B=M.sortIndex-j.sortIndex;return B!==0?B:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;r.unstable_now=function(){return n.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,p=null,m=3,v=!1,f=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var j=t(c);j!==null;){if(j.callback===null)s(c);else if(j.startTime<=M)s(c),j.sortIndex=j.expirationTime,e(u,j);else break;j=t(c)}}function S(M){if(b=!1,w(M),!f)if(t(u)!==null)f=!0,$(P);else{var j=t(c);j!==null&&K(S,j.startTime-M)}}function P(M,j){f=!1,b&&(b=!1,g(E),E=-1),v=!0;var B=m;try{for(w(j),p=t(u);p!==null&&(!(p.expirationTime>j)||M&&!k());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var G=Q(p.expirationTime<=j);j=r.unstable_now(),typeof G=="function"?p.callback=G:p===t(u)&&s(u),w(j)}else s(u);p=t(u)}if(p!==null)var X=!0;else{var de=t(c);de!==null&&K(S,de.startTime-j),X=!1}return X}finally{p=null,m=B,v=!1}}var V=!1,I=null,E=-1,R=5,C=-1;function k(){return!(r.unstable_now()-C<R)}function L(){if(I!==null){var M=r.unstable_now();C=M;var j=!0;try{j=I(!0,M)}finally{j?D():(V=!1,I=null)}}else V=!1}var D;if(typeof y=="function")D=function(){y(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=L,D=function(){U.postMessage(null)}}else D=function(){x(L,0)};function $(M){I=M,V||(V=!0,D())}function K(M,j){E=x(function(){M(r.unstable_now())},j)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){f||v||(f=!0,$(P))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(M){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var B=m;m=j;try{return M()}finally{m=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=m;m=M;try{return j()}finally{m=B}},r.unstable_scheduleCallback=function(M,j,B){var Q=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:h++,callback:j,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>Q?(M.sortIndex=B,e(c,M),t(u)===null&&M===t(c)&&(b?(g(E),E=-1):b=!0,K(S,B-Q))):(M.sortIndex=G,e(u,M),f||v||(f=!0,$(P))),M},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(M){var j=m;return function(){var B=m;m=j;try{return M.apply(this,arguments)}finally{m=B}}}})(N2);k2.exports=N2;var o7=k2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a7=d,Sr=o7;function Ee(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,Ku={};function na(r,e){il(r,e),il(r+"Capture",e)}function il(r,e){for(Ku[r]=e,r=0;r<e.length;r++)R2.add(e[r])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,l7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G1={},Z1={};function u7(r){return Xg.call(Z1,r)?!0:Xg.call(G1,r)?!1:l7.test(r)?Z1[r]=!0:(G1[r]=!0,!1)}function d7(r,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function c7(r,e,t,s){if(e===null||typeof e>"u"||d7(r,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(r,e,t,s,i,n,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=n,this.removeEmptyString=o}var Ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ms[r]=new tr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Ms[e]=new tr(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ms[r]=new tr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ms[r]=new tr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ms[r]=new tr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ms[r]=new tr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ms[r]=new tr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ms[r]=new tr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ms[r]=new tr(r,5,!1,r.toLowerCase(),null,!1,!1)});var ny=/[\-:]([a-z])/g;function oy(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(ny,oy);Ms[e]=new tr(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(ny,oy);Ms[e]=new tr(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(ny,oy);Ms[e]=new tr(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ms[r]=new tr(r,1,!1,r.toLowerCase(),null,!1,!1)});Ms.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ms[r]=new tr(r,1,!1,r.toLowerCase(),null,!0,!0)});function ay(r,e,t,s){var i=Ms.hasOwnProperty(e)?Ms[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c7(e,t,i,s)&&(t=null),s||i===null?u7(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?r.setAttributeNS(s,e,t):r.setAttribute(e,t))))}var gn=a7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),ja=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),L2=Symbol.for("react.provider"),A2=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),D2=Symbol.for("react.offscreen"),J1=Symbol.iterator;function Xl(r){return r===null||typeof r!="object"?null:(r=J1&&r[J1]||r["@@iterator"],typeof r=="function"?r:null)}var Xt=Object.assign,Jm;function pu(r){if(Jm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jm=e&&e[1]||""}return`
`+Jm+r}var Km=!1;function Ym(r,e){if(!r||Km)return"";Km=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){s=c}r.call(e.prototype)}else{try{throw Error()}catch(c){s=c}r()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),n=s.stack.split(`
`),o=i.length-1,l=n.length-1;1<=o&&0<=l&&i[o]!==n[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==n[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==n[l]){var u=`
`+i[o].replace(" at new "," at ");return r.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",r.displayName)),u}while(1<=o&&0<=l);break}}}finally{Km=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?pu(r):""}function h7(r){switch(r.tag){case 5:return pu(r.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return r=Ym(r.type,!1),r;case 11:return r=Ym(r.type.render,!1),r;case 1:return r=Ym(r.type,!0),r;default:return""}}function rf(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _a:return"Fragment";case ja:return"Portal";case ef:return"Profiler";case ly:return"StrictMode";case tf:return"Suspense";case sf:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case A2:return(r.displayName||"Context")+".Consumer";case L2:return(r._context.displayName||"Context")+".Provider";case uy:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dy:return e=r.displayName||null,e!==null?e:rf(r.type)||"Memo";case Mn:e=r._payload,r=r._init;try{return rf(r(e))}catch{}}return null}function p7(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(e);case 8:return e===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function M2(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m7(r){var e=M2(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),s=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,n=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,n.call(this,o)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function fc(r){r._valueTracker||(r._valueTracker=m7(r))}function j2(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return r&&(s=M2(r)?r.checked?"true":"false":r.value),r=s,r!==t?(e.setValue(r),!0):!1}function Dh(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nf(r,e){var t=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function K1(r,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=ao(e.value!=null?e.value:t),r._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _2(r,e){e=e.checked,e!=null&&ay(r,"checked",e,!1)}function of(r,e){_2(r,e);var t=ao(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(s==="submit"||s==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?af(r,e.type,t):e.hasOwnProperty("defaultValue")&&af(r,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function Y1(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function af(r,e,t){(e!=="number"||Dh(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var mu=Array.isArray;function Za(r,e,t,s){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&s&&(r[t].defaultSelected=!0)}else{for(t=""+ao(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,s&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function lf(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function X1(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ee(92));if(mu(t)){if(1<t.length)throw Error(Ee(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:ao(t)}}function O2(r,e){var t=ao(e.value),s=ao(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),s!=null&&(r.defaultValue=""+s)}function eb(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function F2(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?F2(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var vc,B2=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,s,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vc.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Yu(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g7=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(r){g7.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Mu[e]=Mu[r]})});function q2(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Mu.hasOwnProperty(r)&&Mu[r]?(""+e).trim():e+"px"}function z2(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=q2(t,e[t],s);t==="float"&&(t="cssFloat"),s?r.setProperty(t,i):r[t]=i}}var f7=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function df(r,e){if(e){if(f7[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function cf(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=null;function cy(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pf=null,Ja=null,Ka=null;function tb(r){if(r=Fd(r)){if(typeof pf!="function")throw Error(Ee(280));var e=r.stateNode;e&&(e=qp(e),pf(r.stateNode,r.type,e))}}function H2(r){Ja?Ka?Ka.push(r):Ka=[r]:Ja=r}function Q2(){if(Ja){var r=Ja,e=Ka;if(Ka=Ja=null,tb(r),e)for(r=0;r<e.length;r++)tb(e[r])}}function W2(r,e){return r(e)}function U2(){}var Xm=!1;function $2(r,e,t){if(Xm)return r(e,t);Xm=!0;try{return W2(r,e,t)}finally{Xm=!1,(Ja!==null||Ka!==null)&&(U2(),Q2())}}function Xu(r,e){var t=r.stateNode;if(t===null)return null;var s=qp(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(r=r.type,s=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!s;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Ee(231,e,typeof t));return t}var mf=!1;if(an)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){mf=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{mf=!1}function v7(r,e,t,s,i,n,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var ju=!1,Mh=null,jh=!1,gf=null,y7={onError:function(r){ju=!0,Mh=r}};function x7(r,e,t,s,i,n,o,l,u){ju=!1,Mh=null,v7.apply(y7,arguments)}function b7(r,e,t,s,i,n,o,l,u){if(x7.apply(this,arguments),ju){if(ju){var c=Mh;ju=!1,Mh=null}else throw Error(Ee(198));jh||(jh=!0,gf=c)}}function oa(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function G2(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function sb(r){if(oa(r)!==r)throw Error(Ee(188))}function C7(r){var e=r.alternate;if(!e){if(e=oa(r),e===null)throw Error(Ee(188));return e!==r?null:r}for(var t=r,s=e;;){var i=t.return;if(i===null)break;var n=i.alternate;if(n===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===n.child){for(n=i.child;n;){if(n===t)return sb(i),r;if(n===s)return sb(i),e;n=n.sibling}throw Error(Ee(188))}if(t.return!==s.return)t=i,s=n;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,s=n;break}if(l===s){o=!0,s=i,t=n;break}l=l.sibling}if(!o){for(l=n.child;l;){if(l===t){o=!0,t=n,s=i;break}if(l===s){o=!0,s=n,t=i;break}l=l.sibling}if(!o)throw Error(Ee(189))}}if(t.alternate!==s)throw Error(Ee(190))}if(t.tag!==3)throw Error(Ee(188));return t.stateNode.current===t?r:e}function Z2(r){return r=C7(r),r!==null?J2(r):null}function J2(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=J2(r);if(e!==null)return e;r=r.sibling}return null}var K2=Sr.unstable_scheduleCallback,rb=Sr.unstable_cancelCallback,w7=Sr.unstable_shouldYield,S7=Sr.unstable_requestPaint,ns=Sr.unstable_now,E7=Sr.unstable_getCurrentPriorityLevel,hy=Sr.unstable_ImmediatePriority,Y2=Sr.unstable_UserBlockingPriority,_h=Sr.unstable_NormalPriority,V7=Sr.unstable_LowPriority,X2=Sr.unstable_IdlePriority,_p=null,ji=null;function P7(r){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(_p,r,void 0,(r.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:k7,I7=Math.log,T7=Math.LN2;function k7(r){return r>>>=0,r===0?32:31-(I7(r)/T7|0)|0}var yc=64,xc=4194304;function gu(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Oh(r,e){var t=r.pendingLanes;if(t===0)return 0;var s=0,i=r.suspendedLanes,n=r.pingedLanes,o=t&268435455;if(o!==0){var l=o&~i;l!==0?s=gu(l):(n&=o,n!==0&&(s=gu(n)))}else o=t&~i,o!==0?s=gu(o):n!==0&&(s=gu(n));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,n=e&-e,i>=n||i===16&&(n&4194240)!==0))return e;if(s&4&&(s|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=s;0<e;)t=31-ui(e),i=1<<t,s|=r[t],e&=~i;return s}function N7(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R7(r,e){for(var t=r.suspendedLanes,s=r.pingedLanes,i=r.expirationTimes,n=r.pendingLanes;0<n;){var o=31-ui(n),l=1<<o,u=i[o];u===-1?(!(l&t)||l&s)&&(i[o]=N7(l,e)):u<=e&&(r.expiredLanes|=l),n&=~l}}function ff(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function eS(){var r=yc;return yc<<=1,!(yc&4194240)&&(yc=64),r}function eg(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function _d(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-ui(e),r[e]=t}function L7(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var s=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-ui(t),n=1<<i;e[i]=0,s[i]=-1,r[i]=-1,t&=~n}}function py(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var s=31-ui(t),i=1<<s;i&e|r[s]&e&&(r[s]|=e),t&=~i}}var kt=0;function tS(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var sS,my,rS,iS,nS,vf=!1,bc=[],Kn=null,Yn=null,Xn=null,ed=new Map,td=new Map,Bn=[],A7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ib(r,e){switch(r){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(e.pointerId)}}function tu(r,e,t,s,i,n){return r===null||r.nativeEvent!==n?(r={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:n,targetContainers:[i]},e!==null&&(e=Fd(e),e!==null&&my(e)),r):(r.eventSystemFlags|=s,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function D7(r,e,t,s,i){switch(e){case"focusin":return Kn=tu(Kn,r,e,t,s,i),!0;case"dragenter":return Yn=tu(Yn,r,e,t,s,i),!0;case"mouseover":return Xn=tu(Xn,r,e,t,s,i),!0;case"pointerover":var n=i.pointerId;return ed.set(n,tu(ed.get(n)||null,r,e,t,s,i)),!0;case"gotpointercapture":return n=i.pointerId,td.set(n,tu(td.get(n)||null,r,e,t,s,i)),!0}return!1}function oS(r){var e=Bo(r.target);if(e!==null){var t=oa(e);if(t!==null){if(e=t.tag,e===13){if(e=G2(t),e!==null){r.blockedOn=e,nS(r.priority,function(){rS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sh(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=yf(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var s=new t.constructor(t.type,t);hf=s,t.target.dispatchEvent(s),hf=null}else return e=Fd(t),e!==null&&my(e),r.blockedOn=t,!1;e.shift()}return!0}function nb(r,e,t){sh(r)&&t.delete(e)}function M7(){vf=!1,Kn!==null&&sh(Kn)&&(Kn=null),Yn!==null&&sh(Yn)&&(Yn=null),Xn!==null&&sh(Xn)&&(Xn=null),ed.forEach(nb),td.forEach(nb)}function su(r,e){r.blockedOn===e&&(r.blockedOn=null,vf||(vf=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,M7)))}function sd(r){function e(i){return su(i,r)}if(0<bc.length){su(bc[0],r);for(var t=1;t<bc.length;t++){var s=bc[t];s.blockedOn===r&&(s.blockedOn=null)}}for(Kn!==null&&su(Kn,r),Yn!==null&&su(Yn,r),Xn!==null&&su(Xn,r),ed.forEach(e),td.forEach(e),t=0;t<Bn.length;t++)s=Bn[t],s.blockedOn===r&&(s.blockedOn=null);for(;0<Bn.length&&(t=Bn[0],t.blockedOn===null);)oS(t),t.blockedOn===null&&Bn.shift()}var Ya=gn.ReactCurrentBatchConfig,Fh=!0;function j7(r,e,t,s){var i=kt,n=Ya.transition;Ya.transition=null;try{kt=1,gy(r,e,t,s)}finally{kt=i,Ya.transition=n}}function _7(r,e,t,s){var i=kt,n=Ya.transition;Ya.transition=null;try{kt=4,gy(r,e,t,s)}finally{kt=i,Ya.transition=n}}function gy(r,e,t,s){if(Fh){var i=yf(r,e,t,s);if(i===null)dg(r,e,s,Bh,t),ib(r,s);else if(D7(i,r,e,t,s))s.stopPropagation();else if(ib(r,s),e&4&&-1<A7.indexOf(r)){for(;i!==null;){var n=Fd(i);if(n!==null&&sS(n),n=yf(r,e,t,s),n===null&&dg(r,e,s,Bh,t),n===i)break;i=n}i!==null&&s.stopPropagation()}else dg(r,e,s,null,t)}}var Bh=null;function yf(r,e,t,s){if(Bh=null,r=cy(s),r=Bo(r),r!==null)if(e=oa(r),e===null)r=null;else if(t=e.tag,t===13){if(r=G2(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Bh=r,null}function aS(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E7()){case hy:return 1;case Y2:return 4;case _h:case V7:return 16;case X2:return 536870912;default:return 16}default:return 16}}var Qn=null,fy=null,rh=null;function lS(){if(rh)return rh;var r,e=fy,t=e.length,s,i="value"in Qn?Qn.value:Qn.textContent,n=i.length;for(r=0;r<t&&e[r]===i[r];r++);var o=t-r;for(s=1;s<=o&&e[t-s]===i[n-s];s++);return rh=i.slice(r,1<s?1-s:void 0)}function ih(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Cc(){return!0}function ob(){return!1}function Tr(r){function e(t,s,i,n,o){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Cc:ob,this.isPropagationStopped=ob,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),e}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=Tr(Vl),Od=Xt({},Vl,{view:0,detail:0}),O7=Tr(Od),tg,sg,ru,Op=Xt({},Od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ru&&(ru&&r.type==="mousemove"?(tg=r.screenX-ru.screenX,sg=r.screenY-ru.screenY):sg=tg=0,ru=r),tg)},movementY:function(r){return"movementY"in r?r.movementY:sg}}),ab=Tr(Op),F7=Xt({},Op,{dataTransfer:0}),B7=Tr(F7),q7=Xt({},Od,{relatedTarget:0}),rg=Tr(q7),z7=Xt({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),H7=Tr(z7),Q7=Xt({},Vl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),W7=Tr(Q7),U7=Xt({},Vl,{data:0}),lb=Tr(U7),$7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J7(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=Z7[r])?!!e[r]:!1}function yy(){return J7}var K7=Xt({},Od,{key:function(r){if(r.key){var e=$7[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=ih(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?G7[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(r){return r.type==="keypress"?ih(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ih(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Y7=Tr(K7),X7=Xt({},Op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ub=Tr(X7),ek=Xt({},Od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),tk=Tr(ek),sk=Xt({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=Tr(sk),ik=Xt({},Op,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nk=Tr(ik),ok=[9,13,27,32],xy=an&&"CompositionEvent"in window,_u=null;an&&"documentMode"in document&&(_u=document.documentMode);var ak=an&&"TextEvent"in window&&!_u,uS=an&&(!xy||_u&&8<_u&&11>=_u),db=" ",cb=!1;function dS(r,e){switch(r){case"keyup":return ok.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Oa=!1;function lk(r,e){switch(r){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(cb=!0,db);case"textInput":return r=e.data,r===db&&cb?null:r;default:return null}}function uk(r,e){if(Oa)return r==="compositionend"||!xy&&dS(r,e)?(r=lS(),rh=fy=Qn=null,Oa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!dk[r.type]:e==="textarea"}function hS(r,e,t,s){H2(s),e=qh(e,"onChange"),0<e.length&&(t=new vy("onChange","change",null,t,s),r.push({event:t,listeners:e}))}var Ou=null,rd=null;function ck(r){SS(r,0)}function Fp(r){var e=qa(r);if(j2(e))return r}function hk(r,e){if(r==="change")return e}var pS=!1;if(an){var ig;if(an){var ng="oninput"in document;if(!ng){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),ng=typeof pb.oninput=="function"}ig=ng}else ig=!1;pS=ig&&(!document.documentMode||9<document.documentMode)}function mb(){Ou&&(Ou.detachEvent("onpropertychange",mS),rd=Ou=null)}function mS(r){if(r.propertyName==="value"&&Fp(rd)){var e=[];hS(e,rd,r,cy(r)),$2(ck,e)}}function pk(r,e,t){r==="focusin"?(mb(),Ou=e,rd=t,Ou.attachEvent("onpropertychange",mS)):r==="focusout"&&mb()}function mk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fp(rd)}function gk(r,e){if(r==="click")return Fp(e)}function fk(r,e){if(r==="input"||r==="change")return Fp(e)}function vk(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var vi=typeof Object.is=="function"?Object.is:vk;function id(r,e){if(vi(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!Xg.call(e,i)||!vi(r[i],e[i]))return!1}return!0}function gb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fb(r,e){var t=gb(r);r=0;for(var s;t;){if(t.nodeType===3){if(s=r+t.textContent.length,r<=e&&s>=e)return{node:t,offset:e-r};r=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=gb(t)}}function gS(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?gS(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function fS(){for(var r=window,e=Dh();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Dh(r.document)}return e}function by(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function yk(r){var e=fS(),t=r.focusedElem,s=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&gS(t.ownerDocument.documentElement,t)){if(s!==null&&by(t)){if(e=s.start,r=s.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,n=Math.min(s.start,i);s=s.end===void 0?n:Math.min(s.end,i),!r.extend&&n>s&&(i=s,s=n,n=i),i=fb(t,n);var o=fb(t,s);i&&o&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),n>s?(r.addRange(e),r.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xk=an&&"documentMode"in document&&11>=document.documentMode,Fa=null,xf=null,Fu=null,bf=!1;function vb(r,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;bf||Fa==null||Fa!==Dh(s)||(s=Fa,"selectionStart"in s&&by(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fu&&id(Fu,s)||(Fu=s,s=qh(xf,"onSelect"),0<s.length&&(e=new vy("onSelect","select",null,e,t),r.push({event:e,listeners:s}),e.target=Fa)))}function wc(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Ba={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},og={},vS={};an&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Bp(r){if(og[r])return og[r];if(!Ba[r])return r;var e=Ba[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in vS)return og[r]=e[t];return r}var yS=Bp("animationend"),xS=Bp("animationiteration"),bS=Bp("animationstart"),CS=Bp("transitionend"),wS=new Map,yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(r,e){wS.set(r,e),na(e,[r])}for(var ag=0;ag<yb.length;ag++){var lg=yb[ag],bk=lg.toLowerCase(),Ck=lg[0].toUpperCase()+lg.slice(1);ho(bk,"on"+Ck)}ho(yS,"onAnimationEnd");ho(xS,"onAnimationIteration");ho(bS,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(CS,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function xb(r,e,t){var s=r.type||"unknown-event";r.currentTarget=t,b7(s,e,void 0,r),r.currentTarget=null}function SS(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var s=r[t],i=s.event;s=s.listeners;e:{var n=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==n&&i.isPropagationStopped())break e;xb(i,l,c),n=u}else for(o=0;o<s.length;o++){if(l=s[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==n&&i.isPropagationStopped())break e;xb(i,l,c),n=u}}}if(jh)throw r=gf,jh=!1,gf=null,r}function zt(r,e){var t=e[Vf];t===void 0&&(t=e[Vf]=new Set);var s=r+"__bubble";t.has(s)||(ES(e,r,2,!1),t.add(s))}function ug(r,e,t){var s=0;e&&(s|=4),ES(t,r,s,e)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function nd(r){if(!r[Sc]){r[Sc]=!0,R2.forEach(function(t){t!=="selectionchange"&&(wk.has(t)||ug(t,!1,r),ug(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Sc]||(e[Sc]=!0,ug("selectionchange",!1,e))}}function ES(r,e,t,s){switch(aS(e)){case 1:var i=j7;break;case 4:i=_7;break;default:i=gy}t=i.bind(null,e,t,r),i=void 0,!mf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function dg(r,e,t,s,i){var n=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Bo(l),o===null)return;if(u=o.tag,u===5||u===6){s=n=o;continue e}l=l.parentNode}}s=s.return}$2(function(){var c=n,h=cy(t),p=[];e:{var m=wS.get(r);if(m!==void 0){var v=vy,f=r;switch(r){case"keypress":if(ih(t)===0)break e;case"keydown":case"keyup":v=Y7;break;case"focusin":f="focus",v=rg;break;case"focusout":f="blur",v=rg;break;case"beforeblur":case"afterblur":v=rg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=B7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tk;break;case yS:case xS:case bS:v=H7;break;case CS:v=rk;break;case"scroll":v=O7;break;case"wheel":v=nk;break;case"copy":case"cut":case"paste":v=W7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ub}var b=(e&4)!==0,x=!b&&r==="scroll",g=b?m!==null?m+"Capture":null:m;b=[];for(var y=c,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Xu(y,g),S!=null&&b.push(od(y,S,w)))),x)break;y=y.return}0<b.length&&(m=new v(m,f,null,t,h),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=r==="mouseover"||r==="pointerover",v=r==="mouseout"||r==="pointerout",m&&t!==hf&&(f=t.relatedTarget||t.fromElement)&&(Bo(f)||f[ln]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(f=t.relatedTarget||t.toElement,v=c,f=f?Bo(f):null,f!==null&&(x=oa(f),f!==x||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=c),v!==f)){if(b=ab,S="onMouseLeave",g="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(b=ub,S="onPointerLeave",g="onPointerEnter",y="pointer"),x=v==null?m:qa(v),w=f==null?m:qa(f),m=new b(S,y+"leave",v,t,h),m.target=x,m.relatedTarget=w,S=null,Bo(h)===c&&(b=new b(g,y+"enter",f,t,h),b.target=w,b.relatedTarget=x,S=b),x=S,v&&f)t:{for(b=v,g=f,y=0,w=b;w;w=xa(w))y++;for(w=0,S=g;S;S=xa(S))w++;for(;0<y-w;)b=xa(b),y--;for(;0<w-y;)g=xa(g),w--;for(;y--;){if(b===g||g!==null&&b===g.alternate)break t;b=xa(b),g=xa(g)}b=null}else b=null;v!==null&&bb(p,m,v,b,!1),f!==null&&x!==null&&bb(p,x,f,b,!0)}}e:{if(m=c?qa(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var P=hk;else if(hb(m))if(pS)P=fk;else{P=mk;var V=pk}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=gk);if(P&&(P=P(r,c))){hS(p,P,t,h);break e}V&&V(r,m,c),r==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&af(m,"number",m.value)}switch(V=c?qa(c):window,r){case"focusin":(hb(V)||V.contentEditable==="true")&&(Fa=V,xf=c,Fu=null);break;case"focusout":Fu=xf=Fa=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,vb(p,t,h);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":vb(p,t,h)}var I;if(xy)e:{switch(r){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Oa?dS(r,t)&&(E="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(uS&&t.locale!=="ko"&&(Oa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Oa&&(I=lS()):(Qn=h,fy="value"in Qn?Qn.value:Qn.textContent,Oa=!0)),V=qh(c,E),0<V.length&&(E=new lb(E,r,null,t,h),p.push({event:E,listeners:V}),I?E.data=I:(I=cS(t),I!==null&&(E.data=I)))),(I=ak?lk(r,t):uk(r,t))&&(c=qh(c,"onBeforeInput"),0<c.length&&(h=new lb("onBeforeInput","beforeinput",null,t,h),p.push({event:h,listeners:c}),h.data=I))}SS(p,e)})}function od(r,e,t){return{instance:r,listener:e,currentTarget:t}}function qh(r,e){for(var t=e+"Capture",s=[];r!==null;){var i=r,n=i.stateNode;i.tag===5&&n!==null&&(i=n,n=Xu(r,t),n!=null&&s.unshift(od(r,n,i)),n=Xu(r,e),n!=null&&s.push(od(r,n,i))),r=r.return}return s}function xa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bb(r,e,t,s,i){for(var n=e._reactName,o=[];t!==null&&t!==s;){var l=t,u=l.alternate,c=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&c!==null&&(l=c,i?(u=Xu(t,n),u!=null&&o.unshift(od(t,u,l))):i||(u=Xu(t,n),u!=null&&o.push(od(t,u,l)))),t=t.return}o.length!==0&&r.push({event:e,listeners:o})}var Sk=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function Cb(r){return(typeof r=="string"?r:""+r).replace(Sk,`
`).replace(Ek,"")}function Ec(r,e,t){if(e=Cb(e),Cb(r)!==e&&t)throw Error(Ee(425))}function zh(){}var Cf=null,wf=null;function Sf(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,Pk=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(r){return wb.resolve(null).then(r).catch(Ik)}:Ef;function Ik(r){setTimeout(function(){throw r})}function cg(r,e){var t=e,s=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){r.removeChild(i),sd(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);sd(e)}function eo(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function Sb(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Pl,ad="__reactProps$"+Pl,ln="__reactContainer$"+Pl,Vf="__reactEvents$"+Pl,Tk="__reactListeners$"+Pl,kk="__reactHandles$"+Pl;function Bo(r){var e=r[Ai];if(e)return e;for(var t=r.parentNode;t;){if(e=t[ln]||t[Ai]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=Sb(r);r!==null;){if(t=r[Ai])return t;r=Sb(r)}return e}r=t,t=r.parentNode}return null}function Fd(r){return r=r[Ai]||r[ln],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qa(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ee(33))}function qp(r){return r[ad]||null}var Pf=[],za=-1;function po(r){return{current:r}}function Ht(r){0>za||(r.current=Pf[za],Pf[za]=null,za--)}function Ot(r,e){za++,Pf[za]=r.current,r.current=e}var lo={},$s=po(lo),ar=po(!1),Ko=lo;function nl(r,e){var t=r.type.contextTypes;if(!t)return lo;var s=r.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},n;for(n in t)i[n]=e[n];return s&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function lr(r){return r=r.childContextTypes,r!=null}function Hh(){Ht(ar),Ht($s)}function Eb(r,e,t){if($s.current!==lo)throw Error(Ee(168));Ot($s,e),Ot(ar,t)}function VS(r,e,t){var s=r.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(Ee(108,p7(r)||"Unknown",i));return Xt({},t,s)}function Qh(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||lo,Ko=$s.current,Ot($s,r),Ot(ar,ar.current),!0}function Vb(r,e,t){var s=r.stateNode;if(!s)throw Error(Ee(169));t?(r=VS(r,e,Ko),s.__reactInternalMemoizedMergedChildContext=r,Ht(ar),Ht($s),Ot($s,r)):Ht(ar),Ot(ar,t)}var Xi=null,zp=!1,hg=!1;function PS(r){Xi===null?Xi=[r]:Xi.push(r)}function Nk(r){zp=!0,PS(r)}function mo(){if(!hg&&Xi!==null){hg=!0;var r=0,e=kt;try{var t=Xi;for(kt=1;r<t.length;r++){var s=t[r];do s=s(!0);while(s!==null)}Xi=null,zp=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(r+1)),K2(hy,mo),i}finally{kt=e,hg=!1}}return null}var Ha=[],Qa=0,Wh=null,Uh=0,Dr=[],Mr=0,Yo=null,tn=1,sn="";function Ro(r,e){Ha[Qa++]=Uh,Ha[Qa++]=Wh,Wh=r,Uh=e}function IS(r,e,t){Dr[Mr++]=tn,Dr[Mr++]=sn,Dr[Mr++]=Yo,Yo=r;var s=tn;r=sn;var i=32-ui(s)-1;s&=~(1<<i),t+=1;var n=32-ui(e)+i;if(30<n){var o=i-i%5;n=(s&(1<<o)-1).toString(32),s>>=o,i-=o,tn=1<<32-ui(e)+i|t<<i|s,sn=n+r}else tn=1<<n|t<<i|s,sn=r}function Cy(r){r.return!==null&&(Ro(r,1),IS(r,1,0))}function wy(r){for(;r===Wh;)Wh=Ha[--Qa],Ha[Qa]=null,Uh=Ha[--Qa],Ha[Qa]=null;for(;r===Yo;)Yo=Dr[--Mr],Dr[Mr]=null,sn=Dr[--Mr],Dr[Mr]=null,tn=Dr[--Mr],Dr[Mr]=null}var wr=null,xr=null,$t=!1,ii=null;function TS(r,e){var t=_r(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function Pb(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,wr=r,xr=eo(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,wr=r,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Yo!==null?{id:tn,overflow:sn}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=_r(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,wr=r,xr=null,!0):!1;default:return!1}}function If(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Tf(r){if($t){var e=xr;if(e){var t=e;if(!Pb(r,e)){if(If(r))throw Error(Ee(418));e=eo(t.nextSibling);var s=wr;e&&Pb(r,e)?TS(s,t):(r.flags=r.flags&-4097|2,$t=!1,wr=r)}}else{if(If(r))throw Error(Ee(418));r.flags=r.flags&-4097|2,$t=!1,wr=r}}}function Ib(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;wr=r}function Vc(r){if(r!==wr)return!1;if(!$t)return Ib(r),$t=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Sf(r.type,r.memoizedProps)),e&&(e=xr)){if(If(r))throw kS(),Error(Ee(418));for(;e;)TS(r,e),e=eo(e.nextSibling)}if(Ib(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ee(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){xr=eo(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}xr=null}}else xr=wr?eo(r.stateNode.nextSibling):null;return!0}function kS(){for(var r=xr;r;)r=eo(r.nextSibling)}function ol(){xr=wr=null,$t=!1}function Sy(r){ii===null?ii=[r]:ii.push(r)}var Rk=gn.ReactCurrentBatchConfig;function iu(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ee(309));var s=t.stateNode}if(!s)throw Error(Ee(147,r));var i=s,n=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(o){var l=i.refs;o===null?delete l[n]:l[n]=o},e._stringRef=n,e)}if(typeof r!="string")throw Error(Ee(284));if(!t._owner)throw Error(Ee(290,r))}return r}function Pc(r,e){throw r=Object.prototype.toString.call(e),Error(Ee(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function Tb(r){var e=r._init;return e(r._payload)}function NS(r){function e(g,y){if(r){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function t(g,y){if(!r)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function s(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=io(g,y),g.index=0,g.sibling=null,g}function n(g,y,w){return g.index=w,r?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return r&&g.alternate===null&&(g.flags|=2),g}function l(g,y,w,S){return y===null||y.tag!==6?(y=xg(w,g.mode,S),y.return=g,y):(y=i(y,w),y.return=g,y)}function u(g,y,w,S){var P=w.type;return P===_a?h(g,y,w.props.children,S,w.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mn&&Tb(P)===y.type)?(S=i(y,w.props),S.ref=iu(g,y,w),S.return=g,S):(S=ch(w.type,w.key,w.props,null,g.mode,S),S.ref=iu(g,y,w),S.return=g,S)}function c(g,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=bg(w,g.mode,S),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function h(g,y,w,S,P){return y===null||y.tag!==7?(y=Go(w,g.mode,S,P),y.return=g,y):(y=i(y,w),y.return=g,y)}function p(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xg(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:return w=ch(y.type,y.key,y.props,null,g.mode,w),w.ref=iu(g,null,y),w.return=g,w;case ja:return y=bg(y,g.mode,w),y.return=g,y;case Mn:var S=y._init;return p(g,S(y._payload),w)}if(mu(y)||Xl(y))return y=Go(y,g.mode,w,null),y.return=g,y;Pc(g,y)}return null}function m(g,y,w,S){var P=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(g,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gc:return w.key===P?u(g,y,w,S):null;case ja:return w.key===P?c(g,y,w,S):null;case Mn:return P=w._init,m(g,y,P(w._payload),S)}if(mu(w)||Xl(w))return P!==null?null:h(g,y,w,S,null);Pc(g,w)}return null}function v(g,y,w,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,l(y,g,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gc:return g=g.get(S.key===null?w:S.key)||null,u(y,g,S,P);case ja:return g=g.get(S.key===null?w:S.key)||null,c(y,g,S,P);case Mn:var V=S._init;return v(g,y,w,V(S._payload),P)}if(mu(S)||Xl(S))return g=g.get(w)||null,h(y,g,S,P,null);Pc(y,S)}return null}function f(g,y,w,S){for(var P=null,V=null,I=y,E=y=0,R=null;I!==null&&E<w.length;E++){I.index>E?(R=I,I=null):R=I.sibling;var C=m(g,I,w[E],S);if(C===null){I===null&&(I=R);break}r&&I&&C.alternate===null&&e(g,I),y=n(C,y,E),V===null?P=C:V.sibling=C,V=C,I=R}if(E===w.length)return t(g,I),$t&&Ro(g,E),P;if(I===null){for(;E<w.length;E++)I=p(g,w[E],S),I!==null&&(y=n(I,y,E),V===null?P=I:V.sibling=I,V=I);return $t&&Ro(g,E),P}for(I=s(g,I);E<w.length;E++)R=v(I,g,E,w[E],S),R!==null&&(r&&R.alternate!==null&&I.delete(R.key===null?E:R.key),y=n(R,y,E),V===null?P=R:V.sibling=R,V=R);return r&&I.forEach(function(k){return e(g,k)}),$t&&Ro(g,E),P}function b(g,y,w,S){var P=Xl(w);if(typeof P!="function")throw Error(Ee(150));if(w=P.call(w),w==null)throw Error(Ee(151));for(var V=P=null,I=y,E=y=0,R=null,C=w.next();I!==null&&!C.done;E++,C=w.next()){I.index>E?(R=I,I=null):R=I.sibling;var k=m(g,I,C.value,S);if(k===null){I===null&&(I=R);break}r&&I&&k.alternate===null&&e(g,I),y=n(k,y,E),V===null?P=k:V.sibling=k,V=k,I=R}if(C.done)return t(g,I),$t&&Ro(g,E),P;if(I===null){for(;!C.done;E++,C=w.next())C=p(g,C.value,S),C!==null&&(y=n(C,y,E),V===null?P=C:V.sibling=C,V=C);return $t&&Ro(g,E),P}for(I=s(g,I);!C.done;E++,C=w.next())C=v(I,g,E,C.value,S),C!==null&&(r&&C.alternate!==null&&I.delete(C.key===null?E:C.key),y=n(C,y,E),V===null?P=C:V.sibling=C,V=C);return r&&I.forEach(function(L){return e(g,L)}),$t&&Ro(g,E),P}function x(g,y,w,S){if(typeof w=="object"&&w!==null&&w.type===_a&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gc:e:{for(var P=w.key,V=y;V!==null;){if(V.key===P){if(P=w.type,P===_a){if(V.tag===7){t(g,V.sibling),y=i(V,w.props.children),y.return=g,g=y;break e}}else if(V.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mn&&Tb(P)===V.type){t(g,V.sibling),y=i(V,w.props),y.ref=iu(g,V,w),y.return=g,g=y;break e}t(g,V);break}else e(g,V);V=V.sibling}w.type===_a?(y=Go(w.props.children,g.mode,S,w.key),y.return=g,g=y):(S=ch(w.type,w.key,w.props,null,g.mode,S),S.ref=iu(g,y,w),S.return=g,g=S)}return o(g);case ja:e:{for(V=w.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else e(g,y);y=y.sibling}y=bg(w,g.mode,S),y.return=g,g=y}return o(g);case Mn:return V=w._init,x(g,y,V(w._payload),S)}if(mu(w))return f(g,y,w,S);if(Xl(w))return b(g,y,w,S);Pc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(g,y.sibling),y=i(y,w),y.return=g,g=y):(t(g,y),y=xg(w,g.mode,S),y.return=g,g=y),o(g)):t(g,y)}return x}var al=NS(!0),RS=NS(!1),$h=po(null),Gh=null,Wa=null,Ey=null;function Vy(){Ey=Wa=Gh=null}function Py(r){var e=$h.current;Ht($h),r._currentValue=e}function kf(r,e,t){for(;r!==null;){var s=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),r===t)break;r=r.return}}function Xa(r,e){Gh=r,Ey=Wa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(or=!0),r.firstContext=null)}function Qr(r){var e=r._currentValue;if(Ey!==r)if(r={context:r,memoizedValue:e,next:null},Wa===null){if(Gh===null)throw Error(Ee(308));Wa=r,Gh.dependencies={lanes:0,firstContext:r}}else Wa=Wa.next=r;return e}var qo=null;function Iy(r){qo===null?qo=[r]:qo.push(r)}function LS(r,e,t,s){var i=e.interleaved;return i===null?(t.next=t,Iy(e)):(t.next=i.next,i.next=t),e.interleaved=t,un(r,s)}function un(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var jn=!1;function Ty(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AS(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function rn(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function to(r,e,t){var s=r.updateQueue;if(s===null)return null;if(s=s.shared,xt&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,un(r,t)}return i=s.interleaved,i===null?(e.next=e,Iy(s)):(e.next=i.next,i.next=e),s.interleaved=e,un(r,t)}function nh(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=r.pendingLanes,t|=s,e.lanes=t,py(r,t)}}function kb(r,e){var t=r.updateQueue,s=r.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,n=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};n===null?i=n=o:n=n.next=o,t=t.next}while(t!==null);n===null?i=n=e:n=n.next=e}else i=n=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:n,shared:s.shared,effects:s.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Zh(r,e,t,s){var i=r.updateQueue;jn=!1;var n=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?n=c:o.next=c,o=u;var h=r.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(n!==null){var p=i.baseState;o=0,h=c=u=null,l=n;do{var m=l.lane,v=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=r,b=l;switch(m=e,v=t,b.tag){case 1:if(f=b.payload,typeof f=="function"){p=f.call(v,p,m);break e}p=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=b.payload,m=typeof f=="function"?f.call(v,p,m):f,m==null)break e;p=Xt({},p,m);break e;case 2:jn=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=v,u=p):h=h.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else n===null&&(i.shared.lanes=0);ea|=o,r.lanes=o,r.memoizedState=p}}function Nb(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var s=r[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(Ee(191,i));i.call(s)}}}var Bd={},_i=po(Bd),ld=po(Bd),ud=po(Bd);function zo(r){if(r===Bd)throw Error(Ee(174));return r}function ky(r,e){switch(Ot(ud,e),Ot(ld,r),Ot(_i,Bd),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uf(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=uf(e,r)}Ht(_i),Ot(_i,e)}function ll(){Ht(_i),Ht(ld),Ht(ud)}function DS(r){zo(ud.current);var e=zo(_i.current),t=uf(e,r.type);e!==t&&(Ot(ld,r),Ot(_i,t))}function Ny(r){ld.current===r&&(Ht(_i),Ht(ld))}var Jt=po(0);function Jh(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pg=[];function Ry(){for(var r=0;r<pg.length;r++)pg[r]._workInProgressVersionPrimary=null;pg.length=0}var oh=gn.ReactCurrentDispatcher,mg=gn.ReactCurrentBatchConfig,Xo=0,Kt=null,gs=null,bs=null,Kh=!1,Bu=!1,dd=0,Lk=0;function Bs(){throw Error(Ee(321))}function Ly(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!vi(r[t],e[t]))return!1;return!0}function Ay(r,e,t,s,i,n){if(Xo=n,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oh.current=r===null||r.memoizedState===null?jk:_k,r=t(s,i),Bu){n=0;do{if(Bu=!1,dd=0,25<=n)throw Error(Ee(301));n+=1,bs=gs=null,e.updateQueue=null,oh.current=Ok,r=t(s,i)}while(Bu)}if(oh.current=Yh,e=gs!==null&&gs.next!==null,Xo=0,bs=gs=Kt=null,Kh=!1,e)throw Error(Ee(300));return r}function Dy(){var r=dd!==0;return dd=0,r}function Ti(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?Kt.memoizedState=bs=r:bs=bs.next=r,bs}function Wr(){if(gs===null){var r=Kt.alternate;r=r!==null?r.memoizedState:null}else r=gs.next;var e=bs===null?Kt.memoizedState:bs.next;if(e!==null)bs=e,gs=r;else{if(r===null)throw Error(Ee(310));gs=r,r={memoizedState:gs.memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},bs===null?Kt.memoizedState=bs=r:bs=bs.next=r}return bs}function cd(r,e){return typeof e=="function"?e(r):e}function gg(r){var e=Wr(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=r;var s=gs,i=s.baseQueue,n=t.pending;if(n!==null){if(i!==null){var o=i.next;i.next=n.next,n.next=o}s.baseQueue=i=n,t.pending=null}if(i!==null){n=i.next,s=s.baseState;var l=o=null,u=null,c=n;do{var h=c.lane;if((Xo&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:r(s,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=s):u=u.next=p,Kt.lanes|=h,ea|=h}c=c.next}while(c!==null&&c!==n);u===null?o=s:u.next=l,vi(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=u,t.lastRenderedState=s}if(r=t.interleaved,r!==null){i=r;do n=i.lane,Kt.lanes|=n,ea|=n,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function fg(r){var e=Wr(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=r;var s=t.dispatch,i=t.pending,n=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do n=r(n,o.action),o=o.next;while(o!==i);vi(n,e.memoizedState)||(or=!0),e.memoizedState=n,e.baseQueue===null&&(e.baseState=n),t.lastRenderedState=n}return[n,s]}function MS(){}function jS(r,e){var t=Kt,s=Wr(),i=e(),n=!vi(s.memoizedState,i);if(n&&(s.memoizedState=i,or=!0),s=s.queue,My(FS.bind(null,t,s,r),[r]),s.getSnapshot!==e||n||bs!==null&&bs.memoizedState.tag&1){if(t.flags|=2048,hd(9,OS.bind(null,t,s,i,e),void 0,null),Es===null)throw Error(Ee(349));Xo&30||_S(t,e,i)}return i}function _S(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function OS(r,e,t,s){e.value=t,e.getSnapshot=s,BS(e)&&qS(r)}function FS(r,e,t){return t(function(){BS(e)&&qS(r)})}function BS(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!vi(r,t)}catch{return!0}}function qS(r){var e=un(r,1);e!==null&&di(e,r,1,-1)}function Rb(r){var e=Ti();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:r},e.queue=r,r=r.dispatch=Mk.bind(null,Kt,r),[e.memoizedState,r]}function hd(r,e,t,s){return r={tag:r,create:e,destroy:t,deps:s,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(s=t.next,t.next=r,r.next=s,e.lastEffect=r)),r}function zS(){return Wr().memoizedState}function ah(r,e,t,s){var i=Ti();Kt.flags|=r,i.memoizedState=hd(1|e,t,void 0,s===void 0?null:s)}function Hp(r,e,t,s){var i=Wr();s=s===void 0?null:s;var n=void 0;if(gs!==null){var o=gs.memoizedState;if(n=o.destroy,s!==null&&Ly(s,o.deps)){i.memoizedState=hd(e,t,n,s);return}}Kt.flags|=r,i.memoizedState=hd(1|e,t,n,s)}function Lb(r,e){return ah(8390656,8,r,e)}function My(r,e){return Hp(2048,8,r,e)}function HS(r,e){return Hp(4,2,r,e)}function QS(r,e){return Hp(4,4,r,e)}function WS(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function US(r,e,t){return t=t!=null?t.concat([r]):null,Hp(4,4,WS.bind(null,e,r),t)}function jy(){}function $S(r,e){var t=Wr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Ly(e,s[1])?s[0]:(t.memoizedState=[r,e],r)}function GS(r,e){var t=Wr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Ly(e,s[1])?s[0]:(r=r(),t.memoizedState=[r,e],r)}function ZS(r,e,t){return Xo&21?(vi(t,e)||(t=eS(),Kt.lanes|=t,ea|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,or=!0),r.memoizedState=t)}function Ak(r,e){var t=kt;kt=t!==0&&4>t?t:4,r(!0);var s=mg.transition;mg.transition={};try{r(!1),e()}finally{kt=t,mg.transition=s}}function JS(){return Wr().memoizedState}function Dk(r,e,t){var s=ro(r);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},KS(r))YS(e,t);else if(t=LS(r,e,t,s),t!==null){var i=Xs();di(t,r,s,i),XS(t,e,s)}}function Mk(r,e,t){var s=ro(r),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(KS(r))YS(e,i);else{var n=r.alternate;if(r.lanes===0&&(n===null||n.lanes===0)&&(n=e.lastRenderedReducer,n!==null))try{var o=e.lastRenderedState,l=n(o,t);if(i.hasEagerState=!0,i.eagerState=l,vi(l,o)){var u=e.interleaved;u===null?(i.next=i,Iy(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=LS(r,e,i,s),t!==null&&(i=Xs(),di(t,r,s,i),XS(t,e,s))}}function KS(r){var e=r.alternate;return r===Kt||e!==null&&e===Kt}function YS(r,e){Bu=Kh=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function XS(r,e,t){if(t&4194240){var s=e.lanes;s&=r.pendingLanes,t|=s,e.lanes=t,py(r,t)}}var Yh={readContext:Qr,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:!1},jk={readContext:Qr,useCallback:function(r,e){return Ti().memoizedState=[r,e===void 0?null:e],r},useContext:Qr,useEffect:Lb,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,ah(4194308,4,WS.bind(null,e,r),t)},useLayoutEffect:function(r,e){return ah(4194308,4,r,e)},useInsertionEffect:function(r,e){return ah(4,2,r,e)},useMemo:function(r,e){var t=Ti();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var s=Ti();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},s.queue=r,r=r.dispatch=Dk.bind(null,Kt,r),[s.memoizedState,r]},useRef:function(r){var e=Ti();return r={current:r},e.memoizedState=r},useState:Rb,useDebugValue:jy,useDeferredValue:function(r){return Ti().memoizedState=r},useTransition:function(){var r=Rb(!1),e=r[0];return r=Ak.bind(null,r[1]),Ti().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var s=Kt,i=Ti();if($t){if(t===void 0)throw Error(Ee(407));t=t()}else{if(t=e(),Es===null)throw Error(Ee(349));Xo&30||_S(s,e,t)}i.memoizedState=t;var n={value:t,getSnapshot:e};return i.queue=n,Lb(FS.bind(null,s,n,r),[r]),s.flags|=2048,hd(9,OS.bind(null,s,n,t,e),void 0,null),t},useId:function(){var r=Ti(),e=Es.identifierPrefix;if($t){var t=sn,s=tn;t=(s&~(1<<32-ui(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=dd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Lk++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},_k={readContext:Qr,useCallback:$S,useContext:Qr,useEffect:My,useImperativeHandle:US,useInsertionEffect:HS,useLayoutEffect:QS,useMemo:GS,useReducer:gg,useRef:zS,useState:function(){return gg(cd)},useDebugValue:jy,useDeferredValue:function(r){var e=Wr();return ZS(e,gs.memoizedState,r)},useTransition:function(){var r=gg(cd)[0],e=Wr().memoizedState;return[r,e]},useMutableSource:MS,useSyncExternalStore:jS,useId:JS,unstable_isNewReconciler:!1},Ok={readContext:Qr,useCallback:$S,useContext:Qr,useEffect:My,useImperativeHandle:US,useInsertionEffect:HS,useLayoutEffect:QS,useMemo:GS,useReducer:fg,useRef:zS,useState:function(){return fg(cd)},useDebugValue:jy,useDeferredValue:function(r){var e=Wr();return gs===null?e.memoizedState=r:ZS(e,gs.memoizedState,r)},useTransition:function(){var r=fg(cd)[0],e=Wr().memoizedState;return[r,e]},useMutableSource:MS,useSyncExternalStore:jS,useId:JS,unstable_isNewReconciler:!1};function ei(r,e){if(r&&r.defaultProps){e=Xt({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Nf(r,e,t,s){e=r.memoizedState,t=t(s,e),t=t==null?e:Xt({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Qp={isMounted:function(r){return(r=r._reactInternals)?oa(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var s=Xs(),i=ro(r),n=rn(s,i);n.payload=e,t!=null&&(n.callback=t),e=to(r,n,i),e!==null&&(di(e,r,i,s),nh(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var s=Xs(),i=ro(r),n=rn(s,i);n.tag=1,n.payload=e,t!=null&&(n.callback=t),e=to(r,n,i),e!==null&&(di(e,r,i,s),nh(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Xs(),s=ro(r),i=rn(t,s);i.tag=2,e!=null&&(i.callback=e),e=to(r,i,s),e!==null&&(di(e,r,s,t),nh(e,r,s))}};function Ab(r,e,t,s,i,n,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(s,n,o):e.prototype&&e.prototype.isPureReactComponent?!id(t,s)||!id(i,n):!0}function e5(r,e,t){var s=!1,i=lo,n=e.contextType;return typeof n=="object"&&n!==null?n=Qr(n):(i=lr(e)?Ko:$s.current,s=e.contextTypes,n=(s=s!=null)?nl(r,i):lo),e=new e(t,n),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qp,r.stateNode=e,e._reactInternals=r,s&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=n),e}function Db(r,e,t,s){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==r&&Qp.enqueueReplaceState(e,e.state,null)}function Rf(r,e,t,s){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},Ty(r);var n=e.contextType;typeof n=="object"&&n!==null?i.context=Qr(n):(n=lr(e)?Ko:$s.current,i.context=nl(r,n)),i.state=r.memoizedState,n=e.getDerivedStateFromProps,typeof n=="function"&&(Nf(r,e,n,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qp.enqueueReplaceState(i,i.state,null),Zh(r,t,i,s),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function ul(r,e){try{var t="",s=e;do t+=h7(s),s=s.return;while(s);var i=t}catch(n){i=`
Error generating stack: `+n.message+`
`+n.stack}return{value:r,source:e,stack:i,digest:null}}function vg(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function Lf(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Fk=typeof WeakMap=="function"?WeakMap:Map;function t5(r,e,t){t=rn(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){ep||(ep=!0,zf=s),Lf(r,e)},t}function s5(r,e,t){t=rn(-1,t),t.tag=3;var s=r.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){Lf(r,e)}}var n=r.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(t.callback=function(){Lf(r,e),typeof s!="function"&&(so===null?so=new Set([this]):so.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Mb(r,e,t){var s=r.pingCache;if(s===null){s=r.pingCache=new Fk;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),r=Xk.bind(null,r,e,t),e.then(r,r))}function jb(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function _b(r,e,t,s,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=rn(-1,1),e.tag=2,to(t,e,1))),t.lanes|=1),r)}var Bk=gn.ReactCurrentOwner,or=!1;function Zs(r,e,t,s){e.child=r===null?RS(e,null,t,s):al(e,r.child,t,s)}function Ob(r,e,t,s,i){t=t.render;var n=e.ref;return Xa(e,i),s=Ay(r,e,t,s,n,i),t=Dy(),r!==null&&!or?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,dn(r,e,i)):($t&&t&&Cy(e),e.flags|=1,Zs(r,e,s,i),e.child)}function Fb(r,e,t,s,i){if(r===null){var n=t.type;return typeof n=="function"&&!Qy(n)&&n.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=n,r5(r,e,n,s,i)):(r=ch(t.type,null,s,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(n=r.child,!(r.lanes&i)){var o=n.memoizedProps;if(t=t.compare,t=t!==null?t:id,t(o,s)&&r.ref===e.ref)return dn(r,e,i)}return e.flags|=1,r=io(n,s),r.ref=e.ref,r.return=e,e.child=r}function r5(r,e,t,s,i){if(r!==null){var n=r.memoizedProps;if(id(n,s)&&r.ref===e.ref)if(or=!1,e.pendingProps=s=n,(r.lanes&i)!==0)r.flags&131072&&(or=!0);else return e.lanes=r.lanes,dn(r,e,i)}return Af(r,e,t,s,i)}function i5(r,e,t){var s=e.pendingProps,i=s.children,n=r!==null?r.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot($a,gr),gr|=t;else{if(!(t&1073741824))return r=n!==null?n.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Ot($a,gr),gr|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=n!==null?n.baseLanes:t,Ot($a,gr),gr|=s}else n!==null?(s=n.baseLanes|t,e.memoizedState=null):s=t,Ot($a,gr),gr|=s;return Zs(r,e,i,t),e.child}function n5(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Af(r,e,t,s,i){var n=lr(t)?Ko:$s.current;return n=nl(e,n),Xa(e,i),t=Ay(r,e,t,s,n,i),s=Dy(),r!==null&&!or?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,dn(r,e,i)):($t&&s&&Cy(e),e.flags|=1,Zs(r,e,t,i),e.child)}function Bb(r,e,t,s,i){if(lr(t)){var n=!0;Qh(e)}else n=!1;if(Xa(e,i),e.stateNode===null)lh(r,e),e5(e,t,s),Rf(e,t,s,i),s=!0;else if(r===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Qr(c):(c=lr(t)?Ko:$s.current,c=nl(e,c));var h=t.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||u!==c)&&Db(e,o,s,c),jn=!1;var m=e.memoizedState;o.state=m,Zh(e,s,o,i),u=e.memoizedState,l!==s||m!==u||ar.current||jn?(typeof h=="function"&&(Nf(e,t,h,s),u=e.memoizedState),(l=jn||Ab(e,t,l,s,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),o.props=s,o.state=u,o.context=c,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,AS(r,e),l=e.memoizedProps,c=e.type===e.elementType?l:ei(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=Qr(u):(u=lr(t)?Ko:$s.current,u=nl(e,u));var v=t.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Db(e,o,s,u),jn=!1,m=e.memoizedState,o.state=m,Zh(e,s,o,i);var f=e.memoizedState;l!==p||m!==f||ar.current||jn?(typeof v=="function"&&(Nf(e,t,v,s),f=e.memoizedState),(c=jn||Ab(e,t,c,s,m,f,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,f,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,f,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&m===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&m===r.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=f),o.props=s,o.state=f,o.context=u,s=c):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&m===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&m===r.memoizedState||(e.flags|=1024),s=!1)}return Df(r,e,t,s,n,i)}function Df(r,e,t,s,i,n){n5(r,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Vb(e,t,!1),dn(r,e,n);s=e.stateNode,Bk.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,r!==null&&o?(e.child=al(e,r.child,null,n),e.child=al(e,null,l,n)):Zs(r,e,l,n),e.memoizedState=s.state,i&&Vb(e,t,!0),e.child}function o5(r){var e=r.stateNode;e.pendingContext?Eb(r,e.pendingContext,e.pendingContext!==e.context):e.context&&Eb(r,e.context,!1),ky(r,e.containerInfo)}function qb(r,e,t,s,i){return ol(),Sy(i),e.flags|=256,Zs(r,e,t,s),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function jf(r){return{baseLanes:r,cachePool:null,transitions:null}}function a5(r,e,t){var s=e.pendingProps,i=Jt.current,n=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=r!==null&&r.memoizedState===null?!1:(i&2)!==0),l?(n=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Ot(Jt,i&1),r===null)return Tf(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,r=s.fallback,n?(s=e.mode,n=e.child,o={mode:"hidden",children:o},!(s&1)&&n!==null?(n.childLanes=0,n.pendingProps=o):n=$p(o,s,0,null),r=Go(r,s,t,null),n.return=e,r.return=e,n.sibling=r,e.child=n,e.child.memoizedState=jf(t),e.memoizedState=Mf,r):_y(e,o));if(i=r.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qk(r,e,o,s,l,i,t);if(n){n=s.fallback,o=e.mode,i=r.child,l=i.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=io(i,u),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?n=io(l,n):(n=Go(n,o,t,null),n.flags|=2),n.return=e,s.return=e,s.sibling=n,e.child=s,s=n,n=e.child,o=r.child.memoizedState,o=o===null?jf(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},n.memoizedState=o,n.childLanes=r.childLanes&~t,e.memoizedState=Mf,s}return n=r.child,r=n.sibling,s=io(n,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=s,e.memoizedState=null,s}function _y(r,e){return e=$p({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function Ic(r,e,t,s){return s!==null&&Sy(s),al(e,r.child,null,t),r=_y(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function qk(r,e,t,s,i,n,o){if(t)return e.flags&256?(e.flags&=-257,s=vg(Error(Ee(422))),Ic(r,e,o,s)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(n=s.fallback,i=e.mode,s=$p({mode:"visible",children:s.children},i,0,null),n=Go(n,i,o,null),n.flags|=2,s.return=e,n.return=e,s.sibling=n,e.child=s,e.mode&1&&al(e,r.child,null,o),e.child.memoizedState=jf(o),e.memoizedState=Mf,n);if(!(e.mode&1))return Ic(r,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,n=Error(Ee(419)),s=vg(n,s,void 0),Ic(r,e,o,s)}if(l=(o&r.childLanes)!==0,or||l){if(s=Es,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==n.retryLane&&(n.retryLane=i,un(r,i),di(s,r,i,-1))}return Hy(),s=vg(Error(Ee(421))),Ic(r,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=eN.bind(null,r),i._reactRetry=e,null):(r=n.treeContext,xr=eo(i.nextSibling),wr=e,$t=!0,ii=null,r!==null&&(Dr[Mr++]=tn,Dr[Mr++]=sn,Dr[Mr++]=Yo,tn=r.id,sn=r.overflow,Yo=e),e=_y(e,s.children),e.flags|=4096,e)}function zb(r,e,t){r.lanes|=e;var s=r.alternate;s!==null&&(s.lanes|=e),kf(r.return,e,t)}function yg(r,e,t,s,i){var n=r.memoizedState;n===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(n.isBackwards=e,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=t,n.tailMode=i)}function l5(r,e,t){var s=e.pendingProps,i=s.revealOrder,n=s.tail;if(Zs(r,e,s.children,t),s=Jt.current,s&2)s=s&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zb(r,t,e);else if(r.tag===19)zb(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}s&=1}if(Ot(Jt,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Jh(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),yg(e,!1,i,t,n);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Jh(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}yg(e,!0,t,null,n);break;case"together":yg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function dn(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),ea|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Ee(153));if(e.child!==null){for(r=e.child,t=io(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=io(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function zk(r,e,t){switch(e.tag){case 3:o5(e),ol();break;case 5:DS(e);break;case 1:lr(e.type)&&Qh(e);break;case 4:ky(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;Ot($h,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ot(Jt,Jt.current&1),e.flags|=128,null):t&e.child.childLanes?a5(r,e,t):(Ot(Jt,Jt.current&1),r=dn(r,e,t),r!==null?r.sibling:null);Ot(Jt,Jt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,r.flags&128){if(s)return l5(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Jt,Jt.current),s)break;return null;case 22:case 23:return e.lanes=0,i5(r,e,t)}return dn(r,e,t)}var u5,_f,d5,c5;u5=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};_f=function(){};d5=function(r,e,t,s){var i=r.memoizedProps;if(i!==s){r=e.stateNode,zo(_i.current);var n=null;switch(t){case"input":i=nf(r,i),s=nf(r,s),n=[];break;case"select":i=Xt({},i,{value:void 0}),s=Xt({},s,{value:void 0}),n=[];break;case"textarea":i=lf(r,i),s=lf(r,s),n=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(r.onclick=zh)}df(t,s);var o;t=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ku.hasOwnProperty(c)?n||(n=[]):(n=n||[]).push(c,null));for(c in s){var u=s[c];if(l=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(n||(n=[]),n.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(n=n||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(n=n||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&zt("scroll",r),n||l===u||(n=[])):(n=n||[]).push(c,u))}t&&(n=n||[]).push("style",t);var c=n;(e.updateQueue=c)&&(e.flags|=4)}};c5=function(r,e,t,s){t!==s&&(e.flags|=4)};function nu(r,e){if(!$t)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:s.sibling=null}}function qs(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,s=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=s,r.childLanes=t,e}function Hk(r,e,t){var s=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:return lr(e.type)&&Hh(),qs(e),null;case 3:return s=e.stateNode,ll(),Ht(ar),Ht($s),Ry(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(Vc(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(Wf(ii),ii=null))),_f(r,e),qs(e),null;case 5:Ny(e);var i=zo(ud.current);if(t=e.type,r!==null&&e.stateNode!=null)d5(r,e,t,s,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Ee(166));return qs(e),null}if(r=zo(_i.current),Vc(e)){s=e.stateNode,t=e.type;var n=e.memoizedProps;switch(s[Ai]=e,s[ad]=n,r=(e.mode&1)!==0,t){case"dialog":zt("cancel",s),zt("close",s);break;case"iframe":case"object":case"embed":zt("load",s);break;case"video":case"audio":for(i=0;i<fu.length;i++)zt(fu[i],s);break;case"source":zt("error",s);break;case"img":case"image":case"link":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"input":K1(s,n),zt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!n.multiple},zt("invalid",s);break;case"textarea":X1(s,n),zt("invalid",s)}df(t,n),i=null;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];o==="children"?typeof l=="string"?s.textContent!==l&&(n.suppressHydrationWarning!==!0&&Ec(s.textContent,l,r),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(n.suppressHydrationWarning!==!0&&Ec(s.textContent,l,r),i=["children",""+l]):Ku.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&zt("scroll",s)}switch(t){case"input":fc(s),Y1(s,n,!0);break;case"textarea":fc(s),eb(s);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(s.onclick=zh)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=F2(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof s.is=="string"?r=o.createElement(t,{is:s.is}):(r=o.createElement(t),t==="select"&&(o=r,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):r=o.createElementNS(r,t),r[Ai]=e,r[ad]=s,u5(r,e,!1,!1),e.stateNode=r;e:{switch(o=cf(t,s),t){case"dialog":zt("cancel",r),zt("close",r),i=s;break;case"iframe":case"object":case"embed":zt("load",r),i=s;break;case"video":case"audio":for(i=0;i<fu.length;i++)zt(fu[i],r);i=s;break;case"source":zt("error",r),i=s;break;case"img":case"image":case"link":zt("error",r),zt("load",r),i=s;break;case"details":zt("toggle",r),i=s;break;case"input":K1(r,s),i=nf(r,s),zt("invalid",r);break;case"option":i=s;break;case"select":r._wrapperState={wasMultiple:!!s.multiple},i=Xt({},s,{value:void 0}),zt("invalid",r);break;case"textarea":X1(r,s),i=lf(r,s),zt("invalid",r);break;default:i=s}df(t,i),l=i;for(n in l)if(l.hasOwnProperty(n)){var u=l[n];n==="style"?z2(r,u):n==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&B2(r,u)):n==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Yu(r,u):typeof u=="number"&&Yu(r,""+u):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(Ku.hasOwnProperty(n)?u!=null&&n==="onScroll"&&zt("scroll",r):u!=null&&ay(r,n,u,o))}switch(t){case"input":fc(r),Y1(r,s,!1);break;case"textarea":fc(r),eb(r);break;case"option":s.value!=null&&r.setAttribute("value",""+ao(s.value));break;case"select":r.multiple=!!s.multiple,n=s.value,n!=null?Za(r,!!s.multiple,n,!1):s.defaultValue!=null&&Za(r,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=zh)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(r&&e.stateNode!=null)c5(r,e,r.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ee(166));if(t=zo(ud.current),zo(_i.current),Vc(e)){if(s=e.stateNode,t=e.memoizedProps,s[Ai]=e,(n=s.nodeValue!==t)&&(r=wr,r!==null))switch(r.tag){case 3:Ec(s.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ec(s.nodeValue,t,(r.mode&1)!==0)}n&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Ai]=e,e.stateNode=s}return qs(e),null;case 13:if(Ht(Jt),s=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if($t&&xr!==null&&e.mode&1&&!(e.flags&128))kS(),ol(),e.flags|=98560,n=!1;else if(n=Vc(e),s!==null&&s.dehydrated!==null){if(r===null){if(!n)throw Error(Ee(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ee(317));n[Ai]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qs(e),n=!1}else ii!==null&&(Wf(ii),ii=null),n=!0;if(!n)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(r!==null&&r.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(r===null||Jt.current&1?vs===0&&(vs=3):Hy())),e.updateQueue!==null&&(e.flags|=4),qs(e),null);case 4:return ll(),_f(r,e),r===null&&nd(e.stateNode.containerInfo),qs(e),null;case 10:return Py(e.type._context),qs(e),null;case 17:return lr(e.type)&&Hh(),qs(e),null;case 19:if(Ht(Jt),n=e.memoizedState,n===null)return qs(e),null;if(s=(e.flags&128)!==0,o=n.rendering,o===null)if(s)nu(n,!1);else{if(vs!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=Jh(r),o!==null){for(e.flags|=128,nu(n,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)n=t,r=s,n.flags&=14680066,o=n.alternate,o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Ot(Jt,Jt.current&1|2),e.child}r=r.sibling}n.tail!==null&&ns()>dl&&(e.flags|=128,s=!0,nu(n,!1),e.lanes=4194304)}else{if(!s)if(r=Jh(o),r!==null){if(e.flags|=128,s=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),nu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!$t)return qs(e),null}else 2*ns()-n.renderingStartTime>dl&&t!==1073741824&&(e.flags|=128,s=!0,nu(n,!1),e.lanes=4194304);n.isBackwards?(o.sibling=e.child,e.child=o):(t=n.last,t!==null?t.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ns(),e.sibling=null,t=Jt.current,Ot(Jt,s?t&1|2:t&1),e):(qs(e),null);case 22:case 23:return zy(),s=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?gr&1073741824&&(qs(e),e.subtreeFlags&6&&(e.flags|=8192)):qs(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function Qk(r,e){switch(wy(e),e.tag){case 1:return lr(e.type)&&Hh(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return ll(),Ht(ar),Ht($s),Ry(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return Ny(e),null;case 13:if(Ht(Jt),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));ol()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Ht(Jt),null;case 4:return ll(),null;case 10:return Py(e.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var Tc=!1,Qs=!1,Wk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Ua(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){ts(r,e,s)}else t.current=null}function Of(r,e,t){try{t()}catch(s){ts(r,e,s)}}var Hb=!1;function Uk(r,e){if(Cf=Fh,r=fS(),by(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{t.nodeType,n.nodeType}catch{t=null;break e}var o=0,l=-1,u=-1,c=0,h=0,p=r,m=null;t:for(;;){for(var v;p!==t||i!==0&&p.nodeType!==3||(l=o+i),p!==n||s!==0&&p.nodeType!==3||(u=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===r)break t;if(m===t&&++c===i&&(l=o),m===n&&++h===s&&(u=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(wf={focusedElem:r,selectionRange:t},Fh=!1,Oe=e;Oe!==null;)if(e=Oe,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Oe=r;else for(;Oe!==null;){e=Oe;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var b=f.memoizedProps,x=f.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:ei(e.type,b),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(S){ts(e,e.return,S)}if(r=e.sibling,r!==null){r.return=e.return,Oe=r;break}Oe=e.return}return f=Hb,Hb=!1,f}function qu(r,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var n=i.destroy;i.destroy=void 0,n!==void 0&&Of(e,t,n)}i=i.next}while(i!==s)}}function Wp(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function Ff(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function h5(r){var e=r.alternate;e!==null&&(r.alternate=null,h5(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Ai],delete e[ad],delete e[Vf],delete e[Tk],delete e[kk])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function p5(r){return r.tag===5||r.tag===3||r.tag===4}function Qb(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p5(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bf(r,e,t){var s=r.tag;if(s===5||s===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=zh));else if(s!==4&&(r=r.child,r!==null))for(Bf(r,e,t),r=r.sibling;r!==null;)Bf(r,e,t),r=r.sibling}function qf(r,e,t){var s=r.tag;if(s===5||s===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(s!==4&&(r=r.child,r!==null))for(qf(r,e,t),r=r.sibling;r!==null;)qf(r,e,t),r=r.sibling}var Ts=null,ti=!1;function En(r,e,t){for(t=t.child;t!==null;)m5(r,e,t),t=t.sibling}function m5(r,e,t){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(_p,t)}catch{}switch(t.tag){case 5:Qs||Ua(t,e);case 6:var s=Ts,i=ti;Ts=null,En(r,e,t),Ts=s,ti=i,Ts!==null&&(ti?(r=Ts,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Ts.removeChild(t.stateNode));break;case 18:Ts!==null&&(ti?(r=Ts,t=t.stateNode,r.nodeType===8?cg(r.parentNode,t):r.nodeType===1&&cg(r,t),sd(r)):cg(Ts,t.stateNode));break;case 4:s=Ts,i=ti,Ts=t.stateNode.containerInfo,ti=!0,En(r,e,t),Ts=s,ti=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var n=i,o=n.destroy;n=n.tag,o!==void 0&&(n&2||n&4)&&Of(t,e,o),i=i.next}while(i!==s)}En(r,e,t);break;case 1:if(!Qs&&(Ua(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(l){ts(t,e,l)}En(r,e,t);break;case 21:En(r,e,t);break;case 22:t.mode&1?(Qs=(s=Qs)||t.memoizedState!==null,En(r,e,t),Qs=s):En(r,e,t);break;default:En(r,e,t)}}function Wb(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new Wk),e.forEach(function(s){var i=tN.bind(null,r,s);t.has(s)||(t.add(s),s.then(i,i))})}}function Yr(r,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var n=r,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ts=l.stateNode,ti=!1;break e;case 3:Ts=l.stateNode.containerInfo,ti=!0;break e;case 4:Ts=l.stateNode.containerInfo,ti=!0;break e}l=l.return}if(Ts===null)throw Error(Ee(160));m5(n,o,i),Ts=null,ti=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ts(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g5(e,r),e=e.sibling}function g5(r,e){var t=r.alternate,s=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Yr(e,r),Ii(r),s&4){try{qu(3,r,r.return),Wp(3,r)}catch(b){ts(r,r.return,b)}try{qu(5,r,r.return)}catch(b){ts(r,r.return,b)}}break;case 1:Yr(e,r),Ii(r),s&512&&t!==null&&Ua(t,t.return);break;case 5:if(Yr(e,r),Ii(r),s&512&&t!==null&&Ua(t,t.return),r.flags&32){var i=r.stateNode;try{Yu(i,"")}catch(b){ts(r,r.return,b)}}if(s&4&&(i=r.stateNode,i!=null)){var n=r.memoizedProps,o=t!==null?t.memoizedProps:n,l=r.type,u=r.updateQueue;if(r.updateQueue=null,u!==null)try{l==="input"&&n.type==="radio"&&n.name!=null&&_2(i,n),cf(l,o);var c=cf(l,n);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?z2(i,p):h==="dangerouslySetInnerHTML"?B2(i,p):h==="children"?Yu(i,p):ay(i,h,p,c)}switch(l){case"input":of(i,n);break;case"textarea":O2(i,n);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!n.multiple;var v=n.value;v!=null?Za(i,!!n.multiple,v,!1):m!==!!n.multiple&&(n.defaultValue!=null?Za(i,!!n.multiple,n.defaultValue,!0):Za(i,!!n.multiple,n.multiple?[]:"",!1))}i[ad]=n}catch(b){ts(r,r.return,b)}}break;case 6:if(Yr(e,r),Ii(r),s&4){if(r.stateNode===null)throw Error(Ee(162));i=r.stateNode,n=r.memoizedProps;try{i.nodeValue=n}catch(b){ts(r,r.return,b)}}break;case 3:if(Yr(e,r),Ii(r),s&4&&t!==null&&t.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(b){ts(r,r.return,b)}break;case 4:Yr(e,r),Ii(r);break;case 13:Yr(e,r),Ii(r),i=r.child,i.flags&8192&&(n=i.memoizedState!==null,i.stateNode.isHidden=n,!n||i.alternate!==null&&i.alternate.memoizedState!==null||(By=ns())),s&4&&Wb(r);break;case 22:if(h=t!==null&&t.memoizedState!==null,r.mode&1?(Qs=(c=Qs)||h,Yr(e,r),Qs=c):Yr(e,r),Ii(r),s&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!h&&r.mode&1)for(Oe=r,h=r.child;h!==null;){for(p=Oe=h;Oe!==null;){switch(m=Oe,v=m.child,m.tag){case 0:case 11:case 14:case 15:qu(4,m,m.return);break;case 1:Ua(m,m.return);var f=m.stateNode;if(typeof f.componentWillUnmount=="function"){s=m,t=m.return;try{e=s,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(b){ts(s,t,b)}}break;case 5:Ua(m,m.return);break;case 22:if(m.memoizedState!==null){$b(p);continue}}v!==null?(v.return=m,Oe=v):$b(p)}h=h.sibling}e:for(h=null,p=r;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(n=i.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=q2("display",o))}catch(b){ts(r,r.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){ts(r,r.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===r)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Yr(e,r),Ii(r),s&4&&Wb(r);break;case 21:break;default:Yr(e,r),Ii(r)}}function Ii(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(p5(t)){var s=t;break e}t=t.return}throw Error(Ee(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Yu(i,""),s.flags&=-33);var n=Qb(r);qf(r,n,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Qb(r);Bf(r,l,o);break;default:throw Error(Ee(161))}}catch(u){ts(r,r.return,u)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function $k(r,e,t){Oe=r,f5(r)}function f5(r,e,t){for(var s=(r.mode&1)!==0;Oe!==null;){var i=Oe,n=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Tc;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Qs;l=Tc;var c=Qs;if(Tc=o,(Qs=u)&&!c)for(Oe=i;Oe!==null;)o=Oe,u=o.child,o.tag===22&&o.memoizedState!==null?Gb(i):u!==null?(u.return=o,Oe=u):Gb(i);for(;n!==null;)Oe=n,f5(n),n=n.sibling;Oe=i,Tc=l,Qs=c}Ub(r)}else i.subtreeFlags&8772&&n!==null?(n.return=i,Oe=n):Ub(r)}}function Ub(r){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qs||Wp(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Qs)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ei(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var n=e.updateQueue;n!==null&&Nb(e,n,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Nb(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&sd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Qs||e.flags&512&&Ff(e)}catch(m){ts(e,e.return,m)}}if(e===r){Oe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function $b(r){for(;Oe!==null;){var e=Oe;if(e===r){Oe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function Gb(r){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Wp(4,e)}catch(u){ts(e,t,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(u){ts(e,i,u)}}var n=e.return;try{Ff(e)}catch(u){ts(e,n,u)}break;case 5:var o=e.return;try{Ff(e)}catch(u){ts(e,o,u)}}}catch(u){ts(e,e.return,u)}if(e===r){Oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Oe=l;break}Oe=e.return}}var Gk=Math.ceil,Xh=gn.ReactCurrentDispatcher,Oy=gn.ReactCurrentOwner,zr=gn.ReactCurrentBatchConfig,xt=0,Es=null,us=null,Ls=0,gr=0,$a=po(0),vs=0,pd=null,ea=0,Up=0,Fy=0,zu=null,nr=null,By=0,dl=1/0,Yi=null,ep=!1,zf=null,so=null,kc=!1,Wn=null,tp=0,Hu=0,Hf=null,uh=-1,dh=0;function Xs(){return xt&6?ns():uh!==-1?uh:uh=ns()}function ro(r){return r.mode&1?xt&2&&Ls!==0?Ls&-Ls:Rk.transition!==null?(dh===0&&(dh=eS()),dh):(r=kt,r!==0||(r=window.event,r=r===void 0?16:aS(r.type)),r):1}function di(r,e,t,s){if(50<Hu)throw Hu=0,Hf=null,Error(Ee(185));_d(r,t,s),(!(xt&2)||r!==Es)&&(r===Es&&(!(xt&2)&&(Up|=t),vs===4&&qn(r,Ls)),ur(r,s),t===1&&xt===0&&!(e.mode&1)&&(dl=ns()+500,zp&&mo()))}function ur(r,e){var t=r.callbackNode;R7(r,e);var s=Oh(r,r===Es?Ls:0);if(s===0)t!==null&&rb(t),r.callbackNode=null,r.callbackPriority=0;else if(e=s&-s,r.callbackPriority!==e){if(t!=null&&rb(t),e===1)r.tag===0?Nk(Zb.bind(null,r)):PS(Zb.bind(null,r)),Pk(function(){!(xt&6)&&mo()}),t=null;else{switch(tS(s)){case 1:t=hy;break;case 4:t=Y2;break;case 16:t=_h;break;case 536870912:t=X2;break;default:t=_h}t=E5(t,v5.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function v5(r,e){if(uh=-1,dh=0,xt&6)throw Error(Ee(327));var t=r.callbackNode;if(el()&&r.callbackNode!==t)return null;var s=Oh(r,r===Es?Ls:0);if(s===0)return null;if(s&30||s&r.expiredLanes||e)e=sp(r,s);else{e=s;var i=xt;xt|=2;var n=x5();(Es!==r||Ls!==e)&&(Yi=null,dl=ns()+500,$o(r,e));do try{Kk();break}catch(l){y5(r,l)}while(!0);Vy(),Xh.current=n,xt=i,us!==null?e=0:(Es=null,Ls=0,e=vs)}if(e!==0){if(e===2&&(i=ff(r),i!==0&&(s=i,e=Qf(r,i))),e===1)throw t=pd,$o(r,0),qn(r,s),ur(r,ns()),t;if(e===6)qn(r,s);else{if(i=r.current.alternate,!(s&30)&&!Zk(i)&&(e=sp(r,s),e===2&&(n=ff(r),n!==0&&(s=n,e=Qf(r,n))),e===1))throw t=pd,$o(r,0),qn(r,s),ur(r,ns()),t;switch(r.finishedWork=i,r.finishedLanes=s,e){case 0:case 1:throw Error(Ee(345));case 2:Lo(r,nr,Yi);break;case 3:if(qn(r,s),(s&130023424)===s&&(e=By+500-ns(),10<e)){if(Oh(r,0)!==0)break;if(i=r.suspendedLanes,(i&s)!==s){Xs(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Ef(Lo.bind(null,r,nr,Yi),e);break}Lo(r,nr,Yi);break;case 4:if(qn(r,s),(s&4194240)===s)break;for(e=r.eventTimes,i=-1;0<s;){var o=31-ui(s);n=1<<o,o=e[o],o>i&&(i=o),s&=~n}if(s=i,s=ns()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gk(s/1960))-s,10<s){r.timeoutHandle=Ef(Lo.bind(null,r,nr,Yi),s);break}Lo(r,nr,Yi);break;case 5:Lo(r,nr,Yi);break;default:throw Error(Ee(329))}}}return ur(r,ns()),r.callbackNode===t?v5.bind(null,r):null}function Qf(r,e){var t=zu;return r.current.memoizedState.isDehydrated&&($o(r,e).flags|=256),r=sp(r,e),r!==2&&(e=nr,nr=t,e!==null&&Wf(e)),r}function Wf(r){nr===null?nr=r:nr.push.apply(nr,r)}function Zk(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],n=i.getSnapshot;i=i.value;try{if(!vi(n(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(r,e){for(e&=~Fy,e&=~Up,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-ui(e),s=1<<t;r[t]=-1,e&=~s}}function Zb(r){if(xt&6)throw Error(Ee(327));el();var e=Oh(r,0);if(!(e&1))return ur(r,ns()),null;var t=sp(r,e);if(r.tag!==0&&t===2){var s=ff(r);s!==0&&(e=s,t=Qf(r,s))}if(t===1)throw t=pd,$o(r,0),qn(r,e),ur(r,ns()),t;if(t===6)throw Error(Ee(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Lo(r,nr,Yi),ur(r,ns()),null}function qy(r,e){var t=xt;xt|=1;try{return r(e)}finally{xt=t,xt===0&&(dl=ns()+500,zp&&mo())}}function ta(r){Wn!==null&&Wn.tag===0&&!(xt&6)&&el();var e=xt;xt|=1;var t=zr.transition,s=kt;try{if(zr.transition=null,kt=1,r)return r()}finally{kt=s,zr.transition=t,xt=e,!(xt&6)&&mo()}}function zy(){gr=$a.current,Ht($a)}function $o(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,Vk(t)),us!==null)for(t=us.return;t!==null;){var s=t;switch(wy(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hh();break;case 3:ll(),Ht(ar),Ht($s),Ry();break;case 5:Ny(s);break;case 4:ll();break;case 13:Ht(Jt);break;case 19:Ht(Jt);break;case 10:Py(s.type._context);break;case 22:case 23:zy()}t=t.return}if(Es=r,us=r=io(r.current,null),Ls=gr=e,vs=0,pd=null,Fy=Up=ea=0,nr=zu=null,qo!==null){for(e=0;e<qo.length;e++)if(t=qo[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,n=t.pending;if(n!==null){var o=n.next;n.next=i,s.next=o}t.pending=s}qo=null}return r}function y5(r,e){do{var t=us;try{if(Vy(),oh.current=Yh,Kh){for(var s=Kt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Kh=!1}if(Xo=0,bs=gs=Kt=null,Bu=!1,dd=0,Oy.current=null,t===null||t.return===null){vs=1,pd=e,us=null;break}e:{var n=r,o=t.return,l=t,u=e;if(e=Ls,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=jb(o);if(v!==null){v.flags&=-257,_b(v,o,l,n,e),v.mode&1&&Mb(n,c,e),e=v,u=c;var f=e.updateQueue;if(f===null){var b=new Set;b.add(u),e.updateQueue=b}else f.add(u);break e}else{if(!(e&1)){Mb(n,c,e),Hy();break e}u=Error(Ee(426))}}else if($t&&l.mode&1){var x=jb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),_b(x,o,l,n,e),Sy(ul(u,l));break e}}n=u=ul(u,l),vs!==4&&(vs=2),zu===null?zu=[n]:zu.push(n),n=o;do{switch(n.tag){case 3:n.flags|=65536,e&=-e,n.lanes|=e;var g=t5(n,u,e);kb(n,g);break e;case 1:l=u;var y=n.type,w=n.stateNode;if(!(n.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(so===null||!so.has(w)))){n.flags|=65536,e&=-e,n.lanes|=e;var S=s5(n,l,e);kb(n,S);break e}}n=n.return}while(n!==null)}C5(t)}catch(P){e=P,us===t&&t!==null&&(us=t=t.return);continue}break}while(!0)}function x5(){var r=Xh.current;return Xh.current=Yh,r===null?Yh:r}function Hy(){(vs===0||vs===3||vs===2)&&(vs=4),Es===null||!(ea&268435455)&&!(Up&268435455)||qn(Es,Ls)}function sp(r,e){var t=xt;xt|=2;var s=x5();(Es!==r||Ls!==e)&&(Yi=null,$o(r,e));do try{Jk();break}catch(i){y5(r,i)}while(!0);if(Vy(),xt=t,Xh.current=s,us!==null)throw Error(Ee(261));return Es=null,Ls=0,vs}function Jk(){for(;us!==null;)b5(us)}function Kk(){for(;us!==null&&!w7();)b5(us)}function b5(r){var e=S5(r.alternate,r,gr);r.memoizedProps=r.pendingProps,e===null?C5(r):us=e,Oy.current=null}function C5(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Qk(t,e),t!==null){t.flags&=32767,us=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vs=6,us=null;return}}else if(t=Hk(t,e,gr),t!==null){us=t;return}if(e=e.sibling,e!==null){us=e;return}us=e=r}while(e!==null);vs===0&&(vs=5)}function Lo(r,e,t){var s=kt,i=zr.transition;try{zr.transition=null,kt=1,Yk(r,e,t,s)}finally{zr.transition=i,kt=s}return null}function Yk(r,e,t,s){do el();while(Wn!==null);if(xt&6)throw Error(Ee(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Ee(177));r.callbackNode=null,r.callbackPriority=0;var n=t.lanes|t.childLanes;if(L7(r,n),r===Es&&(us=Es=null,Ls=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||kc||(kc=!0,E5(_h,function(){return el(),null})),n=(t.flags&15990)!==0,t.subtreeFlags&15990||n){n=zr.transition,zr.transition=null;var o=kt;kt=1;var l=xt;xt|=4,Oy.current=null,Uk(r,t),g5(t,r),yk(wf),Fh=!!Cf,wf=Cf=null,r.current=t,$k(t),S7(),xt=l,kt=o,zr.transition=n}else r.current=t;if(kc&&(kc=!1,Wn=r,tp=i),n=r.pendingLanes,n===0&&(so=null),P7(t.stateNode),ur(r,ns()),e!==null)for(s=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(ep)throw ep=!1,r=zf,zf=null,r;return tp&1&&r.tag!==0&&el(),n=r.pendingLanes,n&1?r===Hf?Hu++:(Hu=0,Hf=r):Hu=0,mo(),null}function el(){if(Wn!==null){var r=tS(tp),e=zr.transition,t=kt;try{if(zr.transition=null,kt=16>r?16:r,Wn===null)var s=!1;else{if(r=Wn,Wn=null,tp=0,xt&6)throw Error(Ee(331));var i=xt;for(xt|=4,Oe=r.current;Oe!==null;){var n=Oe,o=n.child;if(Oe.flags&16){var l=n.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Oe=c;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:qu(8,h,n)}var p=h.child;if(p!==null)p.return=h,Oe=p;else for(;Oe!==null;){h=Oe;var m=h.sibling,v=h.return;if(h5(h),h===c){Oe=null;break}if(m!==null){m.return=v,Oe=m;break}Oe=v}}}var f=n.alternate;if(f!==null){var b=f.child;if(b!==null){f.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Oe=n}}if(n.subtreeFlags&2064&&o!==null)o.return=n,Oe=o;else e:for(;Oe!==null;){if(n=Oe,n.flags&2048)switch(n.tag){case 0:case 11:case 15:qu(9,n,n.return)}var g=n.sibling;if(g!==null){g.return=n.return,Oe=g;break e}Oe=n.return}}var y=r.current;for(Oe=y;Oe!==null;){o=Oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Oe=w;else e:for(o=y;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wp(9,l)}}catch(P){ts(l,l.return,P)}if(l===o){Oe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Oe=S;break e}Oe=l.return}}if(xt=i,mo(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(_p,r)}catch{}s=!0}return s}finally{kt=t,zr.transition=e}}return!1}function Jb(r,e,t){e=ul(t,e),e=t5(r,e,1),r=to(r,e,1),e=Xs(),r!==null&&(_d(r,1,e),ur(r,e))}function ts(r,e,t){if(r.tag===3)Jb(r,r,t);else for(;e!==null;){if(e.tag===3){Jb(e,r,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(so===null||!so.has(s))){r=ul(t,r),r=s5(e,r,1),e=to(e,r,1),r=Xs(),e!==null&&(_d(e,1,r),ur(e,r));break}}e=e.return}}function Xk(r,e,t){var s=r.pingCache;s!==null&&s.delete(e),e=Xs(),r.pingedLanes|=r.suspendedLanes&t,Es===r&&(Ls&t)===t&&(vs===4||vs===3&&(Ls&130023424)===Ls&&500>ns()-By?$o(r,0):Fy|=t),ur(r,e)}function w5(r,e){e===0&&(r.mode&1?(e=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):e=1);var t=Xs();r=un(r,e),r!==null&&(_d(r,e,t),ur(r,t))}function eN(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),w5(r,t)}function tN(r,e){var t=0;switch(r.tag){case 13:var s=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=r.stateNode;break;default:throw Error(Ee(314))}s!==null&&s.delete(e),w5(r,t)}var S5;S5=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||ar.current)or=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return or=!1,zk(r,e,t);or=!!(r.flags&131072)}else or=!1,$t&&e.flags&1048576&&IS(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;lh(r,e),r=e.pendingProps;var i=nl(e,$s.current);Xa(e,t),i=Ay(null,e,s,r,i,t);var n=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(s)?(n=!0,Qh(e)):n=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ty(e),i.updater=Qp,e.stateNode=i,i._reactInternals=e,Rf(e,s,r,t),e=Df(null,e,s,!0,n,t)):(e.tag=0,$t&&n&&Cy(e),Zs(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(lh(r,e),r=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=rN(s),r=ei(s,r),i){case 0:e=Af(null,e,s,r,t);break e;case 1:e=Bb(null,e,s,r,t);break e;case 11:e=Ob(null,e,s,r,t);break e;case 14:e=Fb(null,e,s,ei(s.type,r),t);break e}throw Error(Ee(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ei(s,i),Af(r,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ei(s,i),Bb(r,e,s,i,t);case 3:e:{if(o5(e),r===null)throw Error(Ee(387));s=e.pendingProps,n=e.memoizedState,i=n.element,AS(r,e),Zh(e,s,null,t);var o=e.memoizedState;if(s=o.element,n.isDehydrated)if(n={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=n,e.memoizedState=n,e.flags&256){i=ul(Error(Ee(423)),e),e=qb(r,e,s,t,i);break e}else if(s!==i){i=ul(Error(Ee(424)),e),e=qb(r,e,s,t,i);break e}else for(xr=eo(e.stateNode.containerInfo.firstChild),wr=e,$t=!0,ii=null,t=RS(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ol(),s===i){e=dn(r,e,t);break e}Zs(r,e,s,t)}e=e.child}return e;case 5:return DS(e),r===null&&Tf(e),s=e.type,i=e.pendingProps,n=r!==null?r.memoizedProps:null,o=i.children,Sf(s,i)?o=null:n!==null&&Sf(s,n)&&(e.flags|=32),n5(r,e),Zs(r,e,o,t),e.child;case 6:return r===null&&Tf(e),null;case 13:return a5(r,e,t);case 4:return ky(e,e.stateNode.containerInfo),s=e.pendingProps,r===null?e.child=al(e,null,s,t):Zs(r,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ei(s,i),Ob(r,e,s,i,t);case 7:return Zs(r,e,e.pendingProps,t),e.child;case 8:return Zs(r,e,e.pendingProps.children,t),e.child;case 12:return Zs(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,n=e.memoizedProps,o=i.value,Ot($h,s._currentValue),s._currentValue=o,n!==null)if(vi(n.value,o)){if(n.children===i.children&&!ar.current){e=dn(r,e,t);break e}}else for(n=e.child,n!==null&&(n.return=e);n!==null;){var l=n.dependencies;if(l!==null){o=n.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(n.tag===1){u=rn(-1,t&-t),u.tag=2;var c=n.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}n.lanes|=t,u=n.alternate,u!==null&&(u.lanes|=t),kf(n.return,t,e),l.lanes|=t;break}u=u.next}}else if(n.tag===10)o=n.type===e.type?null:n.child;else if(n.tag===18){if(o=n.return,o===null)throw Error(Ee(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),kf(o,t,e),o=n.sibling}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}Zs(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Xa(e,t),i=Qr(i),s=s(i),e.flags|=1,Zs(r,e,s,t),e.child;case 14:return s=e.type,i=ei(s,e.pendingProps),i=ei(s.type,i),Fb(r,e,s,i,t);case 15:return r5(r,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ei(s,i),lh(r,e),e.tag=1,lr(s)?(r=!0,Qh(e)):r=!1,Xa(e,t),e5(e,s,i),Rf(e,s,i,t),Df(null,e,s,!0,r,t);case 19:return l5(r,e,t);case 22:return i5(r,e,t)}throw Error(Ee(156,e.tag))};function E5(r,e){return K2(r,e)}function sN(r,e,t,s){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(r,e,t,s){return new sN(r,e,t,s)}function Qy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rN(r){if(typeof r=="function")return Qy(r)?1:0;if(r!=null){if(r=r.$$typeof,r===uy)return 11;if(r===dy)return 14}return 2}function io(r,e){var t=r.alternate;return t===null?(t=_r(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function ch(r,e,t,s,i,n){var o=2;if(s=r,typeof r=="function")Qy(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case _a:return Go(t.children,i,n,e);case ly:o=8,i|=8;break;case ef:return r=_r(12,t,e,i|2),r.elementType=ef,r.lanes=n,r;case tf:return r=_r(13,t,e,i),r.elementType=tf,r.lanes=n,r;case sf:return r=_r(19,t,e,i),r.elementType=sf,r.lanes=n,r;case D2:return $p(t,i,n,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L2:o=10;break e;case A2:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case Mn:o=16,s=null;break e}throw Error(Ee(130,r==null?r:typeof r,""))}return e=_r(o,t,e,i),e.elementType=r,e.type=s,e.lanes=n,e}function Go(r,e,t,s){return r=_r(7,r,s,e),r.lanes=t,r}function $p(r,e,t,s){return r=_r(22,r,s,e),r.elementType=D2,r.lanes=t,r.stateNode={isHidden:!1},r}function xg(r,e,t){return r=_r(6,r,null,e),r.lanes=t,r}function bg(r,e,t){return e=_r(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function iN(r,e,t,s,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wy(r,e,t,s,i,n,o,l,u){return r=new iN(r,e,t,l,u),e===1?(e=1,n===!0&&(e|=8)):e=0,n=_r(3,null,null,e),r.current=n,n.stateNode=r,n.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(n),r}function nN(r,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:s==null?null:""+s,children:r,containerInfo:e,implementation:t}}function V5(r){if(!r)return lo;r=r._reactInternals;e:{if(oa(r)!==r||r.tag!==1)throw Error(Ee(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(r.tag===1){var t=r.type;if(lr(t))return VS(r,t,e)}return e}function P5(r,e,t,s,i,n,o,l,u){return r=Wy(t,s,!0,r,i,n,o,l,u),r.context=V5(null),t=r.current,s=Xs(),i=ro(t),n=rn(s,i),n.callback=e??null,to(t,n,i),r.current.lanes=i,_d(r,i,s),ur(r,s),r}function Gp(r,e,t,s){var i=e.current,n=Xs(),o=ro(i);return t=V5(t),e.context===null?e.context=t:e.pendingContext=t,e=rn(n,o),e.payload={element:r},s=s===void 0?null:s,s!==null&&(e.callback=s),r=to(i,e,o),r!==null&&(di(r,i,o,n),nh(r,i,o)),o}function rp(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Kb(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Uy(r,e){Kb(r,e),(r=r.alternate)&&Kb(r,e)}function oN(){return null}var I5=typeof reportError=="function"?reportError:function(r){console.error(r)};function $y(r){this._internalRoot=r}Zp.prototype.render=$y.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Ee(409));Gp(r,e,null,null)};Zp.prototype.unmount=$y.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;ta(function(){Gp(null,r,null,null)}),e[ln]=null}};function Zp(r){this._internalRoot=r}Zp.prototype.unstable_scheduleHydration=function(r){if(r){var e=iS();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Bn.length&&e!==0&&e<Bn[t].priority;t++);Bn.splice(t,0,r),t===0&&oS(r)}};function Gy(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Jp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yb(){}function aN(r,e,t,s,i){if(i){if(typeof s=="function"){var n=s;s=function(){var c=rp(o);n.call(c)}}var o=P5(e,s,r,0,null,!1,!1,"",Yb);return r._reactRootContainer=o,r[ln]=o.current,nd(r.nodeType===8?r.parentNode:r),ta(),o}for(;i=r.lastChild;)r.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var c=rp(u);l.call(c)}}var u=Wy(r,0,!1,null,null,!1,!1,"",Yb);return r._reactRootContainer=u,r[ln]=u.current,nd(r.nodeType===8?r.parentNode:r),ta(function(){Gp(e,u,t,s)}),u}function Kp(r,e,t,s,i){var n=t._reactRootContainer;if(n){var o=n;if(typeof i=="function"){var l=i;i=function(){var u=rp(o);l.call(u)}}Gp(e,o,r,i)}else o=aN(t,e,r,i,s);return rp(o)}sS=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=gu(e.pendingLanes);t!==0&&(py(e,t|1),ur(e,ns()),!(xt&6)&&(dl=ns()+500,mo()))}break;case 13:ta(function(){var s=un(r,1);if(s!==null){var i=Xs();di(s,r,1,i)}}),Uy(r,1)}};my=function(r){if(r.tag===13){var e=un(r,134217728);if(e!==null){var t=Xs();di(e,r,134217728,t)}Uy(r,134217728)}};rS=function(r){if(r.tag===13){var e=ro(r),t=un(r,e);if(t!==null){var s=Xs();di(t,r,e,s)}Uy(r,e)}};iS=function(){return kt};nS=function(r,e){var t=kt;try{return kt=r,e()}finally{kt=t}};pf=function(r,e,t){switch(e){case"input":if(of(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==r&&s.form===r.form){var i=qp(s);if(!i)throw Error(Ee(90));j2(s),of(s,i)}}}break;case"textarea":O2(r,t);break;case"select":e=t.value,e!=null&&Za(r,!!t.multiple,e,!1)}};W2=qy;U2=ta;var lN={usingClientEntryPoint:!1,Events:[Fd,qa,qp,H2,Q2,qy]},ou={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uN={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Z2(r),r===null?null:r.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||oN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{_p=Nc.inject(uN),ji=Nc}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lN;Ir.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(Ee(200));return nN(r,e,null,t)};Ir.createRoot=function(r,e){if(!Gy(r))throw Error(Ee(299));var t=!1,s="",i=I5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wy(r,1,!1,null,null,t,!1,s,i),r[ln]=e.current,nd(r.nodeType===8?r.parentNode:r),new $y(e)};Ir.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Ee(188)):(r=Object.keys(r).join(","),Error(Ee(268,r)));return r=Z2(e),r=r===null?null:r.stateNode,r};Ir.flushSync=function(r){return ta(r)};Ir.hydrate=function(r,e,t){if(!Jp(e))throw Error(Ee(200));return Kp(null,r,e,!0,t)};Ir.hydrateRoot=function(r,e,t){if(!Gy(r))throw Error(Ee(405));var s=t!=null&&t.hydratedSources||null,i=!1,n="",o=I5;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=P5(e,null,r,1,t??null,i,!1,n,o),r[ln]=e.current,nd(r),s)for(r=0;r<s.length;r++)t=s[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Zp(e)};Ir.render=function(r,e,t){if(!Jp(e))throw Error(Ee(200));return Kp(null,r,e,!1,t)};Ir.unmountComponentAtNode=function(r){if(!Jp(r))throw Error(Ee(40));return r._reactRootContainer?(ta(function(){Kp(null,null,r,!1,function(){r._reactRootContainer=null,r[ln]=null})}),!0):!1};Ir.unstable_batchedUpdates=qy;Ir.unstable_renderSubtreeIntoContainer=function(r,e,t,s){if(!Jp(t))throw Error(Ee(200));if(r==null||r._reactInternals===void 0)throw Error(Ee(38));return Kp(r,e,t,!1,s)};Ir.version="18.3.1-next-f1338f8080-20240426";function T5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T5)}catch(r){console.error(r)}}T5(),T2.exports=Ir;var cn=T2.exports,Xb=cn;Yg.createRoot=Xb.createRoot,Yg.hydrateRoot=Xb.hydrateRoot;let dN={data:""},cN=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||dN},hN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pN=/\/\*[^]*?\*\/|  +/g,eC=/\n+/g,zn=(r,e)=>{let t="",s="",i="";for(let n in r){let o=r[n];n[0]=="@"?n[1]=="i"?t=n+" "+o+";":s+=n[1]=="f"?zn(o,n):n+"{"+zn(o,n[1]=="k"?"":e)+"}":typeof o=="object"?s+=zn(o,e?e.replace(/([^,])+/g,l=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):n):o!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zn.p?zn.p(n,o):n+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+s},$i={},k5=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+k5(r[t]);return e}return r},mN=(r,e,t,s,i)=>{let n=k5(r),o=$i[n]||($i[n]=(u=>{let c=0,h=11;for(;c<u.length;)h=101*h+u.charCodeAt(c++)>>>0;return"go"+h})(n));if(!$i[o]){let u=n!==r?r:(c=>{let h,p,m=[{}];for(;h=hN.exec(c.replace(pN,""));)h[4]?m.shift():h[3]?(p=h[3].replace(eC," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][h[1]]=h[2].replace(eC," ").trim();return m[0]})(r);$i[o]=zn(i?{["@keyframes "+o]:u}:u,t?"":"."+o)}let l=t&&$i.g?$i.g:null;return t&&($i.g=$i[o]),((u,c,h,p)=>{p?c.data=c.data.replace(p,u):c.data.indexOf(u)===-1&&(c.data=h?u+c.data:c.data+u)})($i[o],e,s,l),o},gN=(r,e,t)=>r.reduce((s,i,n)=>{let o=e[n];if(o&&o.call){let l=o(t),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":zn(l,""):l===!1?"":l}return s+i+(o??"")},"");function Yp(r){let e=this||{},t=r.call?r(e.p):r;return mN(t.unshift?t.raw?gN(t,[].slice.call(arguments,1),e.p):t.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):t,cN(e.target),e.g,e.o,e.k)}let N5,Uf,$f;Yp.bind({g:1});let hn=Yp.bind({k:1});function fN(r,e,t,s){zn.p=e,N5=r,Uf=t,$f=s}function go(r,e){let t=this||{};return function(){let s=arguments;function i(n,o){let l=Object.assign({},n),u=l.className||i.className;t.p=Object.assign({theme:Uf&&Uf()},l),t.o=/ *go\d+/.test(u),l.className=Yp.apply(t,s)+(u?" "+u:"");let c=r;return r[0]&&(c=l.as||r,delete l.as),$f&&c[0]&&$f(l),N5(c,l)}return i}}var vN=r=>typeof r=="function",ip=(r,e)=>vN(r)?r(e):r,yN=(()=>{let r=0;return()=>(++r).toString()})(),R5=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),xN=20,Zy="default",L5=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return L5(r,{type:r.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=e;return{...r,toasts:r.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let n=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+n}))}}},hh=[],A5={toasts:[],pausedAt:void 0,settings:{toastLimit:xN}},Di={},D5=(r,e=Zy)=>{Di[e]=L5(Di[e]||A5,r),hh.forEach(([t,s])=>{t===e&&s(Di[e])})},M5=r=>Object.keys(Di).forEach(e=>D5(r,e)),bN=r=>Object.keys(Di).find(e=>Di[e].toasts.some(t=>t.id===r)),Xp=(r=Zy)=>e=>{D5(e,r)},CN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wN=(r={},e=Zy)=>{let[t,s]=d.useState(Di[e]||A5),i=d.useRef(Di[e]);d.useEffect(()=>(i.current!==Di[e]&&s(Di[e]),hh.push([e,s]),()=>{let o=hh.findIndex(([l])=>l===e);o>-1&&hh.splice(o,1)}),[e]);let n=t.toasts.map(o=>{var l,u,c;return{...r,...r[o.type],...o,removeDelay:o.removeDelay||((l=r[o.type])==null?void 0:l.removeDelay)||(r==null?void 0:r.removeDelay),duration:o.duration||((u=r[o.type])==null?void 0:u.duration)||(r==null?void 0:r.duration)||CN[o.type],style:{...r.style,...(c=r[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:n}},SN=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||yN()}),qd=r=>(e,t)=>{let s=SN(e,r,t);return Xp(s.toasterId||bN(s.id))({type:2,toast:s}),s.id},fs=(r,e)=>qd("blank")(r,e);fs.error=qd("error");fs.success=qd("success");fs.loading=qd("loading");fs.custom=qd("custom");fs.dismiss=(r,e)=>{let t={type:3,toastId:r};e?Xp(e)(t):M5(t)};fs.dismissAll=r=>fs.dismiss(void 0,r);fs.remove=(r,e)=>{let t={type:4,toastId:r};e?Xp(e)(t):M5(t)};fs.removeAll=r=>fs.remove(void 0,r);fs.promise=(r,e,t)=>{let s=fs.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(i=>{let n=e.success?ip(e.success,i):void 0;return n?fs.success(n,{id:s,...t,...t==null?void 0:t.success}):fs.dismiss(s),i}).catch(i=>{let n=e.error?ip(e.error,i):void 0;n?fs.error(n,{id:s,...t,...t==null?void 0:t.error}):fs.dismiss(s)}),r};var EN=1e3,VN=(r,e="default")=>{let{toasts:t,pausedAt:s}=wN(r,e),i=d.useRef(new Map).current,n=d.useCallback((p,m=EN)=>{if(i.has(p))return;let v=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},m);i.set(p,v)},[]);d.useEffect(()=>{if(s)return;let p=Date.now(),m=t.map(v=>{if(v.duration===1/0)return;let f=(v.duration||0)+v.pauseDuration-(p-v.createdAt);if(f<0){v.visible&&fs.dismiss(v.id);return}return setTimeout(()=>fs.dismiss(v.id,e),f)});return()=>{m.forEach(v=>v&&clearTimeout(v))}},[t,s,e]);let o=d.useCallback(Xp(e),[e]),l=d.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=d.useCallback((p,m)=>{o({type:1,toast:{id:p,height:m}})},[o]),c=d.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),h=d.useCallback((p,m)=>{let{reverseOrder:v=!1,gutter:f=8,defaultPosition:b}=m||{},x=t.filter(w=>(w.position||b)===(p.position||b)&&w.height),g=x.findIndex(w=>w.id===p.id),y=x.filter((w,S)=>S<g&&w.visible).length;return x.filter(w=>w.visible).slice(...v?[y+1]:[0,y]).reduce((w,S)=>w+(S.height||0)+f,0)},[t]);return d.useEffect(()=>{t.forEach(p=>{if(p.dismissed)n(p.id,p.removeDelay);else{let m=i.get(p.id);m&&(clearTimeout(m),i.delete(p.id))}})},[t,n]),{toasts:t,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:h}}},PN=hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IN=hn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TN=hn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kN=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,NN=hn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RN=go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${NN} 1s linear infinite;
`,LN=hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AN=hn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DN=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MN=go("div")`
  position: absolute;
`,jN=go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_N=hn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ON=go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_N} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,FN=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?d.createElement(ON,null,e):e:t==="blank"?null:d.createElement(jN,null,d.createElement(RN,{...s}),t!=="loading"&&d.createElement(MN,null,t==="error"?d.createElement(kN,{...s}):d.createElement(DN,{...s})))},BN=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qN=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,zN="0%{opacity:0;} 100%{opacity:1;}",HN="0%{opacity:1;} 100%{opacity:0;}",QN=go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WN=go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UN=(r,e)=>{let t=r.includes("top")?1:-1,[s,i]=R5()?[zN,HN]:[BN(t),qN(t)];return{animation:e?`${hn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$N=d.memo(({toast:r,position:e,style:t,children:s})=>{let i=r.height?UN(r.position||e||"top-center",r.visible):{opacity:0},n=d.createElement(FN,{toast:r}),o=d.createElement(WN,{...r.ariaProps},ip(r.message,r));return d.createElement(QN,{className:r.className,style:{...i,...t,...r.style}},typeof s=="function"?s({icon:n,message:o}):d.createElement(d.Fragment,null,n,o))});fN(d.createElement);var GN=({id:r,className:e,style:t,onHeightUpdate:s,children:i})=>{let n=d.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;s(r,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return d.createElement("div",{ref:n,className:e,style:t},i)},ZN=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:R5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...i}},JN=Yp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rc=16,KN=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:i,toasterId:n,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:c}=VN(t,n);return d.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:Rc,left:Rc,right:Rc,bottom:Rc,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(h=>{let p=h.position||e,m=c.calculateOffset(h,{reverseOrder:r,gutter:s,defaultPosition:e}),v=ZN(p,m);return d.createElement(GN,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?JN:"",style:v},h.type==="custom"?ip(h.message,h):i?i(h):d.createElement($N,{toast:h,position:p}))}))},Po=fs;const dt={log:(...r)=>{},error:(...r)=>{console.error(...r)},warn:(...r)=>{},debug:(...r)=>{},info:(...r)=>{console.info(...r)}},Lc={AUTH_API_URL:"http://localhost:8000"},Cs={SAVE_PAGE:"",GET_PAGES:"",GET_PAGE:r=>"",AUTH:{REGISTER_SEND_OTP:`${Lc.AUTH_API_URL}/api/v1/auth/register/send-otp/`,REGISTER_VERIFY_OTP:`${Lc.AUTH_API_URL}/api/v1/auth/register/verify-otp/`,CREATE_PASSWORD:`${Lc.AUTH_API_URL}/api/v1/register/`,CREATE_ORGANIZATION:`${Lc.AUTH_API_URL}/api/v1/organizations/`}},j5=d.createContext(void 0),_5=({children:r})=>{const[e,t]=d.useState(()=>{const n=localStorage.getItem("event-form-data");if(n)try{return JSON.parse(n)}catch{return null}return null}),s=n=>{t(n);const o={...n,logo:n.logo?"file://logo":null,banner:n.banner?"file://banner":null};if(localStorage.setItem("event-form-data",JSON.stringify(o)),n.logo){const l=new FileReader;l.onload=()=>{localStorage.setItem("event-form-logo",l.result)},l.readAsDataURL(n.logo)}if(n.banner){const l=new FileReader;l.onload=()=>{localStorage.setItem("event-form-banner",l.result)},l.readAsDataURL(n.banner)}},i=()=>{t(null),localStorage.removeItem("event-form-data"),localStorage.removeItem("event-form-logo"),localStorage.removeItem("event-form-banner")};return a.jsx(j5.Provider,{value:{eventData:e,setEventData:s,clearEventData:i},children:r})},Gr=()=>{const r=d.useContext(j5);if(r===void 0)throw new Error("useEventForm must be used within an EventFormProvider");return r},Io=r=>`${r}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,O5=r=>{if(!r)return"Jan 13, 2025";try{return new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Jan 13, 2025"}},au=(r="Page 1",e)=>{const t=Io("HeroSection"),s=Io("AboutSection"),i=Io("SpeakersSection"),n=Io("RegistrationCTA"),o=Io("Sponsors"),l=Io("FAQAccordion"),u=Io("ContactFooter"),c=localStorage.getItem("event-form-banner")||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80",h=(e==null?void 0:e.eventName)||"Event Title",p=(e==null?void 0:e.location)||"Location",m=O5(e==null?void 0:e.startDate),v=`${p} | ${m}`;return{content:[{type:"HeroSection",props:{id:t,title:h,subtitle:v,buttons:[{text:"Register Now",link:"#register",color:"#6938EF",textColor:"white",size:"large"}],backgroundColor:"#1a1a1a",textColor:"white",backgroundImage:c,height:"500px",alignment:"center",overlayOpacity:.4,titleSize:"3.5rem",subtitleSize:"1.25rem",buttonSpacing:"12px"}},{type:"AboutSection",props:{id:s,leftTitle:"About Event",leftText:"We are dedicated to providing innovative solutions that help our clients achieve their goals and drive success in their respective industries.",backgroundColor:"#ffffff",textColor:"#333333",padding:"3rem 2rem"}},{type:"SpeakersSection",props:{id:i,title:"Speakers",showTitle:!0,speakers:[{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"}],backgroundColor:"#ffffff",padding:"0 2rem",gap:"2rem",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"}},{type:"RegistrationCTA",props:{id:n,title:"Register now to enjoy exclusive benefits!",subtitle:"Don't miss out on this opportunity, join us today!",buttonText:"Register Now",backgroundColor:"#6938EF",textColor:"#ffffff",buttonColor:"#6938EF",buttonBorderColor:"#8b5cf6"}},{type:"Sponsors",props:{id:o,title:"Sponsors",sponsors:[{id:"1",name:"Sponsor 1",logoUrl:""},{id:"2",name:"Sponsor 2",logoUrl:""},{id:"3",name:"Sponsor 3",logoUrl:""},{id:"4",name:"Sponsor 4",logoUrl:""}],backgroundColor:"#ffffff",textColor:"#1f2937",padding:"3rem 2rem"}},{type:"FAQAccordion",props:{id:l,title:"Frequently Asked Questions",description:"Everything you need to know about the product and billing. Can't find the answer you're looking for? Please chat to our friendly team",faqs:[{id:"1",question:"What is this service about?",answer:"This service provides comprehensive solutions for your business needs."},{id:"2",question:"How do I get started?",answer:"Simply sign up and follow the onboarding process to get started."},{id:"3",question:"What are the pricing options?",answer:"We offer flexible pricing plans to suit different needs and budgets."}],allowMultiple:!1,backgroundColor:"#ffffff",textColor:"#333333",questionColor:"#1f2937",answerColor:"#6b7280",borderColor:"#e5e7eb",padding:"3rem 2rem",spacing:"1rem",iconColor:"#8b5cf6",hoverColor:"#f8fafc",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"}},{type:"ContactFooter",props:{id:u,items:[{id:"1",type:"email",title:"Email",description:"Our friendly team is here to help.",actionText:"Send us an email",actionEmail:"contact@example.com"},{id:"2",type:"office",title:"Office",description:"Come and say hello at our office HQ.",actionText:"View on map",actionUrl:"#"},{id:"3",type:"phone",title:"Phone",description:"Mon-Fri from 8am to 5pm.",actionText:"Call us now",actionPhone:"+1 (555) 000-0000"}],backgroundColor:"#ffffff",textColor:"#1f2937",iconColor:"#6938EF",buttonColor:"#6938EF",padding:"3rem 2rem",copyrightText:"Copyright  2024"}}],root:{props:{title:r,pageTitle:r}},zones:{}}},YN=()=>{var R;const{eventData:r}=Gr(),e=au("Page 1",r),[t,s]=d.useState(e),[i,n]=d.useState("page1"),[o,l]=d.useState("Page 1"),[u,c]=d.useState([]),[h,p]=d.useState(!1),[m,v]=d.useState(!1),f=d.useCallback(()=>{const C=localStorage.getItem("event-form-banner");console.log(" updateHeroSectionWithEventData - bannerUrl in storage:",C?C.startsWith("data:")?"data:image...":C.substring(0,50)+"...":"NONE"),s(k=>{var de,se,fe,oe,ie;if(!(k!=null&&k.content))return k;const L=k.content.find(_=>_.type==="HeroSection");if(!L)return console.log(" No HeroSection found in content"),k;console.log(" Current HeroSection backgroundImage:",((de=L.props.backgroundImage)==null?void 0:de.substring(0,50))+"...");const D=C||L.props.backgroundImage;console.log(" Will use bannerUrl:",D?D.startsWith("data:")?"data:image...":D.substring(0,50)+"...":"NONE");const q=(r==null?void 0:r.eventName)||L.props.title||"Event Title",U=(r==null?void 0:r.location)||"",$=O5(r==null?void 0:r.startDate),K=U?`${U} | ${$}`:$||"Location | Date",M=(se=L.props.backgroundImage)==null?void 0:se.includes("unsplash.com/photo-1540575467063"),j=C&&(M||L.props.backgroundImage!==C);if(!(L.props.title!==q||L.props.subtitle!==K||C&&L.props.backgroundImage!==C||j))return console.log(" No update needed - all values match"),k;j||C&&L.props.backgroundImage!==C?console.log(" FORCING banner update (banner in localStorage):",{oldBanner:((fe=L.props.backgroundImage)==null?void 0:fe.substring(0,50))+"...",newBanner:D?D.startsWith("data:")?"data:image...":D.substring(0,50)+"...":"NONE",bannerInStorage:!!C,hasDefaultImage:M}):console.log(" Updating HeroSection:",{eventName:q,subtitle:K,bannerUrl:D?D.startsWith("data:")?"data:image...":D.substring(0,50)+"...":"NONE",oldBanner:((oe=L.props.backgroundImage)==null?void 0:oe.substring(0,50))+"..."});const Q=k.content.map(_=>{if(_.type==="HeroSection"){const O={..._.props,title:q,subtitle:K,backgroundImage:D};return console.log(" Setting HeroSection props.backgroundImage to:",D?D.startsWith("data:")?"data:image...":D.substring(0,50)+"...":"NONE"),{..._,props:O}}return _}),G={...k,content:Q},X=G.content.find(_=>_.type==="HeroSection");return console.log(" Updated data - HeroSection backgroundImage:",(ie=X==null?void 0:X.props)!=null&&ie.backgroundImage?X.props.backgroundImage.startsWith("data:")?"data:image...":X.props.backgroundImage.substring(0,50)+"...":"NONE"),G})},[r]);d.useEffect(()=>{const C=localStorage.getItem("event-form-banner");console.log(" useEffect triggered - Banner in storage:",!!C,"EventData:",!!r,"CurrentPage:",i),f()},[r==null?void 0:r.eventName,r==null?void 0:r.location,r==null?void 0:r.startDate,(R=t==null?void 0:t.content)==null?void 0:R.length,i,f]),d.useEffect(()=>{const C=setTimeout(()=>{const k=localStorage.getItem("event-form-banner");console.log(" Initial mount check - Banner in storage:",!!k),k&&f()},100);return()=>clearTimeout(C)},[f]),d.useEffect(()=>{const C=D=>{D.key==="event-form-banner"&&f()};window.addEventListener("storage",C);let k=localStorage.getItem("event-form-banner");const L=setInterval(()=>{const D=localStorage.getItem("event-form-banner");D!==k&&(k=D,f())},500);return()=>{window.removeEventListener("storage",C),clearInterval(L)}},[]);const b=C=>{if(!C||!C.root||!C.root.props)return;const{pageTitle:k,title:L}=C.root.props;if(typeof k=="string"&&k.trim())return k.trim();if(typeof L=="string"&&L.trim())return L.trim()},x=C=>{try{const k=`puck-page-${C}`,L=localStorage.getItem(k);return L?JSON.parse(L):null}catch{return null}},g=C=>{if(!C||!C.content||!Array.isArray(C.content))return!1;const k=C.content.map(j=>j.type),L=k.includes("HeroSection"),D=k.includes("AboutSection"),q=k.includes("SpeakersSection"),U=k.includes("RegistrationCTA"),$=k.includes("Sponsors"),K=k.includes("FAQAccordion"),M=k.includes("ContactFooter");return L&&D&&q&&U&&$&&K&&M?!0:!(k.includes("TwoColumnContent")||k.includes("PricingPlans")||k.includes("HTMLContent")||k.includes("Heading"))},y=C=>{if(!C||!C.content||!Array.isArray(C.content))return C;const k=new Set,L=[];let D=0;if(C.content.forEach((q,U)=>{var K,M;const $=((K=q.props)==null?void 0:K.id)||`${q.type}-${U}-${JSON.stringify(q.props).substring(0,50)}`;if((M=q.props)!=null&&M.id)k.has($)?(console.warn(" Removing duplicate component with ID:",q.type,$),D++):(k.add($),L.push(q));else{if(q.type==="PricingPlans"&&L.some(G=>G.type==="PricingPlans")){console.warn(" Removing duplicate PricingPlans component (only one allowed)"),D++;return}const j=JSON.stringify(q.props);L.findIndex(Q=>Q.type===q.type&&JSON.stringify(Q.props)===j)===-1?L.push(q):(console.warn(" Removing duplicate component without ID:",q.type,"at index",U),D++)}}),D>0){console.log(" Cleaned",D,"duplicate components"),console.log(" Original types:",C.content.map(U=>U.type)),console.log(" Cleaned types:",L.map(U=>U.type));const q=L.filter(U=>U.type==="PricingPlans").length;q>1&&console.error(" ERROR: Still have",q,"PricingPlans after cleaning!")}return{...C,content:L}},w=(C,k)=>{if(!k)return;const L=y(k),D=`puck-page-${C}`,q=x(C),U=b(q);let $=null,K;if(s(M=>{var X;const j=b(M),B=b(L),Q=C==="page1"?"Page 1":C.replace(/^page-/,"").replace(/-/g," ");K=U||j||B||Q;const G={...((X=L==null?void 0:L.root)==null?void 0:X.props)||{}};return K&&(G.pageTitle=K,(!G.title||!G.title.trim()||G.title.trim()===B)&&(G.title=K)),$={...L,root:{...L==null?void 0:L.root,props:G}},$}),$){try{localStorage.setItem(D,JSON.stringify($))}catch{}setTimeout(()=>{f()},0)}K&&K!==o&&l(K)};d.useEffect(()=>{var L;if(!i||!((L=t==null?void 0:t.root)!=null&&L.props))return;const C=t.root.props.pageTitle??t.root.props.title;if(!C||typeof C!="string")return;const k=C.trim();k&&(k!==o&&l(k),c(D=>{const q=i,U=q.endsWith(".json")?q:`${q}.json`,$=D.findIndex(j=>j.id===q||j.filename===U);if($===-1)return[...D,{id:q,name:k,filename:U,lastModified:new Date().toISOString()}];const K=D[$];if(K.name===k)return D;const M=[...D];return M[$]={...K,name:k,lastModified:new Date().toISOString()},M}))},[t,i,o]);const S=async()=>{},P=async C=>{var K,M,j,B,Q,G,X,de,se,fe,oe;dt.debug("loadPage: Current pages array:",u.map(ie=>`${ie.name} (${ie.id}) - ${ie.filename}`));const k=C.replace(".json",""),L=C.endsWith(".json")?C:`${C}.json`,D=u.find(ie=>ie.filename===L||ie.filename===C||ie.id===k||ie.id===C);if(D){const ie=`puck-page-${k}`,_=localStorage.getItem(ie);let O=null;if(_)try{O=JSON.parse(_),dt.debug("loadPage: Found cached data in localStorage"),console.log(" Found cached data in localStorage for:",k),g(O)||(console.warn(" Cached data does not match expected template structure, replacing with default template"),console.log(" Old template components:",((K=O==null?void 0:O.content)==null?void 0:K.map(te=>te.type))||[]),localStorage.removeItem(ie),O=au(D.name,r),localStorage.setItem(ie,JSON.stringify(O)),console.log(" Replaced with new template components:",((M=O==null?void 0:O.content)==null?void 0:M.map(te=>te.type))||[]))}catch{localStorage.removeItem(ie)}O||(O=au(D.name,r),dt.debug("loadPage: Using default template data for page:",D.name),console.log(" Using default template data for:",D.name));const Z=y(O),le=localStorage.getItem("event-form-banner");if(le&&(Z!=null&&Z.content)){const te=Z.content.find(W=>W.type==="HeroSection");te&&((j=te.props.backgroundImage)!=null&&j.includes("unsplash.com/photo-1540575467063")||te.props.backgroundImage!==le)&&(console.log(" loadPage - Updating HeroSection banner before setting data"),te.props.backgroundImage=le)}return console.log(" Setting currentData with template:",{contentLength:((B=Z==null?void 0:Z.content)==null?void 0:B.length)||0,contentTypes:((Q=Z==null?void 0:Z.content)==null?void 0:Q.map(te=>te.type))||[]}),s(Z),n(k),l(D.name),p(!1),setTimeout(()=>{f()},150),fetch(Cs.GET_PAGE(L)).then(te=>te.ok?te.json():null).then(te=>{te&&te.success&&te.data&&w(k,te.data)}).catch(te=>{}),O}const q=`puck-page-${k}`,U=localStorage.getItem(q);let $=null;if(U)try{$=JSON.parse(U),dt.debug("loadPage: Found cached data in localStorage for page not in array"),console.log(" Found cached data in localStorage for:",k);const ie=y($),_=localStorage.getItem("event-form-banner");if(_&&(ie!=null&&ie.content)){const Z=ie.content.find(le=>le.type==="HeroSection");Z&&((G=Z.props.backgroundImage)!=null&&G.includes("unsplash.com/photo-1540575467063")||Z.props.backgroundImage!==_)&&(console.log(" loadPage (cached) - Updating HeroSection banner before setting data"),Z.props.backgroundImage=_)}console.log(" Setting currentData from localStorage:",{contentLength:((X=ie==null?void 0:ie.content)==null?void 0:X.length)||0,contentTypes:((de=ie==null?void 0:ie.content)==null?void 0:de.map(Z=>Z.type))||[]}),s(ie),n(k);const O=b(ie);l(O||k),p(!1),setTimeout(()=>{f()},150)}catch{}if(!$){try{dt.debug("Loading from server:",Cs.GET_PAGE(L)),console.log(" Loading page from server:",L);const ie=new Promise((O,Z)=>{setTimeout(()=>Z(new Error("Request timeout")),1e3)}),_=await Promise.race([fetch(Cs.GET_PAGE(L)),ie]);if(dt.debug("Server response status:",_.status),_.ok){const O=await _.json();if(dt.debug("Server response data:",O),O.success){if(g(O.data))w(k,O.data);else{console.warn(" Server data does not match expected template structure, replacing with default template");const le=b(O.data)||k==="welcome"?"Welcome":k.replace("page-","").replace(/-/g," "),te=au(le,r);w(k,te)}n(k);const Z=b(O.data);if(Z)dt.debug("loadPage: Page not in array, adding it with title:",Z),l(Z),c(le=>{if(!le.some(W=>W.id===k||W.filename===L)){const W={id:k,name:Z,filename:L,lastModified:new Date().toISOString()};return dt.debug("loadPage: Adding page to array:",W),[...le,W]}return le});else{const le=k.replace("page-data-","").replace(/-/g," ");dt.debug("loadPage: Using fallback name:",le),l(le)}return p(!1),O.data}else dt.error("Server returned error:",O.error)}else dt.warn("Server response not ok:",_.status,_.statusText)}catch(ie){dt.error("Error loading page from server (will use fallback):",ie)}if(!$){const ie=k==="page1"?"Page 1":k.replace("page-","").replace(/-/g," "),_=au(ie,r);console.log(" Using default template data for fallback:",ie),console.log(" Template content:",_.content.map(te=>te.type).join(", "));const O=y(_),Z=localStorage.getItem("event-form-banner");if(Z&&(O!=null&&O.content)){const te=O.content.find(W=>W.type==="HeroSection");te&&((se=te.props.backgroundImage)!=null&&se.includes("unsplash.com/photo-1540575467063")||te.props.backgroundImage!==Z)&&(console.log(" loadPage (fallback) - Updating HeroSection banner before setting data"),te.props.backgroundImage=Z)}const le=`puck-page-${k}`;return localStorage.setItem(le,JSON.stringify(O)),console.log(" Setting currentData with cleaned template:",{contentLength:((fe=O==null?void 0:O.content)==null?void 0:fe.length)||0,contentTypes:((oe=O==null?void 0:O.content)==null?void 0:oe.map(te=>te.type))||[]}),s(O),n(k),l(ie),p(!1),setTimeout(()=>{f()},150),c(te=>{if(!te.some(he=>he.id===k||he.filename===L)){const he={id:k,name:ie,filename:L,lastModified:new Date().toISOString()};return[...te,he]}return te}),_}}},V=()=>{c(C=>{dt.debug("createNewPage: Current pages before creating:",C.map(Q=>`${Q.name} (${Q.id})`));const k=C.some(Q=>Q.id==="page1"||Q.filename==="page1.json");let L=C;if(!k){const Q=C.find(X=>X.id==="page1"||X.filename==="page1.json"),G=(Q==null?void 0:Q.name)||"Page 1";L=[...C,{id:"page1",name:G,filename:"page1.json",lastModified:new Date().toISOString()}]}let D=1;L.forEach(Q=>{const G=Q.name.match(/^Page (\d+)$/);if(G){const X=parseInt(G[1],10);X>D&&(D=X)}});const U=`Page ${D+1}`,K=`page-${U.toLowerCase().replace(/[^a-z0-9]/g,"-")}-${Date.now()}`,M={content:[],root:{props:{title:U,pageTitle:U}},zones:{}},j={id:K,name:U,filename:`${K}.json`,lastModified:new Date().toISOString()},B=[...L,j];return dt.debug("createNewPage: Pages after creating:",B.map(Q=>`${Q.name} (${Q.id})`)),s(M),n(K),l(U),p(!1),v(!1),fetch(Cs.SAVE_PAGE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:M,filename:`${K}.json`})}).then(Q=>{Q.ok||dt.error("createNewPage: Failed to save page to server:",Q.status)}).catch(Q=>{dt.error("Error saving new page:",Q)}),B})},I=C=>{l(C);const L=`page-${C.toLowerCase().replace(/[^a-z0-9]/g,"-")}-${Date.now()}`,D=i;n(L),s(q=>{var $;const U={...q,root:{...q.root,props:{...($=q.root)==null?void 0:$.props,title:C,pageTitle:C}}};return fetch(Cs.SAVE_PAGE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:U,filename:`${L}.json`})}).then(()=>{S()}).catch(K=>{dt.error("Error saving new page:",K)}),U}),c(q=>{const U=q.filter(j=>j.id!==D),$=U.some(j=>j.id==="page1"||j.filename==="page1.json");let K=U;if(!$){const j=U.find(Q=>Q.id==="page1"||Q.filename==="page1.json"),B=(j==null?void 0:j.name)||"Page 1";K=[...U,{id:"page1",name:B,filename:"page1.json",lastModified:new Date().toISOString()}]}return K.some(j=>j.id===L)?K:[...K,{id:L,name:C,filename:`${L}.json`,lastModified:new Date().toISOString()}]}),v(!1)},E=async C=>{const L={schedule:"Schedule",sponsor:"Sponsor","floor-plan":"Floor plan",lists:"Lists"}[C]||C,q=`page-${L.toLowerCase().replace(/[^a-z0-9]/g,"-")}-${Date.now()}`,U={content:[],root:{props:{title:L,pageTitle:L,...C==="schedule"?{pageType:"schedule"}:{}}},zones:{}};s(U),n(q),l(L);const $={id:q,name:L,filename:`${q}.json`,lastModified:new Date().toISOString()};c(K=>{dt.debug("createPageFromTemplate: Current pages BEFORE adding template:",K.map(G=>`${G.name} (${G.id})`));const M=[...K];if(!M.some(G=>G.id==="page1"||G.filename==="page1.json")){const G=M.find(de=>de.id==="page1"||de.filename==="page1.json"),X=(G==null?void 0:G.name)||"Page 1";M.push({id:"page1",name:X,filename:"page1.json",lastModified:new Date().toISOString()})}return!M.some(G=>G.id===i||G.name===o)&&i&&o&&M.push({id:i,name:o,filename:`${i}.json`,lastModified:new Date().toISOString()}),M.some(G=>G.id===q)||M.push($),dt.debug("createPageFromTemplate: Pages AFTER adding template:",M.map(G=>`${G.name} (${G.id})`)),M});try{(await fetch(Cs.SAVE_PAGE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:U,filename:`${q}.json`})})).ok}catch(K){dt.error("Error saving template page:",K)}return{pageId:q,pageName:L,newPageData:U}};return d.useEffect(()=>{(async()=>{var k,L,D,q,U,$;await S();try{const K=await fetch(Cs.GET_PAGE("page1.json"));if(K.ok){const M=await K.json();if(M.success){s(M.data),n("page1");const j=((D=(L=(k=M.data)==null?void 0:k.root)==null?void 0:L.props)==null?void 0:D.pageTitle)||(($=(U=(q=M.data)==null?void 0:q.root)==null?void 0:U.props)==null?void 0:$.title)||"Page 1";l(j),c(B=>{if(dt.debug("initializePage: Ensuring page1 exists. Current pages:",B.map(G=>`${G.name} (${G.id})`)),B.some(G=>G.id==="page1"||G.filename==="page1.json")){const G=B.findIndex(X=>X.id==="page1"||X.filename==="page1.json");if(G>=0&&B[G].name!==j){const X=[...B];return X[G]={...X[G],name:j},dt.debug("initializePage: Updated page1 name. Updated pages:",X.map(de=>`${de.name} (${de.id})`)),X}}else{const G=[...B,{id:"page1",name:j,filename:"page1.json",lastModified:new Date().toISOString()}];return dt.debug("initializePage: Added page1. Updated pages:",G.map(X=>`${X.name} (${X.id})`)),G}return dt.debug("initializePage: page1 already exists"),B})}}else{const M=e;s(M),n("page1"),l("Page 1"),c(j=>j.some(Q=>Q.id==="page1"||Q.filename==="page1.json")?j:[...j,{id:"page1",name:"Page 1",filename:"page1.json",lastModified:new Date().toISOString()}]);try{await fetch(Cs.SAVE_PAGE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:M,filename:"page1.json"})}),await S()}catch(j){dt.error("Error creating page1:",j)}}}catch(K){dt.error("Error initializing page1:",K),c(M=>M.some(B=>B.id==="page1"||B.filename==="page1.json")?M:[...M,{id:"page1",name:"Page 1",filename:"page1.json",lastModified:new Date().toISOString()}])}})()},[]),{currentData:t,setCurrentData:s,currentPage:i,setCurrentPage:n,currentPageName:o,setCurrentPageName:l,pages:u,showPageManager:h,setShowPageManager:p,showPageNameDialog:m,setShowPageNameDialog:v,loadPages:S,loadPage:P,createNewPage:V,confirmNewPage:I,createPageFromTemplate:E}},XN="modulepreload",eR=function(r){return"/"+r},tC={},tR=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=eR(u),u in tC)return;tC[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":XN,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return e().catch(n)})},st={success:r=>{Po.success(r,{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff",padding:"16px",borderRadius:"8px"}})},error:r=>{Po.error(r,{duration:5e3,position:"top-right",style:{background:"#ef4444",color:"#fff",padding:"16px",borderRadius:"8px"}})},warning:r=>{Po(r,{duration:4e3,position:"top-right",icon:"",style:{background:"#f59e0b",color:"#fff",padding:"16px",borderRadius:"8px"}})},info:r=>{Po(r,{duration:4e3,position:"top-right",icon:"",style:{background:"#3b82f6",color:"#fff",padding:"16px",borderRadius:"8px"}})},loading:r=>Po.loading(r,{position:"top-right"}),dismiss:r=>{Po.dismiss(r)},dismissAll:()=>{Po.dismiss()},emailVerified:()=>{tR(async()=>{const{showEmailVerifiedToast:r}=await import("./toastHelpers-B-Q6YY_2.js");return{showEmailVerifiedToast:r}},[]).then(({showEmailVerifiedToast:r})=>{r()})}},sR=(r,e,t,s,i,n)=>({handlePublish:async u=>{try{const c=new Date().toISOString().split("T")[0],h={content:(u==null?void 0:u.content)||[],root:(u==null?void 0:u.root)||{props:{}},zones:(u==null?void 0:u.zones)||{}};let p;t.startsWith("new-page")?p=`${s.toLowerCase().replace(/[^a-z0-9]/g,"-")}.json`:p=`${t}.json`,localStorage.setItem("puck-page-data",JSON.stringify(h,null,2)),localStorage.setItem("puck-page-timestamp",c);try{const v=await(await fetch(Cs.SAVE_PAGE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:h,filename:p})})).json();if(v.success){const f=t.startsWith("new-page")?p.replace(".json",""):t,b=`puck-page-${f}`;if(localStorage.setItem(b,JSON.stringify(h)),dt.debug("Saved page data cached in localStorage:",f),await n(),t.startsWith("new-page")){const x=p.replace(".json","");i(x)}st.success(`Page "${s}" saved successfully!

 File: ${v.filename}
 Components: ${v.components}`)}else throw new Error(v.message||"Failed to save via API")}catch(m){dt.warn("API save failed, falling back to download method:",m);const v=JSON.stringify(h,null,2),f=new Blob([v],{type:"application/json"}),b=document.createElement("a");b.download=p,b.href=window.URL.createObjectURL(f),document.body.appendChild(b),b.click(),document.body.removeChild(b),st.warning(`API server not running - File downloaded instead

 Start server: npm run server
 Move ${p} to: src/data/pages/`)}}catch(c){dt.error("Error saving page data:",c),st.error("Error saving page data. Please try again.")}},handleDataChange:u=>{if(e(u),t){const c=`puck-page-${t}`;try{localStorage.setItem(c,JSON.stringify(u)),dt.debug("Auto-saved page data to localStorage:",t)}catch{}}}}),rR=({setCurrentView:r,setCurrentData:e,setPuckUi:t,setShowPreview:s,createNewPage:i})=>({handleCreateEvent:()=>{r("events")},handleProfileClick:()=>{st.info("Profile clicked - This would typically open a profile menu or navigate to profile page")},handleBackToEditor:()=>{r("editor")},handlePageCreationSelect:p=>{switch(p){case"html-general":i();break;case"attendee":case"schedule":case"folder":case"organization":case"hyperlink":case"qr-scanner":case"documents":case"gallery":case"forms":case"meeting-room":i();break;default:i();break}},handleNavigateToEditor:()=>{var m,v,f,b;const p=localStorage.getItem("custom-session-data");if(p)try{const x=JSON.parse(p);dt.debug(" Loading custom session with",((m=x.content)==null?void 0:m.length)||0,"components"),dt.debug(" Component types:",(v=x.content)==null?void 0:v.map(y=>y.type).join(", "));const g=((b=(f=x.content)==null?void 0:f[0])==null?void 0:b.id)||"session-form-editor";dt.debug(" Auto-selecting SessionForm in canvas with ID:",g),e(x),t({itemSelector:{id:g}}),r("editor"),s(!1),dt.debug(" Custom session data loaded and switched to EDIT mode with auto-selection!"),localStorage.removeItem("custom-session-data")}catch(x){dt.error(" Error loading custom session data:",x),r("editor"),s(!1),t(void 0)}else r("editor"),s(!1),t(void 0)},handleAddComponent:(p,m={})=>{const v=`${p.toLowerCase()}-${Date.now()}`,f={type:p,props:m,id:v};e(x=>({...x,content:[f],zones:{}})),t({itemSelector:{id:v}}),r("editor"),s(!1)}});function F5(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=F5(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function ci(){for(var r,e,t=0,s="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=F5(r))&&(s&&(s+=" "),s+=e);return s}const iR=({pages:r,currentPage:e,onPageSelect:t,isVisible:s})=>s?a.jsxs("div",{className:"max-h-[300px] overflow-y-auto border-b border-slate-200 bg-white p-5",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:" Page Manager"}),a.jsxs("div",{className:"grid gap-4 [grid-template-columns:repeat(auto-fill,minmax(240px,1fr))]",children:[r.map(i=>{const n=e===i.id;return a.jsxs("button",{type:"button",onClick:()=>t(i.filename),className:ci("flex w-full flex-col rounded-lg border p-4 text-left transition-colors duration-200",n?"border-primary/60 bg-primary/5 shadow-sm":"border-slate-200 bg-slate-50 hover:border-primary/40 hover:bg-primary/5"),children:[a.jsx("h4",{className:"mb-2 text-base font-semibold text-slate-800",children:i.name}),a.jsxs("p",{className:"mb-1 text-xs text-slate-500",children:["Modified: ",new Date(i.lastModified).toLocaleDateString()]}),a.jsx("p",{className:"text-[11px] text-slate-400",children:i.filename})]},i.id)}),r.length===0&&a.jsx("div",{className:"col-span-full rounded-lg border border-dashed border-slate-200 bg-slate-50 p-10 text-center text-sm text-slate-500",children:'No pages created yet. Click "New Page" to get started!'})]})]}):null,nR=({isVisible:r,pageName:e,onPageNameChange:t,onConfirm:s,onCancel:i})=>{if(!r)return null;const n=o=>{o.key==="Enter"&&s(e)};return a.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-white p-8 shadow-2xl",children:[a.jsx("h3",{className:"mb-3 text-xl font-semibold text-slate-800",children:" Name Your New Page"}),a.jsx("p",{className:"mb-5 text-sm text-slate-500",children:'Give your page a descriptive name (e.g., "Home", "About Us", "Contact")'}),a.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:"Enter page name...",className:"mb-6 w-full rounded-md border border-slate-300 px-4 py-3 text-base text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",onKeyPress:n,autoFocus:!0}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:i,className:"rounded-md bg-slate-500 px-5 py-2.5 text-sm font-medium text-white transition hover:bg-slate-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>s(e),className:"rounded-md bg-primary px-5 py-2.5 text-sm font-medium text-white transition hover:bg-primary/90",children:"Create Page"})]})]})})};function We(){return We=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},We.apply(null,arguments)}var oR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M22 12h-4l-3 9L9 3l-3 9H2"})}))},sC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M22 12c0 5.5228-4.4772 10-10 10S2 17.5228 2 12 6.4772 2 12 2s10 4.4772 10 10"})}))},rC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 10H6m15-4H3m18 8H3m15 4H6"})}))},iC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 10H3m17-4H3m17 8H3m13 4H3"})}))},Jy=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4m0 0 6 6m-6-6 6-6"})}))},Gf=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.1525 10.8995-9.0156 9.0156c-2.0503 2.0502-5.3744 2.0502-7.4246 0-2.0503-2.0503-2.0503-5.3744 0-7.4247l9.0156-9.0156c1.3668-1.3668 3.5829-1.3668 4.9497 0s1.3668 3.583 0 4.9498l-8.662 8.662c-.6835.6835-1.7915.6835-2.475 0-.6833-.6834-.6833-1.7914 0-2.4748l7.6015-7.6014"})}))},aR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 20V4m12 16v-4m-6 4V10"})}))},lR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21H6.2c-1.1201 0-1.6802 0-2.108-.218a2 2 0 0 1-.874-.874C3 19.4802 3 18.9201 3 17.8V3m4 7.5v7m4.5-12v12m4.5-7v7m4.5-12v12"})}))},Ky=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.3542 21c.7051.6224 1.6314 1 2.6458 1a3.984 3.984 0 0 0 2.6458-1M18 8A6 6 0 1 0 6 8c0 3.0902-.7795 5.206-1.6503 6.6054-.7346 1.1805-1.1018 1.7707-1.0884 1.9354.015.1823.0536.2518.2005.3608C3.5945 17 4.1926 17 5.3888 17h13.2224c1.1962 0 1.7944 0 1.927-.0984.147-.109.1856-.1785.2005-.3608.0135-.1647-.3538-.7549-1.0883-1.9354C18.7795 13.206 18 11.0902 18 8"})}))},nC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 12h8c2.2091 0 4-1.7909 4-4s-1.7909-4-4-4H6zm0 0h9c2.2091 0 4 1.7909 4 4s-1.7909 4-4 4H6z"})}))},uR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 21v-5.4c0-.5601 0-.8401-.109-1.054a1 1 0 0 0-.437-.437C14.2401 14 13.9601 14 13.4 14h-2.8c-.5601 0-.84 0-1.054.109a1 1 0 0 0-.437.437C9 14.7599 9 15.0399 9 15.6V21m10 0V6.2c0-1.1201 0-1.6802-.218-2.108a2 2 0 0 0-.874-.874C17.4802 3 16.9201 3 15.8 3H8.2c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C5 4.5198 5 5.08 5 6.2V21m16 0H3M9.5 8h.01m4.99 0h.01M10 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"})}))},md=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H3m13-8v4M8 2v4m-.2 16h8.4c1.6802 0 2.5202 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 19.7202 21 18.8802 21 17.2V8.8c0-1.6802 0-2.5202-.327-3.162a3 3 0 0 0-1.311-1.311C18.7202 4 17.8802 4 16.2 4H7.8c-1.6802 0-2.5202 0-3.162.327a3 3 0 0 0-1.311 1.311C3 6.2798 3 7.1198 3 8.8v8.4c0 1.6802 0 2.5202.327 3.162a3 3 0 0 0 1.311 1.311C5.2798 22 6.1198 22 7.8 22"})}))},dR=function(e){return a.jsxs("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:[a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2 8.3772c0-.3503 0-.5255.0146-.673.141-1.423 1.2667-2.5486 2.6896-2.6896C4.8517 5 5.0364 5 5.4056 5c.1423 0 .2134 0 .2738-.0037A2 2 0 0 0 7.414 3.746c.0226-.0561.0437-.1194.0859-.246s.0633-.1899.0859-.246a2 2 0 0 1 1.7347-1.2503C9.381 2 9.4477 2 9.5811 2h4.8378c.1334 0 .2001 0 .2605.0037a2 2 0 0 1 1.7347 1.2503c.0226.0561.0437.1194.0859.246s.0633.1899.0859.246a2 2 0 0 0 1.7347 1.2503C18.381 5 18.4521 5 18.5944 5c.3692 0 .5539 0 .7014.0146 1.4229.141 2.5486 1.2667 2.6896 2.6896.0146.1475.0146.3227.0146.673V16.2c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C19.7202 21 18.8802 21 17.2 21H6.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C2 18.7202 2 17.8802 2 16.2z"}),a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16.5c2.2091 0 4-1.7909 4-4s-1.7909-4-4-4-4 1.7909-4 4 1.7909 4 4 4"})]}))},cR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m7.5 12 3 3 6-6m5.5 3c0 5.5228-4.4772 10-10 10S2 17.5228 2 12 6.4772 2 12 2s10 4.4772 10 10"})}))},cl=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m6 9 6 6 6-6"})}))},ph=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18-6-6 6-6"})}))},Zf=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18 6-6-6-6"})}))},hR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m18 15-6-6-6 6"})}))},aa=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M22 9H2m12 8.5 2.5-2.5-2.5-2.5m-4 0L7.5 15l2.5 2.5M2 7.8v8.4c0 1.6802 0 2.5202.327 3.162a3 3 0 0 0 1.311 1.311C4.2798 21 5.1198 21 6.8 21h10.4c1.6802 0 2.5202 0 3.162-.327a3 3 0 0 0 1.311-1.311C22 18.7202 22 17.8802 22 16.2V7.8c0-1.6802 0-2.5202-.327-3.162a3 3 0 0 0-1.311-1.311C19.7202 3 18.8802 3 17.2 3H6.8c-1.6802 0-2.5202 0-3.162.327a3 3 0 0 0-1.311 1.311C2 5.2798 2 6.1198 2 7.8"})}))},oC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15c-.9319 0-1.3978 0-1.7654-.1522a2 2 0 0 1-1.0824-1.0824C2 13.3978 2 12.9319 2 12V5.2c0-1.1201 0-1.6802.218-2.108a2 2 0 0 1 .874-.874C3.5198 2 4.08 2 5.2 2H12c.9319 0 1.3978 0 1.7654.1522.49.203.8794.5924 1.0824 1.0824C15 3.6022 15 4.0681 15 5m-2.8 17h6.6c1.1201 0 1.6802 0 2.108-.218a2 2 0 0 0 .874-.874C22 20.4802 22 19.9201 22 18.8v-6.6c0-1.1201 0-1.6802-.218-2.108a2 2 0 0 0-.874-.874C20.4802 9 19.9201 9 18.8 9h-6.6c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C9 10.5198 9 11.0799 9 12.2v6.6c0 1.1201 0 1.6802.218 2.108.1917.3763.4977.6823.874.874.4278.218.9879.218 2.108.218"})}))},pR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M22 10H2m0-1.8v7.6c0 1.1201 0 1.6802.218 2.108.1917.3763.4977.6823.874.874C3.5198 19 4.08 19 5.2 19h13.6c1.1201 0 1.6802 0 2.108-.218a2 2 0 0 0 .874-.874C22 17.4802 22 16.9201 22 15.8V8.2c0-1.1201 0-1.6802-.218-2.108a2 2 0 0 0-.874-.874C20.4802 5 19.9201 5 18.8 5H5.2c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C2 6.5198 2 7.08 2 8.2"})}))},mR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1m0-7c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1m0 14c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1"})}))},B5=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v1.2c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C18.7202 21 17.8802 21 16.2 21H7.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.7202 3 17.8802 3 16.2V15m14-5-5 5m0 0-5-5m5 5V3"})}))},gR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 20h9M3 20h1.6746c.4892 0 .7338 0 .964-.0553.204-.049.399-.1298.578-.2394.2019-.1237.3748-.2967.7207-.6426L19.5001 6.5c.8284-.8284.8284-2.1716 0-3s-2.1716-.8284-3 0L3.9373 16.0627c-.346.3459-.5189.5189-.6425.7207a2 2 0 0 0-.2395.5781C3 17.5917 3 17.8363 3 18.3255z"})}))},np=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4H6.8c-1.6802 0-2.5202 0-3.162.327a3 3 0 0 0-1.311 1.311C2 6.2798 2 7.1198 2 8.8v8.4c0 1.6801 0 2.5202.327 3.162a3 3 0 0 0 1.311 1.311C4.2798 22 5.1198 22 6.8 22h8.4c1.6802 0 2.5202 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.7202 20 18.8801 20 17.2V13M8 16h1.6745c.4892 0 .7338 0 .964-.0553a2 2 0 0 0 .5781-.2394c.2018-.1237.3748-.2967.7207-.6426L21.5 5.5c.8284-.8284.8284-2.1716 0-3s-2.1716-.8284-3 0l-9.5628 9.5627c-.3459.3459-.5188.5189-.6425.7207a2 2 0 0 0-.2395.5781C8 13.5917 8 13.8363 8 14.3255z"})}))},Ho=function(e){return a.jsxs("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:[a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.4201 12.7132c-.1362-.2157-.2043-.3235-.2424-.4898-.0286-.1249-.0286-.3219 0-.4468.0381-.1663.1062-.2741.2424-.4898C3.5455 9.5048 6.8954 5 12.0004 5s8.4549 4.5048 9.5803 6.2868c.1362.2157.2043.3235.2424.4898.0286.1249.0286.3219 0 .4468-.0381.1663-.1062.2741-.2424.4898C20.4553 14.4952 17.1054 19 12.0004 19s-8.4549-4.5048-9.5803-6.2868"}),a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12.0004 15c1.6569 0 3-1.3431 3-3s-1.3431-3-3-3-3 1.3431-3 3 1.3431 3 3 3"})]}))},fR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.7429 5.0923A8.6 8.6 0 0 1 12.0004 5c5.105 0 8.4549 4.5048 9.5803 6.2868.1362.2157.2043.3235.2424.4899.0287.1249.0286.322 0 .4469-.0382.1663-.1067.2749-.2439.492a17.5 17.5 0 0 1-1.3627 1.8649M6.7243 6.715c-2.162 1.4667-3.6298 3.5044-4.3032 4.5703-.1368.2166-.2052.3249-.2434.4912-.0286.1249-.0286.3219 0 .4469.0381.1663.1062.2741.2424.4898C3.5455 14.4952 6.8954 19 12.0004 19c2.0584 0 3.8315-.7324 5.2884-1.7234M3.0004 3l18 18M9.8791 9.8787c-.5429.5429-.8787 1.2929-.8787 2.1213 0 1.6569 1.3432 3 3 3 .8284 0 1.5784-.3358 2.1213-.8787"})}))},vR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2.2695v4.1306c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C14.7599 8 15.0399 8 15.6 8h4.1305M14 17H8m8-4H8m12-3.0118V17.2c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C17.7202 22 16.8802 22 15.2 22H8.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C4 19.7202 4 18.8802 4 17.2V6.8c0-1.6802 0-2.5202.327-3.162a3 3 0 0 1 1.311-1.311C6.2798 2 7.1198 2 8.8 2h3.2118c.7337 0 1.1006 0 1.4459.0829.3061.0735.5987.1947.8672.3592.3027.1855.5621.445 1.081.9638l3.1882 3.1882c.5189.5189.7783.7783.9638 1.081.1645.2685.2857.5611.3592.8672C20 8.8876 20 9.2545 20 9.9883"})}))},Yy=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 12h12M3 6h18M9 18h6"})}))},q5=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m13 7-1.1155-2.231c-.3211-.6422-.4816-.9633-.7211-1.1978a2 2 0 0 0-.7473-.4619C10.0992 3 9.7402 3 9.0223 3H5.2c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C2 4.5198 2 5.08 2 6.2V7m0 0h15.2c1.6802 0 2.5202 0 3.162.327a3 3 0 0 1 1.311 1.311C22 9.2798 22 10.1198 22 11.8v4.4c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C19.7202 21 18.8802 21 17.2 21H6.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C2 18.7202 2 17.8802 2 16.2z"})}))},Oi=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2 12h20M2 12c0 5.5228 4.4772 10 10 10M2 12C2 6.4772 6.4772 2 12 2m10 10c0 5.5228-4.4772 10-10 10m10-10c0-5.5228-4.4772-10-10-10m0 0a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10m0-20a15.3 15.3 0 0 0-4 10 15.3 15.3 0 0 0 4 10"})}))},yR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.4 3H4.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 3.76 3 4.04 3 4.6v3.8c0 .56 0 .84.109 1.054.0959.1882.2489.3411.437.437C3.76 10 4.04 10 4.6 10h3.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C10 9.24 10 8.96 10 8.4V4.6c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C9.24 3 8.96 3 8.4 3m11 0h-3.8c-.5601 0-.8401 0-1.054.109a1 1 0 0 0-.437.437C14 3.76 14 4.04 14 4.6v3.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.2139.109.4939.109 1.054.109h3.8c.5601 0 .8401 0 1.054-.109a1 1 0 0 0 .437-.437C21 9.24 21 8.96 21 8.4V4.6c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C20.2401 3 19.9601 3 19.4 3m0 11h-3.8c-.5601 0-.8401 0-1.054.109a1 1 0 0 0-.437.437C14 14.7599 14 15.0399 14 15.6v3.8c0 .5601 0 .8401.109 1.054a1 1 0 0 0 .437.437c.2139.109.4939.109 1.054.109h3.8c.5601 0 .8401 0 1.054-.109a1 1 0 0 0 .437-.437C21 20.2401 21 19.9601 21 19.4v-3.8c0-.5601 0-.8401-.109-1.054a1 1 0 0 0-.437-.437C20.2401 14 19.9601 14 19.4 14m-11 0H4.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 14.7599 3 15.0399 3 15.6v3.8c0 .5601 0 .8401.109 1.054a1 1 0 0 0 .437.437C3.76 21 4.04 21 4.6 21h3.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C10 20.2401 10 19.9601 10 19.4v-3.8c0-.5601 0-.8401-.109-1.054a1 1 0 0 0-.437-.437C9.24 14 8.96 14 8.4 14"})}))},Il=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.09 9a2.9999 2.9999 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.5228-4.4772 10-10 10S2 17.5228 2 12 6.4772 2 12 2s10 4.4772 10 10"})}))},xR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10.5651c0-.5744 0-.8616.074-1.126a2 2 0 0 1 .318-.6502c.1633-.2208.39-.3971.8434-.7498l6.7823-5.2751c.3513-.2732.527-.4099.721-.4624a1 1 0 0 1 .5226 0c.194.0525.3697.1891.721.4624l6.7823 5.2751c.4534.3527.6801.529.8434.7498.1446.1955.2524.4159.318.6502.074.2644.074.5516.074 1.126V17.8c0 1.1201 0 1.6801-.218 2.108a2 2 0 0 1-.874.874C19.4802 21 18.9201 21 17.8 21H6.2c-1.1201 0-1.6802 0-2.108-.218a2 2 0 0 1-.874-.874C3 19.4801 3 18.9201 3 17.8z"})}))},bR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16.2 21H6.9314c-.6059 0-.9088 0-1.049-.1198a.5.5 0 0 1-.1738-.4194c.0145-.1839.2287-.3981.657-.8265l8.503-8.5029c.396-.396.5941-.5941.8224-.6682a1 1 0 0 1 .618 0c.2283.0741.4264.2722.8224.6682L21 15v1.2M16.2 21c1.6802 0 2.5202 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.7202 21 17.8802 21 16.2M16.2 21H7.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.7202 3 17.8802 3 16.2V7.8c0-1.6802 0-2.5202.327-3.162a3 3 0 0 1 1.311-1.311C5.2798 3 6.1198 3 7.8 3h8.4c1.6802 0 2.5202 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.2798 21 6.1198 21 7.8v8.4M10.5 8.5c0 1.1046-.8954 2-2 2s-2-.8954-2-2 .8954-2 2-2 2 .8954 2 2"})}))},la=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16v-4m0-4h.01M22 12c0 5.5228-4.4772 10-10 10S2 17.5228 2 12 6.4772 2 12 2s10 4.4772 10 10"})}))},aC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 4h-9m4 16H5M15 4 9 20"})}))},CR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m12.7076 18.3639-1.4143 1.4142c-1.9526 1.9527-5.1184 1.9527-7.071 0-1.9526-1.9526-1.9526-5.1184 0-7.071l1.4142-1.4142m12.7279 1.4142 1.4142-1.4142c1.9526-1.9527 1.9526-5.1185 0-7.0711s-5.1184-1.9526-7.071 0L11.2933 5.636m-2.7928 9.8639 7-7"})}))},lC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 13a5 5 0 0 0 7.54.54l3-3a5.0002 5.0002 0 0 0-3.553-8.4734A5 5 0 0 0 13.47 3.47l-1.72 1.71M14 11a4.9997 4.9997 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})}))},uC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12H9m12-6H9m12 12H9m-4-6c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1m0-6c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1m0 12c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1"})}))},z5=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m2 7 8.1649 5.7154c.6612.4629.9918.6943 1.3514.7839.3176.0792.6498.0792.9674 0 .3596-.0896.6902-.321 1.3514-.7839L22 7M6.8 20h10.4c1.6802 0 2.5202 0 3.162-.327a3 3 0 0 0 1.311-1.311C22 17.7202 22 16.8802 22 15.2V8.8c0-1.6802 0-2.5202-.327-3.162a3 3 0 0 0-1.311-1.311C19.7202 4 18.8802 4 17.2 4H6.8c-1.6802 0-2.5202 0-3.162.327a3 3 0 0 0-1.311 1.311C2 6.2798 2 7.1198 2 8.8v6.4c0 1.6802 0 2.5202.327 3.162a3 3 0 0 0 1.311 1.311C4.2798 20 5.1198 20 6.8 20"})}))},wR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m10 15-3.0753 3.1137c-.429.4343-.6434.6515-.8277.6668a.5.5 0 0 1-.421-.1729c-.1204-.1404-.1204-.4456-.1204-1.0561v-1.5599c0-.5476-.4485-.9439-.9904-1.0233v0a3 3 0 0 1-2.5335-2.5335C2 12.2186 2 11.9605 2 11.4444V6.8c0-1.6802 0-2.5202.327-3.162a3 3 0 0 1 1.311-1.311C4.2798 2 5.1198 2 6.8 2h7.4c1.6802 0 2.5202 0 3.162.327a3 3 0 0 1 1.311 1.311C19 4.2798 19 5.1198 19 6.8V11m0 11-2.1764-1.5131c-.3059-.2127-.4589-.3191-.6254-.3945a2 2 0 0 0-.4626-.145c-.1798-.0331-.3661-.0331-.7387-.0331H13.2c-1.1201 0-1.6802 0-2.108-.218a2 2 0 0 1-.874-.874C10 18.3944 10 17.8344 10 16.7143V14.2c0-1.1201 0-1.6802.218-2.108a2 2 0 0 1 .874-.874C11.5198 11 12.0799 11 13.2 11h5.6c1.1201 0 1.6802 0 2.108.218.3763.1917.6823.4977.874.874.218.4278.218.9879.218 2.108v2.7143c0 .9319 0 1.3978-.1522 1.7654a2 2 0 0 1-1.0824 1.0823c-.3676.1523-.8335.1523-1.7654.1523z"})}))},fo=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m2.5 21.4998 5.5493-2.1343c.355-.1365.5324-.2048.6984-.2939a3 3 0 0 0 .4203-.2732c.149-.1155.2834-.25.5523-.5189L21 6.9998c1.1046-1.1045 1.1046-2.8954 0-4s-2.8954-1.1046-4 0L5.7203 14.2795c-.269.2689-.4034.4034-.519.5523a3 3 0 0 0-.273.4203c-.0892.166-.1574.3435-.294.6985zm0 0 2.0581-5.351c.1473-.3829.221-.5744.3472-.6621a.5.5 0 0 1 .379-.0804c.151.0288.296.1739.5862.464l2.259 2.2591c.2902.2901.4352.4351.464.5861a.5.5 0 0 1-.0804.379c-.0876.1263-.2791.1999-.662.3472z"})}))},SR=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 17.5h.01M8.2 22h7.6c1.1201 0 1.6802 0 2.108-.218a2 2 0 0 0 .874-.874C19 20.4802 19 19.9201 19 18.8V5.2c0-1.1201 0-1.6802-.218-2.108a2 2 0 0 0-.874-.874C17.4802 2 16.9201 2 15.8 2H8.2c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C5 3.5198 5 4.08 5 5.2v13.6c0 1.1201 0 1.6802.218 2.108.1917.3763.4977.6823.874.874C6.5198 22 7.08 22 8.2 22m4.3-4.5a.5.5 0 1 1-1.0001-.0001A.5.5 0 0 1 12.5 17.5"})}))},hl=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v14m-7-7h14"})}))},ua=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21 21-3.4999-3.5M20 11.5c0 4.6944-3.8056 8.5-8.5 8.5S3 16.1944 3 11.5 6.8056 3 11.5 3 20 6.8056 20 11.5"})}))},ER=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m10.4995 13.5001 10.5-10.5M10.6271 13.828l2.6281 6.758c.2315.5954.3473.893.5141.9799a.5.5 0 0 0 .4615.0003c.1669-.0867.2831-.3842.5153-.9793l6.5903-16.8877c.2097-.5372.3145-.8058.2571-.9775a.5.5 0 0 0-.3158-.3158c-.1716-.0573-.4402.0475-.9774.2571L3.4126 9.2536c-.5951.2322-.8926.3483-.9793.5152a.5.5 0 0 0 .0002.4616c.087.1668.3846.2825.98.5141l6.758 2.6281c.1208.047.1812.0705.2321.1068a.5.5 0 0 1 .1167.1167c.0363.0508.0598.1113.1068.2321"})}))},VR=function(e){return a.jsxs("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:[a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15c1.6569 0 3-1.3431 3-3s-1.3431-3-3-3-3 1.3431-3 3 1.3431 3 3 3"}),a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.7273 14.7273a1.5 1.5 0 0 0 .3 1.6545l.0545.0546a1.818 1.818 0 0 1 0 2.5727 1.8184 1.8184 0 0 1-2.5727 0l-.0546-.0546a1.5 1.5 0 0 0-1.6545-.3 1.5 1.5 0 0 0-.9091 1.3728v.1545a1.8182 1.8182 0 1 1-3.6364 0V20.1a1.5 1.5 0 0 0-.9818-1.3727 1.5 1.5 0 0 0-1.6545.3l-.0546.0545a1.818 1.818 0 0 1-1.9826.3947 1.82 1.82 0 0 1-.59-.3947 1.818 1.818 0 0 1-.5333-1.2863 1.818 1.818 0 0 1 .5332-1.2864l.0545-.0546a1.5 1.5 0 0 0 .3-1.6545 1.5 1.5 0 0 0-1.3727-.9091h-.1545a1.818 1.818 0 0 1-1.2857-3.1038 1.818 1.818 0 0 1 1.2857-.5326H3.9a1.5 1.5 0 0 0 1.3727-.9818 1.5 1.5 0 0 0-.3-1.6545l-.0545-.0546a1.818 1.818 0 0 1 0-2.5727 1.818 1.818 0 0 1 2.5727 0l.0545.0545a1.5 1.5 0 0 0 1.6546.3h.0727a1.5 1.5 0 0 0 .9091-1.3727v-.1545a1.8182 1.8182 0 0 1 3.6364 0V3.9a1.5 1.5 0 0 0 .9091 1.3727 1.5 1.5 0 0 0 1.6545-.3l.0546-.0545a1.817 1.817 0 0 1 1.2863-.5333 1.818 1.818 0 0 1 1.2864.5333 1.819 1.819 0 0 1 .3946 1.9826 1.82 1.82 0 0 1-.3946.5901l-.0546.0545a1.501 1.501 0 0 0-.3 1.6546v.0727a1.5 1.5 0 0 0 1.3728.9091h.1545a1.8183 1.8183 0 0 1 0 3.6364H20.1a1.5 1.5 0 0 0-1.3727.9091"})]}))},dC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 6v-.8c0-1.1201 0-1.6802-.218-2.108a2 2 0 0 0-.874-.874C14.4802 2 13.9201 2 12.8 2h-1.6c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C8 3.5198 8 4.08 8 5.2V6m2 5.5v5m4-5v5M3 6h18m-2 0v11.2c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C16.7202 22 15.8802 22 14.2 22H9.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 19.7202 5 18.8802 5 17.2V6"})}))},Tl=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3h6M3 6h18m-2 0-.7013 10.5193c-.1052 1.5782-.1578 2.3674-.4987 2.9657a3 3 0 0 1-1.2983 1.2147C15.882 21 15.0911 21 13.5093 21h-3.0186c-1.5818 0-2.3727 0-2.9924-.3003A3 3 0 0 1 6.2 19.485c-.3409-.5983-.3935-1.3875-.4987-2.9657L5 6m5 4.5v5m4-5v5"})}))},cC=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 4v7c0 3.3137-2.6863 6-6 6s-6-2.6863-6-6V4M4 21h16"})}))},kl=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v1.2c0 1.6802 0 2.5202-.327 3.162a3 3 0 0 1-1.311 1.311C18.7202 21 17.8802 21 16.2 21H7.8c-1.6802 0-2.5202 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.7202 3 17.8802 3 16.2V15m14-7-5-5m0 0L7 8m5-5v12"})}))},pl=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 21c0-1.3956 0-2.0933-.1722-2.6611a4 4 0 0 0-2.6667-2.6667C16.5933 15.5 15.8956 15.5 14.5 15.5h-5c-1.3956 0-2.0933 0-2.6611.1722a4 4 0 0 0-2.6667 2.6667C4 18.9067 4 19.6044 4 21M16.5 7.5c0 2.4853-2.0147 4.5-4.5 4.5S7.5 9.9853 7.5 7.5 9.5147 3 12 3s4.5 2.0147 4.5 4.5"})}))},H5=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M22 21v-2c0-1.8638-1.2748-3.4299-3-3.874M15.5 3.2908C16.9659 3.8842 18 5.3213 18 7s-1.0341 3.1159-2.5 3.7092M17 21c0-1.8638 0-2.7956-.3045-3.5307a4 4 0 0 0-2.1648-2.1648C13.7956 15 12.8638 15 11 15H8c-1.8638 0-2.7957 0-3.5307.3045a4 4 0 0 0-2.1648 2.1648C2 18.2044 2 19.1362 2 21M13.5 7c0 2.2091-1.7909 4-4 4s-4-1.7909-4-4 1.7909-4 4-4 4 1.7909 4 4"})}))},Xy=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 7 7 17M7 7l10 10"})}))},hi=function(e){return a.jsx("svg",We({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e,{children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6 6 18M6 6l12 12"})}))};const Q5=({pages:r,currentPage:e,currentPageName:t,onPageSelect:s,onShowComponentSidebar:i,onBackClick:n})=>(Ie.useEffect(()=>{console.log(" PageSidebar rendered - onBackClick:",typeof n,n?"provided":"missing")},[n]),a.jsxs("aside",{className:"flex h-full w-[280px] min-w-[280px] flex-shrink-0 flex-col border-r border-slate-200 bg-white",children:[a.jsxs("header",{className:"px-4 pb-3 pt-2",children:[a.jsx("div",{className:"flex items-center mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:o=>{o.preventDefault(),o.stopPropagation(),console.log(" Back button clicked in PageSidebar"),n()},className:"flex h-6 w-6 items-center justify-center text-slate-600 hover:text-slate-900 transition-colors","aria-label":"Go back",children:a.jsx(Jy,{className:"h-5 w-5"})}),a.jsx("div",{className:"h-4 w-px bg-slate-300"})]}),i&&a.jsx("button",{type:"button",onClick:i,className:"flex h-6 w-6 items-center justify-center rounded border border-slate-200 bg-white text-slate-500 transition hover:bg-slate-100","aria-label":"Show component sidebar",children:a.jsx("svg",{"aria-hidden":"true",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})}),a.jsx("h2",{className:"text-[13px] font-bold uppercase tracking-[0.05em] text-slate-700 mt-4",children:"Website Pages"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-3",children:[...r].sort((o,l)=>o.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"})).map(o=>{const l=o.id===e||o.name===t;return a.jsxs("button",{type:"button",onClick:()=>s(o.id),className:ci("mb-1 flex w-full items-center rounded-md px-3 py-2 text-sm relative overflow-hidden","transition-all duration-300 ease-in-out","transform",l?"bg-[#6938EF]/10 font-semibold text-[#6938EF] shadow-sm scale-[1.02]":"text-slate-700 hover:bg-slate-50 hover:text-slate-900 font-normal hover:scale-[1.01]"),children:[l&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#6938EF] rounded-r-full transition-all duration-300 ease-in-out"}),a.jsx("span",{className:ci("truncate relative z-10 transition-all duration-300",l?"ml-1":"ml-0"),children:o.name})]},o.id)})})]})),hC=(...r)=>r.filter(Boolean).join(" "),Qi=({isVisible:r,onClose:e,title:t,subtitle:s,children:i,footer:n,width:o,height:l,maxWidth:u,maxHeight:c,zIndex:h=1e4,padding:p,borderRadius:m=16,showCloseButton:v=!0,customHeader:f,showHeaderBorder:b,containerStyle:x,contentStyle:g})=>{if(!r)return null;const y=(p==null?void 0:p.top)??24,w=(p==null?void 0:p.right)??16,S=(p==null?void 0:p.bottom)??24,P=(p==null?void 0:p.left)??16,V=s||f?16:0,I={zIndex:h,...x},R={...{...typeof o<"u"?{width:typeof o=="number"?`${o}px`:o}:{},...typeof l<"u"?{height:typeof l=="number"?`${l}px`:l}:{},...typeof u<"u"?{maxWidth:typeof u=="number"?`${u}px`:u}:{},...typeof c<"u"?{maxHeight:typeof c=="number"?`${c}px`:c}:{}},borderRadius:typeof m=="number"?`${m}px`:m,"--modal-padding-top":`${y}px`,"--modal-padding-right":`${w}px`,"--modal-padding-bottom":`${S}px`,"--modal-padding-left":`${P}px`,"--modal-header-bottom":`${V}px`,...g};return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center overflow-auto bg-black/50 p-0",style:I,onClick:C=>{C.target===C.currentTarget&&e()},children:a.jsxs("div",{className:"relative flex w-full max-w-[90vw] flex-col overflow-hidden rounded-2xl bg-white shadow-2xl max-h-[90vh]",style:R,onClick:C=>C.stopPropagation(),children:[(f||t)&&a.jsx("div",{className:hC("flex flex-col border-slate-200","pl-[var(--modal-padding-left)]","pr-[var(--modal-padding-right)]","pt-[var(--modal-padding-top)]","pb-[var(--modal-header-bottom)]",b!==void 0?b?"border-b":"":s||f?"border-b":""),children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:f||a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:t}),s&&a.jsx("p",{className:"text-sm text-slate-500",children:s})]})}),v&&a.jsx("button",{type:"button",onClick:e,className:"inline-flex h-9 w-9 m-4 items-center justify-center rounded-md text-slate-500 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:a.jsx(hi,{className:"h-5 w-5"})})]})}),a.jsx("div",{className:hC("flex min-h-0 flex-1 flex-col overflow-y-auto overflow-x-hidden","pl-[var(--modal-padding-left)] pr-[var(--modal-padding-right)]",n?"pb-0":"pb-[var(--modal-padding-bottom)]",f||t?"pt-0":"pt-[var(--modal-padding-top)]"),children:i}),n&&a.jsx("div",{className:"flex w-full flex-shrink-0 flex-col border-t border-slate-200 bg-white px-[var(--modal-padding-left)] pb-0 pt-4",children:n})]})})},zd=({checked:r,indeterminate:e,onChange:t,ariaLabel:s})=>{const i=Ie.useRef(null);return Ie.useEffect(()=>{i.current&&(i.current.indeterminate=e)},[e]),a.jsx("input",{ref:i,type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":s,checked:r,onChange:n=>t(n.target.checked)})},e0=({currentPage:r,totalPages:e,onPageChange:t})=>{if(e<=1)return null;const s=[];if(e<=7)for(let n=1;n<=e;n++)s.push(n);else if(r<=3){for(let n=1;n<=3;n++)s.push(n);s.push("..."),s.push(e-1),s.push(e)}else if(r>=e-2){s.push(1),s.push(2),s.push("...");for(let n=e-2;n<=e;n++)s.push(n)}else{s.push(1),s.push("...");for(let n=r-1;n<=r+1;n++)s.push(n);s.push("..."),s.push(e)}return a.jsxs("div",{className:"flex items-center justify-center gap-2 border-t border-slate-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:()=>t(Math.max(1,r-1)),disabled:r===1,className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:" Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:s.map((n,o)=>{if(n==="...")return a.jsx("span",{className:"px-2 text-sm text-slate-500",children:"..."},`ellipsis-${o}`);const l=n,u=r===l;return a.jsx("button",{type:"button",onClick:()=>t(l),className:`rounded-md px-3 py-2 text-sm font-medium transition ${u?"bg-primary text-white":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:l},l)})}),a.jsx("button",{type:"button",onClick:()=>t(Math.min(e,r+1)),disabled:r===e,className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Next "})]})},t0=({tabs:r,activeTabId:e,searchQuery:t,searchPlaceholder:s="Search...",onTabChange:i,onSearchChange:n,onFilterClick:o,showFilter:l=!0,filterLabel:u="Filter",customActions:c})=>d.useMemo(()=>({leading:a.jsx("div",{className:"flex gap-6 border-b border-slate-200 -mb-6 -ml-6",children:r.map(m=>{const v=e===m.id;return a.jsx("button",{type:"button",onClick:()=>i(m.id),className:`pb-3 px-1 text-[15px] font-medium font-semibold transition-colors relative whitespace-nowrap ${v?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:m.label},m.id)})}),actions:a.jsxs("div",{className:"flex w-full flex-row items-center gap-2 md:w-auto md:gap-4 md:-mb-4 md:-mr-6 -mt-6",children:[a.jsxs("div",{className:"flex flex-1 md:flex-none w-full md:w-auto max-w-2xl border border-slate-200 rounded-md overflow-hidden",children:[a.jsx("input",{type:"search",value:t,onChange:m=>n(m.target.value),placeholder:s,className:"w-full md:w-[350px] px-3 py-2 text-sm text-slate-600 focus:outline-none min-w-0","aria-label":s}),a.jsx("button",{type:"button",className:`inline-flex h-full -mr-1 items-center justify-center bg-primary px-3 py-2.5 text-white transition \r
              hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40`,"aria-label":"Search",children:a.jsx(ua,{className:"h-4 w-4 ",strokeWidth:2})})]}),c,l&&a.jsx("button",{type:"button",onClick:o,className:`inline-flex shrink-0 h-10 w-10 items-center justify-center rounded-md border border-slate-200 \r
                bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none \r
                focus-visible:ring-2 focus-visible:ring-primary/40`,"aria-label":u,children:a.jsx(Yy,{className:"h-4 w-4",strokeWidth:2})})]})}),[r,e,t,s,i,n,o,l,u,c]),PR=[{id:"attendee",title:"Attendee page",description:"List out users"},{id:"schedule",title:"Schedule page",description:"Create sessions"},{id:"html-general",title:"HTML/General page",description:"Create welcome page, venue, etc."},{id:"folder",title:"Folder",description:"Create folders"},{id:"organization",title:"Organization page",description:"List partners, exhibitors"},{id:"hyperlink",title:"Hyperlink",description:"Insert any link"},{id:"qr-scanner",title:"App QR Scanner",description:"Add QR code"},{id:"documents",title:"Documents list",description:"List your documents"},{id:"gallery",title:"Gallery page",description:"List partners, exhibitors"},{id:"forms",title:"Forms",description:"Insert any link"},{id:"meeting-room",title:"Meeting room",description:"Add QR code"}],s0=({isVisible:r,onClose:e,onSelect:t})=>{const[s,i]=d.useState("attendee"),n=()=>{e(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{t(s)})})},o=a.jsxs("div",{className:"flex w-full items-center justify-between px-6 pb-6 pt-1.5",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-slate-500 transition hover:bg-slate-100",children:[a.jsx(Il,{className:"h-4 w-4","aria-hidden":"true"}),"Need help?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"min-w-[80px] rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-slate-400 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:n,"data-modal-select-button":"true",className:"min-w-[80px] rounded-md bg-[#6938EF] px-4 py-2 text-sm font-medium text-white transition hover:bg-[#5925DC]",children:"Select"})]})]}),l="relative flex w-full cursor-pointer flex-col gap-1 rounded-lg border bg-white p-3 transition hover:border-primary/40 hover:bg-primary/5 focus:outline-none",u=c=>{const h=s===c.id;return a.jsxs("button",{type:"button",onClick:()=>i(c.id),className:ci(l,h?"border-2 border-[#6938EF] bg-[#6938EF]/10":"border-slate-200"),children:[a.jsxs("div",{className:"flex flex-1 flex-col gap-1 pr-9 text-left",children:[a.jsx("span",{className:ci("text-[15px] font-semibold",h?"text-[#6938EF]":"text-slate-900"),children:c.title}),a.jsx("span",{className:"line-clamp-1 text-[13px] text-slate-500",children:c.description})]}),a.jsx("span",{className:ci("absolute right-3 top-3 h-5 w-5 rounded-full border transition",h?"border-[6px] border-[#6938EF]":"border-2 border-slate-300"),"aria-hidden":"true"})]},c.id)};return a.jsx(Qi,{isVisible:r,onClose:e,title:"Pages",width:900,maxWidth:900,maxHeight:"90vh",borderRadius:16,footer:o,zIndex:1e4,padding:{top:0,right:0,bottom:0,left:0},customHeader:a.jsx("div",{className:"flex w-full items-center justify-between px-6 pt-6 pb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pages"})}),contentStyle:{padding:0},children:a.jsx("div",{className:"grid grid-cols-3 gap-3 px-6 pb-6 mt-4",children:PR.map(c=>u(c))})})},IR=[{id:"empty",title:"Empty block",description:"Create custom block."},{id:"lists",title:"Lists",description:"List."},{id:"hero",title:"Hero",description:"Hero block."},{id:"speakers",title:"Speakers",description:"List of speakers."},{id:"gallery",title:"Gallery",description:"Photo gallery."},{id:"location",title:"Location",description:"Venue/ location."}],TR=({isVisible:r,onClose:e,onSelect:t})=>{const[s,i]=d.useState("empty"),n=()=>{const l=s;e(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{t(l)})})},o=a.jsxs("div",{className:"flex w-full items-center justify-between px-6 pb-6 pt-4",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-slate-500 transition hover:bg-slate-100",children:[a.jsx(Il,{className:"h-4 w-4","aria-hidden":"true"}),"Need help?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"min-w-[80px] rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-slate-400 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:n,"data-modal-select-button":"true",className:"min-w-[80px] rounded-md bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90",children:"Select"})]})]});return a.jsx(Qi,{isVisible:r,onClose:e,title:"Select block type",subtitle:"Select a style for your block.",width:560,height:414,maxWidth:560,borderRadius:16,padding:{top:24,right:16,bottom:24,left:16},footer:o,zIndex:1e4,contentStyle:{padding:0},children:a.jsx("div",{className:"grid place-items-center gap-4 px-6 py-5 sm:grid-cols-2",children:IR.map(l=>{const u=s===l.id;return a.jsxs("button",{type:"button",onClick:()=>i(l.id),className:ci("relative flex h-16 w-[240px] max-w-[240px] flex-col gap-1 rounded-lg border bg-white p-3 text-left transition hover:border-primary/40 hover:bg-primary/5 focus:outline-none",u?"border-2 border-primary bg-primary/5":"border-slate-200"),children:[a.jsxs("div",{className:"flex flex-1 flex-col gap-1 pr-9",children:[a.jsx("span",{className:"truncate text-[15px] font-semibold text-slate-900",children:l.title}),a.jsx("span",{className:"line-clamp-2 text-[13px] text-slate-500",children:l.description})]}),a.jsx("span",{className:ci("absolute right-3 top-3 h-5 w-5 rounded-full border transition",u?"border-[6px] border-primary":"border-2 border-slate-300"),"aria-hidden":"true"})]},l.id)})})})},vo=({eventName:r="Highly important conference of 2025",isDraft:e=!0,onBackClick:t,onSearchClick:s,onNotificationClick:i,onProfileClick:n,userAvatarUrl:o})=>a.jsxs("nav",{"data-preserve-color":"true",className:"fixed top-0 left-0 z-[1000] flex h-16 w-full items-center justify-between border-b border-slate-800/20 bg-[#1e1b4b] px-4 text-white shadow-md sm:px-6",children:[a.jsxs("div",{className:"flex min-w-0 items-center gap-3 sm:gap-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex shrink-0 items-center rounded-full p-2 text-white transition-opacity hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60","aria-label":"Go back",children:a.jsx(Jy,{className:"h-5 w-5","aria-hidden":"true"})}),a.jsx("div",{className:"hidden h-7 w-px bg-white/30 sm:block","aria-hidden":"true"}),a.jsx("span",{className:"truncate text-sm font-medium text-white sm:text-base",children:r}),e&&a.jsx("span",{className:"hidden shrink-0 rounded-full bg-white px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide text-slate-800 sm:inline-flex sm:text-xs",children:"Draft"})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("button",{type:"button",onClick:s,className:"flex items-center rounded-full p-2 text-white transition-opacity hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60","aria-label":"Search",children:a.jsx(ua,{className:"h-5 w-5","aria-hidden":"true"})}),a.jsx("button",{type:"button",onClick:i,className:"flex items-center rounded-full p-2 text-white transition-opacity hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60","aria-label":"Notifications",children:a.jsx(Ky,{className:"h-5 w-5","aria-hidden":"true"})}),a.jsx("button",{type:"button",onClick:n,className:"flex items-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60","aria-label":"Profile",children:o?a.jsx("img",{src:o,alt:"User profile",className:"h-9 w-9 rounded-full border-2 border-white object-cover"}):a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full border-2 border-white bg-primary/70 text-white",children:a.jsx(pl,{className:"h-4 w-4","aria-hidden":"true"})})})]})]}),kR=[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"})}],Nl=({items:r=kR,activeItemId:e="event-hub",onItemClick:t,isModalOpen:s=!1})=>{const[i,n]=Ie.useState(!1),[o,l]=Ie.useState([]),u=e||"event-hub";Ie.useEffect(()=>{const f=[];r.forEach(b=>{if(b.subItems&&b.subItems.length>0){const x=b.id===u,g=b.subItems.some(y=>y.id===u);(x||g)&&f.push(b.id)}}),l(f)},[u,r]);const c=(f,b)=>{b?l(x=>x.includes(f)?x.filter(g=>g!==f):[...x,f]):(t&&t(f),n(!1))},h=f=>{t&&t(f),n(!1)},p=()=>{n(f=>!f)},m=f=>o.includes(f),v=f=>!!(f.subItems&&f.subItems.length>0);return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:p,className:"fixed left-4 top-[65px] z-[1000] flex h-8 w-8 items-center justify-center rounded-md border border-slate-50 bg-white text-slate-600 shadow-md transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 md:hidden","aria-label":"Toggle navigation",children:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M3 6H21"}),a.jsx("path",{d:"M3 12H21"}),a.jsx("path",{d:"M3 18H21"})]})}),i&&a.jsx("div",{className:"fixed inset-0 z-[998] bg-black/20 backdrop-blur-sm md:hidden",onClick:()=>n(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 z-[999] h-screen w-[250px] border-r border-slate-200 bg-white shadow-md pt-20 transition-all duration-300 md:translate-x-0 ${i?"translate-x-0":"-translate-x-full md:translate-x-0"} ${s?"backdrop-blur-sm bg-white/80":""}`,children:a.jsx("div",{className:"py-5",children:r.map(f=>{var S;const b=f.id===u,x=(S=f.subItems)==null?void 0:S.some(P=>P.id===u),g=b||x,y=v(f),w=m(f.id);return a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>c(f.id,y),className:`group flex w-full transform items-center gap-3 border-l-4 px-6 py-3.5 text-left transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${g?"border-l-primary bg-slate-100 shadow-md translate-x-[2px] font-semibold text-slate-700":"border-l-transparent text-slate-600 hover:border-l-slate-300 hover:bg-slate-100 hover:text-slate-700 hover:translate-x-[2px] hover:shadow-md"}`,children:[f.icon&&a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-white/60 text-slate-500 group-hover:text-primary","aria-hidden":"true",children:f.icon}),a.jsx("span",{className:"flex-1 justify-start text-base font-semibold font-['Inter'] leading-6 transition-colors duration-200 ease-out group-hover:text-slate-700",children:f.label}),y&&a.jsx("svg",{className:`h-4 w-4 text-slate-500 transition-transform duration-200 ${w?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),y&&w&&a.jsx("div",{className:"bg-slate-50/50",children:f.subItems.map(P=>{const V=P.id===u;return a.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),h(P.id)},className:`group flex w-full transform items-center gap-3 border-l-4 pl-12 pr-6 py-2.5 text-left transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${V?"border-l-primary bg-slate-100 shadow-sm translate-x-[2px] font-semibold text-slate-700":"border-l-transparent text-slate-500 hover:border-l-slate-300 hover:bg-slate-100 hover:text-slate-700 hover:translate-x-[2px]"}`,children:[P.icon&&a.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-white/60 text-slate-400 group-hover:text-primary","aria-hidden":"true",children:P.icon}),a.jsx("span",{className:"justify-start text-sm font-medium font-['Inter'] leading-5 transition-colors duration-200 ease-out group-hover:text-slate-700",children:P.label})]},P.id)})})]},f.id)})})})]})},Ys=[{id:"communications",title:"Communications",icon:a.jsx(wR,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"Send broadcasts, announcements, and updates to keep attendees informed throughout the event."}]},{id:"resource-management",title:"Resource Management",icon:a.jsx(q5,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"Organize and share event materials, documents, and files with your team and attendees."}]},{id:"attendee-management",title:"Attendee Management",icon:a.jsx(H5,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"Track registrations, manage check-ins, and monitor attendee engagement in real-time."}]},{id:"schedule-session",title:"Schedule/Session",icon:a.jsx(md,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"Create event schedules, manage sessions, and help attendees plan their experience."}]},{id:"analytics",title:"Analytics",icon:a.jsx(lR,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"View attendance metrics, engagement data, and insights to measure event success.",value:"+12%"}]},{id:"website-settings",title:"Website Settings",icon:a.jsx(Oi,{className:"h-5 w-5","aria-hidden":"true"}),items:[{label:"Customize your event website, branding, and public-facing pages."}]}],NR=({title:r="Event Hub",cards:e=Ys,onCardClick:t})=>a.jsx("main",{className:"mt-16 min-h-[calc(100vh-4rem)] bg-white px-4 pb-10 pt-8 md:px-8",children:a.jsx("h1",{className:"mb-8 text-3xl font-bold text-primary-dark md:text-[32px] ",children:r})}),Qu=Ie.forwardRef(({label:r,description:e,error:t,icon:s,iconPosition:i="left",className:n="",type:o="text",...l},u)=>a.jsxs("label",{className:"flex w-full flex-col gap-1",children:[r&&a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:r}),a.jsxs("div",{className:"relative",children:[s&&a.jsx("span",{className:`absolute top-1/2 flex -translate-y-1/2 items-center justify-center text-slate-400 ${i==="left"?"left-3":"right-3"}`,children:s}),a.jsx("input",{ref:u,type:o,className:`w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${s?i==="left"?"pl-9":"pr-9":""} ${t?"border-rose-400 focus:border-rose-500 focus:ring-rose-200":""} ${n}`,...l})]}),e&&!t&&a.jsx("span",{className:"text-xs text-slate-400",children:e}),t&&a.jsx("span",{className:"text-xs text-rose-500",children:t})]}));Qu.displayName="Input";const Jf=Ie.forwardRef(({label:r,description:e,error:t,options:s,className:i="",showCaret:n=!0,optionClassName:o="",...l},u)=>a.jsxs("label",{className:"flex w-full flex-col gap-1",children:[r&&a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:r}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{ref:u,className:`w-full appearance-none rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${t?"border-rose-400 focus:border-rose-500 focus:ring-rose-200":""} ${i}`,...l,children:s.map(c=>a.jsx("option",{value:c.value,className:o,children:c.label},c.value))}),n&&a.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:a.jsx("path",{d:"m6 9 6 6 6-6"})})]}),e&&!t&&a.jsx("span",{className:"text-xs text-slate-400",children:e}),t&&a.jsx("span",{className:"text-xs text-rose-500",children:t})]}));Jf.displayName="Select";const RR=r=>{const e=r.getFullYear(),t=`${r.getMonth()+1}`.padStart(2,"0"),s=`${r.getDate()}`.padStart(2,"0");return`${e}-${t}-${s}`},LR=r=>{if(!r)return null;const[e,t,s]=r.split("-").map(Number);if(!e||!t||!s)return null;const i=new Date(e,t-1,s);return Number.isNaN(i.getTime())?null:i},AR=r=>{const e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0),s=e.getDay(),i=t.getDate(),n=[];for(let o=0;o<s;o+=1)n.push(null);for(let o=1;o<=i;o+=1)n.push(new Date(r.getFullYear(),r.getMonth(),o));for(;n.length%7!==0;)n.push(null);return n},pC=({id:r,value:e,onChange:t,placeholder:s="Select date",label:i,disabled:n=!1})=>{const o=d.useMemo(()=>LR(e),[e]),[l,u]=d.useState(!1),[c,h]=d.useState(()=>o??new Date),p=d.useRef(null),m=d.useMemo(()=>o?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(o):"",[o]),v=d.useCallback(y=>{p.current&&(p.current.contains(y.target)||u(!1))},[]);d.useEffect(()=>{if(l)return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[l,v]),d.useEffect(()=>{o&&h(o)},[o]);const f=y=>{t(RR(y)),u(!1)},b=()=>{n||u(y=>!y)},x=d.useMemo(()=>AR(new Date(c)),[c]),g=(y,w)=>!y||!w?!1:y.getFullYear()===w.getFullYear()&&y.getMonth()===w.getMonth()&&y.getDate()===w.getDate();return a.jsxs("div",{ref:p,className:"relative w-full text-left",children:[i&&a.jsx("label",{htmlFor:r,className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:i}),a.jsxs("button",{type:"button",id:r,onClick:b,disabled:n,className:`flex w-full items-center justify-between rounded-lg border px-4 py-2.5 text-sm font-semibold transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${n?"cursor-not-allowed border-slate-200 bg-slate-50 text-slate-400":"border-slate-300 bg-white text-slate-600 hover:border-slate-400"}`,children:[a.jsx("span",{className:m?"text-slate-700":"text-slate-400",children:m||s}),a.jsxs("svg",{className:"h-4 w-4 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("path",{d:"M3 8H21"}),a.jsx("path",{d:"M16 2V6"}),a.jsx("path",{d:"M8 2V6"}),a.jsx("rect",{x:"3",y:"6",width:"18",height:"15",rx:"2"})]})]}),l&&a.jsxs("div",{className:"absolute right-0 z-50 mt-2 w-[320px] max-w-full rounded-2xl border border-slate-200 bg-white p-4 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between pb-3",children:[a.jsx("button",{type:"button",onClick:()=>h(new Date(c.getFullYear(),c.getMonth()-1,1)),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30","aria-label":"Previous month",children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"m15 18-6-6 6-6"})})}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(c)}),a.jsx("button",{type:"button",onClick:()=>h(new Date(c.getFullYear(),c.getMonth()+1,1)),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30","aria-label":"Next month",children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"m9 6 6 6-6 6"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium uppercase text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(y=>a.jsx("span",{children:y},y))}),a.jsx("div",{className:"mt-2 grid grid-cols-7 gap-1 text-sm",children:x.map((y,w)=>{if(!y)return a.jsx("span",{className:"h-9 w-9"},`empty-${w}`);const S=g(y,o),P=g(y,new Date);return a.jsx("button",{type:"button",onClick:()=>f(y),className:`flex h-9 w-9 items-center justify-center rounded-full transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${S?"bg-primary text-white":"text-slate-600 hover:bg-primary/10"} ${P&&!S?"border border-primary/40":""}`,children:y.getDate()},y.toISOString())})})]})]})},DR=r=>{const e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0),s=e.getDay(),i=t.getDate(),n=[];for(let o=0;o<s;o+=1)n.push(null);for(let o=1;o<=i;o+=1)n.push(new Date(r.getFullYear(),r.getMonth(),o));for(;n.length%7!==0;)n.push(null);return n},MR=({id:r,value:e,onChange:t,placeholder:s="Select date range",disabled:i=!1})=>{const[n,o]=d.useState(!1),[l,u]=d.useState(new Date),[c,h]=d.useState((e==null?void 0:e.start)||null),[p,m]=d.useState((e==null?void 0:e.end)||null),v=d.useRef(null);d.useEffect(()=>{h((e==null?void 0:e.start)||null),m((e==null?void 0:e.end)||null),e!=null&&e.start&&u(e.start)},[e]);const f=d.useMemo(()=>{if(!(e!=null&&e.start)&&!(e!=null&&e.end))return"";if(e.start&&e.end){const L=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e.start),D=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e.end);return`${L}  ${D}`}return e.start?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e.start):""},[e]),b=d.useMemo(()=>{if(!(e!=null&&e.start)&&!(e!=null&&e.end))return"";if(e.start&&e.end){const L=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e.start),D=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e.end);return`${L}  ${D}`}return e.start?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e.start):""},[e]),x=d.useCallback(L=>{v.current&&(v.current.contains(L.target)||o(!1))},[]);d.useEffect(()=>{if(n)return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[n,x]);const g=()=>{i||o(L=>!L)},y=d.useMemo(()=>DR(new Date(l)),[l]),w=(L,D)=>!L||!D?!1:L.getFullYear()===D.getFullYear()&&L.getMonth()===D.getMonth()&&L.getDate()===D.getDate(),S=(L,D,q)=>{if(!L||!D||!q)return!1;const U=new Date(D.getFullYear(),D.getMonth(),D.getDate()).getTime(),$=new Date(q.getFullYear(),q.getMonth(),q.getDate()).getTime(),K=new Date(L.getFullYear(),L.getMonth(),L.getDate()).getTime();return K>=U&&K<=$},P=(L,D)=>!L||!D?!1:w(L,D),V=(L,D)=>!L||!D?!1:w(L,D),I=(L,D,q,U)=>{if(!q||!U)return null;const $=D%7,K=$===0,M=$===6,j=S(L,q,U),B=P(L,q),Q=V(L,U);if(!j)return null;const G=new Date(L);G.setDate(L.getDate()-1);const X=new Date(L);X.setDate(L.getDate()+1);const de=S(G,q,U),se=S(X,q,U);return B&&Q?"single":B?M?"start-end-row":"start":Q?K?"start-end-row":"end":K&&!de?"start":M&&!se?"end":!de&&!se?"middle":de?se?"middle":"end":"start"},E=L=>{!c||c&&p?(h(L),m(null)):c&&!p&&(L<c?(m(c),h(L)):m(L))},R=()=>{h(null),m(null),t({start:null,end:null}),o(!1)},C=()=>{c&&p&&(t({start:c,end:p}),o(!1))},k=L=>L?w(L,new Date):!1;return a.jsxs("div",{ref:v,className:"relative text-left",children:[a.jsxs("button",{type:"button",id:r,onClick:g,disabled:i,className:`flex items-center justify-center gap-2 rounded-lg border border-[#D5D7DA] bg-white px-4 py-2 text-sm font-medium text-slate-700 transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 whitespace-nowrap ${i?"cursor-not-allowed border-slate-200 bg-slate-50 text-slate-400":"hover:bg-slate-50 hover:border-slate-300"}`,children:[a.jsxs("svg",{className:"h-4 w-4 text-slate-500 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("path",{d:"M3 8H21"}),a.jsx("path",{d:"M16 2V6"}),a.jsx("path",{d:"M8 2V6"}),a.jsx("rect",{x:"3",y:"6",width:"18",height:"15",rx:"2"})]}),a.jsxs("span",{className:f?"text-slate-700":"text-slate-400",children:[a.jsx("span",{className:"hidden sm:inline",children:f||s}),a.jsx("span",{className:"sm:hidden",children:b||"Date Range"})]})]}),n&&a.jsxs("div",{className:"absolute right-0 z-50 mt-2 w-[300px] max-w-[calc(100vw-2rem)] rounded-xl border border-slate-200 bg-white p-3 shadow-[0_10px_40px_rgba(0,0,0,0.1)]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("button",{type:"button",onClick:()=>u(new Date(l.getFullYear(),l.getMonth()-1,1)),className:"inline-flex h-7 w-7 items-center justify-center rounded-lg text-slate-600 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30","aria-label":"Previous month",children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"m15 18-6-6 6-6"})})}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(l)}),a.jsx("button",{type:"button",onClick:()=>u(new Date(l.getFullYear(),l.getMonth()+1,1)),className:"inline-flex h-7 w-7 items-center justify-center rounded-lg text-slate-600 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30","aria-label":"Next month",children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"m9 6 6 6-6 6"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(L=>a.jsx("div",{className:"h-6 flex items-center justify-center text-xs font-medium text-slate-500",children:L},L))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((L,D)=>{if(!L)return a.jsx("div",{className:"h-8"},`empty-${D}`);const q=w(L,c),U=w(L,p),$=c&&p&&S(L,c,p),K=q||U,M=k(L),j=c&&p?I(L,D,c,p):null;let B="";return $&&!K&&(j==="single"?B="rounded-full":j==="start"?B="rounded-l-full":j==="end"?B="rounded-r-full":j==="start-end-row"?B="rounded-full":B=""),a.jsx("button",{type:"button",onClick:()=>E(L),className:`relative h-8 flex items-center justify-center text-sm font-medium transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${K?"bg-[#6938EF] text-white rounded-full z-10 font-semibold shadow-sm":$?`bg-[#6938EF]/10 text-slate-900 ${B} hover:bg-[#6938EF]/15`:"text-slate-700 hover:bg-slate-100 rounded-full"} ${M&&!K?"ring-2 ring-[#6938EF]/30":""}`,children:a.jsx("span",{className:"relative z-10",children:L.getDate()})},L.toISOString())})}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex items-center justify-between gap-3",children:[a.jsx("button",{type:"button",onClick:R,className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors",children:"Clear"}),a.jsx("button",{type:"button",onClick:C,disabled:!c||!p,className:"flex-1 rounded-lg bg-[#6938EF] px-3 py-1.5 text-sm font-semibold text-white hover:bg-[#5925DC] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[#6938EF]",children:"Apply"})]})]})]})},mC=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,gC=ci,W5=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return gC(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:n}=e,o=Object.keys(i).map(c=>{const h=t==null?void 0:t[c],p=n==null?void 0:n[c];if(h===null)return null;const m=mC(h)||mC(p);return i[c][m]}),l=t&&Object.entries(t).reduce((c,h)=>{let[p,m]=h;return m===void 0||(c[p]=m),c},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,h)=>{let{class:p,className:m,...v}=h;return Object.entries(v).every(f=>{let[b,x]=f;return Array.isArray(x)?x.includes({...n,...l}[b]):{...n,...l}[b]===x})?[...c,p,m]:c},[]);return gC(r,o,u,t==null?void 0:t.class,t==null?void 0:t.className)},r0="-",jR=r=>{const e=OR(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:o=>{const l=o.split(r0);return l[0]===""&&l.length!==1&&l.shift(),U5(l,e)||_R(o)},getConflictingClassGroupIds:(o,l)=>{const u=t[o]||[];return l&&s[o]?[...u,...s[o]]:u}}},U5=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),i=s?U5(r.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const n=r.join(r0);return(o=e.validators.find(({validator:l})=>l(n)))==null?void 0:o.classGroupId},fC=/^\[(.+)\]$/,_R=r=>{if(fC.test(r)){const e=fC.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},OR=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const i in t)Kf(t[i],s,i,e);return s},Kf=(r,e,t,s)=>{r.forEach(i=>{if(typeof i=="string"){const n=i===""?e:vC(e,i);n.classGroupId=t;return}if(typeof i=="function"){if(FR(i)){Kf(i(s),e,t,s);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([n,o])=>{Kf(o,vC(e,n),t,s)})})},vC=(r,e)=>{let t=r;return e.split(r0).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},FR=r=>r.isThemeGetter,BR=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const i=(n,o)=>{t.set(n,o),e++,e>r&&(e=0,s=t,t=new Map)};return{get(n){let o=t.get(n);if(o!==void 0)return o;if((o=s.get(n))!==void 0)return i(n,o),o},set(n,o){t.has(n)?t.set(n,o):i(n,o)}}},Yf="!",Xf=":",qR=Xf.length,zR=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=i=>{const n=[];let o=0,l=0,u=0,c;for(let f=0;f<i.length;f++){let b=i[f];if(o===0&&l===0){if(b===Xf){n.push(i.slice(u,f)),u=f+qR;continue}if(b==="/"){c=f;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const h=n.length===0?i:i.substring(u),p=HR(h),m=p!==h,v=c&&c>u?c-u:void 0;return{modifiers:n,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}};if(e){const i=e+Xf,n=s;s=o=>o.startsWith(i)?n(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const i=s;s=n=>t({className:n,parseClassName:i})}return s},HR=r=>r.endsWith(Yf)?r.substring(0,r.length-1):r.startsWith(Yf)?r.substring(1):r,QR=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let n=[];return s.forEach(o=>{o[0]==="["||e[o]?(i.push(...n.sort(),o),n=[]):n.push(o)}),i.push(...n.sort()),i}},WR=r=>({cache:BR(r.cacheSize),parseClassName:zR(r),sortModifiers:QR(r),...jR(r)}),UR=/\s+/,$R=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:n}=e,o=[],l=r.trim().split(UR);let u="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{isExternal:p,modifiers:m,hasImportantModifier:v,baseClassName:f,maybePostfixModifierPosition:b}=t(h);if(p){u=h+(u.length>0?" "+u:u);continue}let x=!!b,g=s(x?f.substring(0,b):f);if(!g){if(!x){u=h+(u.length>0?" "+u:u);continue}if(g=s(f),!g){u=h+(u.length>0?" "+u:u);continue}x=!1}const y=n(m).join(":"),w=v?y+Yf:y,S=w+g;if(o.includes(S))continue;o.push(S);const P=i(g,x);for(let V=0;V<P.length;++V){const I=P[V];o.push(w+I)}u=h+(u.length>0?" "+u:u)}return u};function GR(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=$5(e))&&(s&&(s+=" "),s+=t);return s}const $5=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=$5(r[s]))&&(t&&(t+=" "),t+=e);return t};function ZR(r,...e){let t,s,i,n=o;function o(u){const c=e.reduce((h,p)=>p(h),r());return t=WR(c),s=t.cache.get,i=t.cache.set,n=l,l(u)}function l(u){const c=s(u);if(c)return c;const h=$R(u,t);return i(u,h),h}return function(){return n(GR.apply(null,arguments))}}const ps=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},G5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Z5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JR=/^\d+\/\d+$/,KR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,e6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ba=r=>JR.test(r),ut=r=>!!r&&!Number.isNaN(Number(r)),Vn=r=>!!r&&Number.isInteger(Number(r)),Cg=r=>r.endsWith("%")&&ut(r.slice(0,-1)),Gi=r=>KR.test(r),s6=()=>!0,r6=r=>YR.test(r)&&!XR.test(r),J5=()=>!1,i6=r=>e6.test(r),n6=r=>t6.test(r),o6=r=>!Fe(r)&&!Be(r),a6=r=>Rl(r,X5,J5),Fe=r=>G5.test(r),To=r=>Rl(r,eE,r6),wg=r=>Rl(r,h6,ut),yC=r=>Rl(r,K5,J5),l6=r=>Rl(r,Y5,n6),Ac=r=>Rl(r,tE,i6),Be=r=>Z5.test(r),lu=r=>Ll(r,eE),u6=r=>Ll(r,p6),xC=r=>Ll(r,K5),d6=r=>Ll(r,X5),c6=r=>Ll(r,Y5),Dc=r=>Ll(r,tE,!0),Rl=(r,e,t)=>{const s=G5.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},Ll=(r,e,t=!1)=>{const s=Z5.exec(r);return s?s[1]?e(s[1]):t:!1},K5=r=>r==="position"||r==="percentage",Y5=r=>r==="image"||r==="url",X5=r=>r==="length"||r==="size"||r==="bg-size",eE=r=>r==="length",h6=r=>r==="number",p6=r=>r==="family-name",tE=r=>r==="shadow",m6=()=>{const r=ps("color"),e=ps("font"),t=ps("text"),s=ps("font-weight"),i=ps("tracking"),n=ps("leading"),o=ps("breakpoint"),l=ps("container"),u=ps("spacing"),c=ps("radius"),h=ps("shadow"),p=ps("inset-shadow"),m=ps("text-shadow"),v=ps("drop-shadow"),f=ps("blur"),b=ps("perspective"),x=ps("aspect"),g=ps("ease"),y=ps("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...S(),Be,Fe],V=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],E=()=>[Be,Fe,u],R=()=>[ba,"full","auto",...E()],C=()=>[Vn,"none","subgrid",Be,Fe],k=()=>["auto",{span:["full",Vn,Be,Fe]},Vn,Be,Fe],L=()=>[Vn,"auto",Be,Fe],D=()=>["auto","min","max","fr",Be,Fe],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...E()],K=()=>[ba,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],M=()=>[r,Be,Fe],j=()=>[...S(),xC,yC,{position:[Be,Fe]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",d6,a6,{size:[Be,Fe]}],G=()=>[Cg,lu,To],X=()=>["","none","full",c,Be,Fe],de=()=>["",ut,lu,To],se=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[ut,Cg,xC,yC],ie=()=>["","none",f,Be,Fe],_=()=>["none",ut,Be,Fe],O=()=>["none",ut,Be,Fe],Z=()=>[ut,Be,Fe],le=()=>[ba,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gi],breakpoint:[Gi],color:[s6],container:[Gi],"drop-shadow":[Gi],ease:["in","out","in-out"],font:[o6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gi],shadow:[Gi],spacing:["px",ut],text:[Gi],"text-shadow":[Gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ba,Fe,Be,x]}],container:["container"],columns:[{columns:[ut,Fe,Be,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Vn,"auto",Be,Fe]}],basis:[{basis:[ba,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ut,ba,"auto","initial","none",Fe]}],grow:[{grow:["",ut,Be,Fe]}],shrink:[{shrink:["",ut,Be,Fe]}],order:[{order:[Vn,"first","last","none",Be,Fe]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,lu,To]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Be,wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cg,Fe]}],"font-family":[{font:[u6,Fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Be,Fe]}],"line-clamp":[{"line-clamp":[ut,"none",Be,wg]}],leading:[{leading:[n,...E()]}],"list-image":[{"list-image":["none",Be,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Be,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ut,"from-font","auto",Be,To]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[ut,"auto",Be,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vn,Be,Fe],radial:["",Be,Fe],conic:[Vn,Be,Fe]},c6,l6]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ut,Be,Fe]}],"outline-w":[{outline:["",ut,lu,To]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",h,Dc,Ac]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",p,Dc,Ac]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[ut,To]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",m,Dc,Ac]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[ut,Be,Fe]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Be,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Be,Fe]}],filter:[{filter:["","none",Be,Fe]}],blur:[{blur:ie()}],brightness:[{brightness:[ut,Be,Fe]}],contrast:[{contrast:[ut,Be,Fe]}],"drop-shadow":[{"drop-shadow":["","none",v,Dc,Ac]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",ut,Be,Fe]}],"hue-rotate":[{"hue-rotate":[ut,Be,Fe]}],invert:[{invert:["",ut,Be,Fe]}],saturate:[{saturate:[ut,Be,Fe]}],sepia:[{sepia:["",ut,Be,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Be,Fe]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[ut,Be,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ut,Be,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ut,Be,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ut,Be,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ut,Be,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ut,Be,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ut,Be,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ut,Be,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Be,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ut,"initial",Be,Fe]}],ease:[{ease:["linear","initial",g,Be,Fe]}],delay:[{delay:[ut,Be,Fe]}],animate:[{animate:["none",y,Be,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Be,Fe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:_()}],"rotate-x":[{"rotate-x":_()}],"rotate-y":[{"rotate-y":_()}],"rotate-z":[{"rotate-z":_()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[Be,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be,Fe]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[ut,lu,To,wg]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Yt=ZR(m6),g6=W5("inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium transition-colors",{variants:{variant:{neutral:"border-slate-200 bg-slate-50 text-slate-600",muted:"border-slate-200 bg-slate-100 text-slate-500",primary:"border-primary/30 bg-primary/10 text-primary",success:"border-emerald-200 bg-emerald-50 text-emerald-600",warning:"border-amber-200 bg-amber-50 text-amber-600",danger:"border-rose-200 bg-rose-50 text-rose-600",info:"border-sky-200 bg-sky-50 text-sky-600"},size:{sm:"px-2.5 py-0.5 text-[11px]",md:"px-3 py-1 text-xs",lg:"px-3.5 py-1.5 text-sm"}},defaultVariants:{variant:"neutral",size:"md"}}),nn=Ie.forwardRef(({className:r,variant:e,size:t,...s},i)=>a.jsx("span",{ref:i,className:Yt(g6({variant:e,size:t}),r),...s}));nn.displayName="Badge";const f6=W5("flex flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",{variants:{size:{md:"text-sm",sm:"rounded-xl text-sm"}},defaultVariants:{size:"md"}}),sE=Ie.forwardRef(({className:r,size:e,...t},s)=>a.jsx("div",{ref:s,className:Yt(f6({size:e}),r),...t}));sE.displayName="TableCardRoot";const rE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:Yt("flex flex-col gap-3 px-6 py-5 md:flex-row md:items-center md:justify-between",r),...e}));rE.displayName="TableCardHeader";const iE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:Yt("flex flex-col gap-1",r),...e}));iE.displayName="TableCardHeading";const v6=Ie.forwardRef(({className:r,...e},t)=>a.jsx("h3",{ref:t,className:Yt("text-base font-semibold text-slate-900",r),...e}));v6.displayName="TableCardTitle";const y6=Ie.forwardRef(({className:r,...e},t)=>a.jsx("p",{ref:t,className:Yt("text-sm text-slate-500",r),...e}));y6.displayName="TableCardDescription";const nE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:Yt("flex items-center gap-3",r),...e}));nE.displayName="TableCardActions";const oE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:Yt("overflow-x-auto",r),...e}));oE.displayName="TableCardBody";const x6=Ie.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:Yt("border-t border-slate-200 bg-slate-50 px-6 py-4 text-sm text-slate-500",r),...e}));x6.displayName="TableCardFooter";const aE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("table",{ref:t,className:Yt("min-w-full border-collapse text-left text-sm text-slate-700",r),...e}));aE.displayName="Table";const lE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("thead",{ref:t,className:Yt("bg-slate-50 text-primary",r),...e}));lE.displayName="TableHeader";const uE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("tbody",{ref:t,className:Yt("divide-y divide-slate-200 bg-white",r),...e}));uE.displayName="TableBody";const b6=Ie.forwardRef(({className:r,...e},t)=>a.jsx("tfoot",{ref:t,className:Yt("bg-slate-50 font-medium text-slate-700",r),...e}));b6.displayName="TableFooter";const mh=Ie.forwardRef(({className:r,...e},t)=>a.jsx("tr",{ref:t,className:Yt("transition-colors hover:bg-slate-50 focus-within:bg-slate-50 last:border-b-0",r),...e}));mh.displayName="TableRow";const dE=Ie.forwardRef(({className:r,...e},t)=>a.jsx("th",{ref:t,className:Yt("px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",r),...e}));dE.displayName="TableHead";const ev=Ie.forwardRef(({className:r,...e},t)=>a.jsx("td",{ref:t,className:Yt("px-6 py-4 align-middle text-slate-700",r),...e}));ev.displayName="TableCell";const C6=Ie.forwardRef(({className:r,...e},t)=>a.jsx("caption",{ref:t,className:Yt("mt-2 text-sm text-slate-500",r),...e}));C6.displayName="TableCaption";const w6=({direction:r,active:e})=>{const t="h-3.5 w-3.5 transition-colors";return e?r==="ascending"?a.jsxs("svg",{className:Yt(t,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("path",{d:"M12 19V5"}),a.jsx("path",{d:"m6 11 6-6 6 6"})]}):a.jsxs("svg",{className:Yt(t,"text-primary"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("path",{d:"M12 5v14"}),a.jsx("path",{d:"m18 13-6 6-6-6"})]}):a.jsxs("svg",{className:Yt(t,"text-primary/50 group-hover:text-primary/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("path",{d:"m8 7 4-4 4 4"}),a.jsx("path",{d:"m8 17 4 4 4-4"})]})};function S6(r,e,t){const s=o=>o===null||typeof o>"u"?"":o instanceof Date?o.getTime():typeof o=="boolean"?o?1:0:o,i=s(r),n=s(e);return typeof i=="number"&&typeof n=="number"?t==="descending"?n-i:i-n:t==="descending"?String(n).localeCompare(String(i)):String(i).localeCompare(String(n))}function em({data:r,columns:e,getRowKey:t,headerLeading:s,headerActions:i,emptyState:n,footer:o,bodyClassName:l,size:u="md",sortDescriptor:c,onSortChange:h,initialSortDescriptor:p,onRowClick:m}){const v=typeof c<"u",[f,b]=d.useState(p),x=v?c:f,g=d.useMemo(()=>{if(!x)return r;const S=e.find(P=>P.id===x.column&&P.sortable&&P.sortAccessor);return!S||!S.sortAccessor?r:[...r].sort((P,V)=>{var I,E;return S6((I=S.sortAccessor)==null?void 0:I.call(S,P),(E=S.sortAccessor)==null?void 0:E.call(S,V),x.direction)})},[e,r,x]),y=S=>{if(!S.sortable)return;const P=!x||x.column!==S.id?{column:S.id,direction:"ascending"}:{column:S.id,direction:x.direction==="ascending"?"descending":"ascending"};v||b(P),h==null||h(P)},w=S=>{const P=(x==null?void 0:x.column)===S.id;return S.sortable?a.jsxs("button",{type:"button",onClick:()=>y(S),className:"group inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-primary",children:[a.jsx("span",{children:S.header}),a.jsx(w6,{active:P,direction:P?x==null?void 0:x.direction:void 0})]}):S.header};return a.jsxs(sE,{size:u,className:"border-0",children:[(s||i)&&a.jsxs(rE,{className:"md:flex-row-reverse",children:[i&&a.jsx(nE,{className:"w-full justify-end md:w-auto",children:i}),s&&a.jsx(iE,{className:"gap-2",children:s})]}),a.jsx(oE,{className:Yt(g.length===0?"":"border border-slate-200",l),children:a.jsxs(aE,{className:g.length===0?"border-collapse":"",children:[a.jsx(lE,{children:a.jsx(mh,{children:e.map((S,P)=>a.jsx(dE,{scope:"col",className:Yt("px-3 sm:px-6 py-3 sm:py-4 text-xs font-semibold uppercase tracking-wide text-primary border-b border-slate-200",g.length===0&&P===0?"border-l border-slate-200 rounded-tl-lg":"",g.length===0&&P===e.length-1?"border-r border-slate-200 rounded-tr-lg":"",g.length===0?"border-t border-slate-200":"",S.align==="right"?"text-right":S.align==="center"?"text-center":"",S.headerClassName),onClick:()=>S.sortable&&y(S),children:w(S)},S.id))})}),a.jsx(uE,{className:g.length===0?"divide-y-0":"",children:g.length===0?a.jsx(mh,{className:"border-0",children:a.jsx(ev,{colSpan:e.length,className:"px-6 py-10 border-0",children:n??a.jsx("div",{className:"flex min-h-[200px] items-center justify-center text-sm text-slate-500",children:"No data available."})})}):g.map((S,P)=>a.jsx(mh,{onClick:V=>{V.target.closest('button, input, a, [role="button"]')||m==null||m(S,P)},className:m?"cursor-pointer":"",children:e.map(V=>a.jsx(ev,{className:Yt(V.align==="right"?"px-3 sm:px-6 py-3 sm:py-4 text-right":V.align==="center"?"px-3 sm:px-6 py-3 sm:py-4 text-center":"px-3 sm:px-6 py-3 sm:py-4",V.cellClassName),children:V.render(S,P)},V.id))},t(S,P)))})]})}),o]})}const E6=({className:r})=>a.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),V6=({className:r})=>a.jsxs("svg",{className:r,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{fill:"#F25022",d:"M0 0h11v11H0z"}),a.jsx("path",{fill:"#00A4EF",d:"M12 0h11v11H12z"}),a.jsx("path",{fill:"#7FBA00",d:"M0 12h11v11H0z"}),a.jsx("path",{fill:"#FFB900",d:"M12 12h11v11H12z"})]}),P6=({className:r})=>a.jsx(CR,{className:`${r} text-[#414651]`}),I6=(r,e)=>{switch(r){case"google":return a.jsx(E6,{className:e});case"microsoft":return a.jsx(V6,{className:e});case"magic-link":return a.jsx(P6,{className:e});default:return null}},T6=r=>{switch(r){case"google":return"Sign in with Google";case"microsoft":return"Sign in with Microsoft";case"magic-link":return"Sign in with Magic link";case"apple":return"Sign in with Apple";case"facebook":return"Sign in with Facebook";case"github":return"Sign in with GitHub";default:return"Sign in"}},gh=Ie.forwardRef(({provider:r,children:e,variant:t="default",size:s="md",className:i="",...n},o)=>{const l={sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-sm sm:text-base",lg:"h-11 px-4 py-2.5 text-base"},u={sm:"h-4 w-4",md:"h-5 w-5 sm:h-6 sm:w-6",lg:"h-6 w-6"},c="inline-flex w-full items-center justify-center self-stretch overflow-hidden rounded-lg touch-manipulation bg-white shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-1 outline-[#D5D7DA] -outline-offset-1 gap-3 transition-colors hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#D5D7DA]/20",h=I6(r,`${u[s]} flex-shrink-0`),p=e||T6(r);return a.jsxs("button",{ref:o,type:"button",className:`${c} ${l[s]} ${i}`,...n,children:[t!=="icon-only"&&h,t!=="icon-only"&&a.jsx("span",{className:"break-words font-semibold leading-5 sm:leading-6 text-[#414651]",children:p}),t==="icon-only"&&h]})});gh.displayName="SocialButton";const k6=({steps:r,currentStep:e,className:t=""})=>a.jsx("div",{className:`relative w-full ${t}`,children:a.jsx("div",{className:"relative flex items-start",children:r.map((s,i)=>{const n=i+1,o=n<e,l=n===e,u=n>e,c=i===r.length-1;return a.jsxs(Ie.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center relative z-10 flex-shrink-0",children:[a.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center font-semibold text-sm transition-colors ${o?"bg-green-500":l?"bg-[#6938EF]":"bg-white border-2 border-slate-300"}`,children:o?a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M10 3L4.5 8.5L2 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):a.jsx("span",{className:l?"text-white":u?"text-slate-400":"text-slate-900",children:n})}),a.jsxs("div",{className:"mt-2 text-center",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":u?"text-slate-400":"text-slate-900"}`,children:s.title}),s.description&&a.jsx("div",{className:`text-xs mt-0.5 ${l?"text-slate-500":u?"text-slate-400":"text-slate-500"}`,children:s.description})]})]}),!c&&a.jsx("div",{className:"flex-1 relative mx-4",children:a.jsx("div",{className:"absolute top-[14px] left-0 right-0 h-px pointer-events-none z-0",children:a.jsx("div",{className:"h-full border-t border-dashed border-slate-300",style:{borderTopWidth:"1px"}})})})]},n)})})}),N6=({isOpen:r,onClose:e,title:t,children:s,footer:i,topOffset:n=64,panelWidthRatio:o=.4,maxWidth:l="600px",side:u="right",width:c})=>{const h=d.useRef(null),p=d.useRef(null);d.useEffect(()=>(r?(document.body.classList.add("overflow-hidden"),p.current=document.activeElement,setTimeout(()=>{var f;(f=h.current)==null||f.focus()},100)):(document.body.classList.remove("overflow-hidden"),p.current&&p.current.focus()),()=>{document.body.classList.remove("overflow-hidden")}),[r]),d.useEffect(()=>{const f=b=>{b.key==="Escape"&&r&&e()};if(r)return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[r,e]),d.useEffect(()=>{if(!r)return;const f=h.current;if(!f)return;const b=f.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),x=b[0],g=b[b.length-1],y=w=>{w.key==="Tab"&&(w.shiftKey?document.activeElement===x&&(w.preventDefault(),g==null||g.focus()):document.activeElement===g&&(w.preventDefault(),x==null||x.focus()))};return f.addEventListener("keydown",y),()=>{f.removeEventListener("keydown",y)}},[r]);const m={top:`${n}px`,right:0,left:0,bottom:0},v={height:`calc(100vh - ${n}px)`,width:c?typeof c=="number"?`${c}px`:c:`${Math.min(Math.max(o,.3),1)*100}%`,maxWidth:typeof l=="number"?`${l}px`:l};return a.jsxs("div",{className:`fixed inset-x-0 bottom-0 z-[1200] transition ${r?"pointer-events-auto":"pointer-events-none"}`,"aria-hidden":!r,style:m,children:[a.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onClick:e}),a.jsxs("aside",{ref:h,tabIndex:-1,className:`absolute ${u==="right"?"right-0":"left-0"} top-0 flex transform flex-col bg-white shadow-2xl transition-transform duration-300 ${r?"translate-x-0":u==="right"?"translate-x-full":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":t?"slideout-title":void 0,style:v,onClick:f=>f.stopPropagation(),children:[t&&a.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[a.jsx("h2",{id:"slideout-title",className:"text-lg font-semibold text-slate-900",children:t}),a.jsx("button",{type:"button",className:"ml-auto rounded-full p-2 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",onClick:e,"aria-label":"Close",children:a.jsx(hi,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:s}),i&&a.jsx("footer",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-white px-6 py-4",children:i})]})]})},R6=r=>{switch(r){case"sent":return"success";case"scheduled":return"primary";case"draft":return"warning";default:return"neutral"}},L6=r=>r==="primary"?"primary":r==="secondary"?"info":"muted",A6=({allVisibleSelected:r,partiallySelected:e,selectedCommunicationIds:t,onToggleAllVisible:s,onToggleRow:i,onEditCommunication:n})=>d.useMemo(()=>[{id:"title",header:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zd,{checked:r,indeterminate:e,onChange:s,ariaLabel:"Select all communications"}),a.jsx("span",{children:"Title"})]}),sortable:!0,sortAccessor:({communication:o})=>(o==null?void 0:o.title)||"",render:({communication:o})=>o?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${o.title}`,checked:t.has(o.id),onChange:l=>i(o.id,l.target.checked)}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.title})]}):null},{id:"userGroups",header:"User Groups",sortable:!0,sortAccessor:({communication:o})=>(o==null?void 0:o.userGroups.map(l=>l.name).join(" "))||"",render:({communication:o})=>o?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.userGroups.slice(0,3).map((l,u)=>a.jsx(nn,{variant:L6(l.variant),children:l.name},u)),o.userGroups.length>3&&a.jsxs(nn,{variant:"muted",children:["+",o.userGroups.length-3]})]}):null},{id:"status",header:"Status",sortable:!0,sortAccessor:({communication:o})=>(o==null?void 0:o.status)||"",render:({communication:o})=>o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{variant:R6(o.status),children:o.status.charAt(0).toUpperCase()+o.status.slice(1)}),o.status==="scheduled"&&o.scheduledDate&&a.jsxs("div",{className:"group relative",children:[a.jsx(Il,{className:"h-4 w-4 text-slate-500 cursor-help"}),a.jsx("div",{className:"absolute left-0 top-6 z-10 hidden w-48 rounded-md bg-slate-900 px-3 py-2 text-xs text-white shadow-lg group-hover:block",children:new Date(o.scheduledDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}):null},{id:"type",header:"Type",sortable:!0,sortAccessor:({communication:o})=>(o==null?void 0:o.type)||"",render:({communication:o})=>o?a.jsx("div",{className:"flex items-center",children:o.type==="email"?a.jsx(z5,{className:"h-5 w-5 text-slate-500"}):a.jsx(Ky,{className:"h-5 w-5 text-slate-500"})}):null},{id:"recipients",header:"Recipients",sortable:!0,sortAccessor:({communication:o})=>(o==null?void 0:o.recipients.sent)||0,render:({communication:o})=>o?a.jsxs("span",{className:"text-sm text-slate-600",children:[o.recipients.sent,"/",o.recipients.total]}):null},{id:"actions",header:"",align:"right",render:({communication:o})=>o?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(o.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${o.title}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${o.title}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[r,e,t,s,i,n]),D6=({allVisibleSelected:r,partiallySelected:e,selectedMacroIds:t,onToggleAllVisible:s,onToggleRow:i,onEditMacro:n,onDeleteMacro:o})=>d.useMemo(()=>[{id:"macro",header:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zd,{checked:r,indeterminate:e,onChange:s,ariaLabel:"Select all macros"}),a.jsx("span",{children:"Macro"})]}),sortable:!0,sortAccessor:({macro:l})=>(l==null?void 0:l.macro)||"",render:({macro:l})=>l?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${l.macro}`,checked:t.has(l.id),onChange:u=>i(l.id,u.target.checked)}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.macro})]}):null},{id:"column",header:"Columns",sortable:!0,sortAccessor:({macro:l})=>(l==null?void 0:l.column)||"",render:({macro:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.column}):null},{id:"actions",header:"",align:"right",render:({macro:l})=>l?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${l.macro}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${l.macro}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[r,e,t,s,i,n,o]),M6=({communications:r,macros:e=[],onCreateBroadcast:t,onEditCommunication:s,onCreateMacro:i,onEditMacro:n,onDeleteMacro:o})=>{const[l,u]=d.useState(""),[c,h]=d.useState("list"),[p,m]=d.useState(new Set),[v,f]=d.useState(new Set),[b,x]=d.useState(1),g=10,[y,w]=d.useState({list:{column:"title",direction:"ascending"},macros:{column:"macro",direction:"ascending"}}),S=d.useMemo(()=>{const G=l.trim().toLowerCase();return G?r.filter(X=>[X.title,...X.userGroups.map(se=>se.name),X.status,X.type].filter(Boolean).join(" ").toLowerCase().includes(G)):r},[l,r]),P=d.useMemo(()=>{const G=l.trim().toLowerCase();return G?e.filter(X=>[X.macro,X.column].filter(Boolean).join(" ").toLowerCase().includes(G)):e},[l,e]),V=d.useMemo(()=>S.map(G=>G.id),[S]),I=d.useMemo(()=>P.map(G=>G.id),[P]),E=d.useMemo(()=>{const G=(b-1)*g,X=G+g;return S.slice(G,X)},[S,b]),R=d.useMemo(()=>{const G=(b-1)*g,X=G+g;return P.slice(G,X)},[P,b]),C=d.useMemo(()=>{const G=c==="list"?S.length:P.length;return Math.ceil(G/g)},[c,S.length,P.length]),k=d.useMemo(()=>c==="list"?V.length>0&&V.every(G=>p.has(G)):I.length>0&&I.every(G=>v.has(G)),[c,V,I,p,v]),L=d.useMemo(()=>c==="list"?!k&&V.some(G=>p.has(G)):!k&&I.some(G=>v.has(G)),[c,k,V,I,p,v]),D=d.useCallback(G=>{c==="list"?m(X=>{const de=new Set(X);return V.forEach(se=>{G?de.add(se):de.delete(se)}),de}):f(X=>{const de=new Set(X);return I.forEach(se=>{G?de.add(se):de.delete(se)}),de})},[c,V,I]),q=d.useCallback((G,X)=>{c==="list"?m(de=>{const se=new Set(de);return X?se.add(G):se.delete(G),se}):f(de=>{const se=new Set(de);return X?se.add(G):se.delete(G),se})},[c]),U=d.useMemo(()=>c==="list"?E.map((G,X)=>({communication:G,index:X})):R.map((G,X)=>({macro:G,index:X})),[c,E,R]),$=A6({allVisibleSelected:k,partiallySelected:L,selectedCommunicationIds:p,onToggleAllVisible:D,onToggleRow:q,onEditCommunication:s}),K=D6({allVisibleSelected:k,partiallySelected:L,selectedMacroIds:v,onToggleAllVisible:D,onToggleRow:q,onEditMacro:n,onDeleteMacro:o}),M=d.useMemo(()=>c==="list"?$:K,[c,$,K]),j=a.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:c==="list"?r.length===0?"No emails/notifications created!":"No communications match your search.":e.length===0?"No macros created!":"No macros match your search."}),B=t0({tabs:[{id:"list",label:"List"},{id:"macros",label:"Macros"}],activeTabId:c,searchQuery:l,searchPlaceholder:c==="list"?"Search communication":"Search macros",onTabChange:G=>h(G),onSearchChange:u}),Q=d.useCallback(G=>{w(X=>({...X,[c]:G}))},[c]);return Ie.useEffect(()=>{x(1)},[c]),a.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16 ",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between ",children:[a.jsx("h1",{className:"text-[26px] font-bold text-primary-dark ",children:"Communication"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("button",{type:"button",onClick:c==="list"?t:i,className:"inline-flex items-center justify-center rounded-md  px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:c==="list"?"+ New broadcast":"+ New macro"})})]}),a.jsx(em,{headerLeading:B.leading,headerActions:B.actions,data:U,columns:M,getRowKey:G=>{var X,de;return((X=G.communication)==null?void 0:X.id)||((de=G.macro)==null?void 0:de.id)||""},emptyState:j,sortDescriptor:y[c],onSortChange:Q,footer:a.jsx(e0,{currentPage:b,totalPages:C,onPageChange:x})})]})},j6=({isOpen:r,onClose:e,onSelect:t})=>{const[s,i]=d.useState("push-notification"),n=l=>{i(l),t(l),e()},o=()=>{i(null),e()};return a.jsx(Qi,{isVisible:r,onClose:o,title:"Select broadcast type",subtitle:"Choose how to deliver your message to recipients.",width:548,maxWidth:548,borderRadius:16,showHeaderBorder:!1,padding:{top:24,right:24,bottom:24,left:24},children:a.jsxs("div",{className:"flex items-center justify-center gap-4 overflow-hidden",children:[a.jsx("button",{type:"button",onClick:()=>n("email"),className:`flex w-[240px] max-w-[240px] h-[100px] flex-col gap-2 rounded-xl border pt-4 pr-6 pb-4 pl-6 text-left transition-all ${s==="email"?"border-primary bg-primary/5":"border-slate-200 bg-white hover:border-primary/40 hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Email"}),a.jsx("span",{className:"text-xs text-slate-500 leading-relaxed",children:"Send via email to subscriber inboxes."})]}),a.jsx("div",{className:"flex h-5 w-5 items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("input",{type:"radio",name:"broadcast-type",checked:s==="email",onChange:()=>n("email"),className:"h-4 w-4 border-slate-300 text-primary focus:ring-primary/40 accent-primary"})})]})}),a.jsx("button",{type:"button",onClick:()=>n("push-notification"),className:`flex w-[240px] max-w-[240px] h-[100px] flex-col gap-2 rounded-xl border pt-4 pr-6 pb-4 pl-6 text-left transition-all ${s==="push-notification"?"border-2 border-primary bg-primary/5":"border-slate-200 bg-white hover:border-primary/40 hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Push Notification"}),a.jsx("span",{className:"text-xs text-slate-500 leading-relaxed",children:"Send instant mobile/ browser notifications."})]}),a.jsx("div",{className:"flex h-5 w-5 items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("input",{type:"radio",name:"broadcast-type",checked:s==="push-notification",onChange:()=>n("push-notification"),className:"h-4 w-4 border-slate-300 text-primary focus:ring-primary/40 accent-primary"})})]})})]})})},_6=({isOpen:r,onClose:e,onSend:t,subject:s,message:i})=>a.jsx(Qi,{isVisible:r,onClose:e,title:"Preview ",width:600,maxWidth:800,borderRadius:16,padding:{top:24,right:24,bottom:24,left:24},children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-slate-900",children:"Subject: "}),a.jsx("span",{className:"text-slate-700",children:s})]}),a.jsx("div",{className:"border-t border-slate-200 pt-4",children:a.jsx("div",{className:"broadcast-editor-content text-slate-600",dangerouslySetInnerHTML:{__html:i}})})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Cancel"}),a.jsx("button",{type:"button",onClick:t,className:"rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Send"})]})]})}),O6=({isOpen:r,onClose:e,onSchedule:t})=>{const[s,i]=d.useState(new Date),[n,o]=d.useState(null),[l,u]=d.useState("10:00 AM");if(d.useEffect(()=>{r&&!n&&o(new Date)},[r,n]),!r)return null;const c=(I,E)=>new Date(I,E+1,0).getDate(),h=(I,E)=>new Date(I,E,1).getDay(),p=s.getFullYear(),m=s.getMonth(),v=c(p,m),f=h(p,m),b=f===0?6:f-1,x=["January","February","March","April","May","June","July","August","September","October","November","December"],g=()=>{i(new Date(p,m-1,1))},y=()=>{i(new Date(p,m+1,1))},w=I=>{const E=new Date(p,m,I);o(E)},S=I=>n?n.getDate()===I&&n.getMonth()===m&&n.getFullYear()===p:!1,P=I=>{const E=new Date;return E.getDate()===I&&E.getMonth()===m&&E.getFullYear()===p},V=()=>{if(n){const[I,E]=l.split(" "),[R,C]=I.split(":").map(Number);let k=R;E==="PM"&&R!==12&&(k+=12),E==="AM"&&R===12&&(k=0);const L=new Date(n);L.setHours(k,C),t(L)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-lg overflow-hidden rounded-xl bg-white shadow-2xl flex flex-col md:flex-row h-auto md:h-[500px] max-h-[90vh]",children:[a.jsxs("div",{className:"border-r-0 md:border-r border-[#E9EAEB] border-b md:border-b-0 bg-white p-2 md:p-3 flex flex-row md:flex-col gap-0.5 w-full md:w-[160px] overflow-x-auto md:overflow-x-visible shrink-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-col gap-0.5 shrink-0 min-w-[120px] md:min-w-0",children:[a.jsx("div",{className:"w-full px-3 py-2 bg-[#FAFAFA] border-b border-[#D5D7DA] flex items-center",children:a.jsx("div",{className:"text-sm font-semibold text-[#252B37]",children:"Date"})}),a.jsx("button",{onClick:()=>{const I=new Date;o(I),i(I)},className:`w-full px-3 py-2 rounded-md text-sm font-medium text-left transition whitespace-nowrap ${n&&n.toDateString()===new Date().toDateString()?"bg-primary/10 text-primary":"text-[#414651] hover:bg-slate-50"}`,children:"Today"})]}),a.jsxs("div",{className:"flex flex-col md:flex-col gap-0.5 shrink-0 min-w-[120px] md:min-w-0",children:[a.jsx("div",{className:"w-full px-3 py-2 bg-[#FAFAFA] border-b border-[#D5D7DA] flex items-center",children:a.jsx("div",{className:"text-sm font-semibold text-[#252B37]",children:"Time"})}),["10:00 AM","11:00 AM","12:00 PM"].map(I=>a.jsx("button",{onClick:()=>u(I),className:`w-full px-3 py-2 rounded-md text-sm font-medium text-left transition whitespace-nowrap ${l===I?"bg-primary/10 text-primary":"text-[#414651] hover:bg-slate-50"}`,children:I},I)),a.jsx("button",{onClick:()=>u("Custom"),className:`w-full px-3 py-2 rounded-md text-sm font-medium text-left transition whitespace-nowrap ${l==="Custom"?"bg-primary/10 text-primary":"text-[#414651] hover:bg-slate-50"}`,children:"Custom time"})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col px-3 sm:px-4 md:px-6 py-3 md:py-5 gap-3 overflow-auto",children:[a.jsxs("div",{className:"flex items-center justify-center relative px-6 sm:px-8",children:[a.jsx("button",{onClick:g,className:"absolute left-0 p-1 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100",children:a.jsx(ph,{className:"h-5 w-5"})}),a.jsxs("h2",{className:"text-sm font-semibold text-[#414651]",children:[x[m]," ",p]}),a.jsx("button",{onClick:y,className:"absolute right-0 p-1 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100",children:a.jsx(Zf,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-2 md:gap-3 min-h-0",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(I=>a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 flex items-center justify-center",children:a.jsx("div",{className:"text-xs sm:text-sm font-medium text-[#414651]",children:I})},I))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:b}).map((I,E)=>{const R=m===0?11:m-1,C=m===0?p-1:p,L=c(C,R)-b+E+1,D=new Date,q=D.getDate()===L&&D.getMonth()===R&&D.getFullYear()===C;return a.jsxs("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 relative flex items-center justify-center",children:[a.jsx("div",{className:"text-xs sm:text-sm font-normal text-[#717680]",children:L}),q&&a.jsx("div",{className:"absolute bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-[#A4A7AE]"})]},`prev-${E}`)}),Array.from({length:v}).map((I,E)=>{const R=E+1,C=S(R),k=P(R);return a.jsxs("button",{onClick:()=>w(R),className:`
                      w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 relative flex items-center justify-center rounded-full text-xs sm:text-sm transition
                      ${C?"bg-[#6938EF] text-white font-medium":k?"bg-[#FAFAFA] text-[#414651] font-medium hover:bg-[#FAFAFA]":"text-[#414651] font-normal hover:bg-[#FAFAFA] hover:text-[#252B37] hover:font-medium"}
                    `,children:[a.jsx("div",{children:R}),k&&!C&&a.jsx("div",{className:"absolute bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-[#6938EF]"})]},R)}),Array.from({length:Math.max(0,42-b-v)}).map((I,E)=>{const R=E+1,C=m===11?0:m+1,k=m===11?p+1:p,L=new Date,D=L.getDate()===R&&L.getMonth()===C&&L.getFullYear()===k;return a.jsxs("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 relative flex items-center justify-center",children:[a.jsx("div",{className:"text-xs sm:text-sm font-normal text-[#717680]",children:R}),D&&a.jsx("div",{className:"absolute bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-[#A4A7AE]"})]},`next-${E}`)})]})]}),a.jsxs("div",{className:"pt-2 pb-3 md:pb-4 px-3 md:px-4 border-t border-[#E9EAEB] flex flex-col items-stretch sm:items-end gap-3 shrink-0",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-1 w-full sm:w-auto",children:[a.jsx("div",{className:"flex-1 sm:w-[136px] px-3 py-2 bg-white rounded-lg border border-[#D5D7DA] shadow-sm",children:a.jsx("div",{className:"text-sm sm:text-base font-normal text-[#181D27]",children:n?n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Select date"})}),a.jsx("div",{className:"flex-1 sm:w-[136px] px-3 py-2 bg-white rounded-lg border border-[#D5D7DA] shadow-sm",children:a.jsx("div",{className:"text-sm sm:text-base font-normal text-[#181D27] text-center",children:l})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[a.jsx("button",{onClick:e,className:"w-full sm:w-auto px-[14px] py-[10px] bg-white rounded-lg border border-[#D5D7DA] shadow-sm text-sm font-semibold text-[#414651] hover:bg-slate-50 transition",children:"Cancel"}),a.jsx("button",{onClick:V,className:"w-full sm:w-auto px-[14px] py-[10px] bg-[#6938EF] rounded-lg border-2 border-white shadow-sm text-sm font-semibold text-white hover:bg-[#5d2fd4] transition",children:"Apply"})]})]})]})]})})},F6=({onCancel:r,onSave:e,onSend:t,macros:s=[],initialSubject:i="",initialMessage:n="",type:o="email"})=>{const[l,u]=d.useState("late-message"),[c,h]=d.useState(i||"Title of your message"),[p,m]=d.useState(n),[v,f]=d.useState(!0),[b,x]=d.useState(""),[g,y]=d.useState(!1),[w,S]=d.useState("#000000"),[P,V]=d.useState(!1),[I,E]=d.useState({top:0,left:0}),[R,C]=d.useState(!1),[k,L]=d.useState(!1),[D,q]=d.useState(!1),[U,$]=d.useState(!1),[K,M]=d.useState(!1),[j,B]=d.useState("ANY"),[Q,G]=d.useState([{id:"1",field:"Group",operator:"is",value:"Speakers"}]),X=d.useRef(null),de=d.useRef(null),se=d.useRef(null);d.useEffect(()=>{se.current&&n&&se.current.innerHTML!==n&&(se.current.innerHTML=n)},[]);const fe=[["#000000","#1E3A8A","#166534","#374151","#6B7280","#9CA3AF","#FFFFFF"],["#10B981","#3B82F6","#7F56D9","#EC4899","#EF4444","#F59E0B"]],oe=()=>{if(b&&se.current){const W=`{{${b}}}`;se.current.focus();const he=window.getSelection();if(he&&he.rangeCount>0){const me=he.getRangeAt(0);if(se.current.contains(me.commonAncestorContainer)){me.deleteContents();const Ve=document.createTextNode(W);me.insertNode(Ve),me.setStartAfter(Ve),me.setEndAfter(Ve),he.removeAllRanges(),he.addRange(me)}else se.current.innerHTML+=W}else se.current.innerHTML+=W;m(se.current.innerHTML),x("")}},ie=(W,he)=>{var Ve,Me;if(!se.current)return;document.activeElement!==se.current&&se.current.focus();const me=window.getSelection();if(W==="foreColor"&&(!me||me.rangeCount===0||me.toString().length===0)){const Le=document.createRange(),ze=window.getSelection();if(ze&&se.current)if(ze.anchorNode){const et=ze.anchorNode.nodeType===Node.TEXT_NODE?ze.anchorNode:se.current;if(et){const nt=ze.anchorOffset||0;try{Le.setStart(et,Math.min(nt,((Ve=et.textContent)==null?void 0:Ve.length)||0)),Le.setEnd(et,Math.min(nt,((Me=et.textContent)==null?void 0:Me.length)||0)),ze.removeAllRanges(),ze.addRange(Le)}catch{Le.selectNodeContents(se.current),Le.collapse(!1),ze.removeAllRanges(),ze.addRange(Le)}}}else Le.selectNodeContents(se.current),Le.collapse(!1),ze.removeAllRanges(),ze.addRange(Le)}if((W==="justifyLeft"||W==="justifyCenter"||W==="justifyRight"||W==="justifyFull")&&(!me||me.rangeCount===0||me.toString().length===0)){const Le=document.createRange(),ze=window.getSelection();if(ze&&se.current){let et=se.current;for(ze.anchorNode&&(et=ze.anchorNode.nodeType===Node.TEXT_NODE?ze.anchorNode.parentElement||se.current:ze.anchorNode);et&&et!==se.current&&!["P","DIV","H1","H2","H3","H4","H5","H6","LI"].includes(et.tagName);)et=et.parentElement||se.current;et&&(Le.selectNodeContents(et),ze.removeAllRanges(),ze.addRange(Le))}}try{document.execCommand(W,!1,he)?(se.current&&m(se.current.innerHTML),setTimeout(()=>{_()},10)):console.warn(`Command ${W} failed to execute`)}catch(Le){console.error("Format command failed:",Le)}},_=()=>{if(se.current){const W=document.activeElement===se.current;W||se.current.focus();try{C(document.queryCommandState("bold")),L(document.queryCommandState("italic")),q(document.queryCommandState("underline"))}catch(he){console.error("Error updating format state:",he)}if(!W){const he=window.getSelection();he&&he.rangeCount>0}}},O=()=>{setTimeout(()=>{const W=window.getSelection(),he=se.current;if(he)if(_(),W&&W.toString().length>0){const me=W.anchorNode,Ve=W.focusNode;if(he&&(he.contains(me)||he.contains(Ve)||me===he||Ve===he)){const Le=W.getRangeAt(0).getBoundingClientRect(),ze=he.getBoundingClientRect();E({top:Le.top-ze.top-40,left:Le.left-ze.left+Le.width/2}),V(!0)}}else V(!1)},10)};d.useEffect(()=>{const W=se.current;if(W)return W.addEventListener("mouseup",O),W.addEventListener("keyup",O),W.addEventListener("selectionchange",O),()=>{W.removeEventListener("mouseup",O),W.removeEventListener("keyup",O),W.removeEventListener("selectionchange",O)}},[]),d.useEffect(()=>{const W=he=>{var me,Ve;if(g&&X.current&&!X.current.contains(he.target)){const Me=document.querySelector(".color-picker-popup");Me&&!Me.contains(he.target)&&y(!1)}P&&!((me=se.current)!=null&&me.contains(he.target))&&!((Ve=de.current)!=null&&Ve.contains(he.target))&&V(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[g,P]);const Z=W=>{if(S(W),!se.current){y(!1);return}se.current.focus(),setTimeout(()=>{var Ve;const he=window.getSelection();if(!he||he.rangeCount===0){y(!1);return}const me=he.getRangeAt(0);if(!((Ve=se.current)!=null&&Ve.contains(me.commonAncestorContainer))){y(!1);return}try{if(me.toString().trim().length>0){const Me=document.createElement("span");Me.style.color=W;const Le=me.extractContents();Me.appendChild(Le),me.insertNode(Me);const ze=document.createRange();ze.selectNodeContents(Me),he.removeAllRanges(),he.addRange(ze)}else{const Me=document.createElement("span");Me.style.color=W,Me.innerHTML="",me.insertNode(Me),me.setStartAfter(Me),me.collapse(!0),he.removeAllRanges(),he.addRange(me)}se.current&&m(se.current.innerHTML)}catch(Me){console.error("Error applying color:",Me);try{ie("foreColor",W)}catch(Le){console.error("Fallback execCommand also failed:",Le)}}y(!1)},10)},le=()=>{e({subject:c,message:p,templateType:l==="late-message"?"late-message":void 0}),f(!1)},te=(W,he,me)=>{W.preventDefault(),ie(he,me)};return a.jsxs("div",{className:"space-y-6 px-4 pb-12 pt-28 md:px-10 lg:px-16 -mt-24",children:[a.jsx("style",{children:`
        .broadcast-editor-content ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
        .broadcast-editor-content ol { list-style-type: decimal; padding-left: 1.5em; margin-bottom: 1em; }
        .broadcast-editor-content b, .broadcast-editor-content strong { font-weight: bold; }
        .broadcast-editor-content i, .broadcast-editor-content em { font-style: italic; }
        .broadcast-editor-content u { text-decoration: underline; }
        .broadcast-editor-content p { margin-bottom: 0.5em; }
      `}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between ",children:[a.jsx("h1",{className:"text-[26px] font-semibold  text-primary-dark mb-4 ",children:"Communication"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>$(!0),className:"inline-flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{children:"Send"}),a.jsx(ER,{className:"h-4 w-4"})]}),a.jsxs("button",{type:"button",onClick:()=>M(!0),className:"inline-flex items-center gap-2 rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{children:"Schedule"}),a.jsx(md,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"rounded-xl  bg-white overflow-hidden ",children:[a.jsxs("div",{className:"flex gap-6 border-b border-slate-200 ",children:[a.jsx("button",{type:"button",onClick:()=>u("late-message"),className:`pb-3 px-1 text-[15px] font-medium font-semibold transition-colors relative whitespace-nowrap ${l==="late-message"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Late Message"}),a.jsx("button",{type:"button",onClick:()=>u("settings"),className:`pb-3 px-1 text-[15px] font-medium font-semibold transition-colors relative whitespace-nowrap ${l==="settings"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Settings"})]}),a.jsx("div",{className:"p-6 border border-slate-200",children:l==="late-message"?a.jsx("div",{className:"space-y-4",children:v?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`group relative flex flex-col w-full rounded-md border ${o==="email"&&c.length>60?"border-orange-300":"border-slate-300"} bg-slate-50 transition-all`,onClick:()=>{var W;return(W=document.getElementById("subject"))==null?void 0:W.focus()},children:[a.jsxs("div",{className:"flex items-center px-3 pt-2.5",children:[a.jsx("label",{htmlFor:"subject",className:"text-sm font-semibold text-slate-700 mr-2 cursor-text shrink-0",children:o==="push-notification"?"Title:":"Subject:"}),a.jsx("input",{id:"subject",type:"text",value:c,onChange:W=>{const he=o==="push-notification"?50:120;W.target.value.length<=he&&h(W.target.value)},className:"flex-1 bg-transparent border-none p-0 text-sm text-slate-900 focus:ring-0 focus:outline-none placeholder-slate-400"})]}),a.jsxs("div",{className:"px-3 pb-1.5 flex items-center gap-2 min-h-[20px]",children:[o==="email"&&c.length>60&&a.jsxs("div",{className:"group/warning relative flex items-center",children:[a.jsx(sC,{className:"h-3 w-3 text-orange-500"}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 hidden w-max rounded bg-slate-900 px-2 py-1 text-xs text-white shadow-lg group-hover/warning:block z-10",children:["May be truncated on mobile",a.jsx("div",{className:"absolute -bottom-1 left-1 h-2 w-2 rotate-45 bg-slate-900"})]})]}),a.jsx("span",{className:`text-[10px] ${o==="email"&&c.length>60||o==="push-notification"&&c.length>=50?"text-orange-500 font-medium":"text-slate-400"}`,children:o==="push-notification"?`${50-c.length} characters left`:`${120-c.length} characters left`})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5  border-slate-200 pb-3",children:[a.jsxs("button",{type:"button",onMouseDown:W=>{W.preventDefault();const he=s[0];he&&(x(he.macro.replace(/[{}]/g,"")),oe())},className:"inline-flex items-center gap-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-700 shadow-sm hover:bg-slate-50 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{children:"{ }"}),a.jsx("span",{children:"Insert"}),a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsxs("select",{className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",defaultValue:"Inter",children:[a.jsx("option",{value:"Inter",children:"T Inter"}),a.jsx("option",{value:"Arial",children:"Arial"}),a.jsx("option",{value:"Helvetica",children:"Helvetica"}),a.jsx("option",{value:"Times",children:"Times New Roman"})]}),a.jsx("div",{className:"h-5 w-px bg-slate-300"}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"bold"),className:`flex h-8 w-8 items-center justify-center rounded transition ${R?"bg-slate-200 text-slate-900":"text-slate-600 hover:bg-slate-100"}`,title:"Bold",children:a.jsx(nC,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"italic"),className:`flex h-8 w-8 items-center justify-center rounded transition ${k?"bg-slate-200 text-slate-900":"text-slate-600 hover:bg-slate-100"}`,title:"Italic",children:a.jsx(aC,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"underline"),className:`flex h-8 w-8 items-center justify-center rounded transition ${D?"bg-slate-200 text-slate-900":"text-slate-600 hover:bg-slate-100"}`,title:"Underline",children:a.jsx(cC,{className:"h-4 w-4"})}),a.jsx("div",{className:"h-5 w-px bg-slate-300"}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{ref:X,type:"button",onMouseDown:W=>{W.preventDefault(),se.current&&se.current.focus()},onClick:()=>{se.current&&se.current.focus(),y(!g)},className:"flex h-8 w-8 items-center justify-center rounded hover:bg-slate-100",title:"Text Color",children:a.jsx("div",{className:"h-3.5 w-3.5 rounded-full",style:{backgroundColor:w}})}),g&&a.jsxs("div",{className:"color-picker-popup absolute left-0 top-full z-50 mt-1 rounded-lg border border-slate-200 bg-white p-3 shadow-lg",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2",children:fe[0].map((W,he)=>a.jsx("button",{type:"button",onMouseDown:me=>{me.preventDefault(),me.stopPropagation(),Z(W)},onClick:me=>{me.preventDefault(),me.stopPropagation(),Z(W)},className:`h-8 w-8 rounded border-2 transition ${w===W?"border-primary ring-2 ring-primary/20":"border-slate-300"}`,style:{backgroundColor:W},title:W},he))}),a.jsx("div",{className:"mt-2 grid grid-cols-6 gap-2",children:fe[1].map((W,he)=>a.jsx("button",{type:"button",onMouseDown:me=>{me.preventDefault(),me.stopPropagation(),Z(W)},onClick:me=>{me.preventDefault(),me.stopPropagation(),Z(W)},className:`h-8 w-8 rounded border-2 transition ${w===W?"border-primary ring-2 ring-primary/20":"border-slate-300"}`,style:{backgroundColor:W},title:W},he))}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50",children:"Custom"}),a.jsx("input",{type:"text",value:w,onChange:W=>S(W.target.value),onKeyDown:W=>{W.key==="Enter"&&(W.preventDefault(),Z(w))},onBlur:()=>{/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(w)&&Z(w)},className:"flex-1 rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"#7F56D9"})]})]})]}),a.jsx("div",{className:"h-5 w-px bg-slate-300"}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"justifyLeft"),className:"flex h-8 w-8 items-center justify-center rounded text-slate-600 hover:bg-slate-100",title:"Align Left",children:a.jsx(iC,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"justifyCenter"),className:"flex h-8 w-8 items-center justify-center rounded text-slate-600 hover:bg-slate-100",title:"Align Center",children:a.jsx(rC,{className:"h-4 w-4"})}),a.jsx("div",{className:"h-5 w-px bg-slate-300"}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"insertUnorderedList"),className:"flex h-8 w-8 items-center justify-center rounded text-slate-600 hover:bg-slate-100",title:"Bullet List",children:a.jsx(uC,{className:"h-4 w-4"})}),a.jsx("div",{className:"h-5 w-px bg-slate-300"}),a.jsx("button",{type:"button",onMouseDown:W=>{W.preventDefault();const he=prompt("Enter URL:");he&&ie("createLink",he)},className:"flex h-8 w-8 items-center justify-center rounded text-slate-600 hover:bg-slate-100",title:"Insert Link",children:a.jsx(Gf,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onMouseDown:W=>{W.preventDefault();const he=prompt("Enter image URL:");he&&ie("insertImage",he)},className:"flex h-8 w-8 items-center justify-center rounded text-slate-600 hover:bg-slate-100",title:"Insert Image",children:a.jsx(bR,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx("div",{ref:se,contentEditable:!0,onInput:W=>{const he=W.currentTarget.innerHTML;m(he),setTimeout(()=>_(),10)},onKeyUp:()=>{_()},onBlur:()=>{_()},onFocus:()=>{_()},className:"broadcast-editor-content min-h-[400px] w-full -mt-2 rounded-md border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",style:{whiteSpace:"pre-wrap",lineHeight:"1.5"},"data-placeholder":"",suppressContentEditableWarning:!0}),P&&a.jsxs("div",{ref:de,className:"absolute z-50 flex items-center gap-1 rounded-lg border border-slate-200 bg-slate-900 p-1.5 shadow-lg",style:{top:`${I.top}px`,left:`${I.left}px`,transform:"translateX(-50%)"},onMouseDown:W=>W.preventDefault(),children:[a.jsx("button",{type:"button",onMouseDown:W=>te(W,"bold"),className:`flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700 ${R?"bg-slate-700":""}`,title:"Bold",children:a.jsx(nC,{className:"h-3.5 w-3.5"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"italic"),className:`flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700 ${k?"bg-slate-700":""}`,title:"Italic",children:a.jsx(aC,{className:"h-3.5 w-3.5"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"underline"),className:`flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700 ${D?"bg-slate-700":""}`,title:"Underline",children:a.jsx(cC,{className:"h-3.5 w-3.5"})}),a.jsx("div",{className:"h-5 w-px bg-slate-600"}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"justifyLeft"),className:"flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700",title:"Align Left",children:a.jsx(iC,{className:"h-3.5 w-3.5"})}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"justifyCenter"),className:"flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700",title:"Align Center",children:a.jsx(rC,{className:"h-3.5 w-3.5"})}),a.jsx("div",{className:"h-5 w-px bg-slate-600"}),a.jsx("button",{type:"button",onMouseDown:W=>te(W,"insertUnorderedList"),className:"flex h-7 w-7 items-center justify-center rounded text-white transition hover:bg-slate-700",title:"Bullet List",children:a.jsx(uC,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t border-slate-200 pt-6",children:[a.jsx("button",{type:"button",onClick:r,className:"rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Cancel"}),a.jsx("button",{type:"button",onClick:le,className:"rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Save changes"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-slate-200 pb-2 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-slate-900",children:o==="push-notification"?"Title: ":"Subject: "}),a.jsx("span",{className:"font-medium text-slate-900",children:c})]}),o==="email"&&c.length>60&&a.jsx("div",{className:"group relative flex items-center cursor-help",children:a.jsxs("div",{className:"flex items-center gap-1 rounded bg-orange-50 px-2 py-0.5 text-xs font-medium text-orange-700 border border-orange-200",children:["May be truncated on mobile",a.jsx(sC,{className:"h-3 w-3"})]})})]}),a.jsx("div",{className:"broadcast-editor-content text-slate-600",dangerouslySetInnerHTML:{__html:p}}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"button",onClick:()=>f(!0),className:"rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Edit"})})]})}):a.jsxs("div",{className:"space-y-6 h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[a.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Recipients"}),a.jsxs("button",{type:"button",onClick:()=>G([...Q,{id:Date.now().toString(),field:"Group",operator:"is",value:""}]),className:"inline-flex items-center gap-2 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx(hl,{className:"h-4 w-4"}),a.jsx("span",{children:"New filter"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-700",children:[a.jsx("span",{children:"Matching"}),a.jsxs("select",{value:j,onChange:W=>B(W.target.value),className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-sm font-medium text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"ANY",children:"ANY"}),a.jsx("option",{value:"ALL",children:"ALL"})]}),a.jsx("span",{children:"of the following filters"})]}),a.jsx("div",{className:"text-sm font-medium text-primary self-end sm:self-auto",children:"400/500"})]}),a.jsx("div",{className:"space-y-3",children:Q.map((W,he)=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 bg-slate-50 rounded-lg sm:bg-transparent sm:p-0",children:[a.jsxs("select",{value:W.field,onChange:me=>{const Ve=[...Q];Ve[he].field=me.target.value,G(Ve)},className:"w-full sm:w-auto sm:min-w-[140px] rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"Group",children:"Group"}),a.jsx("option",{value:"Status",children:"Message Status"})]}),a.jsxs("select",{value:W.operator,onChange:me=>{const Ve=[...Q];Ve[he].operator=me.target.value,G(Ve)},className:"w-full sm:w-[80px] rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"is",children:"is"}),a.jsx("option",{value:"is_not",children:"is not"})]}),a.jsxs("select",{value:W.value,onChange:me=>{const Ve=[...Q];Ve[he].value=me.target.value,G(Ve)},className:"w-full sm:flex-1 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"Speakers",children:"Speakers"}),a.jsx("option",{value:"Attendees",children:"Attendees"}),a.jsx("option",{value:"Sponsors",children:"Sponsors"}),a.jsx("option",{value:"VIP",children:"VIP"})]}),a.jsx("button",{type:"button",onClick:()=>{const me=Q.filter(Ve=>Ve.id!==W.id);G(me)},className:"self-end sm:self-auto rounded p-1 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:a.jsx(hi,{className:"h-4 w-4"})})]},W.id))})]})]})})]}),a.jsx(_6,{isOpen:U,onClose:()=>$(!1),onSend:()=>{t&&t({subject:c,message:p}),$(!1)},subject:c,message:p}),a.jsx(O6,{isOpen:K,onClose:()=>M(!1),onSchedule:W=>{console.log("Scheduled for:",W),M(!1)}})]})},B6=({isOpen:r,onClose:e,onConfirm:t})=>{const[s,i]=d.useState(""),[n,o]=d.useState(""),l=()=>{s&&n&&(t({name:s,source:n}),i(""),o(""))},u=()=>{i(""),o(""),e()};return a.jsx(Qi,{isVisible:r,onClose:u,title:"Create new macro",width:480,maxWidth:400,borderRadius:16,padding:{top:24,right:24,bottom:24,left:24},children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{htmlFor:"macro-name",className:"text-sm font-medium text-slate-700",children:["Macro name ",a.jsx("span",{className:"text-primary",children:"*"})]}),a.jsx("input",{id:"macro-name",type:"text",value:s,onChange:c=>i(c.target.value),placeholder:"Enter macro name",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{htmlFor:"data-source",className:"text-sm font-medium text-slate-700",children:["Select data source ",a.jsx("span",{className:"text-primary",children:"*"})]}),a.jsxs("select",{id:"data-source",value:n,onChange:c=>o(c.target.value),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"",disabled:!0,children:"Select source"}),a.jsx("option",{value:"attendees",children:"Attendees"}),a.jsx("option",{value:"speakers",children:"Speakers"}),a.jsx("option",{value:"sponsors",children:"Sponsors"})]})]})]}),a.jsxs("div",{className:"flex justify-between gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:u,className:"flex-1 rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Cancel"}),a.jsx("button",{type:"button",onClick:l,disabled:!s||!n,className:"flex-1 rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"})]})]})})},cE=({eventName:r,isDraft:e,onBackClick:t,userAvatarUrl:s,onCardClick:i,hideNavbarAndSidebar:n=!1})=>{const{eventData:o}=Gr(),l=(o==null?void 0:o.eventName)||r||"Highly important conference of 2025",u=e!==void 0?e:!0,c=()=>{console.log("Search clicked")},h=()=>{console.log("Notification clicked")},p=()=>{console.log("Profile clicked")},m=d.useMemo(()=>{const j=Ys.map(B=>({id:B.id,label:B.title,icon:B.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:j}]},[]),v=j=>{if(console.log("Sidebar item clicked:",j),j==="event-hub"&&t){t();return}j!=="communications"&&Ys.some(Q=>Q.id===j)&&i&&i(j)},[f,b]=Ie.useState([]),[x,g]=Ie.useState(!1),[y,w]=Ie.useState(!1),[S,P]=Ie.useState(!1),[V,I]=Ie.useState(null),[E,R]=Ie.useState(null),[C,k]=Ie.useState([]),L=()=>{g(!0)},D=()=>{w(!0)},q=j=>{const B={id:Date.now().toString(),macro:`{{${j.name.toLowerCase()}}}`,column:j.name};k(Q=>[...Q,B]),w(!1)},U=j=>{I(j),g(!1),P(!0),R(null)},$=()=>{P(!1),I(null),R(null)},K=j=>{if(E)b(B=>B.map(Q=>Q.id===E?{...Q,title:j.subject}:Q));else{const B=Date.now().toString(),Q={id:B,title:j.subject,userGroups:[],status:"draft",type:V==="email"?"email":"notification",recipients:{sent:0,total:0}};b(G=>[...G,Q]),R(B)}},M=j=>{console.log("Edit communication:",j)};return a.jsxs("div",{className:n?"":"min-h-screen overflow-x-hidden bg-white",children:[!n&&a.jsxs(a.Fragment,{children:[a.jsx(vo,{eventName:l,isDraft:u,onBackClick:t,onSearchClick:c,onNotificationClick:h,onProfileClick:p,userAvatarUrl:s}),a.jsx(Nl,{items:m,activeItemId:"communications",onItemClick:v})]}),a.jsx("div",{className:n?"":"md:pl-[250px]",children:S?a.jsx(F6,{onCancel:$,onSave:K,onSend:j=>{if(E)b(B=>B.map(Q=>Q.id===E?{...Q,title:j.subject,status:"sent"}:Q));else{const B={id:Date.now().toString(),title:j.subject,userGroups:[],status:"sent",type:V==="email"?"email":"notification",recipients:{sent:0,total:0}};b(Q=>[...Q,B])}P(!1),I(null),R(null)},macros:C,templateType:"late-message",type:V||"email"}):a.jsx(M6,{communications:f,macros:C,onCreateBroadcast:L,onCreateMacro:D,onEditCommunication:M,onEditMacro:j=>{console.log("Edit macro:",j)},onDeleteMacro:j=>{k(B=>B.filter(Q=>Q.id!==j))}})}),a.jsx(j6,{isOpen:x,onClose:()=>g(!1),onSelect:U}),a.jsx(B6,{isOpen:y,onClose:()=>w(!1),onConfirm:q})]})},hE=({eventName:r,isDraft:e,onBackClick:t,userAvatarUrl:s,onCardClick:i,hideNavbarAndSidebar:n=!1})=>{const{eventData:o}=Gr(),l=(o==null?void 0:o.eventName)||r||"Highly important conference of 2025",u=e!==void 0?e:!0,[c,h]=d.useState([]),[p,m]=d.useState([]),[v,f]=d.useState(""),[b,x]=d.useState("all"),[g,y]=d.useState(null),w=d.useRef(null),S=()=>{console.log("Search clicked")},P=()=>{console.log("Notification clicked")},V=()=>{console.log("Profile clicked")},I=d.useMemo(()=>{const M=Ys.map(j=>({id:j.id,label:j.title,icon:j.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:M}]},[]),E=M=>{if(M==="event-hub"&&t){t();return}M!=="resource-management"&&Ys.some(B=>B.id===M)&&i&&i(M)},R=()=>{const M={id:`folder-${Date.now()}`,name:"New folder",files:[]};h([...c,M])},C=()=>{var M;(M=w.current)==null||M.click()},k=M=>{const j=M.target.files;j&&(Array.from(j).forEach(B=>{var se;const Q=`file-${Date.now()}-${Math.random()}`,G=((se=B.name.split(".").pop())==null?void 0:se.toLowerCase())||"";let X="other";["jpg","jpeg","png","gif","webp"].includes(G)?X="image":["pdf","doc","docx","xls","xlsx","txt"].includes(G)?X="document":["mp4","avi","mov","wmv","flv"].includes(G)&&(X="video");const de={id:Q,name:B.name,type:X,file:B,preview:X==="image"?URL.createObjectURL(B):void 0};m(fe=>[...fe,de])}),w.current&&(w.current.value=""))},L=M=>{y(M)},D=M=>{M.preventDefault()},q=M=>{g&&(h(j=>j.map(B=>B.id===M?{...B,files:B.files.includes(g)?B.files:[...B.files,g]}:B)),m(j=>j.map(B=>B.id===g?{...B,folderId:M}:B)),y(null))},U=M=>M.type==="image"?"":M.type==="document"?M.name.toLowerCase().endsWith(".pdf")?"":M.name.toLowerCase().endsWith(".xls")||M.name.toLowerCase().endsWith(".xlsx")?"":"":M.type==="video"?"":"",$=d.useMemo(()=>{let M=p;return b!=="all"&&(M=p.filter(j=>j.type===b)),v&&(M=M.filter(j=>j.name.toLowerCase().includes(v.toLowerCase()))),M},[p,b,v]),K=[{id:"all",label:"All media"}];return a.jsxs("div",{className:"min-h-screen overflow-x-hidden bg-white",children:[!n&&a.jsxs(a.Fragment,{children:[a.jsx(vo,{eventName:l,isDraft:u,onBackClick:t,onSearchClick:S,onNotificationClick:P,onProfileClick:V,userAvatarUrl:s}),a.jsx(Nl,{items:I,activeItemId:"resource-management",onItemClick:E})]}),a.jsx("div",{className:n?"":"md:pl-[250px]",children:a.jsxs("div",{className:"space-y-6 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Resource Management"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:C,className:"inline-flex items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-[#5A1684] transition",children:[a.jsx(kl,{className:"h-4 w-4"}),"Upload media"]}),a.jsxs("button",{type:"button",onClick:R,className:"inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-sm font-semibold text-black border border-slate-200 shadow-sm bg-white transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:[a.jsx(hl,{className:"h-4 w-4"}),"New folder"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6",children:[a.jsx("div",{className:"inline-flex items-center overflow-x-auto rounded-t-xl bg-white scrollbar-hide -mb-12",children:K.map(M=>{const j=b===M.id;return a.jsx("button",{type:"button",onClick:()=>x(M.id),className:`border px-4 py-2 text-sm font-semibold transition h-10 whitespace-nowrap ${j?"border-primary bg-white text-primary":"border-transparent bg-slate-100 text-slate-500 hover:text-primary"}`,children:M.label},M.id)})}),a.jsxs("div",{className:"flex w-full sm:w-auto flex-row items-center gap-2 ml-auto",children:[a.jsxs("div",{className:"flex flex-1 md:flex-none w-full md:w-auto max-w-2xl border border-slate-200 rounded-md overflow-hidden",children:[a.jsx("input",{type:"search",value:v,onChange:M=>f(M.target.value),placeholder:"Search resources",className:"w-full md:w-[350px] px-3 py-2 text-sm text-slate-600 focus:outline-none min-w-0","aria-label":"Search resources"}),a.jsx("button",{type:"button",className:"inline-flex h-full -mr-1 items-center justify-center bg-primary px-3 py-2.5 text-white transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Search",children:a.jsx(ua,{className:"h-4 w-4",strokeWidth:2})})]}),a.jsx("button",{type:"button",onClick:()=>f(""),className:"inline-flex shrink-0 h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Filter resources",children:a.jsx(Yy,{className:"h-4 w-4",strokeWidth:2})})]})]}),a.jsx("input",{ref:w,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt,video/*",onChange:k,className:"hidden"}),a.jsxs("div",{className:"border border-slate-200 rounded-lg bg-white p-4 md:p-8 min-h-[400px]",children:[c.length>0&&a.jsx("div",{className:"flex flex-wrap gap-8 mb-6 -mt-4",children:c.map(M=>a.jsxs("div",{onDragOver:D,onDrop:()=>q(M.id),className:"flex flex-col items-center gap-2 cursor-pointer group p-3 rounded-lg transition-colors duration-200 hover:bg-slate-100",children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx(q5,{className:"h-20 w-20 text-primary"})}),a.jsx("span",{className:"text-xs font-medium text-slate-700 text-center max-w-[100px] leading-tight",children:M.name})]},M.id))}),$.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:$.map(M=>a.jsxs("div",{draggable:!0,onDragStart:()=>L(M.id),className:"group flex w-full cursor-move flex-col items-center justify-center gap-2 rounded-lg border border-[#D5D7DA] bg-white p-3",children:[a.jsxs("div",{className:"relative flex h-40 flex-col items-end justify-between self-stretch rounded-xl pt-1.5 pr-1.5",children:[a.jsx("div",{className:"absolute left-0 top-0 inline-flex h-40 w-[calc(100%-6px)] items-center justify-center overflow-hidden rounded bg-white",children:M.type==="image"&&M.preview?a.jsx("img",{src:M.preview,alt:M.name,className:"relative h-full w-full flex-1 self-stretch rounded border border-black/8 object-cover"}):a.jsx("div",{className:"relative flex h-full w-full flex-1 items-center justify-center self-stretch rounded border border-black/8 bg-slate-100 text-5xl",children:U(M)})}),a.jsx("button",{type:"button",className:"relative z-10 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border-none bg-transparent p-0 transition-colors duration-200 group-hover:bg-black/40",onClick:j=>{j.stopPropagation()},"aria-label":"More options",children:a.jsx(mR,{className:"h-4 w-4 text-slate-600 transition-colors duration-200 group-hover:text-white"})})]}),a.jsx("div",{className:"w-full break-words text-center text-base font-semibold leading-6 text-[#181D27]",style:{fontFamily:"Inter, sans-serif"},children:M.name})]},M.id))}),c.length===0&&$.length===0&&a.jsx("div",{className:"flex min-h-[400px] items-center justify-center text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-lg font-medium text-slate-600",children:"No resources yet"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Upload media files or create folders to get started"})]})})]})]})})]})},q6=({initialDate:r=new Date,onDateChange:e,onDateRangeChange:t,className:s=""})=>{const[i,n]=d.useState(r),[o,l]=d.useState(!1),[u,c]=d.useState(null),[h,p]=d.useState(null),[m,v]=d.useState(null),[f,b]=d.useState(null),[x,g]=d.useState(new Date),y=d.useRef(null),w=oe=>{const ie=new Date(oe),_=ie.getDay(),O=ie.getDate()-_+(_===0?-6:1);return ie.setDate(O),Array.from({length:7},(Z,le)=>{const te=new Date(ie);return te.setDate(ie.getDate()+le),te})},S=oe=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][oe.getDay()],P=d.useMemo(()=>w(i),[i]),V=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],I=d.useMemo(()=>P,[P]),E=oe=>{const ie=new Date(i);ie.setDate(i.getDate()+(oe==="next"?7:-7)),n(ie),e==null||e(ie)},R=oe=>u&&h?$(oe,u,h):oe.toDateString()===i.toDateString(),C=oe=>u&&U(oe,u),k=oe=>h&&U(oe,h),L=oe=>!u||!h?!1:$(oe,u,h)&&!C(oe)&&!k(oe),D=oe=>{n(oe),e==null||e(oe)},q=oe=>{const ie=new Date(oe.getFullYear(),oe.getMonth(),1),_=new Date(oe.getFullYear(),oe.getMonth()+1,0),O=ie.getDay(),Z=_.getDate(),le=[],te=O===0?6:O-1;for(let W=0;W<te;W+=1)le.push(null);for(let W=1;W<=Z;W+=1)le.push(new Date(oe.getFullYear(),oe.getMonth(),W));for(;le.length%7!==0;)le.push(null);return le},U=(oe,ie)=>!oe||!ie?!1:oe.getFullYear()===ie.getFullYear()&&oe.getMonth()===ie.getMonth()&&oe.getDate()===ie.getDate(),$=(oe,ie,_)=>{if(!oe||!ie||!_)return!1;const O=oe.getTime(),Z=ie.getTime(),le=_.getTime();return O>=Z&&O<=le},K=oe=>{!m||m&&f?(v(oe),b(null)):m&&!f&&(oe<m?(b(m),v(oe)):b(oe))},M=()=>{m&&f&&(c(m),p(f),t==null||t(m,f),n(m),e==null||e(m)),l(!1)},j=()=>{v(u),b(h),l(!1)},B=()=>{v(u),b(h),l(!0)},Q=d.useCallback(oe=>{y.current&&!y.current.contains(oe.target)&&l(!1)},[]);d.useEffect(()=>{if(o)return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[o,Q]),d.useEffect(()=>{g(new Date(i.getFullYear(),i.getMonth(),1))},[i]);const G=oe=>{if(!oe)return"";const ie=new Intl.DateTimeFormat("en-US",{month:"short"}).format(oe),_=oe.getDate().toString().padStart(2,"0"),O=oe.getFullYear();return`${ie} ${_}, ${O}`},X=d.useMemo(()=>q(x),[x]),de=d.useMemo(()=>new Date(x.getFullYear(),x.getMonth()+1,1),[x]),se=d.useMemo(()=>q(de),[de]),fe=["January","February","March","April","May","June","July","August","September","October","November","December"];return a.jsxs("div",{className:`shedulebar relative flex items-center ${!u||!h?"justify-center":"justify-between"} gap-2 mt-2 w-full${s}`,children:[a.jsx("button",{type:"button",onClick:()=>E("prev"),className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full border-none bg-slate-100 text-slate-600 shadow-sm transition-all duration-200 hover:bg-slate-200 hover:-translate-y-0.5 sm:h-12 sm:w-12","aria-label":"Previous week",children:a.jsx(ph,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"relative flex justify-center",children:[a.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2 sm:gap-3 sm:pb-0 scrollbar-hide h-[70px] sm:overflow-visible",children:I.map((oe,ie)=>{const _=R(oe),O=C(oe),Z=k(oe),le=L(oe);let te="bg-[#FAFAFA] text-[#414651] outline outline-1 outline-[#D5D7DA] hover:bg-slate-50 hover:-translate-y-0.5",W="font-bold text-[#414651]",he="font-medium text-[#414651]";return u&&h?O||Z?(te="bg-primary text-white shadow-md shadow-primary/30 outline-none",W="font-bold text-white",he="font-medium text-white"):le&&(te="bg-primary/20 text-primary shadow-md outline outline-1 outline-primary/30 hover:bg-primary/30 hover:-translate-y-0.5",W="font-bold text-primary",he="font-medium text-primary"):_&&(te="bg-primary text-white shadow-lg shadow-primary/30 outline-none",W="font-bold text-white",he="font-medium text-white"),a.jsx("div",{className:"relative shrink-0",children:a.jsxs("button",{type:"button",onClick:()=>D(oe),className:`inline-flex flex-col items-center justify-center rounded-[10px] px-1 py-2 text-[10px] shadow-md shadow-primary/30 transition-all duration-200 sm:px-[20px] sm:py-2.5 sm:text-sm min-w-[80px] sm:min-w-[100px] w-[140px] md:w-[140px] md:min-w-[140px] md:max-w-[140px] md:px-[30px] md:py-3 ${te}`,children:[a.jsx("div",{className:`leading-4 sm:leading-5 ${W}`,style:{fontFamily:"Inter"},children:u&&h?S(oe):V[ie]}),a.jsx("div",{className:`leading-4 sm:leading-5 ${he}`,style:{fontFamily:"Inter"},children:oe.getDate()})]})},`${oe.toISOString()}-${ie}`)})}),I.length>0&&a.jsxs("div",{className:"group absolute right-0 top-0 z-10",children:[a.jsx("button",{type:"button",onClick:B,className:"flex h-5 w-5 -translate-y-4 translate-x-4 items-center justify-center rounded-full border-none bg-transparent text-slate-400 transition-all duration-200 hover:text-slate-600 sm:h-6 sm:w-6 sm:-translate-y-4 sm:translate-x-3","aria-label":"Edit date range",children:a.jsx(fo,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsx("span",{className:"pointer-events-none absolute left-6 top-5 -translate-y-8 translate-x-4 whitespace-nowrap rounded-md bg-primary/100 px-2 py-0.5 text-xs text-white opacity-0 shadow-lg transition-opacity duration-200 group-hover:opacity-100 sm:-translate-y-10 sm:translate-x-3",children:"Edit"})]})]}),a.jsx("button",{type:"button",onClick:()=>E("next"),className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full border-none bg-slate-100 text-slate-600 shadow-sm transition-all duration-200 hover:bg-slate-200 hover:-translate-y-0.5 sm:h-12 sm:w-12","aria-label":"Next week",children:a.jsx(Zf,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o&&a.jsxs("div",{ref:y,className:"absolute left-0 top-full z-[9999] mt-4 w-[calc(100vw-2rem)] max-w-xl rounded-xl border border-slate-200 bg-white shadow-2xl",children:[a.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",style:{padding:"20px 24px"},children:[a.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{type:"button",onClick:()=>g(new Date(x.getFullYear(),x.getMonth()-1,1)),className:"flex h-8 w-8 items-center justify-center rounded-md p-1.5","aria-label":"Previous month",children:a.jsx(ph,{className:"h-5 w-5 text-[#A4A7AE]"})}),a.jsxs("div",{className:"text-center text-sm font-semibold text-[#414651]",style:{fontFamily:"Inter",lineHeight:"20px"},children:[fe[x.getMonth()]," ",x.getFullYear()]}),a.jsx("div",{className:"h-8 w-8"})," "]}),a.jsx("div",{className:"grid grid-cols-7",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(oe=>a.jsx("div",{className:"h-10 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-[#414651]",style:{fontFamily:"Inter",lineHeight:"20px"},children:oe})},oe))}),a.jsx("div",{className:"grid grid-cols-7",style:{gap:0},children:X.map((oe,ie)=>{if(!oe)return a.jsx("div",{className:"h-10 w-10",style:{margin:0}},`empty-1-${ie}`);const _=oe.getMonth()===x.getMonth(),O=m&&U(oe,m),Z=f&&U(oe,f),le=m&&f&&$(oe,m,f)&&!O&&!Z,te=U(oe,new Date),W=!_,he=le||Z&&m&&oe>m,me=le||O&&f&&oe<f;return a.jsxs("div",{className:"relative",style:{width:"40px",height:"40px",margin:0},children:[he&&a.jsx("div",{className:"absolute left-0 top-0 h-10 w-5 bg-[#6938EF]"}),me&&a.jsx("div",{className:"absolute right-0 top-0 h-10 w-5 bg-[#6938EF]"}),a.jsxs("button",{type:"button",onClick:()=>!W&&K(oe),disabled:W,className:`relative rounded-full flex items-center justify-center text-sm transition ${O||Z||le?"bg-[#6938EF] text-white font-medium":W?"text-[#717680] font-normal cursor-not-allowed":"text-[#414651] font-normal hover:bg-[#FAFAFA]"}`,style:{fontFamily:"Inter",lineHeight:"20px",width:"40px",height:"40px",margin:0,padding:0},children:[oe.getDate(),te&&!O&&!Z&&a.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-[#6938EF] rounded-full"})]})]},oe.toISOString())})})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{type:"button",onClick:()=>g(new Date(de.getFullYear(),de.getMonth()-1,1)),className:"flex h-8 w-8 items-center justify-center rounded-md p-1.5","aria-label":"Previous month",children:a.jsx(ph,{className:"h-5 w-5 text-[#A4A7AE]"})}),a.jsxs("div",{className:"text-center text-sm font-semibold text-[#414651]",style:{fontFamily:"Inter",lineHeight:"20px"},children:[fe[de.getMonth()]," ",de.getFullYear()]}),a.jsx("button",{type:"button",onClick:()=>g(new Date(de.getFullYear(),de.getMonth()+1,1)),className:"flex h-8 w-8 items-center justify-center rounded-md p-1.5","aria-label":"Next month",children:a.jsx(Zf,{className:"h-5 w-5 text-[#A4A7AE]"})})]}),a.jsx("div",{className:"grid grid-cols-7",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(oe=>a.jsx("div",{className:"h-10 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-[#414651]",style:{fontFamily:"Inter",lineHeight:"20px"},children:oe})},oe))}),a.jsx("div",{className:"grid grid-cols-7",style:{gap:0},children:se.map((oe,ie)=>{if(!oe)return a.jsx("div",{className:"h-10 w-10",style:{margin:0}},`empty-2-${ie}`);const _=oe.getMonth()===de.getMonth(),O=m&&U(oe,m),Z=f&&U(oe,f),le=m&&f&&$(oe,m,f)&&!O&&!Z,te=U(oe,new Date),W=!_,he=le||Z&&m&&oe>m,me=le||O&&f&&oe<f;return a.jsxs("div",{className:"relative",style:{width:"40px",height:"40px",margin:0},children:[he&&a.jsx("div",{className:"absolute left-0 top-0 h-10 w-5 bg-[#6938EF]"}),me&&a.jsx("div",{className:"absolute right-0 top-0 h-10 w-5 bg-[#6938EF]"}),a.jsxs("button",{type:"button",onClick:()=>!W&&K(oe),disabled:W,className:`relative rounded-full flex items-center justify-center text-sm transition ${O||Z||le?"bg-[#6938EF] text-white font-medium":W?"text-[#717680] font-normal cursor-not-allowed":"text-[#414651] font-normal hover:bg-[#FAFAFA]"}`,style:{fontFamily:"Inter",lineHeight:"20px",width:"40px",height:"40px",margin:0,padding:0},children:[oe.getDate(),te&&!O&&!Z&&a.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-[#6938EF] rounded-full"})]})]},oe.toISOString())})})]})]}),a.jsxs("div",{className:"border-t border-[#E9EAEB] p-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[a.jsx("div",{className:"w-[136px]",children:a.jsx("input",{type:"text",readOnly:!0,value:G(m),className:"w-full px-3 py-2 bg-white border border-[#D5D7DA] rounded-lg text-base text-[#181D27] shadow-sm focus:outline-none",style:{fontFamily:"Inter",lineHeight:"24px",fontWeight:"400"},placeholder:"Start date"})}),a.jsx("span",{className:"text-[#A4A7AE] text-base",style:{fontFamily:"Inter",lineHeight:"24px"},children:""}),a.jsx("div",{className:"w-[136px]",children:a.jsx("input",{type:"text",readOnly:!0,value:G(f),className:"w-full px-3 py-2 bg-white border border-[#D5D7DA] rounded-lg text-base text-[#181D27] shadow-sm focus:outline-none",style:{fontFamily:"Inter",lineHeight:"24px",fontWeight:"400"},placeholder:"End date"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:j,className:"px-3.5 py-2.5 bg-white border border-[#D5D7DA] rounded-lg text-sm font-semibold text-[#414651] shadow-sm hover:bg-slate-50 transition focus:outline-none",style:{fontFamily:"Inter",lineHeight:"20px"},children:"Cancel"}),a.jsx("button",{type:"button",onClick:M,disabled:!m||!f,className:"px-3.5 py-2.5 bg-[#6938EF] rounded-lg text-sm font-semibold text-white shadow-sm hover:bg-[#5a2dd4] transition focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 border-2 border-white",style:{fontFamily:"Inter",lineHeight:"20px"},children:"Apply"})]})]})]})]})},i0=({isOpen:r,onClose:e,onAttachFiles:t})=>{const[s,i]=d.useState(!1),n=d.useRef(null);if(!r)return null;const o=g=>{if(g&&g.length>0){const y=Array.from(g);t==null||t(y)}},l=g=>{g.preventDefault(),g.stopPropagation(),i(!0)},u=g=>{g.preventDefault(),g.stopPropagation(),i(!0)},c=g=>{g.preventDefault(),g.stopPropagation();const y=g.currentTarget.getBoundingClientRect(),w=g.clientX,S=g.clientY;(w<y.left||w>y.right||S<y.top||S>y.bottom)&&i(!1)},h=g=>{g.preventDefault(),g.stopPropagation(),i(!1),o(g.dataTransfer.files)},p=()=>{var g;(g=n.current)==null||g.click()},m=g=>{o(g.target.files)},v=()=>{e()},f=g=>{g.target===g.currentTarget&&e()},b=g=>{g.preventDefault(),g.stopPropagation()},x=g=>{g.preventDefault(),g.stopPropagation()};return a.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 p-4",onClick:f,onDragOver:b,onDrop:x,children:a.jsxs("div",{className:"relative w-full max-w-[500px] overflow-hidden rounded-lg bg-white shadow-2xl",onClick:g=>g.stopPropagation(),onDragOver:g=>{g.preventDefault(),g.stopPropagation()},onDrop:g=>{g.preventDefault(),g.stopPropagation()},children:[a.jsxs("div",{className:"relative flex w-full flex-col items-center justify-start",children:[a.jsx("div",{className:"flex w-full flex-col items-start justify-start gap-4 self-stretch px-6 pt-6",children:a.jsx("div",{className:"flex w-full flex-col items-start justify-start gap-0.5 self-stretch",children:a.jsx("div",{className:"w-full text-base font-semibold leading-6 text-[#181D27]",style:{fontFamily:"Inter"},children:"Upload and attach files"})})}),a.jsx("button",{type:"button",onClick:e,className:"absolute right-3 top-3 flex h-11 w-11 items-center justify-center overflow-hidden rounded-lg p-2",children:a.jsx("div",{className:"relative h-6 w-6 overflow-hidden",children:a.jsx("svg",{className:"absolute left-1.5 top-1.5 h-3 w-3 text-[#A4A7AE]",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),a.jsx("div",{className:"h-5 w-full"})]}),a.jsx("div",{className:"flex w-full flex-col items-start justify-start gap-5 px-6",children:a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-4 self-stretch",children:[a.jsx("div",{onDragEnter:u,onDragOver:l,onDragLeave:c,onDrop:h,onClick:p,className:`flex w-full cursor-pointer flex-col items-center justify-start gap-1 self-stretch rounded-xl border-2 border-dashed bg-white px-6 py-4 outline outline-2 outline-offset-[-2px] transition-colors ${s?"border-[#7A5AF8] outline-[#7A5AF8] bg-purple-50":"border-[#7A5AF8] outline-[#7A5AF8] hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-3 self-stretch pointer-events-none",children:[a.jsx("div",{className:"relative h-10 w-10 overflow-hidden rounded-lg border border-[#D5D7DA] bg-white shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-1 outline-[#D5D7DA] outline-offset-[-1px]",children:a.jsx("div",{className:"absolute left-2.5 top-2.5 h-5 w-5 overflow-hidden",children:a.jsx(kl,{className:"absolute left-[1.67px] top-[2.5px] h-[15px] w-[16.67px] text-[#414651]",strokeWidth:1.67})})}),a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-1 self-stretch",children:[a.jsxs("div",{className:"inline-flex w-full items-start justify-center gap-1 self-stretch",children:[a.jsx("span",{className:"text-sm font-semibold leading-5 text-[#5925DC] pointer-events-auto cursor-pointer",style:{fontFamily:"Inter"},onClick:p,children:"Click to upload"}),a.jsx("span",{className:"text-sm font-normal leading-5 text-[#535862]",style:{fontFamily:"Inter"},children:"or drag and drop"})]}),a.jsx("div",{className:"w-full text-center text-xs font-normal leading-[18px] text-[#535862]",style:{fontFamily:"Inter"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]})}),a.jsx("input",{ref:n,type:"file",multiple:!0,accept:"image/svg+xml,image/png,image/jpeg,image/gif",onChange:m,className:"hidden"}),a.jsx("div",{className:"flex w-full flex-col items-start justify-start gap-3 self-stretch",children:a.jsxs("div",{className:"relative flex w-full items-start justify-start gap-1 overflow-hidden rounded-xl border border-[#E9EAEB] bg-white p-4 outline outline-1 outline-[#E9EAEB] outline-offset-[-1px]",children:[a.jsxs("div",{className:"flex flex-1 items-start justify-start gap-3",children:[a.jsxs("div",{className:"relative h-10 w-10",children:[a.jsxs("div",{className:"absolute left-1 top-0 h-10 w-8",children:[a.jsx("div",{className:"absolute left-0 top-0 h-10 w-8 bg-[#079455]"}),a.jsx("div",{className:"absolute left-5 top-0 h-3 w-3 bg-white opacity-30"})]}),a.jsx("div",{className:"absolute left-1 top-[23px] w-8 text-center text-[9px] font-bold leading-none text-white",style:{fontFamily:"Inter"},children:"XLSX"})]}),a.jsx("div",{className:"flex flex-1 flex-col items-start justify-start gap-1",children:a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-0.5 self-stretch",children:[a.jsx("div",{className:"w-full text-sm font-medium leading-5 text-[#414651]",style:{fontFamily:"Inter"},children:"Template"}),a.jsx("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch",children:a.jsx("span",{className:"text-sm font-normal leading-5 text-[#535862]",style:{fontFamily:"Inter"},children:"Download template"})})]})})]}),a.jsx("button",{type:"button",className:"absolute right-2 top-2 flex items-center justify-center overflow-hidden rounded-md p-1.5",children:a.jsx("div",{className:"relative h-4 w-4 overflow-hidden",children:a.jsx(B5,{className:"absolute left-0.5 top-0.5 h-3 w-3 text-[#A4A7AE]",strokeWidth:1.5})})})]})})]})}),a.jsx("div",{className:"flex w-full flex-col items-start justify-start pt-8",children:a.jsxs("div",{className:"inline-flex w-full items-start justify-start gap-3 self-stretch px-6 pb-6",children:[a.jsx("button",{type:"button",onClick:e,className:"flex flex-1 items-center justify-center gap-1.5 overflow-hidden rounded-lg border border-[#D5D7DA] bg-white px-4 py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-1 outline-[#D5D7DA] outline-offset-[-1px]",children:a.jsx("div",{className:"flex items-center justify-center px-0.5",children:a.jsx("span",{className:"text-base font-semibold leading-6 text-[#414651]",style:{fontFamily:"Inter"},children:"Cancel"})})}),a.jsx("button",{type:"button",onClick:v,className:"flex flex-1 items-center justify-center gap-1.5 overflow-hidden rounded-lg bg-[#6938EF] px-4 py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-2 outline-white outline-offset-[-2px]",children:a.jsx("div",{className:"flex items-center justify-center px-0.5",children:a.jsx("span",{className:"text-base font-semibold leading-6 text-white",style:{fontFamily:"Inter"},children:"Attach files"})})})]})})]})})},z6=({session:r,parallelSessions:e,isExpanded:t,onToggleExpand:s,onAddParallelSession:i,formatTime:n,formatTimeRange:o,getLocationLabel:l,getSessionTypeLabel:u,isTimeValid:c})=>{var S;const h=d.useRef(null),p=d.useRef(null),m=d.useRef(null),v=d.useRef(null),[f,b]=d.useState(null),x=e.length>0,g=!x&&i,y=x,w=Ie.useCallback(()=>{if(h.current){const P=h.current.offsetHeight;b(P)}},[]);return d.useLayoutEffect(()=>{const P=()=>{if(h.current){const C=h.current.offsetHeight;b(C)}};P();const V=setTimeout(()=>{P()},0);let I,E,R;return I=requestAnimationFrame(()=>{P(),E=requestAnimationFrame(()=>{P(),R=requestAnimationFrame(()=>{P()})})}),()=>{clearTimeout(V),I&&cancelAnimationFrame(I),E&&cancelAnimationFrame(E),R&&cancelAnimationFrame(R)}},[t,e.length]),d.useEffect(()=>{const P=h.current;if(!P)return;m.current&&(m.current.disconnect(),m.current=null),v.current&&(v.current.disconnect(),v.current=null);const V=new ResizeObserver(R=>{for(const C of R)if(C.target===P||P.contains(C.target)){const k=P.offsetHeight;b(k);break}});m.current=V,V.observe(P);const I=new MutationObserver(R=>{R.some(k=>k.addedNodes.length>0||k.removedNodes.length>0)&&requestAnimationFrame(()=>{w(),requestAnimationFrame(()=>{w()})})});v.current=I,I.observe(P,{childList:!0,subtree:!0,attributes:!1});const E=setTimeout(()=>{w()},0);return()=>{clearTimeout(E),m.current&&(m.current.disconnect(),m.current=null),v.current&&(v.current.disconnect(),v.current=null)}},[w,t,e.length]),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0 w-24",children:a.jsxs("div",{ref:p,className:"border border-slate-200 rounded-lg bg-white shadow-sm flex flex-col justify-between",style:{height:f!==null&&f>0?`${f}px`:"auto"},children:[a.jsx("div",{className:"text-center pt-3 flex-shrink-0",children:a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:n(r.startTime,r.startPeriod||"AM")})}),a.jsx("div",{className:"flex-1 flex items-center justify-center min-h-0",children:a.jsx("div",{className:"w-px h-full bg-slate-200"})}),a.jsx("div",{className:"text-center pb-3 flex-shrink-0",children:a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:n(r.endTime,r.endPeriod||"AM")})})]})}),a.jsxs("div",{className:"flex-1",ref:h,children:[a.jsx("div",{className:"border border-slate-200 rounded-lg bg-white shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:"cursor-move text-slate-400 hover:text-slate-600",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M7 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM7 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM7 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"})})}),a.jsx("h3",{className:"font-semibold text-slate-900 text-base",children:r.title})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("button",{type:"button",className:"p-1 text-slate-400 hover:text-slate-600 rounded","aria-label":"More options",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[a.jsx(md,{className:"h-3.5 w-3.5"}),o(r)]}),r.location&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[a.jsxs("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l(r.location)]}),r.sessionType&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[r.sessionType==="keynote"?a.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):a.jsx(pl,{className:"h-3.5 w-3.5"}),u(r.sessionType)]})]}),g&&a.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(r.id),className:"p-1.5 text-slate-400 hover:text-primary rounded border border-slate-300 flex-shrink-0 transition-colors","aria-label":"Add parallel session",children:a.jsx(hl,{className:"h-4 w-4"})})]}),r.sections&&r.sections.length>0&&r.sections[0].description&&a.jsx("p",{className:"text-sm text-slate-600 mb-3 leading-relaxed",children:r.sections[0].description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a.jsx(Gf,{className:"h-3.5 w-3.5"}),((S=r.attachments)==null?void 0:S.length)||0]}),y&&a.jsx("button",{type:"button",onClick:s,className:"p-1 text-slate-400 hover:text-slate-600 rounded","aria-label":t?"Collapse":"Expand",children:t?a.jsx(hR,{className:"h-4 w-4"}):a.jsx(cl,{className:"h-4 w-4"})})]})]})}),x&&t&&a.jsx("div",{className:"mt-2 space-y-2",children:e.map(P=>{var I;return c(P,r)||console.warn(`Parallel session ${P.id} time is not within parent session time`),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-slate-300 ml-4"}),a.jsx("div",{className:"ml-6 border border-slate-200 rounded-lg bg-white shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:"cursor-move text-slate-400 hover:text-slate-600",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M7 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM7 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM7 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM13 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"})})}),a.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:P.title})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-1",children:a.jsx("button",{type:"button",className:"p-1 text-slate-400 hover:text-slate-600 rounded","aria-label":"More options",children:a.jsx("svg",{className:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[a.jsx(md,{className:"h-3 w-3"}),o(P)]}),P.location&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[a.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l(P.location)]}),P.sessionType&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[P.sessionType==="keynote"?a.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):a.jsx(pl,{className:"h-3 w-3"}),u(P.sessionType)]})]}),i&&a.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(r.id),className:"p-1 text-slate-400 hover:text-primary rounded border border-slate-300 flex-shrink-0 transition-colors","aria-label":"Add parallel session",children:a.jsx(hl,{className:"h-3.5 w-3.5"})})]}),P.sections&&P.sections.length>0&&P.sections[0].description&&a.jsx("p",{className:"text-xs text-slate-600 mb-2 leading-relaxed line-clamp-2",children:P.sections[0].description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a.jsx(Gf,{className:"h-3 w-3"}),((I=P.attachments)==null?void 0:I.length)||0]})})]})})]},P.id)})},"parallel-sessions")]})]})},H6=({sessions:r,selectedDate:e,onAddParallelSession:t})=>{const[s,i]=d.useState(new Set),n=d.useMemo(()=>r.filter(x=>{if(!x.date)return!0;const g=new Date(x.date),y=new Date(e),w=new Date(g.getFullYear(),g.getMonth(),g.getDate()),S=new Date(y.getFullYear(),y.getMonth(),y.getDate());return w.getTime()===S.getTime()}),[r,e]),{parentSessions:o,parallelSessionsMap:l}=d.useMemo(()=>{const x=[],g={};return n.forEach(y=>{y.parentId?(g[y.parentId]||(g[y.parentId]=[]),g[y.parentId].push(y)):x.push(y)}),{parentSessions:x,parallelSessionsMap:g}},[n]);d.useEffect(()=>{const x=Object.keys(l);x.length>0&&i(g=>{const y=new Set(g);return x.forEach(w=>{y.add(w)}),y})},[l]);const u=d.useMemo(()=>{const x={};return o.forEach(g=>{const y=`${g.startTime} ${g.startPeriod||"AM"}`;x[y]||(x[y]=[]),x[y].push(g)}),Object.keys(x).sort((g,y)=>{const[w,S]=g.split(" "),[P,V]=y.split(" "),[I,E]=w.split(":").map(Number),[R,C]=P.split(":").map(Number);let k=I*60+E,L=R*60+C;return S==="PM"&&I!==12&&(k+=12*60),V==="PM"&&R!==12&&(L+=12*60),S==="AM"&&I===12&&(k=E),V==="AM"&&R===12&&(L=C),k-L}).map(g=>({time:g,sessions:x[g]}))},[o]),c=x=>{i(g=>{const y=new Set(g);return y.has(x)?y.delete(x):y.add(x),y})},h=(x,g)=>{const[y,w]=x.split(":").map(Number);let S=y*60+w;return g==="PM"&&y!==12&&(S+=12*60),g==="AM"&&y===12&&(S=w),S},p=(x,g)=>{const y=h(g.startTime,g.startPeriod||"AM"),w=h(g.endTime,g.endPeriod||"AM"),S=h(x.startTime,x.startPeriod||"AM"),P=h(x.endTime,x.endPeriod||"AM");return S>=y&&P<=w},m=(x,g)=>`${x} ${g}`,v=x=>`${m(x.startTime,x.startPeriod||"AM")} - ${m(x.endTime,x.endPeriod||"AM")}`,f=x=>({cafeteria:"Cafeteria",room1:"Room 1",room2:"Room 2"})[x]||x,b=x=>({keynote:"Online",workshop:"In-Person"})[x]||x;return u.length===0?a.jsx("div",{className:"text-sm text-slate-500 text-center py-4",children:"No sessions for this date"}):a.jsx("div",{className:"mt-4 space-y-4",children:u.map((x,g)=>a.jsx("div",{className:"space-y-4",children:x.sessions.map(y=>{const w=l[y.id]||[],S=s.has(y.id);return a.jsx(z6,{session:y,parallelSessions:w,isExpanded:S,onToggleExpand:()=>c(y.id),onAddParallelSession:t,formatTime:m,formatTimeRange:v,getLocationLabel:f,getSessionTypeLabel:b,isTimeValid:p},y.id)})},g))})},Q6=({scheduleName:r="Schedule 1",onUpload:e,onAddSession:t,onBack:s,sessions:i=[],onDateChange:n})=>{const[o,l]=d.useState(!1),[u,c]=d.useState(()=>{const f=new Date;return f.setHours(0,0,0,0),f});d.useEffect(()=>{const f=new Date;f.setHours(0,0,0,0),c(f),n==null||n(f)},[]);const h=f=>{const b=new Date(f);b.setHours(0,0,0,0),c(b),n==null||n(b)},p=()=>{l(!0),e==null||e()},m=()=>{l(!1)},v=f=>{console.log("Files attached:",f),l(!1)};return a.jsxs("main",{className:"relative w-full bg-white px-4 pb-10 pt-8 md:px-8",children:[a.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[s&&a.jsx("button",{type:"button",onClick:s,className:"flex items-center justify-center rounded-md p-2 text-slate-600 transition hover:bg-slate-100 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Back to schedule list",children:a.jsx(Jy,{className:"h-5 w-5"})}),a.jsx("h1",{className:"font-manrope text-[26px] font-semibold leading-10 text-primary-dark md:text-[32px] md:leading-10",children:r})]}),a.jsxs("button",{type:"button","data-schedule-upload":"true",onClick:p,className:"inline-flex items-center justify-center gap-1 overflow-hidden rounded-lg bg-[#6938EF] px-[14px] py-[6px] text-white transition-colors hover:bg-[#5a2dd4]",style:{fontFamily:"Inter"},children:[a.jsx("div",{className:"relative h-5 w-5 overflow-hidden",children:a.jsx(kl,{className:"absolute left-[2.5px] top-[2.5px] h-[15px] w-[15px] text-white",strokeWidth:1.67})}),a.jsx("div",{className:"flex items-center justify-center px-0.5",children:a.jsx("span",{className:"text-sm font-semibold leading-5 text-white",children:"Upload"})})]})]}),a.jsxs("div",{className:"mt-6 flex min-h-[22rem] flex-col gap-6 overflow-hidden rounded border border-slate-200 bg-white px-4 py-6 shadow-sm md:min-h-[819px] md:px-8",children:[a.jsx(q6,{initialDate:u,onDateChange:f=>{h(f)}}),a.jsx("div",{children:a.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(),className:"inline-flex items-center justify-center gap-1 overflow-hidden rounded-lg bg-[#6938EF] px-3 py-1.5 text-white shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] ",style:{fontFamily:"Inter"},children:a.jsxs("div",{className:"flex items-center justify-center px-0.5",children:[a.jsx(hl,{className:"h-4 w-4 text-white",strokeWidth:1}),a.jsx("span",{className:"text-sm font-semibold leading-5 text-white",children:" Add session"})]})})}),i&&i.length>0?a.jsx(H6,{sessions:i,selectedDate:u,onAddParallelSession:f=>t==null?void 0:t(f)}):a.jsx("div",{className:"flex flex-1 items-center justify-center text-center text-base text-slate-500",children:"Upload your schedule or create custom sessions!"})]}),a.jsx(i0,{isOpen:o,onClose:m,onAttachFiles:v})]})},W6=({draft:r,tagsInput:e,onFieldChange:t,onTagsInputChange:s,onAddSectionClick:i,availableTags:n=[],availableLocations:o=[]})=>{const[l,u]=d.useState(!1),c=d.useRef(null),h={speaker:"Speaker",volunteer:"Volunteer",student:"Student"},p={cafeteria:"Cafeteria",room1:"Room 1",room2:"Room 2"},m=n.map(g=>({value:g,label:h[g]||g})),v=o.map(g=>({value:g,label:p[g]||g}));d.useEffect(()=>{const g=y=>{c.current&&!c.current.contains(y.target)&&u(!1)};return l&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[l]);const f=g=>{const y=r.tags||[];y.includes(g)?t("tags",y.filter(S=>S!==g)):t("tags",[...y,g])},b="inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",x=(g,y)=>a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:g}),a.jsx("input",{type:"time",value:r[y]||"",onChange:w=>t(y,w.target.value),className:"h-10 w-full rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-600 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-md font-semibold text-slate-600",children:"SESSION TITLE"}),a.jsx(Qu,{placeholder:"Enter session title",value:r.title||"",onChange:g=>t("title",g.target.value)})]}),a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-3",children:[x("Start time","startTime"),x("End time","endTime"),o.length>0?a.jsx("div",{className:"flex-1",children:a.jsx(Jf,{label:"Location",value:r.location,onChange:g=>t("location",g.target.value),options:[{value:"",label:"Select location"},...v],className:"h-10"})}):a.jsx(Qu,{label:"Location",placeholder:"Select location",value:r.location,onChange:g=>t("location",g.target.value)}),a.jsx("div",{className:"flex-1",children:a.jsx(Jf,{label:"Session type",value:r.sessionType,onChange:g=>t("sessionType",g.target.value),options:[{value:"",label:"Select session type"},{value:"keynote",label:"Online"},{value:"workshop",label:"In person"}],className:"h-10"})}),n.length>0?a.jsxs("div",{className:"flex flex-1 flex-col gap-1 relative",ref:c,children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Tags"}),a.jsxs("button",{type:"button",onClick:()=>u(!l),className:"h-10 w-full flex items-center justify-between rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{className:`truncate ${r.tags.length>0?"text-slate-900":"text-slate-400"}`,children:r.tags.length>0?r.tags.map(g=>{const y=m.find(w=>w.value===g);return y?y.label:g}).join(", "):"Select tags"}),a.jsx(cl,{className:`h-4 w-4 text-slate-400 transition-transform flex-shrink-0 ml-2 ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-auto top-full",children:m.map(g=>{const y=r.tags.includes(g.value);return a.jsx("button",{type:"button",onClick:()=>f(g.value),className:`w-full text-left px-3 py-2 hover:bg-slate-50 cursor-pointer text-sm transition-colors ${y?"bg-primary/10 text-primary font-medium":"text-slate-700"}`,children:g.label},g.value)})})]}):a.jsx(Qu,{label:"Tags",placeholder:"Select tags",value:e,onChange:g=>s(g.target.value)})]}),a.jsx("div",{className:"px-6 text-center",children:r.sections.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-base font-medium text-slate-600",children:"Click to add a section!"}),a.jsx("button",{type:"button",onClick:i,className:`mt-4 ${b}`,"aria-label":"Add a section",children:"+ Add section"})]}):a.jsxs("div",{className:"space-y-2 text-left ",children:[a.jsx("div",{className:"flex items-center justify-between  px-2 py-3 margin-left-auto",children:a.jsx("button",{type:"button",onClick:i,className:b,"aria-label":"Add another section",children:"+ Add section"})}),a.jsx("ul",{className:"space-y-3",children:r.sections.map(g=>a.jsxs("li",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-slate-50 px-4 py-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-primary/10 text-sm font-semibold uppercase text-primary",children:g.title.slice(0,1)}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:g.title})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${g.title} section`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.5})}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Preview ${g.title} section`,children:a.jsx(Ho,{className:"h-4 w-4",strokeWidth:1.5})})]})]}),a.jsx("div",{className:"px-4 py-2",children:g.description?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Description"}),a.jsx("p",{className:"text-sm leading-6 text-slate-600",children:g.description})]}):a.jsx("p",{className:"text-sm text-slate-500",children:"No additional details have been added for this section yet."})})]},g.id))})]})})]})},U6=({isOpen:r,selectedSectionId:e,onClose:t,onSelect:s,onConfirm:i,options:n})=>r?a.jsx(Qi,{title:"",isVisible:r,onClose:t,showCloseButton:!1,customHeader:a.jsxs("div",{className:"flex items-start justify-between px-[24px] pt-[38px]",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Add a new section"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Sections for sessions"})]}),a.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close add section modal",children:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 6L6 18"}),a.jsx("path",{d:"M6 6l12 12"})]})})]}),footer:null,width:689,height:571,padding:{top:0,right:24,bottom:48,left:24},children:a.jsxs("div",{className:"flex h-full flex-col gap-4",children:[a.jsx("div",{className:"grid flex-1 gap-4 overflow-y-auto pr-1 md:grid-cols-2",children:n.map(o=>{const l=o.id===e;return a.jsxs("button",{type:"button",onClick:()=>s(o.id),className:`flex h-[56.833px] w-full md:w-[300.5px] items-center justify-between rounded-lg border px-4 text-left shadow-sm transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${l?"border-primary/60 ring-2 ring-primary/20 bg-primary/5":"border-slate-200 bg-white hover:border-primary/40"}`,children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:o.label})}),a.jsx("span",{className:`flex h-4 w-4 items-center justify-center rounded-full border ${l?"border-primary bg-primary":"border-slate-300 bg-white"}`,children:l&&a.jsx("span",{className:"h-2 w-2 rounded-full bg-white"})})]},o.id)})}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-slate-500",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40"}),"Need help?"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300/60",children:"Cancel"}),a.jsx("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Select"})]})]})]})}):null,bC=(r,e)=>{if(!r)return"";const[t,s="00"]=r.split(":"),i=Number.parseInt(t,10);if(Number.isNaN(i))return`${r} ${e}`;const n=(i%12+12)%12||12,o=s.padStart(2,"0");return`${n}:${o} ${e}`},$6=({session:r})=>{const e=bC(r.startTime,r.startPeriod),t=bC(r.endTime,r.endPeriod),s=e&&t?`${e} - ${t}`:e||t,i=[s&&{id:"time-range",label:s},r.location&&{id:"location",label:r.location},r.sessionType&&{id:"type",label:r.sessionType},...r.tags.map(n=>({id:`tag-${n}`,label:n,intent:"tag"}))].filter(Boolean);return a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:r.title||"Session title"}),i.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(n=>a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${n.intent==="tag"?"bg-rose-100 text-rose-700":"bg-slate-100 text-slate-600"}`,children:n.label},n.id))})]}),a.jsx("div",{className:"space-y-8",children:r.sections.length>0?r.sections.map(n=>a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:n.type==="text"?"Description":n.title}),a.jsx("p",{className:"text-sm leading-6 text-slate-600",children:n.description||"No additional details for this section yet."})]},n.id)):a.jsx("p",{className:"text-sm text-slate-500",children:"No sections have been added yet."})})]})},ko=[{id:"slides",label:"Slides/Poster"},{id:"text",label:"Text"},{id:"poll",label:"Poll"},{id:"location",label:"Location"},{id:"qas",label:"Q&As"},{id:"feedback",label:"Feedback"},{id:"hyperlink",label:"Hyperlink"},{id:"photo-gallery",label:"Photo Gallery"},{id:"resources",label:"Resources"},{id:"button",label:"Button"},{id:"live-chat",label:"Live Chat"},{id:"networking-tools",label:"Networking tools"}],Ri={title:"",startTime:"00:00",startPeriod:"AM",endTime:"00:00",endPeriod:"AM",location:"",sessionType:"",tags:[],sections:[],attachments:[]},G6=({isOpen:r,onClose:e,onSave:t,initialDraft:s,startInEditMode:i=!0,topOffset:n=64,panelWidthRatio:o=.8,availableTags:l=[],availableLocations:u=[]})=>{var L;const[c,h]=d.useState(Ri),[p,m]=d.useState(""),[v,f]=d.useState(!1),[b,x]=d.useState(((L=ko[0])==null?void 0:L.id)??"slides"),[g,y]=d.useState(i);d.useEffect(()=>(r?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[r]),d.useEffect(()=>{var D;r||(h(Ri),m(""),f(!1),x(((D=ko[0])==null?void 0:D.id)??"slides"),y(!0))},[r]),d.useEffect(()=>{var q,U;if(!r)return;const D=s?{...Ri,...s,tags:[...s.tags??[]],sections:((q=s.sections)==null?void 0:q.map($=>({...$})))??[]}:Ri;h(D),m(D.tags.join(", ")),f(!1),x(((U=ko[0])==null?void 0:U.id)??"slides"),y(i||!s)},[s,r,i]);const w=(D,q)=>{h(U=>({...U,[D]:q}))},S=()=>{var D;g&&(f(!0),x(((D=ko[0])==null?void 0:D.id)??"slides"))},P=()=>{const D=ko.find(U=>U.id===b)??ko[0];if(!D){f(!1);return}const q=D.id==="text"?"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Odio dictumst tempus magna elit cras posuere cursus pulvinar id. Facilisis at eu amet ornare enim arcu malesuada rutrum a.":void 0;h(U=>({...U,sections:[...U.sections,{id:`section-${Date.now()}`,type:D.id,title:D.label,description:q}]})),f(!1)},V=()=>{f(!1)},I=d.useMemo(()=>p.split(",").map(D=>D.trim()).filter(Boolean),[p]);d.useEffect(()=>{l.length===0&&w("tags",I)},[I.join(","),l.length]),d.useEffect(()=>{l.length>0&&c.tags&&m(c.tags.join(", "))},[c.tags.join(","),l.length]);const E=()=>{t&&t(c),y(!1),f(!1),m(c.tags.join(", "))},R=()=>{m(c.tags.join(", ")),y(!0)},C={top:n,right:0,left:0,bottom:0},k={height:`calc(100vh - ${n}px)`,width:`${Math.min(Math.max(o,.4),1)*100}%`,maxWidth:"960px"};return a.jsxs("div",{className:`fixed inset-x-0 bottom-0 z-[1200] transition ${r?"pointer-events-auto":"pointer-events-none"}`,"aria-hidden":!r,style:C,children:[a.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onClick:e}),a.jsxs("aside",{className:`absolute right-0 top-0 flex transform flex-col bg-white shadow-2xl transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",style:k,children:[a.jsx("header",{className:"flex items-center justify-end border-slate-200 px-6 py-2",children:a.jsx("button",{type:"button",className:"ml-auto rounded-full p-2 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",onClick:e,"aria-label":"Close",children:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 6L6 18"}),a.jsx("path",{d:"M6 6l12 12"})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:g?a.jsx(W6,{draft:c,tagsInput:p,onFieldChange:w,onTagsInputChange:m,onAddSectionClick:S,availableTags:l,availableLocations:u}):a.jsx($6,{session:c})}),g&&a.jsx(U6,{isOpen:v,selectedSectionId:b,onClose:V,onSelect:D=>x(D),onConfirm:P,options:ko}),a.jsx("footer",{className:"flex items-center justify-end gap-3 border-t border-slate-200 px-6 py-4",children:g?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300/60",children:"Cancel"}),a.jsx("button",{type:"button",onClick:E,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Save"})]}):a.jsx("button",{type:"button",onClick:R,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Edit"})})]})]})},Z6=({isOpen:r,onClose:e,onSave:t,initialDetails:s,topOffset:i=64,panelWidthRatio:n=.5})=>{const[o,l]=d.useState({title:"",tags:[],location:[],description:""}),[u,c]=d.useState(!1),[h,p]=d.useState(!1),m=d.useRef(null),v=d.useRef(null),f=[{value:"selectall",label:"Select All"},{value:"speaker",label:"Speaker"},{value:"volunteer",label:"Volunteer"},{value:"student",label:"Student"}],b=[{value:"selectall",label:"Select All"},{value:"cafeteria",label:"Cafeteria"},{value:"room1",label:"Room 1"},{value:"room2",label:"Room 2"}];d.useEffect(()=>(r?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[r]),d.useEffect(()=>{r||(l({title:"",tags:[],location:[],description:""}),c(!1),p(!1))},[r]),d.useEffect(()=>{r&&s?l(s):r&&l({title:"",tags:[],location:[],description:""})},[s,r]),d.useEffect(()=>{const V=I=>{m.current&&!m.current.contains(I.target)&&c(!1),v.current&&!v.current.contains(I.target)&&p(!1)};return(u||h)&&document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[u,h]);const x=(V,I)=>{l(E=>({...E,[V]:I}))},g=V=>{l(I=>{const E=I.tags||[];return E.includes(V)?{...I,tags:E.filter(C=>C!==V)}:{...I,tags:[...E,V]}})},y=V=>{l(I=>{const E=I.location||[];return E.includes(V)?{...I,location:E.filter(C=>C!==V)}:{...I,location:[...E,V]}})},w=()=>{t&&t(o),e()},S={top:i,right:0,left:0,bottom:0},P={height:`calc(100vh - ${i}px)`,width:`${Math.min(Math.max(n,.3),1)*100}%`,maxWidth:"800px"};return a.jsxs("div",{className:`fixed inset-x-0 bottom-0 z-[1200] transition ${r?"pointer-events-auto":"pointer-events-none"}`,"aria-hidden":!r,style:S,children:[a.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onClick:e}),a.jsxs("aside",{className:`absolute right-0 top-0 flex transform flex-col bg-white shadow-2xl transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",style:P,children:[a.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schedule details"}),a.jsx("button",{type:"button",className:"ml-auto rounded-full p-2 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",onClick:e,"aria-label":"Close",children:a.jsx(hi,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-1",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"title",type:"text",value:o.title,onChange:V=>x("title",V.target.value),placeholder:"Enter schedule title",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",autoFocus:!0})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 relative",ref:m,children:[a.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-slate-700 mb-1",children:"Tags"}),a.jsxs("button",{type:"button",onClick:()=>c(!u),className:"w-full flex items-center justify-between rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{className:`truncate ${o.tags.length>0?"text-slate-900":"text-slate-400"}`,children:o.tags.length>0?o.tags.map(V=>{const I=f.find(E=>E.value===V);return I?I.label:V}).filter(V=>V!=="Select All").join(", "):"Select tag"}),a.jsx(cl,{className:`h-4 w-4 text-slate-400 transition-transform flex-shrink-0 ml-2 ${u?"rotate-180":""}`})]}),u&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:f.map(V=>{const I=o.tags.includes(V.value);return a.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:I,onChange:()=>g(V.value),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40"}),a.jsx("span",{className:"text-sm text-slate-700",children:V.label})]},V.value)})})]}),a.jsxs("div",{className:"flex-1 relative",ref:v,children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsxs("button",{type:"button",onClick:()=>p(!h),className:"w-full flex items-center justify-between rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("span",{className:`truncate ${o.location.length>0?"text-slate-900":"text-slate-400"}`,children:o.location.length>0?o.location.map(V=>{const I=b.find(E=>E.value===V);return I?I.label:V}).filter(V=>V!=="Select All").join(", "):"Select location"}),a.jsx(cl,{className:`h-4 w-4 text-slate-400 transition-transform flex-shrink-0 ml-2 ${h?"rotate-180":""}`})]}),h&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:b.map(V=>{const I=o.location.includes(V.value);return a.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:I,onChange:()=>y(V.value),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40"}),a.jsx("span",{className:"text-sm text-slate-700",children:V.label})]},V.value)})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:o.description,onChange:V=>x("description",V.target.value),placeholder:"e.g. I joined Stripe's Customer Success team to help them scale their checkout product. I focused mainly on onboarding new customers and resolving complaints.",rows:6,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"})]})]})}),a.jsxs("footer",{className:"flex items-center justify-end gap-3 border-t border-slate-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300/60",children:"Cancel"}),a.jsx("button",{type:"button",onClick:w,disabled:!o.title.trim(),className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create schedule"})]})]})]})},J6=({isOpen:r,onClose:e,onSave:t,type:s="tag"})=>{const[i,n]=d.useState(""),[o,l]=d.useState(""),[u,c]=d.useState(!1),h=d.useRef(null),[p,m]=d.useState(null),v=[{value:"#3B82F6",label:"Blue",color:"#3B82F6"},{value:"#10B981",label:"Green",color:"#10B981"},{value:"#F59E0B",label:"Amber",color:"#F59E0B"},{value:"#EF4444",label:"Red",color:"#EF4444"},{value:"#8B5CF6",label:"Purple",color:"#8B5CF6"},{value:"#EC4899",label:"Pink",color:"#EC4899"},{value:"#06B6D4",label:"Cyan",color:"#06B6D4"},{value:"#6366F1",label:"Indigo",color:"#6366F1"},{value:"#14B8A6",label:"Teal",color:"#14B8A6"},{value:"#F97316",label:"Orange",color:"#F97316"}],f=()=>{i.trim()&&o&&(t(i.trim(),o),n(""),l(""),c(!1))},b=()=>{n(""),l(""),c(!1),e()},x=v.find(V=>V.value===o);d.useEffect(()=>{if(u&&h.current){const V=h.current.getBoundingClientRect();m({top:V.bottom+4,left:V.left,width:V.width})}else m(null)},[u]);const g=a.jsxs("div",{className:"flex items-center justify-between pb-4",children:[a.jsxs("a",{href:"#",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-primary transition-colors",onClick:V=>{V.preventDefault()},children:[a.jsx(Il,{className:"h-4 w-4"}),a.jsx("span",{children:"Need help?"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:b,className:"rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/20",children:"Cancel"}),a.jsx("button",{type:"button",onClick:f,disabled:!i.trim()||!o,className:"rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]}),y=s==="location"?"New location":"New tag",w=s==="location"?"Location name":"Tag name",S=s==="location"?"location-name":"tag-name",P=s==="location"?"Location name":"Tag name";return a.jsx(Qi,{isVisible:r,onClose:b,title:y,footer:g,maxWidth:"400px",padding:{top:24,right:24,bottom:24,left:24},children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:S,className:"block text-sm font-medium text-slate-700 mb-1",children:[w," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:S,type:"text",value:i,onChange:V=>n(V.target.value),placeholder:P,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tag-color",className:"block text-sm font-medium text-slate-700 mb-1",children:"Color"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{ref:h,type:"button",id:"tag-color",onClick:()=>c(!u),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 rounded-full border border-slate-300",style:{backgroundColor:x.color}}),a.jsx("span",{children:x.label})]}):a.jsx("span",{className:"text-slate-400",children:"Choose Color"})}),a.jsx("svg",{className:`h-4 w-4 text-slate-400 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&p&&cn.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[10001]",onClick:()=>c(!1)}),a.jsx("div",{className:"fixed z-[10002] rounded-md border border-slate-200 bg-white shadow-lg max-h-60 overflow-auto",style:{top:`${p.top}px`,left:`${p.left}px`,width:`${p.width}px`},children:v.map(V=>a.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),l(V.value),c(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"h-4 w-4 rounded-full border border-slate-300",style:{backgroundColor:V.color}}),a.jsx("span",{children:V.label})]},V.value))})]}),document.body)]})]})]})})},K6=({schedules:r,onCreateSchedule:e,onUpload:t,onEditSchedule:s,onManageSession:i})=>{const[n,o]=d.useState(""),[l,u]=d.useState(new Set),[c,h]=d.useState(1),[p,m]=d.useState(!1),[v,f]=d.useState(!1),b=10,[x,g]=d.useState({column:"name",direction:"ascending"}),w=t0({tabs:[{id:"schedules",label:"Schedule list"}],activeTabId:"schedules",searchQuery:n,searchPlaceholder:"Search schedules",onTabChange:()=>{},onSearchChange:o,onFilterClick:()=>o(""),showFilter:!0,filterLabel:"Filter schedules"}),S=d.useMemo(()=>{const M=n.trim().toLowerCase();return M?r.filter(j=>{const{session:B}=j;return[j.name,B==null?void 0:B.location,B==null?void 0:B.sessionType,B==null?void 0:B.title,...(B==null?void 0:B.tags)||[]].filter(Boolean).join(" ").toLowerCase().includes(M)}):r},[n,r]),P=d.useMemo(()=>{const M=(c-1)*b,j=M+b;return S.slice(M,j)},[S,c]),V=d.useMemo(()=>Math.ceil(S.length/b),[S.length]),I=d.useCallback((M,j)=>{u(B=>{const Q=new Set(B);return j?Q.add(M):Q.delete(M),Q})},[]),E=d.useMemo(()=>P.map((M,j)=>({schedule:M,index:j})),[P]),R=d.useCallback((M,j)=>M.name||`Schedule ${j+1}`,[]),k=d.useMemo(()=>[{id:"name",header:"Schedule title",sortable:!0,sortAccessor:({schedule:M,index:j})=>M.name??`Schedule ${j+1}`,render:({schedule:M,index:j})=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${R(M,j)}`,checked:l.has(M.id),onChange:B=>I(M.id,B.target.checked)}),a.jsx("span",{children:R(M,j)})]})},{id:"manage",header:"",align:"center",render:({schedule:M})=>a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(M.id),className:"px-1.5 py-1 text-sm font-medium text-slate-700 bg-slate-50 border border-slate-300 rounded-md shadow-md hover:bg-slate-200 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Manage session"})})},{id:"actions",header:"Actions",align:"right",render:({schedule:M})=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>s==null?void 0:s(M.id),className:"flex h-8 w-8 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${M.name}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",className:"flex h-8 w-8 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${M.name}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})})]})}],[R,I,s,i,l]),L=a.jsx("div",{className:"flex min-h-[400px] flex-col items-center justify-center px-6 py-16",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:a.jsx("svg",{className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-base font-semibold text-slate-900",children:r.length===0?"No schedules have been saved yet":"No schedules match your search"}),a.jsx("p",{className:"text-sm text-slate-500 max-w-sm",children:r.length===0?"Get started by creating your first schedule or uploading an existing one.":"Try adjusting your search terms or filters to find what you're looking for."})]})]})}),D=d.useCallback(M=>{g(M)},[]),q=(M,j)=>{console.log("Saving tag:",{tagName:M,color:j}),m(!1)},U=()=>{f(!0),t==null||t()},$=()=>{f(!1)},K=M=>{console.log("Files attached:",M),f(!1)};return a.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Schedules/Session"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:flex sm:items-center",children:[a.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-sm font-semibold text-black border border-slate-200 shadow-sm bg-white transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:[a.jsx(hl,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"whitespace-nowrap",children:"Create schedule"})]}),a.jsxs("button",{type:"button",onClick:U,className:"inline-flex items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary-dark transition",children:[a.jsx(kl,{className:"h-4 w-4"}),"Upload"]})]})]}),a.jsx(em,{headerLeading:w.leading,headerActions:w.actions,data:E,columns:k,getRowKey:({schedule:M})=>M.id,emptyState:L,sortDescriptor:x,onSortChange:D,footer:S.length>0?a.jsx(e0,{currentPage:c,totalPages:V,onPageChange:h}):void 0}),a.jsx(J6,{isOpen:p,onClose:()=>m(!1),onSave:q}),a.jsx(i0,{isOpen:v,onClose:$,onAttachFiles:K})]})},pE=({eventName:r,isDraft:e,onBackClick:t,userAvatarUrl:s,scheduleName:i,onCardClick:n,hideNavbarAndSidebar:o=!1})=>{var le;const{eventData:l}=Gr(),u=(l==null?void 0:l.eventName)||r||"Highly important conference of 2025",c=e!==void 0?e:!0,h=()=>{console.log("Search clicked")},p=()=>{console.log("Notification clicked")},m=()=>{console.log("Profile clicked")},v=d.useMemo(()=>{const te=Ys.map(W=>({id:W.id,label:W.title,icon:W.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:te}]},[]),f=te=>{if(console.log("Sidebar item clicked:",te),te==="event-hub"&&t){t();return}te!=="schedule-session"&&Ys.some(he=>he.id===te)&&n&&n(te)},b=()=>{console.log("Upload clicked")},[x,g]=Ie.useState([]),[y,w]=Ie.useState(i||"Schedule 1"),[S,P]=Ie.useState(!1),[V,I]=Ie.useState(!1),[E,R]=Ie.useState(null),[C,k]=Ie.useState(null),[L,D]=Ie.useState(!0),[q,U]=Ie.useState("table"),[$,K]=Ie.useState([]),[M,j]=Ie.useState([]),[B,Q]=Ie.useState(()=>{const te=new Date;return te.setHours(0,0,0,0),te}),[G,X]=Ie.useState(void 0),de=te=>{const W=E?x.find(he=>he.id===E):null;W?(K(W.availableTags||[]),j(W.availableLocations||[])):(K([]),j([])),X(te),k({...Ri,tags:[...Ri.tags],sections:[...Ri.sections]}),D(!0),P(!0)},se=()=>{P(!1),R(null),k(null),D(!0)},fe=te=>{g(W=>{var Me;const he={...Ri,...te,title:((Me=te.title)==null?void 0:Me.trim())||y,tags:te.tags?[...te.tags]:[],sections:te.sections?te.sections.map(Le=>({...Le})):[]};if(E){const Le=W.find(ze=>ze.id===E);if(Le){const ze=new Date(B);ze.setHours(0,0,0,0);const et={...he,id:`session-${Date.now()}`,date:ze,parentId:G},nt=Le.sessions||[];return W.map(Bt=>Bt.id===E?{...Bt,sessions:[...nt,et],availableTags:Le==null?void 0:Le.availableTags,availableLocations:Le==null?void 0:Le.availableLocations}:Bt)}}const me=new Date(B);me.setHours(0,0,0,0);const Ve={id:`schedule-${Date.now()}`,name:y,sessions:[{...he,id:`session-${Date.now()}`,date:me}],availableTags:$,availableLocations:M};return[...W,Ve]}),k(null),D(!1),X(void 0),P(!1)},oe=()=>{I(!0)},ie=()=>{I(!1)},_=te=>{const W=(te.tags||[]).filter(Ve=>Ve!=="selectall"),he=(te.location||[]).filter(Ve=>Ve!=="selectall"),me={id:`schedule-${Date.now()}`,name:te.title||`Schedule ${x.length+1}`,session:{...Ri,title:te.title,location:he.length>0?he[0]:"",tags:W,sections:te.description?[{id:`section-${Date.now()}`,type:"text",title:"Description",description:te.description}]:[]},availableTags:W,availableLocations:he};g(Ve=>[...Ve,me]),I(!1)},O=te=>{const W=x.find(he=>he.id===te);W&&(R(te),w(W.name),K(W.availableTags||[]),j(W.availableLocations||[]),U("content"))},Z=()=>{U("table"),R(null)};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden bg-white",children:[!o&&a.jsxs(a.Fragment,{children:[a.jsx(vo,{eventName:u,isDraft:c,onBackClick:t,onSearchClick:h,onNotificationClick:p,onProfileClick:m,userAvatarUrl:s}),a.jsx(Nl,{items:v,activeItemId:"schedule-session",onItemClick:f})]}),a.jsx("div",{className:o?"":"md:pl-[250px]",children:q==="table"?a.jsx(K6,{schedules:x,onCreateSchedule:oe,onUpload:b,onManageSession:O,onEditSchedule:te=>{var he;const W=x.find(me=>me.id===te);!W||!W.session||(R(te),w(W.name),k({...Ri,...W.session,tags:[...W.session.tags??[]],sections:((he=W.session.sections)==null?void 0:he.map(me=>({...me})))??[]}),D(!1),P(!0))}}):a.jsx(Q6,{scheduleName:y,onUpload:b,onAddSession:de,onBack:Z,sessions:E?((le=x.find(te=>te.id===E))==null?void 0:le.sessions)||[]:[],onDateChange:te=>{const W=new Date(te);W.setHours(0,0,0,0),Q(W)}})}),a.jsx(G6,{isOpen:S,onClose:se,onSave:fe,initialDraft:C,startInEditMode:L,topOffset:64,panelWidthRatio:.8,availableTags:$,availableLocations:M}),a.jsx(Z6,{isOpen:V,onClose:ie,onSave:_,topOffset:64,panelWidthRatio:.5})]})},mE=({onBackClick:r,userAvatarUrl:e,hideNavbarAndSidebar:t=!1})=>{const{eventData:s}=Gr(),[i,n]=d.useState("website-pages"),[o]=d.useState([{id:"welcome",name:"Welcome"}]),l=()=>{console.log("Search clicked")},u=()=>{console.log("Notification clicked")},c=()=>{console.log("Profile clicked")},h=d.useMemo(()=>{const x=Ys.map(g=>({id:g.id,label:g.title,icon:g.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:x}]},[]),p=x=>{if(t)return;if(x==="event-hub"){window.history.pushState({},"","/event/hub"),window.dispatchEvent(new PopStateEvent("popstate"));return}if(Ys.some(y=>y.id===x)){window.history.pushState({section:x},"",`/event/hub?section=${x}`),window.dispatchEvent(new PopStateEvent("popstate"));return}},m=()=>{console.log("Preview clicked")},v=()=>{console.log("Publish website clicked")},f=()=>{console.log("New page clicked")},b=(x,g)=>{console.log(`Page action: ${g} for page: ${x}`),g==="view"?(window.history.pushState({},"",`/event/website/preview/${x}`),window.dispatchEvent(new PopStateEvent("popstate"))):g==="edit"&&(window.history.pushState({},"",`/event/website/editor/${x}`),window.dispatchEvent(new PopStateEvent("popstate")))};return t?a.jsx("div",{className:"w-full h-full",children:a.jsxs("div",{className:"flex-1 p-8 bg-white overflow-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Event Website"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx(Ho,{className:"h-4 w-4"}),"Preview"]}),a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx(Oi,{className:"h-4 w-4"}),"Publish Website"]}),a.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New page"]})]})]}),a.jsxs("div",{className:"flex gap-6 mb-6 border-b border-slate-200",children:[a.jsx("button",{onClick:()=>n("website-pages"),className:`pb-3 px-1 text-sm font-medium transition-colors relative ${i==="website-pages"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Website pages"}),a.jsx("button",{onClick:()=>n("website-header"),className:`pb-3 px-1 text-sm font-medium transition-colors relative ${i==="website-header"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Website header"})]}),i==="website-pages"&&a.jsx("div",{children:a.jsx("div",{className:"space-y-0",children:o.map(x=>a.jsxs("div",{className:`flex items-center justify-between py-4 px-4 border-b border-slate-200 hover:bg-slate-50 transition-colors ${x.isDisabled?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("span",{className:`text-sm font-medium ${x.isDisabled?"text-slate-400":"text-slate-900"}`,children:x.name}),!x.isDisabled&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>b(x.id,"duplicate"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Duplicate",children:a.jsx(oC,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"view"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"View",children:a.jsx(Ho,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"link"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Copy link",children:a.jsx(lC,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"edit"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Edit",children:a.jsx(np,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"delete"),className:"p-2 text-slate-400 hover:text-red-600 transition-colors","aria-label":"Delete",children:a.jsx(dC,{className:"h-4 w-4"})})]})]},x.id))})}),i==="website-header"&&a.jsx("div",{children:a.jsx("p",{className:"text-slate-600",children:"Website header settings will be implemented here."})})]})}):a.jsxs("div",{className:"h-screen overflow-hidden bg-white",children:[a.jsx(vo,{eventName:(s==null?void 0:s.eventName)||"Highly important conference of 2025",isDraft:!0,onBackClick:r,onSearchClick:l,onNotificationClick:u,onProfileClick:c,userAvatarUrl:e}),a.jsx(Nl,{items:h,activeItemId:"event-website",onItemClick:p}),a.jsxs("div",{className:`flex-1 p-8 bg-white overflow-auto ${t?"":"ml-[250px] mt-16"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Event Website"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx(Ho,{className:"h-4 w-4"}),"Preview"]}),a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx(Oi,{className:"h-4 w-4"}),"Publish Website"]}),a.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New page"]})]})]}),a.jsxs("div",{className:"flex gap-6 mb-6 border-b border-slate-200",children:[a.jsx("button",{onClick:()=>n("website-pages"),className:`pb-3 px-1 text-sm font-medium transition-colors relative ${i==="website-pages"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Website pages"}),a.jsx("button",{onClick:()=>n("website-header"),className:`pb-3 px-1 text-sm font-medium transition-colors relative ${i==="website-header"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Website header"})]}),i==="website-pages"&&a.jsx("div",{children:a.jsx("div",{className:"space-y-0",children:o.map(x=>a.jsxs("div",{className:`flex items-center justify-between py-4 px-4 border-b border-slate-200 hover:bg-slate-50 transition-colors ${x.isDisabled?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("span",{className:`text-sm font-medium ${x.isDisabled?"text-slate-400":"text-slate-900"}`,children:x.name}),!x.isDisabled&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>b(x.id,"duplicate"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Duplicate",children:a.jsx(oC,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"view"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"View",children:a.jsx(Ho,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"link"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Copy link",children:a.jsx(lC,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"edit"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Edit",children:a.jsx(np,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id,"delete"),className:"p-2 text-slate-400 hover:text-red-600 transition-colors","aria-label":"Delete",children:a.jsx(dC,{className:"h-4 w-4"})})]})]},x.id))})}),i==="website-header"&&a.jsx("div",{children:a.jsx("p",{className:"text-slate-600",children:"Website header settings will be implemented here."})})]})]})},Y6=r=>{switch(r){case"opened":return"success";case"loggedin":case"active":return"info";case"sent":return"primary";case"delivered":return"warning";case"bounced":return"danger";default:return"neutral"}},X6=r=>r==="primary"?"primary":r==="info"?"info":"muted",e9=({allVisibleSelected:r,partiallySelected:e,selectedAttendeeIds:t,onToggleAllVisible:s,onToggleRow:i,onEditAttendee:n,onDeleteAttendee:o})=>d.useMemo(()=>[{id:"name",header:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zd,{checked:r,indeterminate:e,onChange:s,ariaLabel:"Select all attendees"}),a.jsx("span",{children:"Name"})]}),sortable:!0,sortAccessor:({attendee:l})=>(l==null?void 0:l.name)||"",render:({attendee:l})=>l?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${l.name}`,checked:t.has(l.id),onChange:u=>{u.stopPropagation(),i(l.id,u.target.checked)},onClick:u=>u.stopPropagation()}),l.avatarUrl?a.jsx("img",{src:l.avatarUrl,alt:l.name,className:"h-8 w-8 rounded-full object-cover"}):a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-xs font-medium text-slate-600",children:l.name.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)}),a.jsx("span",{className:"text-sm font-medium text-slate-900 cursor-pointer hover:text-primary transition-colors",onClick:()=>n==null?void 0:n(l.id),children:l.name})]}):null},{id:"email",header:"Email address",sortable:!0,sortAccessor:({attendee:l})=>(l==null?void 0:l.email)||"",render:({attendee:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.email}):null},{id:"status",header:"Status",sortable:!0,sortAccessor:({attendee:l})=>(l==null?void 0:l.status)||"",render:({attendee:l})=>l?a.jsx(nn,{variant:Y6(l.status),children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}):null},{id:"inviteCode",header:"Invite code",sortable:!0,sortAccessor:({attendee:l})=>(l==null?void 0:l.inviteCode)||"",render:({attendee:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.inviteCode||"-"}):null},{id:"groups",header:"Groups",sortable:!0,sortAccessor:({attendee:l})=>(l==null?void 0:l.groups.map(u=>u.name).join(" "))||"",render:({attendee:l})=>l?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.groups.slice(0,3).map((u,c)=>a.jsx(nn,{variant:X6(u.variant),children:u.name},c)),l.groups.length>3&&a.jsxs(nn,{variant:"muted",children:["+",l.groups.length-3]})]}):null},{id:"actions",header:"",align:"right",render:({attendee:l})=>l?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${l.name}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${l.name}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[r,e,t,s,i,n,o]),t9=({allVisibleSelected:r,partiallySelected:e,selectedGroupIds:t,onToggleAllVisible:s,onToggleRow:i,onEditGroup:n,onDeleteGroup:o})=>d.useMemo(()=>[{id:"groupName",header:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zd,{checked:r,indeterminate:e,onChange:s,ariaLabel:"Select all groups"}),a.jsx("span",{children:"Group name"})]}),sortable:!0,sortAccessor:({group:l})=>(l==null?void 0:l.name)||"",render:({group:l})=>l?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${l.name}`,checked:t.has(l.id),onChange:u=>i(l.id,u.target.checked)}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.name})]}):null},{id:"attendeeCount",header:"Attendee count",sortable:!0,sortAccessor:({group:l})=>(l==null?void 0:l.attendeeCount)||0,render:({group:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.attendeeCount}):null},{id:"actions",header:"",align:"right",render:({group:l})=>l?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${l.name}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${l.name}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[r,e,t,s,i,n,o]),s9=({allVisibleSelected:r,partiallySelected:e,selectedCustomFieldIds:t,onToggleAllVisible:s,onToggleRow:i,onEditCustomField:n,onDeleteCustomField:o})=>d.useMemo(()=>[{id:"fieldName",header:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zd,{checked:r,indeterminate:e,onChange:s,ariaLabel:"Select all custom fields"}),a.jsx("span",{children:"Field name"})]}),sortable:!0,sortAccessor:({customField:l})=>(l==null?void 0:l.fieldName)||"",render:({customField:l})=>l?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/40","aria-label":`Select ${l.fieldName}`,checked:t.has(l.id),onChange:u=>i(l.id,u.target.checked)}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.fieldName})]}):null},{id:"users",header:"Users",sortable:!0,sortAccessor:({customField:l})=>(l==null?void 0:l.users)||0,render:({customField:l})=>l?a.jsxs("span",{className:"text-sm text-slate-600",children:[l.users," Users"]}):null},{id:"fieldType",header:"Field type",sortable:!0,sortAccessor:({customField:l})=>(l==null?void 0:l.fieldType)||"",render:({customField:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.fieldType}):null},{id:"visibility",header:"Visibility",sortable:!0,sortAccessor:({customField:l})=>(l==null?void 0:l.visibility)||"",render:({customField:l})=>l?a.jsx("span",{className:"text-sm text-slate-600",children:l.visibility}):null},{id:"actions",header:"",align:"right",render:({customField:l})=>l?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:border-rose-400 hover:text-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300/60","aria-label":`Delete ${l.fieldName}`,children:a.jsx(Tl,{className:"h-4 w-4",strokeWidth:1.8})}),a.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(l.id),className:"flex h-9 w-9 items-center justify-center text-slate-500 transition hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":`Edit ${l.fieldName}`,children:a.jsx(fo,{className:"h-4 w-4",strokeWidth:1.8})})]}):null}],[r,e,t,s,i,n,o]),r9=({attendees:r,groups:e=[],customFields:t=[],activeTab:s,onTabChange:i,onUpload:n,onCreateProfile:o,onCreateGroup:l,onCreateField:u,onEditAttendee:c,onDeleteAttendee:h,onEditGroup:p,onDeleteGroup:m,onEditCustomField:v,onDeleteCustomField:f,onDownload:b,onGridView:x,onFilter:g})=>{const[y,w]=d.useState(""),[S,P]=d.useState(new Set),[V,I]=d.useState(new Set),[E,R]=d.useState(new Set),[C,k]=d.useState(1),L=10,[D,q]=d.useState({column:"name",direction:"ascending"}),U=d.useMemo(()=>{const xe=y.trim().toLowerCase();return xe?r.filter(Pe=>[Pe.name,Pe.email,Pe.status,Pe.inviteCode,...Pe.groups.map(Ae=>Ae.name)].filter(Boolean).join(" ").toLowerCase().includes(xe)):r},[y,r]),$=d.useMemo(()=>{const xe=y.trim().toLowerCase();return xe?e.filter(Pe=>Pe.name.toLowerCase().includes(xe)):e},[y,e]),K=d.useMemo(()=>{const xe=y.trim().toLowerCase();return xe?t.filter(Pe=>Pe.fieldName.toLowerCase().includes(xe)):t},[y,t]),M=d.useMemo(()=>U.map(xe=>xe.id),[U]),j=d.useMemo(()=>$.map(xe=>xe.id),[$]),B=d.useMemo(()=>K.map(xe=>xe.id),[K]),Q=d.useMemo(()=>{const xe=(C-1)*L,Pe=xe+L;return U.slice(xe,Pe)},[U,C]),G=d.useMemo(()=>{const xe=(C-1)*L,Pe=xe+L;return $.slice(xe,Pe)},[$,C]),X=d.useMemo(()=>{const xe=(C-1)*L,Pe=xe+L;return K.slice(xe,Pe)},[K,C]),de=d.useMemo(()=>{const xe=s==="user"?U.length:s==="groups"?$.length:K.length;return Math.ceil(xe/L)},[s,U.length,$.length,K.length]),se=d.useMemo(()=>M.length>0&&M.every(xe=>S.has(xe)),[M,S]),fe=d.useMemo(()=>!se&&M.some(xe=>S.has(xe)),[se,M,S]),oe=d.useMemo(()=>j.length>0&&j.every(xe=>V.has(xe)),[j,V]),ie=d.useMemo(()=>!oe&&j.some(xe=>V.has(xe)),[oe,j,V]),_=d.useMemo(()=>B.length>0&&B.every(xe=>E.has(xe)),[B,E]),O=d.useMemo(()=>!_&&B.some(xe=>E.has(xe)),[_,B,E]),Z=d.useCallback(xe=>{P(Pe=>{const je=new Set(Pe);return M.forEach(Ae=>{xe?je.add(Ae):je.delete(Ae)}),je})},[M]),le=d.useCallback((xe,Pe)=>{P(je=>{const Ae=new Set(je);return Pe?Ae.add(xe):Ae.delete(xe),Ae})},[]),te=d.useCallback(xe=>{I(Pe=>{const je=new Set(Pe);return j.forEach(Ae=>{xe?je.add(Ae):je.delete(Ae)}),je})},[j]),W=d.useCallback((xe,Pe)=>{I(je=>{const Ae=new Set(je);return Pe?Ae.add(xe):Ae.delete(xe),Ae})},[]),he=d.useCallback(xe=>{R(Pe=>{const je=new Set(Pe);return B.forEach(Ae=>{xe?je.add(Ae):je.delete(Ae)}),je})},[B]),me=d.useCallback((xe,Pe)=>{R(je=>{const Ae=new Set(je);return Pe?Ae.add(xe):Ae.delete(xe),Ae})},[]),Ve=d.useMemo(()=>Q.map((xe,Pe)=>({attendee:xe,index:Pe})),[Q]),Me=d.useMemo(()=>G.map((xe,Pe)=>({group:xe,index:Pe})),[G]),Le=d.useMemo(()=>X.map((xe,Pe)=>({customField:xe,index:Pe})),[X]),ze=e9({allVisibleSelected:se,partiallySelected:fe,selectedAttendeeIds:S,onToggleAllVisible:Z,onToggleRow:le,onEditAttendee:c,onDeleteAttendee:h}),et=t9({allVisibleSelected:oe,partiallySelected:ie,selectedGroupIds:V,onToggleAllVisible:te,onToggleRow:W,onEditGroup:p,onDeleteGroup:m}),nt=s9({allVisibleSelected:_,partiallySelected:O,selectedCustomFieldIds:E,onToggleAllVisible:he,onToggleRow:me,onEditCustomField:v,onDeleteCustomField:f}),Bt=a.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:r.length===0?"No attendees have been added yet!":"No attendees match your search."}),Fs=a.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:e.length===0?"No groups have been created yet!":"No groups match your search."}),Rr=a.jsx("div",{className:"flex min-h-[280px] items-center justify-center px-6 py-10 text-sm text-slate-500",children:t.length===0?"No custom fields have been created yet!":"No custom fields match your search."}),hr=d.useMemo(()=>{switch(s){case"groups":return"Search group";case"custom-schedule":return"Search personal schedule";default:return"Search attendees"}},[s]),Zr=d.useMemo(()=>{switch(s){case"groups":return"+ New group";case"custom-schedule":return"+ New field";default:return"+ New profile"}},[s]),rt=d.useMemo(()=>{switch(s){case"groups":return l;case"custom-schedule":return u;default:return o}},[s,l,u,o]),ye=t0({tabs:[{id:"user",label:"User"},{id:"groups",label:"Groups"},{id:"custom-schedule",label:"Custom schedule"}],activeTabId:s,searchQuery:y,searchPlaceholder:hr,onTabChange:xe=>i(xe),onSearchChange:w,showFilter:!0,onFilterClick:g||(()=>{}),filterLabel:`Filter ${s==="groups"?"groups":s==="custom-schedule"?"custom fields":"attendees"}`,customActions:s==="user"?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:b,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Download",children:a.jsx(B5,{className:"h-4 w-4",strokeWidth:2})}),a.jsx("button",{type:"button",onClick:x,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Grid view",children:a.jsx(yR,{className:"h-4 w-4",strokeWidth:2})})]}):void 0}),Ue=d.useCallback(xe=>{q(xe)},[]);Ie.useEffect(()=>{k(1)},[s,y]);const Xe=(()=>{switch(s){case"groups":return{data:Me,columns:et,emptyState:Fs,getRowKey:xe=>{var Pe;return((Pe=xe.group)==null?void 0:Pe.id)||""}};case"custom-schedule":return{data:Le,columns:nt,emptyState:Rr,getRowKey:xe=>{var Pe;return((Pe=xe.customField)==null?void 0:Pe.id)||""}};default:return{data:Ve,columns:ze,emptyState:Bt,getRowKey:xe=>{var Pe;return((Pe=xe.attendee)==null?void 0:Pe.id)||""}}}})();return a.jsxs("div",{className:"space-y-8 px-4 pb-12 pt-8 md:px-10 lg:px-16",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-[26px] font-bold text-primary-dark",children:"Attendee Management"}),a.jsxs("div",{className:"flex items-center gap-3",children:[s==="user"&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Upload"}),a.jsx("button",{type:"button",onClick:rt,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white border border-slate-200 bg-primary shadow-sm transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:Zr})]})]}),a.jsx(em,{headerLeading:ye.leading,headerActions:ye.actions,data:Xe.data,columns:Xe.columns,getRowKey:Xe.getRowKey,emptyState:Xe.emptyState,sortDescriptor:D,onSortChange:Ue,onRowClick:s==="user"?xe=>{const Pe=xe;Pe.attendee&&(c==null||c(Pe.attendee.id))}:void 0,footer:a.jsx(e0,{currentPage:C,totalPages:de,onPageChange:k})})]})},i9=({isOpen:r,onClose:e,onSave:t})=>{const[s,i]=d.useState(""),[n,o]=d.useState(""),[l,u]=d.useState(""),[c,h]=d.useState(""),[p,m]=d.useState(""),[v,f]=d.useState(""),[b,x]=d.useState(""),[g,y]=d.useState(null),[w,S]=d.useState(!1),P=d.useRef(null);if(!r)return null;const V=D=>{if(D){if(!["image/svg+xml","image/png","image/jpeg","image/jpg","image/gif"].includes(D.type)){alert("Please upload a valid image file (SVG, PNG, JPG, or GIF)");return}const U=new FileReader;U.onloadend=()=>{y(U.result)},U.readAsDataURL(D)}},I=D=>{var U;const q=(U=D.target.files)==null?void 0:U[0];q&&V(q)},E=D=>{D.preventDefault(),S(!0)},R=D=>{D.preventDefault(),S(!1)},C=D=>{var U;D.preventDefault(),S(!1);const q=(U=D.dataTransfer.files)==null?void 0:U[0];q&&V(q)},k=()=>{if(!s.trim()||!n.trim()||!l.trim()){alert("Please fill in all required fields");return}t({firstName:s.trim(),lastName:n.trim(),email:l.trim(),organization:c.trim()||void 0,role:p.trim()||void 0,group:v.trim()||void 0,description:b.trim()||void 0,avatarUrl:g||void 0}),i(""),o(""),u(""),h(""),m(""),f(""),x(""),y(null),e()},L=()=>{i(""),o(""),u(""),h(""),m(""),f(""),x(""),y(null),e()};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:L}),a.jsxs("div",{className:"relative z-50 w-[450px]  max-w-2xl mx-4 bg-white rounded-lg shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create profile"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Choose a username and write a brief intro."})]}),a.jsx("button",{type:"button",onClick:L,className:"text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Close",children:a.jsx(hi,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[calc(100vh-250px)] overflow-y-auto",children:[a.jsx("div",{children:a.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer ${w?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400"}`,onDragOver:E,onDragLeave:R,onDrop:C,onClick:()=>{var D;return(D=P.current)==null?void 0:D.click()},children:[a.jsx("input",{ref:P,type:"file",accept:"image/svg+xml,image/png,image/jpeg,image/jpg,image/gif",onChange:I,className:"hidden"}),g?a.jsxs("div",{className:"space-y-1",children:[a.jsx("img",{src:g,alt:"Profile preview",className:"mx-auto h-24 w-24 rounded-full object-cover"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Click to change image"})]}):a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(kl,{className:"h-6 w-6 text-slate-400"})}),a.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-slate-500",children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["First name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s,onChange:D=>i(D.target.value),placeholder:"First name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Last name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n,onChange:D=>o(D.target.value),placeholder:"Last name",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",value:l,onChange:D=>u(D.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),a.jsxs("select",{value:c,onChange:D=>h(D.target.value),className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",children:[a.jsx("option",{value:"",children:"Organization"}),a.jsx("option",{value:"org1",children:"Organization 1"}),a.jsx("option",{value:"org2",children:"Organization 2"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{value:p,onChange:D=>m(D.target.value),className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",children:[a.jsx("option",{value:"",children:"Role"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"speaker",children:"Speaker"}),a.jsx("option",{value:"attendee",children:"Attendee"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Group"}),a.jsx("input",{type:"text",value:v,onChange:D=>f(D.target.value),placeholder:"Group",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:b,onChange:D=>x(D.target.value),placeholder:"Write a brief introduction to show on your profile...",rows:3,className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary resize-y"})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-slate-200",children:[a.jsxs("a",{href:"#",className:"inline-flex items-center gap-1 text-sm text-slate-600 hover:text-primary transition-colors",children:[a.jsx(Il,{className:"h-4 w-4"}),"Need help?"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),a.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]})]})]})]})},n9=({isOpen:r,onClose:e,onConfirm:t})=>{const[s,i]=d.useState("");d.useEffect(()=>{r||i("")},[r]);const n=()=>{s.trim()&&(t(s.trim()),i(""),e())},o=l=>{l.key==="Enter"&&s.trim()&&n()};return a.jsx(Qi,{isVisible:r,onClose:e,title:"",width:480,maxWidth:"90vw",showCloseButton:!1,padding:{top:20,right:24,bottom:24,left:24},showHeaderBorder:!1,customHeader:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Create new group."}),a.jsx("button",{type:"button",onClick:e,className:"inline-flex h-9 w-9 -mt-1 -mr-1 items-center justify-center rounded-md text-slate-500 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 6L6 18"}),a.jsx("path",{d:"M6 6l12 12"})]})})]}),footer:a.jsxs("div",{className:"flex items-center justify-end gap-3 py-2",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2  text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),a.jsx("button",{type:"button",onClick:n,disabled:!s.trim(),className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"})]}),children:a.jsxs("div",{className:"",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Group name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s,onChange:l=>i(l.target.value),onKeyPress:o,placeholder:"e.g. Website design.",className:"w-full rounded-lg mb-2 border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",autoFocus:!0})]})})},o9=({isOpen:r,onClose:e,onConfirm:t})=>{const[s,i]=d.useState(""),[n,o]=d.useState(""),[l,u]=d.useState("");d.useEffect(()=>{r||(i(""),o(""),u(""))},[r]);const c=()=>{s.trim()&&n&&l&&(t({fieldName:s.trim(),fieldType:n,visibility:l}),i(""),o(""),u(""),e())},h=p=>{p.key==="Enter"&&s.trim()&&n&&l&&c()};return a.jsx(Qi,{isVisible:r,onClose:e,title:"",width:380,maxWidth:"90vw",showCloseButton:!1,padding:{top:20,right:24,bottom:24,left:24},showHeaderBorder:!1,customHeader:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Create new field"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Please enter a name for this project."})]}),a.jsx("button",{type:"button",onClick:e,className:"inline-flex h-9 w-9 -mt-1 -mr-1 items-center justify-center rounded-md text-slate-500 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 6L6 18"}),a.jsx("path",{d:"M6 6l12 12"})]})})]}),footer:a.jsxs("div",{className:"flex items-center justify-end gap-3 py-2",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),a.jsx("button",{type:"button",onClick:c,disabled:!s.trim()||!n||!l,className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Field name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),onKeyPress:h,placeholder:"e.g. Website design",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Field type",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:n,onChange:p=>o(p.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[a.jsx("option",{value:"",children:"e.g. Website design"}),a.jsx("option",{value:"Text",children:"Text"}),a.jsx("option",{value:"Dropdown",children:"Dropdown"}),a.jsx("option",{value:"PDF",children:"PDF"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Visibility",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:l,onChange:p=>u(p.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[a.jsx("option",{value:"",children:"e.g. Website design"}),a.jsx("option",{value:"Visible to attendees",children:"Visible to attendees"}),a.jsx("option",{value:"Invisible",children:"Invisible"})]})]})]})})},a9=({isOpen:r,onClose:e,attendee:t,onSave:s,topOffset:i=64})=>{const[n,o]=d.useState(null),[l,u]=d.useState(""),[c,h]=d.useState(""),[p,m]=d.useState(""),[v,f]=d.useState(""),[b,x]=d.useState(""),[g,y]=d.useState([]);d.useEffect(()=>{if(t&&r){o(t);const V=t.name.split(" ");u(t.firstName||V[0]||""),h(t.lastName||V.slice(1).join(" ")||""),m(t.email||""),f(t.institute||""),x(t.post||""),y([...t.groups])}},[t,r]);const w=V=>{y(I=>I.filter(E=>E.id!==V))},S=V=>V==="Speaker"?"primary":V==="VIP"?"success":V==="Attendee"?"warning":"primary",P=()=>{if(!n)return;const V={...n,firstName:l,lastName:c,name:`${l} ${c}`.trim(),email:p,institute:v,post:b,groups:g};s==null||s(V),e()};return t?a.jsxs(N6,{isOpen:r,onClose:e,topOffset:i,width:"440px",maxWidth:"460px",footer:a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Cancel"}),a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-sm font-semibold text-white bg-primary rounded-md hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Save"})]}),children:[a.jsxs("div",{className:"relative h-40 w-full overflow-hidden",children:[t.bannerUrl?a.jsx("img",{src:t.bannerUrl,alt:"Banner",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full bg-gradient-to-br from-purple-200 via-pink-200 to-blue-200"}),a.jsx("button",{type:"button",onClick:e,className:"absolute right-4 top-4 flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-slate-600 transition hover:bg-white hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Close",children:a.jsx(hi,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"relative -mt-20 px-6 pb-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(nn,{variant:"success",className:"text-xs whitespace-nowrap",children:"Active"}),a.jsxs("div",{className:"relative",children:[t.avatarUrl?a.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-24 w-24 rounded-full border-4 border-white object-cover shadow-lg"}):a.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full border-4 border-white bg-slate-200 text-lg font-semibold text-slate-600 shadow-lg",children:t.name.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2)}),a.jsx("button",{type:"button",className:"absolute bottom-0 right-0 flex h-7 w-7 items-center justify-center rounded-full border-2 border-white bg-primary text-white shadow-md transition hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"Change profile picture",children:a.jsx(dR,{className:"h-3.5 w-3.5"})})]}),a.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40","aria-label":"View",children:a.jsx(Ho,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:t.name}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:t.post&&t.institute?`${t.post} @ ${t.institute}`:t.post||t.institute||"No title"})]})]}),t.feedbackIncomplete&&a.jsxs("div",{className:"mx-6 mb-6 flex items-center justify-between rounded-lg bg-yellow-50 border border-yellow-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Feedback incomplete!"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"rounded-md bg-orange-600 px-3 py-1.5 text-xs font-medium text-white transition hover:bg-orange-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-orange-500/40",children:"Send reminder"}),a.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800","aria-label":"Dismiss",children:a.jsx(hi,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"px-6 pb-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{children:a.jsx("input",{type:"text",value:l,onChange:V=>u(V.target.value),placeholder:"First name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:c,onChange:V=>h(V.target.value),placeholder:"Last name",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:p,onChange:V=>m(V.target.value),placeholder:"Email",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),t.emailVerified&&a.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-xs text-blue-600",children:[a.jsx(cR,{className:"h-3.5 w-3.5"}),a.jsxs("span",{children:["Verified ",t.emailVerifiedDate||"2 Jan, 2025"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Institute/Company"}),a.jsx("input",{type:"text",value:v,onChange:V=>f(V.target.value),placeholder:"Institute/Company",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Post"}),a.jsx("input",{type:"text",value:b,onChange:V=>x(V.target.value),placeholder:"Post",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Groups"}),a.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary bg-white",onChange:V=>{if(V.target.value){const I={id:Date.now().toString(),name:V.target.value,variant:"primary"};y(E=>[...E,I]),V.target.value=""}},children:[a.jsx("option",{value:"",children:"Select groups"}),a.jsx("option",{value:"Speaker",children:"Speaker"}),a.jsx("option",{value:"VIP",children:"VIP"}),a.jsx("option",{value:"Attendee",children:"Attendee"}),a.jsx("option",{value:"Volunteer",children:"Volunteer"}),a.jsx("option",{value:"Press",children:"Press"}),a.jsx("option",{value:"Sponsor",children:"Sponsor"})]}),g.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.map(V=>a.jsxs(nn,{variant:S(V.name),className:"inline-flex items-center gap-1.5",children:[V.name,a.jsx("button",{type:"button",onClick:()=>w(V.id),className:"ml-1 hover:text-slate-700","aria-label":`Remove ${V.name}`,children:a.jsx(hi,{className:"h-3 w-3"})})]},V.id))})]})]})]}):null},l9=({eventName:r,isDraft:e,onBackClick:t,userAvatarUrl:s,onCardClick:i,hideNavbarAndSidebar:n=!1})=>{const{eventData:o}=Gr(),l=(o==null?void 0:o.eventName)||r||"Highly important conference of 2025",u=e!==void 0?e:!0,c=()=>{console.log("Search clicked")},h=()=>{console.log("Notification clicked")},p=()=>{console.log("Profile clicked")},m=d.useMemo(()=>{const me=Ys.map(Ve=>({id:Ve.id,label:Ve.title,icon:Ve.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:me}]},[]),v=me=>{if(console.log("Sidebar item clicked:",me),me==="event-hub"&&t){t();return}me!=="attendee-management"&&Ys.some(Me=>Me.id===me)&&i&&i(me)},[f,b]=d.useState([]),[x,g]=d.useState([]),[y,w]=d.useState([]),[S,P]=d.useState("user"),[V,I]=d.useState(!1),[E,R]=d.useState(!1),[C,k]=d.useState(!1),[L,D]=d.useState(!1),[q,U]=d.useState(!1),[$,K]=d.useState(null),M=()=>{D(!0)},j=me=>{console.log("Upload files:",me),D(!1)},B=()=>{I(!0)},Q=me=>{const Ve={id:Date.now().toString(),name:`${me.firstName} ${me.lastName}`,email:me.email,avatarUrl:me.avatarUrl,status:"sent",inviteCode:void 0,groups:me.group?[{id:Date.now().toString(),name:me.group,variant:"primary"}]:[]};b(Me=>[...Me,Ve])},G=me=>{const Ve=f.find(Me=>Me.id===me);Ve&&(K(Ve),U(!0))},X=me=>{b(Ve=>Ve.map(Me=>Me.id===me.id?me:Me)),K(null)},de=me=>{b(Ve=>Ve.filter(Me=>Me.id!==me))},se=()=>{R(!0)},fe=me=>{const Ve={id:Date.now().toString(),name:me,attendeeCount:0};g(Me=>[...Me,Ve])},oe=()=>{k(!0)},ie=me=>{const Ve={id:Date.now().toString(),fieldName:me.fieldName,fieldType:me.fieldType,visibility:me.visibility,users:0};w(Me=>[...Me,Ve])},_=me=>{console.log("Edit group:",me)},O=me=>{g(Ve=>Ve.filter(Me=>Me.id!==me))},Z=me=>{console.log("Edit custom field:",me)},le=me=>{w(Ve=>Ve.filter(Me=>Me.id!==me))},te=()=>{console.log("Download clicked")},W=()=>{console.log("Grid view clicked")},he=()=>{console.log("Filter clicked")};return a.jsxs("div",{className:n?"":"min-h-screen overflow-x-hidden bg-white",children:[!n&&a.jsxs(a.Fragment,{children:[a.jsx(vo,{eventName:l,isDraft:u,onBackClick:t,onSearchClick:c,onNotificationClick:h,onProfileClick:p,userAvatarUrl:s}),a.jsx(Nl,{items:m,activeItemId:"attendee-management",onItemClick:v,isModalOpen:V||E||C||L||q})]}),a.jsx("div",{className:n?"":"md:pl-[250px]",children:a.jsx(r9,{attendees:f,groups:x,customFields:y,activeTab:S,onTabChange:P,onUpload:M,onCreateProfile:B,onCreateGroup:se,onCreateField:oe,onEditAttendee:G,onDeleteAttendee:de,onEditGroup:_,onDeleteGroup:O,onEditCustomField:Z,onDeleteCustomField:le,onDownload:te,onGridView:W,onFilter:he})}),a.jsx(i9,{isOpen:V,onClose:()=>I(!1),onSave:Q}),a.jsx(n9,{isOpen:E,onClose:()=>R(!1),onConfirm:fe}),a.jsx(o9,{isOpen:C,onClose:()=>k(!1),onConfirm:ie}),a.jsx(i0,{isOpen:L,onClose:()=>D(!1),onAttachFiles:j}),a.jsx(a9,{isOpen:q,onClose:()=>{U(!1),K(null)},attendee:$,onSave:X})]})},u9=({eventName:r,isDraft:e,onBackClick:t,userAvatarUrl:s})=>{const{eventData:i}=Gr(),n=(i==null?void 0:i.eventName)||r||"Highly important conference of 2025",o=e!==void 0?e:!0,[l,u]=d.useState("event-hub");Ie.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("section");x&&(console.log(" Reading section from URL on mount:",x),u(x))},[]),Ie.useEffect(()=>{console.log(" activeSection changed to:",l)},[l]);const c=()=>{console.log("Search clicked")},h=()=>{console.log("Notification clicked")},p=()=>{console.log("Profile clicked")},m=d.useMemo(()=>{const b=Ys.map(x=>({id:x.id,label:x.title,icon:x.icon}));return[{id:"overview",label:"Overview",icon:a.jsx(la,{className:"h-5 w-5"})},{id:"event-website",label:"Event website",icon:a.jsx(aa,{className:"h-5 w-5"})},{id:"event-hub",label:"Event Hub",icon:a.jsx(Oi,{className:"h-5 w-5"}),subItems:b}]},[]),v=d.useCallback(b=>{if(console.log(" EventHubPage - Sidebar item clicked:",b),b==="event-hub"||b==="event-website"||b==="overview"){console.log(" Setting activeSection to:",b),u(b);const g=b==="event-hub"?"/event/hub":`/event/hub?section=${b}`;window.history.pushState({section:b},"",g);return}Ys.some(g=>g.id===b)?(console.log(" Card ID detected, setting active section to:",b),u(b),window.history.pushState({section:b},"",`/event/hub?section=${b}`)):console.log(" Not a card ID, ignoring:",b)},[]),f=()=>{var b;switch(console.log(" renderContent called with activeSection:",l),l){case"communications":return a.jsx(cE,{eventName:n,isDraft:o,onBackClick:t,userAvatarUrl:s,hideNavbarAndSidebar:!0});case"resource-management":return a.jsx(hE,{eventName:n,isDraft:o,onBackClick:t,userAvatarUrl:s,hideNavbarAndSidebar:!0});case"schedule-session":return a.jsx(pE,{eventName:n,isDraft:o,onBackClick:t,userAvatarUrl:s,scheduleName:"Schedule 1",hideNavbarAndSidebar:!0});case"event-website":return a.jsx(mE,{onBackClick:t,userAvatarUrl:s,hideNavbarAndSidebar:!0});case"attendee-management":return a.jsx(l9,{eventName:n,isDraft:o,onBackClick:t,userAvatarUrl:s,hideNavbarAndSidebar:!0});case"analytics":case"website-settings":return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:((b=Ys.find(x=>x.id===l))==null?void 0:b.title)||"Coming Soon"}),a.jsx("p",{className:"text-slate-500",children:"This feature is coming soon."})]})});case"event-hub":default:return a.jsx(NR,{title:"Event Hub",cards:Ys,onCardClick:x=>{u(x)}})}};return a.jsxs("div",{className:"h-screen overflow-hidden bg-white",children:[a.jsx(vo,{eventName:n,isDraft:o,onBackClick:t,onSearchClick:c,onNotificationClick:h,onProfileClick:p,userAvatarUrl:s}),a.jsx(Nl,{items:m,activeItemId:l,onItemClick:v}),a.jsx("div",{className:"md:pl-[250px] pt-16 min-h-screen overflow-auto",children:f()},l)]})};var d9=gd;gd.flatten=gd;gd.unflatten=vE;function gE(r){return r&&r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function fE(r){return r}function gd(r,e){e=e||{};const t=e.delimiter||".",s=e.maxDepth,i=e.transformKey||fE,n={};function o(l,u,c){c=c||1,Object.keys(l).forEach(function(h){const p=l[h],m=e.safe&&Array.isArray(p),v=Object.prototype.toString.call(p),f=gE(p),b=v==="[object Object]"||v==="[object Array]",x=u?u+t+i(h):i(h);if(!m&&!f&&b&&Object.keys(p).length&&(!e.maxDepth||c<s))return o(p,x,c+1);n[x]=p})}return o(r),n}function vE(r,e){e=e||{};const t=e.delimiter||".",s=e.overwrite||!1,i=e.transformKey||fE,n={};if(gE(r)||Object.prototype.toString.call(r)!=="[object Object]")return r;function l(h){const p=Number(h);return isNaN(p)||h.indexOf(".")!==-1||e.object?h:p}function u(h,p,m){return Object.keys(m).reduce(function(v,f){return v[h+t+f]=m[f],v},p)}function c(h){const p=Object.prototype.toString.call(h),m=p==="[object Array]",v=p==="[object Object]";if(h){if(m)return!h.length;if(v)return!Object.keys(h).length}else return!0}return r=Object.keys(r).reduce(function(h,p){const m=Object.prototype.toString.call(r[p]);return!(m==="[object Object]"||m==="[object Array]")||c(r[p])?(h[p]=r[p],h):u(p,h,gd(r[p],e))},{}),Object.keys(r).forEach(function(h){const p=h.split(t).map(i);let m=l(p.shift()),v=l(p[0]),f=n;for(;v!==void 0;){if(m==="__proto__")return;const b=Object.prototype.toString.call(f[m]),x=b==="[object Object]"||b==="[object Array]";if(!s&&!x&&typeof f[m]<"u")return;(s&&!x||!s&&f[m]==null)&&(f[m]=typeof v=="number"&&!e.object?[]:{}),f=f[m],p.length>0&&(m=l(p.shift()),v=l(p[0]))}f[m]=vE(r[h],e)}),n}const c9=Mp(d9);var h9=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,i,n;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=s;i--!==0;){var o=n[i];if(!r(e[o],t[o]))return!1}return!0}return e!==e&&t!==t};const op=Mp(h9);var p9=Object.create,n0=Object.defineProperty,m9=Object.defineProperties,g9=Object.getOwnPropertyDescriptor,f9=Object.getOwnPropertyDescriptors,o0=Object.getOwnPropertyNames,ap=Object.getOwnPropertySymbols,v9=Object.getPrototypeOf,a0=Object.prototype.hasOwnProperty,yE=Object.prototype.propertyIsEnumerable,CC=(r,e,t)=>e in r?n0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e)=>{for(var t in e||(e={}))a0.call(e,t)&&CC(r,t,e[t]);if(ap)for(var t of ap(e))yE.call(e,t)&&CC(r,t,e[t]);return r},pe=(r,e)=>m9(r,f9(e)),yo=(r,e)=>{var t={};for(var s in r)a0.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&ap)for(var s of ap(r))e.indexOf(s)<0&&yE.call(r,s)&&(t[s]=r[s]);return t},y9=(r,e)=>function(){return r&&(e=(0,r[o0(r)[0]])(r=0)),e},x9=(r,e)=>function(){return e||(0,r[o0(r)[0]])((e={exports:{}}).exports,e),e.exports},b9=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of o0(e))!a0.call(r,i)&&i!==t&&n0(r,i,{get:()=>e[i],enumerable:!(s=g9(e,i))||s.enumerable});return r},C9=(r,e,t)=>(t=r!=null?p9(v9(r)):{},b9(!r||!r.__esModule?n0(t,"default",{value:r,enumerable:!0}):t,r)),ds=(r,e,t)=>new Promise((s,i)=>{var n=u=>{try{l(t.next(u))}catch(c){i(c)}},o=u=>{try{l(t.throw(u))}catch(c){i(c)}},l=u=>u.done?s(u.value):Promise.resolve(u.value).then(n,o);l((t=t.apply(r,e)).next())}),ee=y9({"../tsup-config/react-import.js"(){}});ee();ee();ee();var l0=(r,e)=>Object.keys(e).reduce((t,s)=>e[s].type==="slot"?J({[s]:[]},t):t,r),u0=r=>!!r&&typeof r.then=="function",wC=r=>r.reduce((e,t)=>J(J({},e),t),{}),tv=r=>r.some(u0),lp=({value:r,fields:e,mappers:t,propKey:s="",propPath:i="",id:n="",config:o,recurseSlots:l=!1})=>{var u,c,h;const p=(u=e[s])==null?void 0:u.type,m=t[p];if(m&&p==="slot"){const v=r||[],f=l?v.map(b=>{var x;const g=o.components[b.type];if(!g)throw new Error(`Could not find component config for ${b.type}`);const y=(x=g.fields)!=null?x:{};return lp({value:pe(J({},b),{props:l0(b.props,y)}),fields:y,mappers:t,id:b.props.id,config:o,recurseSlots:l})}):v;return tv(f)?Promise.all(f):m({value:f,parentId:n,propName:i,field:e[s],propPath:i})}else if(m&&e[s])return m({value:r,parentId:n,propName:s,field:e[s],propPath:i});if(r&&typeof r=="object")if(Array.isArray(r)){const v=((c=e[s])==null?void 0:c.type)==="array"?e[s].arrayFields:null;if(!v)return r;const f=r.map((b,x)=>lp({value:b,fields:v,mappers:t,propKey:s,propPath:`${i}[${x}]`,id:n,config:o,recurseSlots:l}));return tv(f)?Promise.all(f):f}else{if("$$typeof"in r)return r;{const v=((h=e[s])==null?void 0:h.type)==="object"?e[s].objectFields:e;return xE({value:r,fields:v,mappers:t,id:n,getPropPath:f=>`${i}.${f}`,config:o,recurseSlots:l})}}return r},xE=({value:r,fields:e,mappers:t,id:s,getPropPath:i,config:n,recurseSlots:o})=>{const l=Object.entries(r).map(([u,c])=>{const h={value:c,fields:e,mappers:t,propKey:u,propPath:i(u),id:s,config:n,recurseSlots:o},p=lp(h);return u0(p)?p.then(m=>({[u]:m})):{[u]:p}},{});return tv(l)?Promise.all(l).then(wC):wC(l)};function Hd(r,e,t,s=!1){var i,n,o,l,u;const c="type"in r?r.type:"root",h=c==="root"?t.root:(i=t.components)==null?void 0:i[c],p=xE({value:l0((n=r.props)!=null?n:{},(o=h==null?void 0:h.fields)!=null?o:{}),fields:(l=h==null?void 0:h.fields)!=null?l:{},mappers:e,id:r.props&&(u=r.props.id)!=null?u:"root",getPropPath:m=>m,config:t,recurseSlots:s});return u0(p)?p.then(m=>pe(J({},r),{props:m})):pe(J({},r),{props:p})}function bE(r,e,t){var s,i;const n=c=>Hd(c,{slot:({value:h,parentId:p,propName:m})=>{var v;const f=h;return(v=t(f,{parentId:p,propName:m}))!=null?v:f}},e,!0);if("props"in r)return n(r);const o=r,l=(s=o.zones)!=null?s:{},u=o.content.map(n);return{root:n(o.root),content:(i=t(u,{parentId:"root",propName:"default-zone"}))!=null?i:u,zones:Object.keys(l).reduce((c,h)=>pe(J({},c),{[h]:l[h].map(n)}),{})}}ee();ee();ee();var up=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],sv={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:up[0].width,height:up[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};ee();ee();ee();ee();var d0="root",rv="default-zone",Ws=`${d0}:${rv}`,w9=r=>r?r&&r.indexOf(":")>-1?r.split(":"):[Ws,r]:[];function S9(r,e,t,s=[]){Object.entries(e.zones||{}).forEach(([i,n])=>{const[o]=w9(i);o===r.props.id&&t(s,i,n)})}ee();ee();var E9=(r,e)=>Hd(r,{slot:()=>null},e),{flatten:V9,unflatten:P9}=c9,I9=(r,e)=>pe(J({},r),{props:V9(E9(r,e).props)}),T9=r=>{const e=P9(r.props);return pe(J({},r),{props:e})};function Er(r,e,t=i=>i,s=i=>i){var i;let n={};const o={},l={},u=(y,w,S,P,V)=>{var I;const[E]=w.split(":"),R=((I=t(S,w,P))!=null?I:S)||[],[C,k]=w.split(":"),L=`${V||E}:${k}`,D=R.map((q,U)=>h(q,[...y,L],U));return o[L]={contentIds:D.map(q=>q.props.id),type:P},[L,D]},c=(y,w,S)=>{S9(y,r.data,(P,V,I)=>{const[E,R]=u(P,V,I,"dropzone",w);n[E]=R},S)},h=(y,w,S)=>{const P=s(y,w,S);if(!P)return y;const V=P.props.id,I=pe(J({},Hd(P,{slot:({value:D,parentId:q,propPath:U})=>{const $=D,K=`${q}:${U}`,[M,j]=u(w,K,$,"slot",q);return j}},e).props),{id:V});c(y,V,w);const E=pe(J({},y),{props:I}),R=w[w.length-1],[C,k]=R?R.split(":"):[null,""];l[V]={data:E,flatData:I9(E,e),path:w,parentId:C,zone:k};const L=pe(J({},E),{props:J({},E.props)});return I.id==="root"&&(delete L.type,delete L.props.id),L},p=r.data.zones||{},[m,v]=u([],Ws,r.data.content,"root"),f=v,b=Object.keys(n);Object.keys(p||{}).forEach(y=>{const[w]=y.split(":");if(b.includes(y))return;const[S,P]=u([Ws],y,p[y],"dropzone",w);n[y]=P},n);const x=h({type:"root",props:pe(J({},(i=r.data.root.props)!=null?i:r.data.root),{id:"root"})},[],-1),g=pe(J({},r.data.root),{props:x.props});return pe(J({},r),{data:{root:g,content:f,zones:J(J({},r.data.zones),n)},indexes:{nodes:J(J({},r.indexes.nodes),l),zones:J(J({},r.indexes.zones),o)}})}ee();ee();ee();ee();ee();var c0=(r,e)=>r?Object.keys(r.props||{}).reduce((t,s)=>{const i=(r==null?void 0:r.props)||{},n=(e==null?void 0:e.props)||{};return pe(J({},t),{[s]:!op(n[s],i[s])})},{}):{},SC={lastChange:{}},CE=(r,e,...t)=>ds(void 0,[r,e,...t],function*(s,i,n={},o,l,u="replace"){const c="type"in s&&s.type!=="root"?i.components[s.type]:i.root,h=J({},s),p=(c==null?void 0:c.resolveData)&&s.props,m="id"in s.props?s.props.id:"root";if(p){const{item:f=null,resolved:b={}}=SC.lastChange[m]||{};if(s&&op(s,f))return{node:b,didChange:!1};const x=c0(s,f);o&&o(s);const{props:g,readOnly:y={}}=yield c.resolveData(s,{changed:x,lastData:f,metadata:J(J({},n),c.metadata),trigger:u});h.props=J(J({},s.props),g),Object.keys(y).length&&(h.readOnly=y)}let v=yield Hd(h,{slot:f=>ds(void 0,[f],function*({value:b}){const x=b;return yield Promise.all(x.map(g=>ds(void 0,null,function*(){return(yield CE(g,i,n,o,l,u)).node})))})},i);return p&&l&&l(h),SC.lastChange[m]={item:s,resolved:v},{node:v,didChange:!op(s,v)}});ee();ee();var wE=(r,e)=>{if(e===Ws)return r;const t=pe(J({},r),{zones:r.zones?J({},r.zones):{}});return t.zones[e]=t.zones[e]||[],t};ee();function SE(r,e,t,s,i){const n=d.useMemo(()=>Object.keys(t).reduce((u,c)=>{const h=c;return pe(J({},u),{[h]:p=>{var m=p,{parentId:v}=m,f=yo(m,["parentId"]);const b=f.propPath.replace(/\[\d+\]/g,"[*]"),x=(s==null?void 0:s[f.propPath])||(s==null?void 0:s[b])||i||!1,g=t[h];return g==null?void 0:g(pe(J({},f),{isReadOnly:x,componentId:v}))}})},{}),[t,s,i]),o=d.useMemo(()=>Hd(e,n,r).props,[r,e,n]);return d.useMemo(()=>J(J({},e.props),o),[e.props,o])}ee();var EE=(r,e=r)=>({slot:({value:t,propName:s,field:i,isReadOnly:n})=>{const o=n?e:r;return u=>o(pe(J({allow:(i==null?void 0:i.type)==="slot"?i.allow:[],disallow:(i==null?void 0:i.type)==="slot"?i.disallow:[]},u),{zone:s,content:t}))}});ee();function tm(r,e,t,s=t,i,n){return SE(r,e,EE(t,s),i,n)}ee();var h0=r=>a.jsx(VE,J({},r)),k9=({config:r,item:e,metadata:t})=>{const s=r.components[e.type],i=tm(r,e,n=>a.jsx(h0,pe(J({},n),{config:r,metadata:t})));return a.jsx(s.render,pe(J({},i),{puck:pe(J({},i.puck),{metadata:t||{}})}))},VE=d.forwardRef(function({className:e,style:t,content:s,config:i,metadata:n},o){return a.jsx("div",{className:e,style:t,ref:o,children:s.map(l=>i.components[l.type]?a.jsx(k9,{config:i,item:l,metadata:n},l.props.id):null)})});let Mc;const N9=new Uint8Array(16);function R9(){if(!Mc&&(Mc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mc(N9)}const Is=[];for(let r=0;r<256;++r)Is.push((r+256).toString(16).slice(1));function L9(r,e=0){return Is[r[e+0]]+Is[r[e+1]]+Is[r[e+2]]+Is[r[e+3]]+"-"+Is[r[e+4]]+Is[r[e+5]]+"-"+Is[r[e+6]]+Is[r[e+7]]+"-"+Is[r[e+8]]+Is[r[e+9]]+"-"+Is[r[e+10]]+Is[r[e+11]]+Is[r[e+12]]+Is[r[e+13]]+Is[r[e+14]]+Is[r[e+15]]}const A9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),EC={randomUUID:A9};function VC(r,e,t){if(EC.randomUUID&&!r)return EC.randomUUID();r=r||{};const s=r.random||(r.rng||R9)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,L9(s)}const PC=r=>{let e;const t=new Set,s=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,m))}},i=()=>e,l={setState:s,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c))},u=e=r(s,i,l);return l},Qd=r=>r?PC(r):PC,D9=r=>r;function p0(r,e=D9){const t=Ie.useSyncExternalStore(r.subscribe,Ie.useCallback(()=>e(r.getState()),[r,e]),Ie.useCallback(()=>e(r.getInitialState()),[r,e]));return Ie.useDebugValue(t),t}const M9=r=>{const e=Qd(r),t=s=>p0(e,s);return Object.assign(t,e),t},PE=r=>M9,j9=r=>(e,t,s)=>{const i=s.subscribe;return s.subscribe=(o,l,u)=>{let c=o;if(l){const h=(u==null?void 0:u.equalityFn)||Object.is;let p=o(s.getState());c=m=>{const v=o(m);if(!h(p,v)){const f=p;l(p=v,f)}},u!=null&&u.fireImmediately&&l(p,p)}return i(c)},r(e,t,s)},IE=j9;var _9=Symbol.for("preact-signals");function sm(){if(no>1)no--;else{for(var r,e=!1;Wu!==void 0;){var t=Wu;for(Wu=void 0,iv++;t!==void 0;){var s=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&kE(t))try{t.c()}catch(i){e||(r=i,e=!0)}t=s}}if(iv=0,no--,e)throw r}}function is(r){if(no>0)return r();no++;try{return r()}finally{sm()}}var Et=void 0;function Lt(r){var e=Et;Et=void 0;try{return r()}finally{Et=e}}var Wu=void 0,no=0,iv=0,dp=0;function TE(r){if(Et!==void 0){var e=r.n;if(e===void 0||e.t!==Et)return e={i:0,S:r,p:Et.s,n:void 0,t:Et,e:void 0,x:void 0,r:e},Et.s!==void 0&&(Et.s.n=e),Et.s=e,r.n=e,32&Et.f&&r.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Et.s,e.n=void 0,Et.s.n=e,Et.s=e),e}}function sr(r,e){this.v=r,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}sr.prototype.brand=_9;sr.prototype.h=function(){return!0};sr.prototype.S=function(r){var e=this,t=this.t;t!==r&&r.e===void 0&&(r.x=t,this.t=r,t!==void 0?t.e=r:Lt(function(){var s;(s=e.W)==null||s.call(e)}))};sr.prototype.U=function(r){var e=this;if(this.t!==void 0){var t=r.e,s=r.x;t!==void 0&&(t.x=s,r.e=void 0),s!==void 0&&(s.e=t,r.x=void 0),r===this.t&&(this.t=s,s===void 0&&Lt(function(){var i;(i=e.Z)==null||i.call(e)}))}};sr.prototype.subscribe=function(r){var e=this;return dr(function(){var t=e.value,s=Et;Et=void 0;try{r(t)}finally{Et=s}},{name:"sub"})};sr.prototype.valueOf=function(){return this.value};sr.prototype.toString=function(){return this.value+""};sr.prototype.toJSON=function(){return this.value};sr.prototype.peek=function(){var r=Et;Et=void 0;try{return this.value}finally{Et=r}};Object.defineProperty(sr.prototype,"value",{get:function(){var r=TE(this);return r!==void 0&&(r.i=this.i),this.v},set:function(r){if(r!==this.v){if(iv>100)throw new Error("Cycle detected");this.v=r,this.i++,dp++,no++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{sm()}}}});function Wd(r,e){return new sr(r,e)}function kE(r){for(var e=r.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function NE(r){for(var e=r.s;e!==void 0;e=e.n){var t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){r.s=e;break}}}function RE(r){for(var e=r.s,t=void 0;e!==void 0;){var s=e.p;e.i===-1?(e.S.U(e),s!==void 0&&(s.n=e.n),e.n!==void 0&&(e.n.p=s)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=s}r.s=t}function da(r,e){sr.call(this,void 0),this.x=r,this.s=void 0,this.g=dp-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}da.prototype=new sr;da.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===dp))return!0;if(this.g=dp,this.f|=1,this.i>0&&!kE(this))return this.f&=-2,!0;var r=Et;try{NE(this),Et=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Et=r,RE(this),this.f&=-2,!0};da.prototype.S=function(r){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}sr.prototype.S.call(this,r)};da.prototype.U=function(r){if(this.t!==void 0&&(sr.prototype.U.call(this,r),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};da.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var r=this.t;r!==void 0;r=r.x)r.t.N()}};Object.defineProperty(da.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var r=TE(this);if(this.h(),r!==void 0&&(r.i=this.i),16&this.f)throw this.v;return this.v}});function IC(r,e){return new da(r,e)}function LE(r){var e=r.u;if(r.u=void 0,typeof e=="function"){no++;var t=Et;Et=void 0;try{e()}catch(s){throw r.f&=-2,r.f|=8,m0(r),s}finally{Et=t,sm()}}}function m0(r){for(var e=r.s;e!==void 0;e=e.n)e.S.U(e);r.x=void 0,r.s=void 0,LE(r)}function O9(r){if(Et!==this)throw new Error("Out-of-order effect");RE(this),Et=r,this.f&=-2,8&this.f&&m0(this),sm()}function Al(r,e){this.x=r,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}Al.prototype.c=function(){var r=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{r()}};Al.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,LE(this),NE(this),no++;var r=Et;return Et=this,O9.bind(this,r)};Al.prototype.N=function(){2&this.f||(this.f|=2,this.o=Wu,Wu=this)};Al.prototype.d=function(){this.f|=8,1&this.f||m0(this)};Al.prototype.dispose=function(){this.d()};function dr(r,e){var t=new Al(r,e);try{t.c()}catch(i){throw t.d(),i}var s=t.d.bind(t);return s[Symbol.dispose]=s,s}var F9=Object.create,g0=Object.defineProperty,B9=Object.defineProperties,q9=Object.getOwnPropertyDescriptor,z9=Object.getOwnPropertyDescriptors,TC=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,Q9=Object.prototype.propertyIsEnumerable,W9=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),Dl=r=>{throw TypeError(r)},nv=(r,e,t)=>e in r?g0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,U9=(r,e)=>{for(var t in e||(e={}))H9.call(e,t)&&nv(r,t,e[t]);if(TC)for(var t of TC(e))Q9.call(e,t)&&nv(r,t,e[t]);return r},$9=(r,e)=>B9(r,z9(e)),kC=(r,e)=>g0(r,"name",{value:e,configurable:!0}),G9=r=>{var e;return[,,,F9((e=void 0)!=null?e:null)]},AE=["class","method","getter","setter","accessor","field","value","get","set"],vu=r=>r!==void 0&&typeof r!="function"?Dl("Function expected"):r,Z9=(r,e,t,s,i)=>({kind:AE[r],name:e,metadata:s,addInitializer:n=>t._?Dl("Already initialized"):i.push(vu(n||null))}),DE=(r,e)=>nv(e,W9("metadata"),r[3]),No=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)e&1?n[i].call(t):s=n[i].call(t,s);return s},Ml=(r,e,t,s,i,n)=>{var o,l,u,c,h,p=e&7,m=!!(e&8),v=!!(e&16),f=p>3?r.length+1:p?m?1:2:0,b=AE[p+5],x=p>3&&(r[f-1]=[]),g=r[f]||(r[f]=[]),y=p&&(!v&&!m&&(i=i.prototype),p<5&&(p>3||!v)&&q9(p<4?i:{get[t](){return jr(this,n)},set[t](S){return _n(this,n,S)}},t));p?v&&p<4&&kC(n,(p>2?"set ":p>1?"get ":"")+t):kC(i,t);for(var w=s.length-1;w>=0;w--)c=Z9(p,t,u={},r[3],g),p&&(c.static=m,c.private=v,h=c.access={has:v?S=>J9(i,S):S=>t in S},p^3&&(h.get=v?S=>(p^1?jr:K9)(S,i,p^4?n:y.get):S=>S[t]),p>2&&(h.set=v?(S,P)=>_n(S,i,P,p^4?n:y.set):(S,P)=>S[t]=P)),l=(0,s[w])(p?p<4?v?n:y[b]:p>4?void 0:{get:y.get,set:y.set}:i,c),u._=1,p^4||l===void 0?vu(l)&&(p>4?x.unshift(l):p?v?n=l:y[b]=l:i=l):typeof l!="object"||l===null?Dl("Object expected"):(vu(o=l.get)&&(y.get=o),vu(o=l.set)&&(y.set=o),vu(o=l.init)&&x.unshift(o));return p||DE(r,i),y&&g0(i,t,y),v?p^4?n:y:i},f0=(r,e,t)=>e.has(r)||Dl("Cannot "+t),J9=(r,e)=>Object(e)!==e?Dl('Cannot use the "in" operator on this value'):r.has(e),jr=(r,e,t)=>(f0(r,e,"read from private field"),t?t.call(r):e.get(r)),yu=(r,e,t)=>e.has(r)?Dl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),_n=(r,e,t,s)=>(f0(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),K9=(r,e,t)=>(f0(r,e,"access private method"),t);function cp(r,e){if(e){let t;return IC(()=>{const s=r();return s&&t&&e(t,s)?t:(t=s,s)})}return IC(r)}function on(r,e){if(Object.is(r,e))return!0;if(r===null||e===null)return!1;if(typeof r=="function"&&typeof e=="function")return r===e;if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0}if(Array.isArray(r))return!Array.isArray(e)||r.length!==e.length?!1:!r.some((s,i)=>!on(s,e[i]));if(typeof r=="object"&&typeof e=="object"){const t=Object.keys(r),s=Object.keys(e);return t.length!==s.length?!1:!t.some(n=>!on(r[n],e[n]))}return!1}function bt({get:r},e){return{init(t){return Wd(t)},get(){return r.call(this).value},set(t){const s=r.call(this);s.peek()!==t&&(s.value=t)}}}function ws(r,e){const t=new WeakMap;return function(){let s=t.get(this);return s||(s=cp(r.bind(this)),t.set(this,s)),s.value}}function Sg(r=!0){return function(e,t){t.addInitializer(function(){const s=t.kind==="field"?this:t.static?this:Object.getPrototypeOf(this),i=Object.getOwnPropertyDescriptor(s,t.name);i&&Object.defineProperty(s,t.name,$9(U9({},i),{enumerable:r}))})}}function Ud(...r){const e=r.map(dr);return()=>e.forEach(t=>t())}var ME,jE,_E,OE,FE,BE,Js,v0,Eg,ov,av,zs,y0,Vg,qE,lv,x0,Pg,uv,dv;BE=[bt],FE=[bt],OE=[bt],_E=[Sg()],jE=[Sg()],ME=[Sg()];var ca=class{constructor(r,e=Object.is){this.defaultValue=r,this.equals=e,No(Js,5,this),yu(this,zs),yu(this,v0,No(Js,8,this)),No(Js,11,this),yu(this,y0,No(Js,12,this)),No(Js,15,this),yu(this,x0,No(Js,16,this)),No(Js,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return jr(this,zs,uv)}get initial(){return jr(this,zs,ov)}get previous(){return jr(this,zs,qE)}set current(r){const e=Lt(()=>jr(this,zs,uv));r&&e&&this.equals(e,r)||is(()=>{jr(this,zs,ov)||_n(this,zs,r,av),_n(this,zs,e,lv),_n(this,zs,r,dv)})}reset(r=this.defaultValue){is(()=>{_n(this,zs,void 0,lv),_n(this,zs,r,av),_n(this,zs,r,dv)})}};Js=G9();v0=new WeakMap;zs=new WeakSet;y0=new WeakMap;x0=new WeakMap;Eg=Ml(Js,20,"#initial",BE,zs,v0),ov=Eg.get,av=Eg.set;Vg=Ml(Js,20,"#previous",FE,zs,y0),qE=Vg.get,lv=Vg.set;Pg=Ml(Js,20,"#current",OE,zs,x0),uv=Pg.get,dv=Pg.set;Ml(Js,2,"current",_E,ca);Ml(Js,2,"initial",jE,ca);Ml(Js,2,"previous",ME,ca);DE(Js,ca);function Ig(r){return Lt(()=>{const e={};for(const t in r)e[t]=r[t];return e})}var Ao,Y9=class{constructor(){yu(this,Ao,new WeakMap)}get(r,e){var t;return r?(t=jr(this,Ao).get(r))==null?void 0:t.get(e):void 0}set(r,e,t){var s;if(r)return jr(this,Ao).has(r)||jr(this,Ao).set(r,new Map),(s=jr(this,Ao).get(r))==null?void 0:s.set(e,t)}clear(r){var e;return r?(e=jr(this,Ao).get(r))==null?void 0:e.clear():void 0}};Ao=new WeakMap;var X9=Object.create,zE=Object.defineProperty,e8=Object.getOwnPropertyDescriptor,NC=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,s8=Object.prototype.propertyIsEnumerable,HE=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),rm=r=>{throw TypeError(r)},RC=Math.pow,cv=(r,e,t)=>e in r?zE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r8=(r,e)=>{for(var t in e||(e={}))t8.call(e,t)&&cv(r,t,e[t]);if(NC)for(var t of NC(e))s8.call(e,t)&&cv(r,t,e[t]);return r},i8=r=>{var e;return[,,,X9((e=r==null?void 0:r[HE("metadata")])!=null?e:null)]},QE=["class","method","getter","setter","accessor","field","value","get","set"],WE=r=>r!==void 0&&typeof r!="function"?rm("Function expected"):r,n8=(r,e,t,s,i)=>({kind:QE[r],name:e,metadata:s,addInitializer:n=>t._?rm("Already initialized"):i.push(WE(n||null))}),o8=(r,e)=>cv(e,HE("metadata"),r[3]),a8=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)n[i].call(t);return s},UE=(r,e,t,s,i,n)=>{for(var o,l,u,c,h=e&7,p=!1,m=!1,v=2,f=QE[h+5],b=r[v]||(r[v]=[]),x=(i=i.prototype,e8(i,t)),g=s.length-1;g>=0;g--)u=n8(h,t,l={},r[3],b),u.static=p,u.private=m,c=u.access={has:y=>t in y},c.get=y=>y[t],o=(0,s[g])(x[f],u),l._=1,WE(o)&&(x[f]=o);return x&&zE(i,t,x),i},$E=(r,e,t)=>e.has(r)||rm("Cannot "+t),l8=(r,e,t)=>($E(r,e,"read from private field"),e.get(r)),u8=(r,e,t)=>e.has(r)?rm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),d8=(r,e,t,s)=>($E(r,e,"write to private field"),e.set(r,t),t),Us=class hv{constructor(e,t){this.x=e,this.y=t}static delta(e,t){return new hv(e.x-t.x,e.y-t.y)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static equals(e,t){return e.x===t.x&&e.y===t.y}static from({x:e,y:t}){return new hv(e,t)}},yi=class Do{constructor(e,t,s,i){this.left=e,this.top=t,this.width=s,this.height=i,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(e,t){const{top:s,left:i,width:n,height:o,scale:l}=this,u=new Do(i+e,s+t,n,o);return u.scale=r8({},l),u}get boundingRectangle(){const{width:e,height:t,left:s,top:i,right:n,bottom:o}=this;return{width:e,height:t,left:s,top:i,right:n,bottom:o}}get center(){const{left:e,top:t,right:s,bottom:i}=this;return new Us((e+s)/2,(t+i)/2)}get area(){const{width:e,height:t}=this;return e*t}equals(e){if(!(e instanceof Do))return!1;const{left:t,top:s,width:i,height:n}=this;return t===e.left&&s===e.top&&i===e.width&&n===e.height}containsPoint(e){const{top:t,left:s,bottom:i,right:n}=this;return t<=e.y&&e.y<=i&&s<=e.x&&e.x<=n}intersectionArea(e){return e instanceof Do?c8(this,e):0}intersectionRatio(e){const{area:t}=this,s=this.intersectionArea(e);return s/(e.area+t-s)}get bottom(){const{top:e,height:t}=this;return e+t}get right(){const{left:e,width:t}=this;return e+t}get aspectRatio(){const{width:e,height:t}=this;return e/t}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:e,left:t,width:s,height:i}){return new Do(t,e,s,i)}static delta(e,t,s={x:"center",y:"center"}){const i=(n,o)=>{const l=s[o],u=o==="x"?n.left:n.top,c=o==="x"?n.width:n.height;return l=="start"?u:l=="end"?u+c:u+c/2};return Us.delta({x:i(e,"x"),y:i(e,"y")},{x:i(t,"x"),y:i(t,"y")})}static intersectionRatio(e,t){return Do.from(e).intersectionRatio(Do.from(t))}};function c8(r,e){const t=Math.max(e.top,r.top),s=Math.max(e.left,r.left),i=Math.min(e.left+e.width,r.left+r.width),n=Math.min(e.top+e.height,r.top+r.height),o=i-s,l=n-t;return s<i&&t<n?o*l:0}var GE,ZE,pv,fh,$d,im=class extends(pv=ca,ZE=[ws],GE=[ws],pv){constructor(e){const t=Us.from(e);super(t,(s,i)=>Us.equals(s,i)),a8($d,5,this),u8(this,fh,0),this.velocity={x:0,y:0}}get delta(){return Us.delta(this.current,this.initial)}get direction(){const{current:e,previous:t}=this;if(!t)return null;const s={x:e.x-t.x,y:e.y-t.y};return!s.x&&!s.y?null:Math.abs(s.x)>Math.abs(s.y)?s.x>0?"right":"left":s.y>0?"down":"up"}get current(){return super.current}set current(e){const{current:t}=this,s=Us.from(e),i={x:s.x-t.x,y:s.y-t.y},n=Date.now(),o=n-l8(this,fh),l=u=>Math.round(u/o*100);is(()=>{d8(this,fh,n),this.velocity={x:l(i.x),y:l(i.y)},super.current=s})}reset(e=this.defaultValue){super.reset(Us.from(e)),this.velocity={x:0,y:0}}};$d=i8(pv);fh=new WeakMap;UE($d,2,"delta",ZE,im);UE($d,2,"direction",GE,im);o8($d,im);function Tg({x:r,y:e},t){const s=Math.abs(r),i=Math.abs(e);return typeof t=="number"?Math.sqrt(RC(s,2)+RC(i,2))>t:"x"in t&&"y"in t?s>t.x&&i>t.y:"x"in t?s>t.x:"y"in t?i>t.y:!1}var JE=(r=>(r.Horizontal="x",r.Vertical="y",r))(JE||{}),KE=Object.values(JE),h8=Object.create,b0=Object.defineProperty,p8=Object.defineProperties,m8=Object.getOwnPropertyDescriptor,g8=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,XE=Object.prototype.propertyIsEnumerable,e4=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),jl=r=>{throw TypeError(r)},mv=(r,e,t)=>e in r?b0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,t4=(r,e)=>{for(var t in e||(e={}))YE.call(e,t)&&mv(r,t,e[t]);if(hp)for(var t of hp(e))XE.call(e,t)&&mv(r,t,e[t]);return r},s4=(r,e)=>p8(r,g8(e)),LC=(r,e)=>b0(r,"name",{value:e,configurable:!0}),r4=(r,e)=>{var t={};for(var s in r)YE.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&hp)for(var s of hp(r))e.indexOf(s)<0&&XE.call(r,s)&&(t[s]=r[s]);return t},_l=r=>{var e;return[,,,h8((e=r==null?void 0:r[e4("metadata")])!=null?e:null)]},i4=["class","method","getter","setter","accessor","field","value","get","set"],xu=r=>r!==void 0&&typeof r!="function"?jl("Function expected"):r,f8=(r,e,t,s,i)=>({kind:i4[r],name:e,metadata:s,addInitializer:n=>t._?jl("Already initialized"):i.push(xu(n||null))}),ha=(r,e)=>mv(e,e4("metadata"),r[3]),it=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)e&1?n[i].call(t):s=n[i].call(t,s);return s},Ct=(r,e,t,s,i,n)=>{var o,l,u,c,h,p=e&7,m=!!(e&8),v=!!(e&16),f=p>3?r.length+1:p?m?1:2:0,b=i4[p+5],x=p>3&&(r[f-1]=[]),g=r[f]||(r[f]=[]),y=p&&(!v&&!m&&(i=i.prototype),p<5&&(p>3||!v)&&m8(p<4?i:{get[t](){return Ns(this,n)},set[t](S){return oi(this,n,S)}},t));p?v&&p<4&&LC(n,(p>2?"set ":p>1?"get ":"")+t):LC(i,t);for(var w=s.length-1;w>=0;w--)c=f8(p,t,u={},r[3],g),p&&(c.static=m,c.private=v,h=c.access={has:v?S=>v8(i,S):S=>t in S},p^3&&(h.get=v?S=>(p^1?Ns:y8)(S,i,p^4?n:y.get):S=>S[t]),p>2&&(h.set=v?(S,P)=>oi(S,i,P,p^4?n:y.set):(S,P)=>S[t]=P)),l=(0,s[w])(p?p<4?v?n:y[b]:p>4?void 0:{get:y.get,set:y.set}:i,c),u._=1,p^4||l===void 0?xu(l)&&(p>4?x.unshift(l):p?v?n=l:y[b]=l:i=l):typeof l!="object"||l===null?jl("Object expected"):(xu(o=l.get)&&(y.get=o),xu(o=l.set)&&(y.set=o),xu(o=l.init)&&x.unshift(o));return p||ha(r,i),y&&b0(i,t,y),v?p^4?n:y:i},C0=(r,e,t)=>e.has(r)||jl("Cannot "+t),v8=(r,e)=>Object(e)!==e?jl('Cannot use the "in" operator on this value'):r.has(e),Ns=(r,e,t)=>(C0(r,e,"read from private field"),t?t.call(r):e.get(r)),Dt=(r,e,t)=>e.has(r)?jl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),oi=(r,e,t,s)=>(C0(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),y8=(r,e,t)=>(C0(r,e,"access private method"),t);function n4(r,e){return{plugin:r,options:e}}function w0(r){return e=>n4(r,e)}function S0(r){return typeof r=="function"?{plugin:r,options:void 0}:r}var o4,fd,E0,vh;o4=[bt];var js=class{constructor(r,e){this.manager=r,this.options=e,Dt(this,E0,it(fd,8,this,!1)),it(fd,11,this),Dt(this,vh,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return Lt(()=>this.disabled)}configure(r){this.options=r}registerEffect(r){const e=dr(r.bind(this));return Ns(this,vh).add(e),e}destroy(){Ns(this,vh).forEach(r=>r())}static configure(r){return n4(this,r)}};fd=_l(null);E0=new WeakMap;vh=new WeakMap;Ct(fd,4,"disabled",o4,js,E0);ha(fd,js);var nm=class extends js{},yh,kg=class{constructor(r){this.manager=r,this.instances=new Map,Dt(this,yh,[])}get values(){return Array.from(this.instances.values())}set values(r){const e=r.map(S0).reduceRight((s,i)=>s.some(({plugin:n})=>n===i.plugin)?s:[i,...s],[]),t=e.map(({plugin:s})=>s);for(const s of Ns(this,yh))if(!t.includes(s)){if(s.prototype instanceof nm)continue;this.unregister(s)}for(const{plugin:s,options:i}of e)this.register(s,i);oi(this,yh,t)}get(r){return this.instances.get(r)}register(r,e){const t=this.instances.get(r);if(t)return t.options!==e&&(t.options=e),t;const s=new r(this.manager,e);return this.instances.set(r,s),s}unregister(r){const e=this.instances.get(r);e&&(e.destroy(),this.instances.delete(r))}destroy(){for(const r of this.instances.values())r.destroy();this.instances.clear()}};yh=new WeakMap;function x8(r,e){return r.priority===e.priority?r.type===e.type?e.value-r.value:e.type-r.type:e.priority-r.priority}var jc=[],Ia,Ta,b8=class extends js{constructor(r){super(r),Dt(this,Ia),Dt(this,Ta),this.computeCollisions=this.computeCollisions.bind(this),oi(this,Ta,Wd(jc)),this.destroy=Ud(()=>{const e=this.computeCollisions(),t=Lt(()=>this.manager.dragOperation.position.current);if(e!==jc){const s=Ns(this,Ia);if(oi(this,Ia,t),s&&t.x==s.x&&t.y==s.y)return}else oi(this,Ia,void 0);Ns(this,Ta).value=e},()=>{const{dragOperation:e}=this.manager;e.status.initialized&&this.forceUpdate()})}forceUpdate(r=!0){Lt(()=>{r?Ns(this,Ta).value=this.computeCollisions():oi(this,Ia,void 0)})}computeCollisions(r,e){const{registry:t,dragOperation:s}=this.manager,{source:i,shape:n,status:o}=s;if(!o.initialized||!n)return jc;const l=[],u=[];for(const c of r??t.droppables){if(c.disabled||i&&!c.accepts(i))continue;const h=e??c.collisionDetector;if(!h)continue;u.push(c),c.shape;const p=Lt(()=>h({droppable:c,dragOperation:s}));p&&(c.collisionPriority!=null&&(p.priority=c.collisionPriority),l.push(p))}return u.length===0?jc:(l.sort(x8),l)}get collisions(){return Ns(this,Ta).value}};Ia=new WeakMap;Ta=new WeakMap;var C8=class{constructor(){this.registry=new Map}addEventListener(e,t){const{registry:s}=this,i=new Set(s.get(e));return i.add(t),s.set(e,i),()=>this.removeEventListener(e,t)}removeEventListener(e,t){const{registry:s}=this,i=new Set(s.get(e));i.delete(t),s.set(e,i)}dispatch(e,...t){const{registry:s}=this,i=s.get(e);if(i)for(const n of i)n(...t)}},w8=class extends C8{constructor(r){super(),this.manager=r}dispatch(r,e){const t=[e,this.manager];super.dispatch(r,...t)}};function xh(r,e=!0){let t=!1;return s4(t4({},r),{cancelable:e,get defaultPrevented(){return t},preventDefault(){e&&(t=!0)}})}var S8=class extends nm{constructor(r){super(r);const e=(s,i)=>s.map(({id:n})=>n).join("")===i.map(({id:n})=>n).join("");let t=[];this.destroy=Ud(()=>{const{dragOperation:s,collisionObserver:i}=r;s.status.initializing&&(t=[],i.enable())},()=>{const{collisionObserver:s,monitor:i}=r,{collisions:n}=s;if(s.isDisabled())return;const o=xh({collisions:n});if(i.dispatch("collision",o),o.defaultPrevented||e(n,t))return;t=n;const[l]=n;Lt(()=>{var u;(l==null?void 0:l.id)!==((u=r.dragOperation.target)==null?void 0:u.id)&&(s.disable(),r.actions.setDropTarget(l==null?void 0:l.id).then(()=>{s.enable()}))})})}},Or=(r=>(r[r.Lowest=0]="Lowest",r[r.Low=1]="Low",r[r.Normal=2]="Normal",r[r.High=3]="High",r[r.Highest=4]="Highest",r))(Or||{}),Wi=(r=>(r[r.Collision=0]="Collision",r[r.ShapeIntersection=1]="ShapeIntersection",r[r.PointerIntersection=2]="PointerIntersection",r))(Wi||{}),a4,l4,u4,d4,c4,h4,p4,Hr,V0;p4=[bt],h4=[ws],c4=[ws],d4=[ws],u4=[ws],l4=[ws],a4=[ws];var fn=class{constructor(){it(Hr,5,this),Dt(this,V0,it(Hr,8,this,"idle")),it(Hr,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:r}=this;return r!=="idle"&&r!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(r){this.value=r}};Hr=_l(null);V0=new WeakMap;Ct(Hr,4,"value",p4,fn,V0);Ct(Hr,2,"current",h4,fn);Ct(Hr,2,"idle",c4,fn);Ct(Hr,2,"initializing",d4,fn);Ct(Hr,2,"initialized",u4,fn);Ct(Hr,2,"dragging",l4,fn);Ct(Hr,2,"dropped",a4,fn);ha(Hr,fn);var E8=class{constructor(r){this.manager=r}setDragSource(r){const{dragOperation:e}=this.manager;e.sourceIdentifier=typeof r=="string"||typeof r=="number"?r:r.id}setDropTarget(r){return Lt(()=>{const{dragOperation:e}=this.manager,t=r??null;if(e.targetIdentifier===t)return Promise.resolve(!1);e.targetIdentifier=t;const s=xh({operation:e.snapshot()});return e.status.dragging&&this.manager.monitor.dispatch("dragover",s),this.manager.renderer.rendering.then(()=>s.defaultPrevented)})}start(r){return Lt(()=>{const{dragOperation:e}=this.manager;if(r.source!=null&&this.setDragSource(r.source),!e.source)throw new Error("Cannot start a drag operation without a drag source");if(!e.status.idle)throw new Error("Cannot start a drag operation while another is active");const s=new AbortController,{event:i,coordinates:n}=r;is(()=>{e.status.set("initialization-pending"),e.shape=null,e.canceled=!1,e.activatorEvent=i??null,e.position.reset(n)});const o=xh({operation:e.snapshot()});return this.manager.monitor.dispatch("beforedragstart",o),o.defaultPrevented?(e.reset(),s.abort(),s):(e.status.set("initializing"),e.controller=s,this.manager.renderer.rendering.then(()=>{if(s.signal.aborted)return;const{status:l}=e;l.current==="initializing"&&(e.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:i,operation:e.snapshot(),cancelable:!1}))}),s)})}move(r){return Lt(()=>{var e,t;const{dragOperation:s}=this.manager,{status:i,controller:n}=s;if(!i.dragging||!n||n.signal.aborted)return;const o=xh({nativeEvent:r.event,operation:s.snapshot(),by:r.by,to:r.to},(e=r.cancelable)!=null?e:!0);((t=r.propagate)==null||t)&&this.manager.monitor.dispatch("dragmove",o),queueMicrotask(()=>{var l,u,c,h,p;if(o.defaultPrevented)return;const m=(p=r.to)!=null?p:{x:s.position.current.x+((u=(l=r.by)==null?void 0:l.x)!=null?u:0),y:s.position.current.y+((h=(c=r.by)==null?void 0:c.y)!=null?h:0)};s.position.current=m})})}stop(r={}){return Lt(()=>{var e,t;const{dragOperation:s}=this.manager,{controller:i}=s;if(!i||i.signal.aborted)return;let n;const o=()=>{const u={resume:()=>{},abort:()=>{}};return n=new Promise((c,h)=>{u.resume=c,u.abort=h}),u};i.abort();const l=()=>{this.manager.renderer.rendering.then(()=>{s.status.set("dropped");const u=Lt(()=>{var h;return((h=s.source)==null?void 0:h.status)==="dropping"}),c=()=>{s.controller===i&&(s.controller=void 0),s.reset()};if(u){const{source:h}=s,p=dr(()=>{(h==null?void 0:h.status)==="idle"&&(p(),c())})}else this.manager.renderer.rendering.then(c)})};s.canceled=(e=r.canceled)!=null?e:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:r.event,operation:s.snapshot(),canceled:(t=r.canceled)!=null?t:!1,suspend:o}),n?n.then(l).catch(()=>s.reset()):l()})}},m4,g4,f4,v4,ir,P0,I0,T0,k0;v4=[bt],f4=[bt],g4=[bt],m4=[bt];var xo=class{constructor(r,e){Dt(this,P0,it(ir,8,this)),it(ir,11,this),Dt(this,I0,it(ir,12,this)),it(ir,15,this),Dt(this,T0,it(ir,16,this)),it(ir,19,this),Dt(this,k0,it(ir,20,this)),it(ir,23,this);const{effects:t,id:s,data:i={},disabled:n=!1,register:o=!0}=r;let l=s;this.manager=e,this.id=s,this.data=i,this.disabled=n,this.effects=()=>{var u;return[()=>{const{id:c,manager:h}=this;if(c!==l)return h==null||h.registry.register(this),()=>h==null?void 0:h.registry.unregister(this)},...(u=t==null?void 0:t())!=null?u:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),e&&o&&queueMicrotask(this.register)}register(){var r;return(r=this.manager)==null?void 0:r.registry.register(this)}unregister(){var r;(r=this.manager)==null||r.registry.unregister(this)}destroy(){var r;(r=this.manager)==null||r.registry.unregister(this)}};ir=_l(null);P0=new WeakMap;I0=new WeakMap;T0=new WeakMap;k0=new WeakMap;Ct(ir,4,"manager",v4,xo,P0);Ct(ir,4,"id",f4,xo,I0);Ct(ir,4,"data",g4,xo,T0);Ct(ir,4,"disabled",m4,xo,k0);ha(ir,xo);var AC=class{constructor(){this.map=Wd(new Map),this.cleanupFunctions=new WeakMap,this.register=(r,e)=>{const t=this.map.peek(),s=t.get(r),i=()=>this.unregister(r,e);if(s===e)return i;if(s){const l=this.cleanupFunctions.get(s);l==null||l(),this.cleanupFunctions.delete(s)}const n=new Map(t);n.set(r,e),this.map.value=n;const o=Ud(...e.effects());return this.cleanupFunctions.set(e,o),i},this.unregister=(r,e)=>{const t=this.map.peek();if(t.get(r)!==e)return;const s=this.cleanupFunctions.get(e);s==null||s(),this.cleanupFunctions.delete(e);const i=new Map(t);i.delete(r),this.map.value=i}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(r){return this.map.value.has(r)}get(r){return this.map.value.get(r)}destroy(){for(const r of this){const e=this.cleanupFunctions.get(r);e==null||e(),r.destroy()}this.map.value=new Map}},y4,x4,b4,C4,w4,S4,gv,Ks,N0,R0,L0,qi=class extends(gv=xo,S4=[bt],w4=[bt],C4=[bt],b4=[ws],x4=[ws],y4=[ws],gv){constructor(e,t){var s=e,{modifiers:i,type:n,sensors:o}=s,l=r4(s,["modifiers","type","sensors"]);super(l,t),it(Ks,5,this),Dt(this,N0,it(Ks,8,this)),it(Ks,11,this),Dt(this,R0,it(Ks,12,this)),it(Ks,15,this),Dt(this,L0,it(Ks,16,this,this.isDragSource?"dragging":"idle")),it(Ks,19,this),this.type=n,this.sensors=o,this.modifiers=i,this.alignment=l.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var e,t;return((t=(e=this.manager)==null?void 0:e.dragOperation.source)==null?void 0:t.id)===this.id}};Ks=_l(gv);N0=new WeakMap;R0=new WeakMap;L0=new WeakMap;Ct(Ks,4,"type",S4,qi,N0);Ct(Ks,4,"modifiers",w4,qi,R0);Ct(Ks,4,"status",C4,qi,L0);Ct(Ks,2,"isDropping",b4,qi);Ct(Ks,2,"isDragging",x4,qi);Ct(Ks,2,"isDragSource",y4,qi);ha(Ks,qi);var E4,V4,P4,I4,T4,k4,fv,ms,A0,D0,M0,j0,_0,zi=class extends(fv=xo,k4=[bt],T4=[bt],I4=[bt],P4=[bt],V4=[bt],E4=[ws],fv){constructor(e,t){var s=e,{accept:i,collisionDetector:n,collisionPriority:o,type:l}=s,u=r4(s,["accept","collisionDetector","collisionPriority","type"]);super(u,t),it(ms,5,this),Dt(this,A0,it(ms,8,this)),it(ms,11,this),Dt(this,D0,it(ms,12,this)),it(ms,15,this),Dt(this,M0,it(ms,16,this)),it(ms,19,this),Dt(this,j0,it(ms,20,this)),it(ms,23,this),Dt(this,_0,it(ms,24,this)),it(ms,27,this),this.accept=i,this.collisionDetector=n,this.collisionPriority=o,this.type=l}accepts(e){const{accept:t}=this;return t?typeof t=="function"?t(e):e.type?Array.isArray(t)?t.includes(e.type):e.type===t:!1:!0}get isDropTarget(){var e,t;return((t=(e=this.manager)==null?void 0:e.dragOperation.target)==null?void 0:t.id)===this.id}};ms=_l(fv);A0=new WeakMap;D0=new WeakMap;M0=new WeakMap;j0=new WeakMap;_0=new WeakMap;Ct(ms,4,"accept",k4,zi,A0);Ct(ms,4,"type",T4,zi,D0);Ct(ms,4,"collisionDetector",I4,zi,M0);Ct(ms,4,"collisionPriority",P4,zi,j0);Ct(ms,4,"shape",V4,zi,_0);Ct(ms,2,"isDropTarget",E4,zi);ha(ms,zi);var ml=class extends js{constructor(r,e){super(r,e),this.manager=r,this.options=e}},DC=class extends js{constructor(r,e){super(r,e),this.manager=r,this.options=e}apply(r){return r.transform}},V8=class{constructor(r){this.draggables=new AC,this.droppables=new AC,this.plugins=new kg(r),this.sensors=new kg(r),this.modifiers=new kg(r)}register(r,e){if(r instanceof qi)return this.draggables.register(r.id,r);if(r instanceof zi)return this.droppables.register(r.id,r);if(r.prototype instanceof DC)return this.modifiers.register(r,e);if(r.prototype instanceof ml)return this.sensors.register(r,e);if(r.prototype instanceof js)return this.plugins.register(r,e);throw new Error("Invalid instance type")}unregister(r){if(r instanceof xo)return r instanceof qi?this.draggables.unregister(r.id,r):r instanceof zi?this.droppables.unregister(r.id,r):()=>{};if(r.prototype instanceof DC)return this.modifiers.unregister(r);if(r.prototype instanceof ml)return this.sensors.unregister(r);if(r.prototype instanceof js)return this.plugins.unregister(r);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},N4,R4,L4,A4,D4,M4,j4,_4,O4,bu,bh,ka,es,O0,F0,B0,q0,z0,Cu;O4=[ws],_4=[bt],j4=[bt],M4=[bt],D4=[bt],A4=[bt],L4=[ws],R4=[ws],N4=[ws];var Si=class{constructor(r){it(es,5,this),Dt(this,bu),Dt(this,bh),Dt(this,ka,new ca(void 0,(e,t)=>e&&t?e.equals(t):e===t)),this.status=new fn,Dt(this,O0,it(es,8,this,!1)),it(es,11,this),Dt(this,F0,it(es,12,this,null)),it(es,15,this),Dt(this,B0,it(es,16,this,null)),it(es,19,this),Dt(this,q0,it(es,20,this,null)),it(es,23,this),Dt(this,z0,it(es,24,this,[])),it(es,27,this),this.position=new im({x:0,y:0}),Dt(this,Cu,{x:0,y:0}),oi(this,bu,r)}get shape(){const{current:r,initial:e,previous:t}=Ns(this,ka);return!r||!e?null:{current:r,initial:e,previous:t}}set shape(r){r?Ns(this,ka).current=r:Ns(this,ka).reset()}get source(){var r;const e=this.sourceIdentifier;if(e==null)return null;const t=Ns(this,bu).registry.draggables.get(e);return t&&oi(this,bh,t),(r=t??Ns(this,bh))!=null?r:null}get target(){var r;const e=this.targetIdentifier;return e!=null&&(r=Ns(this,bu).registry.droppables.get(e))!=null?r:null}get transform(){const{x:r,y:e}=this.position.delta;let t={x:r,y:e};for(const s of this.modifiers)t=s.apply(s4(t4({},this.snapshot()),{transform:t}));return oi(this,Cu,t),t}snapshot(){return Lt(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:Ns(this,Cu),shape:this.shape?Ig(this.shape):null,position:Ig(this.position),status:Ig(this.status),canceled:this.canceled}))}reset(){is(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,Ns(this,ka).reset(),this.position.reset({x:0,y:0}),oi(this,Cu,{x:0,y:0}),this.modifiers=[]})}};es=_l(null);bu=new WeakMap;bh=new WeakMap;ka=new WeakMap;O0=new WeakMap;F0=new WeakMap;B0=new WeakMap;q0=new WeakMap;z0=new WeakMap;Cu=new WeakMap;Ct(es,2,"shape",O4,Si);Ct(es,4,"canceled",_4,Si,O0);Ct(es,4,"activatorEvent",j4,Si,F0);Ct(es,4,"sourceIdentifier",M4,Si,B0);Ct(es,4,"targetIdentifier",D4,Si,q0);Ct(es,4,"modifiers",A4,Si,z0);Ct(es,2,"source",L4,Si);Ct(es,2,"target",R4,Si);Ct(es,2,"transform",N4,Si);ha(es,Si);var P8={get rendering(){return Promise.resolve()}},I8=class{constructor(e){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(h=>h.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:t=[],sensors:s=[],modifiers:i=[],renderer:n=P8}=e??{},o=new w8(this),l=new V8(this);this.registry=l,this.monitor=o,this.renderer=n,this.actions=new E8(this),this.dragOperation=new Si(this),this.collisionObserver=new b8(this),this.plugins=[S8,...t],this.modifiers=i,this.sensors=s;const{destroy:u}=this,c=Ud(()=>{var h,p,m;const v=Lt(()=>this.dragOperation.modifiers),f=this.modifiers;v!==f&&v.forEach(b=>b.destroy()),this.dragOperation.modifiers=(m=(p=(h=this.dragOperation.source)==null?void 0:h.modifiers)==null?void 0:p.map(b=>{const{plugin:x,options:g}=S0(b);return new x(this,g)}))!=null?m:f});this.destroy=()=>{c(),u()}}get plugins(){return this.registry.plugins.values}set plugins(e){this.registry.plugins.values=e}get modifiers(){return this.registry.modifiers.values}set modifiers(e){this.registry.modifiers.values=e}get sensors(){return this.registry.sensors.values}set sensors(e){this.registry.sensors.values=e}},F4=r=>{throw TypeError(r)},H0=(r,e,t)=>e.has(r)||F4("Cannot "+t),lt=(r,e,t)=>(H0(r,e,"read from private field"),e.get(r)),rr=(r,e,t)=>e.has(r)?F4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),fr=(r,e,t,s)=>(H0(r,e,"write to private field"),e.set(r,t),t),B4=(r,e,t)=>(H0(r,e,"access private method"),t);function om(r){return r?r instanceof KeyframeEffect?!0:"getKeyframes"in r&&typeof r.getKeyframes=="function":!1}function q4(r,e){const t=r.getAnimations();if(t.length>0)for(const s of t){if(s.playState!=="running")continue;const{effect:i}=s,o=(om(i)?i.getKeyframes():[]).filter(e);if(o.length>0)return[o[o.length-1],s]}return null}function am(r){const{width:e,height:t,top:s,left:i,bottom:n,right:o}=r.getBoundingClientRect();return{width:e,height:t,top:s,left:i,bottom:n,right:o}}var z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Q0(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function W0(r){return"nodeType"in r}function vn(r){var e,t,s;return r?Q0(r)?r:W0(r)?"defaultView"in r?(e=r.defaultView)!=null?e:window:(s=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?s:window:window:window}function H4(r){const{Document:e}=vn(r);return r instanceof e||"nodeType"in r&&r.nodeType===Node.DOCUMENT_NODE}function sa(r){return!r||Q0(r)?!1:r instanceof vn(r).HTMLElement||"namespaceURI"in r&&typeof r.namespaceURI=="string"&&r.namespaceURI.endsWith("html")}function Q4(r){return r instanceof vn(r).SVGElement||"namespaceURI"in r&&typeof r.namespaceURI=="string"&&r.namespaceURI.endsWith("svg")}function Hi(r){return r?Q0(r)?r.document:W0(r)?H4(r)?r:sa(r)||Q4(r)?r.ownerDocument:document:document:document}function T8(r){const{documentElement:e}=Hi(r),t=e.clientWidth,s=e.clientHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function k8(r,e){if(N8(r)&&r.open===!1)return!1;const{overflow:t,overflowX:s,overflowY:i}=getComputedStyle(r);return t==="visible"&&s==="visible"&&i==="visible"}function N8(r){return r.tagName==="DETAILS"}function vd(r,e=r.getBoundingClientRect(),t=0){var s;let i=e;const{ownerDocument:n}=r,o=(s=n.defaultView)!=null?s:window;let l=r.parentElement;for(;l&&l!==n.documentElement;){if(!k8(l)){const m=l.getBoundingClientRect(),v=t*(m.bottom-m.top),f=t*(m.right-m.left),b=t*(m.bottom-m.top),x=t*(m.right-m.left);i={top:Math.max(i.top,m.top-v),right:Math.min(i.right,m.right+f),bottom:Math.min(i.bottom,m.bottom+b),left:Math.max(i.left,m.left-x),width:0,height:0},i.width=i.right-i.left,i.height=i.bottom-i.top}l=l.parentElement}const u=o.innerWidth,c=o.innerHeight,h=t*c,p=t*u;return i={top:Math.max(i.top,0-h),right:Math.min(i.right,u+p),bottom:Math.min(i.bottom,c+h),left:Math.max(i.left,0-p),width:0,height:0},i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0&&(i.width=0),i.height<0&&(i.height=0),i}function W4(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function R8(r){const e="input, textarea, select, canvas, [contenteditable]",t=r.cloneNode(!0),s=Array.from(r.querySelectorAll(e));return Array.from(t.querySelectorAll(e)).forEach((n,o)=>{const l=s[o];if(MC(n)&&MC(l)&&(n.type!=="file"&&(n.value=l.value),n.type==="radio"&&n.name&&(n.name=`Cloned__${n.name}`)),jC(n)&&jC(l)&&l.width>0&&l.height>0){const u=n.getContext("2d");u==null||u.drawImage(l,0,0)}}),t}function MC(r){return"value"in r}function jC(r){return r.tagName==="CANVAS"}function U4(r,{x:e,y:t}){const s=r.elementFromPoint(e,t);if(L8(s)){const{contentDocument:i}=s;if(i){const{left:n,top:o}=s.getBoundingClientRect();return U4(i,{x:e-n,y:t-o})}}return s}function L8(r){return(r==null?void 0:r.tagName)==="IFRAME"}var vv=new WeakMap,$4=class{constructor(){this.entries=new Set,this.clear=()=>{for(const r of this.entries){const[e,{type:t,listener:s,options:i}]=r;e.removeEventListener(t,s,i)}this.entries.clear()}}bind(r,e){const t=Array.isArray(e)?e:[e],s=[];for(const i of t){const{type:n,listener:o,options:l}=i,u=[r,i];r.addEventListener(n,o,l),this.entries.add(u),s.push(u)}return function(){for(const[n,{type:o,listener:l,options:u}]of s)n.removeEventListener(o,l,u)}}};function gl(r){const e=r==null?void 0:r.ownerDocument.defaultView;if(e&&e.self!==e.parent)return e.frameElement}function A8(r){const e=new Set;let t=gl(r);for(;t;)e.add(t),t=gl(t);return e}function D8(r,e){const t=setTimeout(r,e);return()=>clearTimeout(t)}function G4(r,e){const t=()=>performance.now();let s,i;return function(...n){const o=this;i?(s==null||s(),s=D8(()=>{r.apply(o,n),i=t()},e-(t()-i))):(r.apply(o,n),i=t())}}function M8(r,e){return r===e?!0:!r||!e?!1:r.top==e.top&&r.left==e.left&&r.right==e.right&&r.bottom==e.bottom}function j8(r,e=r.getBoundingClientRect()){const{width:t,height:s}=vd(r,e);return t>0&&s>0}var _8=z4?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Ch,O8=class extends _8{constructor(r){super(e=>{if(!lt(this,Ch)){fr(this,Ch,!0);return}r(e,this)}),rr(this,Ch,!1)}};Ch=new WeakMap;var _C=Array.from({length:100},(r,e)=>e/100),Z4=75,Mo,pp,Ln,jo,wu,ks,Uu,Su,mp,J4,K4,Y4=class{constructor(r,e,t={debug:!1,skipInitial:!1}){this.element=r,this.callback=e,rr(this,mp),this.disconnect=()=>{var n,o,l;fr(this,Uu,!0),(n=lt(this,Ln))==null||n.disconnect(),(o=lt(this,jo))==null||o.disconnect(),lt(this,wu).disconnect(),(l=lt(this,ks))==null||l.remove()},rr(this,Mo,!0),rr(this,pp),rr(this,Ln),rr(this,jo),rr(this,wu),rr(this,ks),rr(this,Uu,!1),rr(this,Su,G4(()=>{var n,o,l;const{element:u}=this;if((n=lt(this,jo))==null||n.disconnect(),lt(this,Uu)||!lt(this,Mo)||!u.isConnected)return;const c=(o=u.ownerDocument)!=null?o:document,{innerHeight:h,innerWidth:p}=(l=c.defaultView)!=null?l:window,m=u.getBoundingClientRect(),v=vd(u,m),{top:f,left:b,bottom:x,right:g}=v,y=-Math.floor(f),w=-Math.floor(b),S=-Math.floor(p-g),P=-Math.floor(h-x),V=`${y}px ${S}px ${P}px ${w}px`;this.boundingClientRect=m,fr(this,jo,new IntersectionObserver(I=>{const[E]=I,{intersectionRect:R}=E;(E.intersectionRatio!==1?E.intersectionRatio:yi.intersectionRatio(R,vd(u)))!==1&&lt(this,Su).call(this)},{threshold:_C,rootMargin:V,root:c})),lt(this,jo).observe(u),B4(this,mp,J4).call(this)},Z4)),this.boundingClientRect=r.getBoundingClientRect(),fr(this,Mo,j8(r,this.boundingClientRect));let s=!0;this.callback=n=>{s&&(s=!1,t.skipInitial)||e(n)};const i=r.ownerDocument;t!=null&&t.debug&&(fr(this,ks,document.createElement("div")),lt(this,ks).style.background="rgba(0,0,0,0.15)",lt(this,ks).style.position="fixed",lt(this,ks).style.pointerEvents="none",i.body.appendChild(lt(this,ks))),fr(this,wu,new IntersectionObserver(n=>{var o,l;const u=n[n.length-1],{boundingClientRect:c,isIntersecting:h}=u,{width:p,height:m}=c,v=lt(this,Mo);fr(this,Mo,h),!(!p&&!m)&&(v&&!h?((o=lt(this,jo))==null||o.disconnect(),this.callback(null),(l=lt(this,Ln))==null||l.disconnect(),fr(this,Ln,void 0),lt(this,ks)&&(lt(this,ks).style.visibility="hidden")):lt(this,Su).call(this),h&&!lt(this,Ln)&&(fr(this,Ln,new O8(lt(this,Su))),lt(this,Ln).observe(r)))},{threshold:_C,root:i})),lt(this,Mo)&&!t.skipInitial&&this.callback(this.boundingClientRect),lt(this,wu).observe(r)}};Mo=new WeakMap;pp=new WeakMap;Ln=new WeakMap;jo=new WeakMap;wu=new WeakMap;ks=new WeakMap;Uu=new WeakMap;Su=new WeakMap;mp=new WeakSet;J4=function(){lt(this,Uu)||(B4(this,mp,K4).call(this),!M8(this.boundingClientRect,lt(this,pp))&&(this.callback(this.boundingClientRect),fr(this,pp,this.boundingClientRect)))};K4=function(){if(lt(this,ks)){const{top:r,left:e,width:t,height:s}=vd(this.element);lt(this,ks).style.overflow="hidden",lt(this,ks).style.visibility="visible",lt(this,ks).style.top=`${Math.floor(r)}px`,lt(this,ks).style.left=`${Math.floor(e)}px`,lt(this,ks).style.width=`${Math.floor(t)}px`,lt(this,ks).style.height=`${Math.floor(s)}px`}};var _c=new WeakMap,Oc=new WeakMap;function F8(r,e){let t=_c.get(r);return t||(t={disconnect:new Y4(r,i=>{const n=_c.get(r);n&&n.callbacks.forEach(o=>o(i))},{skipInitial:!0}).disconnect,callbacks:new Set}),t.callbacks.add(e),_c.set(r,t),()=>{t.callbacks.delete(e),t.callbacks.size===0&&(_c.delete(r),t.disconnect())}}function B8(r,e){const t=new Set;for(const s of r){const i=F8(s,e);t.add(i)}return()=>t.forEach(s=>s())}function q8(r,e){var t;const s=r.ownerDocument;if(!Oc.has(s)){const o=new AbortController,l=new Set;document.addEventListener("scroll",u=>l.forEach(c=>c(u)),{capture:!0,passive:!0,signal:o.signal}),Oc.set(s,{disconnect:()=>o.abort(),listeners:l})}const{listeners:i,disconnect:n}=(t=Oc.get(s))!=null?t:{};return!i||!n?()=>{}:(i.add(e),()=>{i.delete(e),i.size===0&&(n(),Oc.delete(s))})}var Eu,Vu,wh,yv,z8=class{constructor(r,e,t){this.callback=e,rr(this,Eu),rr(this,Vu,!1),rr(this,wh),rr(this,yv,G4(o=>{if(!lt(this,Vu)&&o.target&&"contains"in o.target&&typeof o.target.contains=="function"){for(const l of lt(this,wh))if(o.target.contains(l)){this.callback(lt(this,Eu).boundingClientRect);break}}},Z4));const s=A8(r),i=B8(s,e),n=q8(r,lt(this,yv));fr(this,wh,s),fr(this,Eu,new Y4(r,e,t)),this.disconnect=()=>{lt(this,Vu)||(fr(this,Vu,!0),i(),n(),lt(this,Eu).disconnect())}}};Eu=new WeakMap;Vu=new WeakMap;wh=new WeakMap;yv=new WeakMap;function xv(r){return"showPopover"in r&&"hidePopover"in r&&typeof r.showPopover=="function"&&typeof r.hidePopover=="function"}function Pu(r){try{xv(r)&&r.isConnected&&r.hasAttribute("popover")&&!r.matches(":popover-open")&&r.showPopover()}catch{}}function OC(r){return!z4||!r?!1:r===Hi(r).scrollingElement}function X4(r){const e=vn(r),t=OC(r)?T8(r):am(r),s=OC(r)?{height:e.innerHeight,width:e.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={current:{x:r.scrollLeft,y:r.scrollTop},max:{x:r.scrollWidth-s.width,y:r.scrollHeight-s.height}},n=i.current.y<=0,o=i.current.x<=0,l=i.current.y>=i.max.y,u=i.current.x>=i.max.x;return{rect:t,position:i,isTop:n,isLeft:o,isBottom:l,isRight:u}}function H8(r,e){const{isTop:t,isBottom:s,isLeft:i,isRight:n,position:o}=X4(r),{x:l,y:u}=e??{x:0,y:0},c=!t&&o.current.y+u>0,h=!s&&o.current.y+u<o.max.y,p=!i&&o.current.x+l>0,m=!n&&o.current.x+l<o.max.x;return{top:c,bottom:h,left:p,right:m,x:p||m,y:c||h}}var U0=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:t,resolvers:s}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const i of t)i();for(const i of s)i()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(t=>this.resolvers.add(t))}},gp=new U0(r=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()}),Q8=new U0(r=>setTimeout(r,50)),fp=new Map,W8=fp.clear.bind(fp);function xi(r,e=!1){if(!e)return FC(r);let t=fp.get(r);return t||(t=FC(r),fp.set(r,t),Q8.schedule(W8),t)}function FC(r){return vn(r).getComputedStyle(r)}function U8(r,e=xi(r,!0)){return e.position==="fixed"||e.position==="sticky"}function $8(r,e=xi(r,!0)){const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const n=e[i];return typeof n=="string"?t.test(n):!1})}var G8={excludeElement:!0};function bv(r,e=G8){const{limit:t,excludeElement:s}=e,i=new Set;function n(o){if(t!=null&&i.size>=t||!o)return i;if(H4(o)&&o.scrollingElement!=null&&!i.has(o.scrollingElement))return i.add(o.scrollingElement),i;if(!sa(o))return Q4(o)?n(o.parentElement):i;if(i.has(o))return i;const l=xi(o,!0);if(s&&o===r||$8(o,l)&&i.add(o),U8(o,l)){const{scrollingElement:u}=o.ownerDocument;return u&&i.add(u),i}return n(o.parentNode)}return r?n(r):i}function Z8(r){const[e]=bv(r,{limit:1});return e??null}function fl(r,e=window.frameElement){const t={x:0,y:0,scaleX:1,scaleY:1};if(!r)return t;let s=gl(r);for(;s;){if(s===e)return t;const i=am(s),{x:n,y:o}=J8(s,i);t.x=t.x+i.left,t.y=t.y+i.top,t.scaleX=t.scaleX*n,t.scaleY=t.scaleY*o,s=gl(s)}return t}function J8(r,e=am(r)){const t=Math.round(e.width),s=Math.round(e.height);if(sa(r))return{x:t/r.offsetWidth,y:s/r.offsetHeight};const i=xi(r,!0);return{x:(parseFloat(i.width)||t)/t,y:(parseFloat(i.height)||s)/s}}function K8(r){if(r==="none")return null;const e=r.split(" "),t=parseFloat(e[0]),s=parseFloat(e[1]);return isNaN(t)&&isNaN(s)?null:{x:isNaN(t)?s:t,y:isNaN(s)?t:s}}function yd(r){if(r==="none")return null;const[e,t,s="0"]=r.split(" "),i={x:parseFloat(e),y:parseFloat(t),z:parseInt(s,10)};return isNaN(i.x)&&isNaN(i.y)?null:{x:isNaN(i.x)?0:i.x,y:isNaN(i.y)?0:i.y,z:isNaN(i.z)?0:i.z}}function $0(r){var e,t,s,i,n,o,l,u,c;const{scale:h,transform:p,translate:m}=r,v=K8(h),f=yd(m),b=Y8(p);if(!b&&!v&&!f)return null;const x={x:(e=v==null?void 0:v.x)!=null?e:1,y:(t=v==null?void 0:v.y)!=null?t:1},g={x:(s=f==null?void 0:f.x)!=null?s:0,y:(i=f==null?void 0:f.y)!=null?i:0},y={x:(n=b==null?void 0:b.x)!=null?n:0,y:(o=b==null?void 0:b.y)!=null?o:0,scaleX:(l=b==null?void 0:b.scaleX)!=null?l:1,scaleY:(u=b==null?void 0:b.scaleY)!=null?u:1};return{x:g.x+y.x,y:g.y+y.y,z:(c=f==null?void 0:f.z)!=null?c:0,scaleX:x.x*y.scaleX,scaleY:x.y*y.scaleY}}function Y8(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}var Fr=(r=>(r[r.Idle=0]="Idle",r[r.Forward=1]="Forward",r[r.Reverse=-1]="Reverse",r))(Fr||{}),X8={x:.2,y:.2},eL={x:10,y:10};function tL(r,e,t,s=25,i=X8,n=eL){const{x:o,y:l}=e,{rect:u,isTop:c,isBottom:h,isLeft:p,isRight:m}=X4(r),v=fl(r),f=xi(r,!0),b=$0(f),x=b!==null?(b==null?void 0:b.scaleX)<0:!1,g=b!==null?(b==null?void 0:b.scaleY)<0:!1,y=new yi(u.left*v.scaleX+v.x,u.top*v.scaleY+v.y,u.width*v.scaleX,u.height*v.scaleY),w={x:0,y:0},S={x:0,y:0},P={height:y.height*i.y,width:y.width*i.x};return(!c||g&&!h)&&l<=y.top+P.height&&(t==null?void 0:t.y)!==1&&o>=y.left-n.x&&o<=y.right+n.x?(w.y=g?1:-1,S.y=s*Math.abs((y.top+P.height-l)/P.height)):(!h||g&&!c)&&l>=y.bottom-P.height&&(t==null?void 0:t.y)!==-1&&o>=y.left-n.x&&o<=y.right+n.x&&(w.y=g?-1:1,S.y=s*Math.abs((y.bottom-P.height-l)/P.height)),(!m||x&&!p)&&o>=y.right-P.width&&(t==null?void 0:t.x)!==-1&&l>=y.top-n.y&&l<=y.bottom+n.y?(w.x=x?-1:1,S.x=s*Math.abs((y.right-P.width-o)/P.width)):(!p||x&&!m)&&o<=y.left+P.width&&(t==null?void 0:t.x)!==1&&l>=y.top-n.y&&l<=y.bottom+n.y&&(w.x=x?1:-1,S.x=s*Math.abs((y.left+P.width-o)/P.width)),{direction:w,speed:S}}function sL(r){return"scrollIntoViewIfNeeded"in r&&typeof r.scrollIntoViewIfNeeded=="function"}function eV(r,e=!1){if(sL(r)){r.scrollIntoViewIfNeeded(e);return}if(!sa(r))return r.scrollIntoView();var t=Z8(r);if(!sa(t))return;const s=xi(t,!0),i=parseInt(s.getPropertyValue("border-top-width")),n=parseInt(s.getPropertyValue("border-left-width")),o=r.offsetTop-t.offsetTop<t.scrollTop,l=r.offsetTop-t.offsetTop+r.clientHeight-i>t.scrollTop+t.clientHeight,u=r.offsetLeft-t.offsetLeft<t.scrollLeft,c=r.offsetLeft-t.offsetLeft+r.clientWidth-n>t.scrollLeft+t.clientWidth,h=o&&!l;(o||l)&&e&&(t.scrollTop=r.offsetTop-t.offsetTop-t.clientHeight/2-i+r.clientHeight/2),(u||c)&&e&&(t.scrollLeft=r.offsetLeft-t.offsetLeft-t.clientWidth/2-n+r.clientWidth/2),(o||l||u||c)&&!e&&r.scrollIntoView(h)}function rL(r,e,t){const{scaleX:s,scaleY:i,x:n,y:o}=e,l=r.left+n+(1-s)*parseFloat(t),u=r.top+o+(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),c=s?r.width*s:r.width,h=i?r.height*i:r.height;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l}}function iL(r,e,t){const{scaleX:s,scaleY:i,x:n,y:o}=e,l=r.left-n-(1-s)*parseFloat(t),u=r.top-o-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),c=s?r.width/s:r.width,h=i?r.height/i:r.height;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l}}function tV({element:r,keyframes:e,options:t}){return r.animate(e,t).finished}function BC(r,e=xi(r).translate,t=!0){if(t){const s=q4(r,i=>"translate"in i);if(s){const{translate:i=""}=s[0];if(typeof i=="string"){const n=yd(i);if(n)return n}}}if(e){const s=yd(e);if(s)return s}return{x:0,y:0,z:0}}var nL=new U0(r=>setTimeout(r,0)),$u=new Map,oL=$u.clear.bind($u);function aL(r){const e=r.ownerDocument;let t=$u.get(e);if(t)return t;t=e.getAnimations(),$u.set(e,t),nL.schedule(oL);const s=t.filter(i=>om(i.effect)&&i.effect.target===r);return $u.set(r,s),t}function lL(r,e){const t=aL(r).filter(s=>{var i,n;if(om(s.effect)){const{target:o}=s.effect;if((n=o&&((i=e.isValidTarget)==null?void 0:i.call(e,o)))!=null?n:!0)return s.effect.getKeyframes().some(u=>{for(const c of e.properties)if(u[c])return!0})}}).map(s=>{const{effect:i,currentTime:n}=s,o=i==null?void 0:i.getComputedTiming().duration;if(!(s.pending||s.playState==="finished")&&typeof o=="number"&&typeof n=="number"&&n<o)return s.currentTime=o,()=>{s.currentTime=n}});if(t.length>0)return()=>t.forEach(s=>s==null?void 0:s())}var si=class extends yi{constructor(r,e={}){var t,s,i,n;const{frameTransform:o=fl(r),ignoreTransforms:l,getBoundingClientRect:u=am}=e,c=lL(r,{properties:["transform","translate","scale","width","height"],isValidTarget:P=>(P!==r||W4())&&P.contains(r)}),h=u(r);let{top:p,left:m,width:v,height:f}=h,b;const x=xi(r),g=$0(x),y={x:(t=g==null?void 0:g.scaleX)!=null?t:1,y:(s=g==null?void 0:g.scaleY)!=null?s:1},w=uL(r,x);c==null||c(),g&&(b=iL(h,g,x.transformOrigin),(l||w)&&(p=b.top,m=b.left,v=b.width,f=b.height));const S={width:(i=b==null?void 0:b.width)!=null?i:v,height:(n=b==null?void 0:b.height)!=null?n:f};if(w&&!l&&b){const P=rL(b,w,x.transformOrigin);p=P.top,m=P.left,v=P.width,f=P.height,y.x=w.scaleX,y.y=w.scaleY}o&&(l||(m*=o.scaleX,v*=o.scaleX,p*=o.scaleY,f*=o.scaleY),m+=o.x,p+=o.y),super(m,p,v,f),this.scale=y,this.intrinsicWidth=S.width,this.intrinsicHeight=S.height}};function uL(r,e){var t;const s=r.getAnimations();let i=null;if(!s.length)return null;for(const n of s){if(n.playState!=="running")continue;const o=om(n.effect)?n.effect.getKeyframes():[],l=o[o.length-1];if(!l)continue;const{transform:u,translate:c,scale:h}=l;if(u||c||h){const p=$0({transform:typeof u=="string"&&u?u:e.transform,translate:typeof c=="string"&&c?c:e.translate,scale:typeof h=="string"&&h?h:e.scale});p&&(i=i?{x:i.x+p.x,y:i.y+p.y,z:(t=i.z)!=null?t:p.z,scaleX:i.scaleX*p.scaleX,scaleY:i.scaleY*p.scaleY}:p)}}return i}function Gu(r){return"style"in r&&typeof r.style=="object"&&r.style!==null&&"setProperty"in r.style&&"removeProperty"in r.style&&typeof r.style.setProperty=="function"&&typeof r.style.removeProperty=="function"}var dL=class{constructor(r){this.element=r,this.initial=new Map}set(r,e=""){const{element:t}=this;if(Gu(t))for(const[s,i]of Object.entries(r)){const n=`${e}${s}`;this.initial.has(n)||this.initial.set(n,t.style.getPropertyValue(n)),t.style.setProperty(n,typeof i=="string"?i:`${i}px`)}}remove(r,e=""){const{element:t}=this;if(Gu(t))for(const s of r){const i=`${e}${s}`;t.style.removeProperty(i)}}reset(){const{element:r}=this;if(Gu(r)){for(const[e,t]of this.initial)r.style.setProperty(e,t);r.getAttribute("style")===""&&r.removeAttribute("style")}}};function Ol(r){return r?r instanceof vn(r).Element||W0(r)&&r.nodeType===Node.ELEMENT_NODE:!1}function xd(r){if(!r)return!1;const{KeyboardEvent:e}=vn(r.target);return r instanceof e}function cL(r){if(!r)return!1;const{PointerEvent:e}=vn(r.target);return r instanceof e}function hL(r){if(!Ol(r))return!1;const{tagName:e}=r;return e==="INPUT"||e==="TEXTAREA"||pL(r)}function pL(r){return r.hasAttribute("contenteditable")&&r.getAttribute("contenteditable")!=="false"}var Ng={};function Cv(r){const e=Ng[r]==null?0:Ng[r]+1;return Ng[r]=e,`${r}-${e}`}var mL=({dragOperation:r,droppable:e})=>{const t=r.position.current;if(!t)return null;const{id:s}=e;if(!e.shape)return null;if(e.shape.containsPoint(t)){const i=Us.distance(e.shape.center,t);return{id:s,value:1/i,type:Wi.PointerIntersection,priority:Or.High}}return null},gL=({dragOperation:r,droppable:e})=>{const{shape:t}=r;if(!e.shape||!(t!=null&&t.current))return null;const s=t.current.intersectionArea(e.shape);if(s){const{position:i}=r,n=Us.distance(e.shape.center,i.current),l=s/(t.current.area+e.shape.area-s)/n;return{id:e.id,value:l,type:Wi.ShapeIntersection,priority:Or.Normal}}return null},sV=r=>{var e;return(e=mL(r))!=null?e:gL(r)},fL=r=>{const{dragOperation:e,droppable:t}=r,{shape:s,position:i}=e;if(!t.shape)return null;const n=s?yi.from(s.current.boundingRectangle).corners:void 0,l=yi.from(t.shape.boundingRectangle).corners.reduce((u,c,h)=>{var p;return u+Us.distance(Us.from(c),(p=n==null?void 0:n[h])!=null?p:i.current)},0)/4;return{id:t.id,value:1/l,type:Wi.Collision,priority:Or.Normal}},vL=Object.create,G0=Object.defineProperty,yL=Object.defineProperties,xL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyDescriptors,vp=Object.getOwnPropertySymbols,rV=Object.prototype.hasOwnProperty,iV=Object.prototype.propertyIsEnumerable,nV=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),Fl=r=>{throw TypeError(r)},wv=(r,e,t)=>e in r?G0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bd=(r,e)=>{for(var t in e||(e={}))rV.call(e,t)&&wv(r,t,e[t]);if(vp)for(var t of vp(e))iV.call(e,t)&&wv(r,t,e[t]);return r},Z0=(r,e)=>yL(r,bL(e)),qC=(r,e)=>G0(r,"name",{value:e,configurable:!0}),oV=(r,e)=>{var t={};for(var s in r)rV.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&vp)for(var s of vp(r))e.indexOf(s)<0&&iV.call(r,s)&&(t[s]=r[s]);return t},Gd=r=>{var e;return[,,,vL((e=r==null?void 0:r[nV("metadata")])!=null?e:null)]},aV=["class","method","getter","setter","accessor","field","value","get","set"],Iu=r=>r!==void 0&&typeof r!="function"?Fl("Function expected"):r,CL=(r,e,t,s,i)=>({kind:aV[r],name:e,metadata:s,addInitializer:n=>t._?Fl("Already initialized"):i.push(Iu(n||null))}),Bl=(r,e)=>wv(e,nV("metadata"),r[3]),Ss=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)e&1?n[i].call(t):s=n[i].call(t,s);return s},yn=(r,e,t,s,i,n)=>{var o,l,u,c,h,p=e&7,m=!!(e&8),v=!!(e&16),f=p>3?r.length+1:p?m?1:2:0,b=aV[p+5],x=p>3&&(r[f-1]=[]),g=r[f]||(r[f]=[]),y=p&&(!v&&!m&&(i=i.prototype),p<5&&(p>3||!v)&&xL(p<4?i:{get[t](){return Rs(this,n)},set[t](S){return pi(this,n,S)}},t));p?v&&p<4&&qC(n,(p>2?"set ":p>1?"get ":"")+t):qC(i,t);for(var w=s.length-1;w>=0;w--)c=CL(p,t,u={},r[3],g),p&&(c.static=m,c.private=v,h=c.access={has:v?S=>wL(i,S):S=>t in S},p^3&&(h.get=v?S=>(p^1?Rs:Sv)(S,i,p^4?n:y.get):S=>S[t]),p>2&&(h.set=v?(S,P)=>pi(S,i,P,p^4?n:y.set):(S,P)=>S[t]=P)),l=(0,s[w])(p?p<4?v?n:y[b]:p>4?void 0:{get:y.get,set:y.set}:i,c),u._=1,p^4||l===void 0?Iu(l)&&(p>4?x.unshift(l):p?v?n=l:y[b]=l:i=l):typeof l!="object"||l===null?Fl("Object expected"):(Iu(o=l.get)&&(y.get=o),Iu(o=l.set)&&(y.set=o),Iu(o=l.init)&&x.unshift(o));return p||Bl(r,i),y&&G0(i,t,y),v?p^4?n:y:i},J0=(r,e,t)=>e.has(r)||Fl("Cannot "+t),wL=(r,e)=>Object(e)!==e?Fl('Cannot use the "in" operator on this value'):r.has(e),Rs=(r,e,t)=>(J0(r,e,"read from private field"),t?t.call(r):e.get(r)),As=(r,e,t)=>e.has(r)?Fl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),pi=(r,e,t,s)=>(J0(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),Sv=(r,e,t)=>(J0(r,e,"access private method"),t),zC={role:"button",roleDescription:"draggable"},SL="dnd-kit-description",EL="dnd-kit-announcement",VL={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},PL={dragstart({operation:{source:r}}){if(r)return`Picked up draggable item ${r.id}.`},dragover({operation:{source:r,target:e}}){if(!(!r||r.id===(e==null?void 0:e.id)))return e?`Draggable item ${r.id} was moved over droppable target ${e.id}.`:`Draggable item ${r.id} is no longer over a droppable target.`},dragend({operation:{source:r,target:e},canceled:t}){if(r)return t?`Dragging was cancelled. Draggable item ${r.id} was dropped.`:e?`Draggable item ${r.id} was dropped over droppable target ${e.id}`:`Draggable item ${r.id} was dropped.`}};function IL(r){const e=r.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(e)}function TL(r,e){const t=document.createElement("div");return t.id=r,t.style.setProperty("display","none"),t.textContent=e,t}function kL(r){const e=document.createElement("div");return e.id=r,e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.style.setProperty("position","fixed"),e.style.setProperty("width","1px"),e.style.setProperty("height","1px"),e.style.setProperty("margin","-1px"),e.style.setProperty("border","0"),e.style.setProperty("padding","0"),e.style.setProperty("overflow","hidden"),e.style.setProperty("clip","rect(0 0 0 0)"),e.style.setProperty("clip-path","inset(100%)"),e.style.setProperty("white-space","nowrap"),e}var NL=["dragover","dragmove"],RL=class extends js{constructor(r,e){super(r);const{id:t,idPrefix:{description:s=SL,announcement:i=EL}={},announcements:n=PL,screenReaderInstructions:o=VL,debounce:l=500}=e??{},u=t?`${s}-${t}`:Cv(s),c=t?`${i}-${t}`:Cv(i);let h,p,m,v;const f=(P=v)=>{!m||!P||(m==null?void 0:m.nodeValue)!==P&&(m.nodeValue=P)},b=()=>gp.schedule(f),x=LL(b,l),g=Object.entries(n).map(([P,V])=>this.manager.monitor.addEventListener(P,(I,E)=>{const R=m;if(!R)return;const C=V==null?void 0:V(I,E);C&&R.nodeValue!==C&&(v=C,NL.includes(P)?x():(b(),x.cancel()))})),y=()=>{let P=[];h!=null&&h.isConnected||(h=TL(u,o.draggable),P.push(h)),p!=null&&p.isConnected||(p=kL(c),m=document.createTextNode(""),p.appendChild(m),P.push(p)),P.length>0&&document.body.append(...P)},w=new Set;function S(){for(const P of w)P()}this.registerEffect(()=>{var P;w.clear();for(const V of this.manager.registry.draggables.value){const I=(P=V.handle)!=null?P:V.element;if(I){(!h||!p)&&w.add(y),(!IL(I)||W4())&&!I.hasAttribute("tabindex")&&w.add(()=>I.setAttribute("tabindex","0")),!I.hasAttribute("role")&&I.tagName.toLowerCase()!=="button"&&w.add(()=>I.setAttribute("role",zC.role)),I.hasAttribute("aria-roledescription")||w.add(()=>I.setAttribute("aria-roledescription",zC.roleDescription)),I.hasAttribute("aria-describedby")||w.add(()=>I.setAttribute("aria-describedby",u));for(const R of["aria-pressed","aria-grabbed"]){const C=String(V.isDragging);I.getAttribute(R)!==C&&w.add(()=>I.setAttribute(R,C))}const E=String(V.disabled);I.getAttribute("aria-disabled")!==E&&w.add(()=>I.setAttribute("aria-disabled",E))}}w.size>0&&gp.schedule(S)}),this.destroy=()=>{super.destroy(),h==null||h.remove(),p==null||p.remove(),g.forEach(P=>P())}}};function LL(r,e){let t;const s=()=>{clearTimeout(t),t=setTimeout(r,e)};return s.cancel=()=>clearTimeout(t),s}var AL=class extends js{constructor(r,e){super(r,e),this.manager=r;const t=cp(()=>{var s;return Hi((s=this.manager.dragOperation.source)==null?void 0:s.element)});this.destroy=dr(()=>{var s;const{dragOperation:i}=this.manager,{cursor:n="grabbing",nonce:o}=(s=this.options)!=null?s:{};if(i.status.initialized){const l=t.value,u=l.createElement("style");return o&&u.setAttribute("nonce",o),u.textContent=`* { cursor: ${n} !important; }`,l.head.appendChild(u),()=>u.remove()}})}},Zd="data-dnd-",Ev=`${Zd}dropping`,Hs="--dnd-",ki=`${Zd}dragging`,yp=`${Zd}placeholder`,DL=[ki,yp,"popover","aria-pressed","aria-grabbing"],ML=["view-transition-name"],jL=`
  :root [${ki}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${Hs}top, 0px) !important;
    left: var(${Hs}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${Hs}width, auto);
    max-width: var(${Hs}width, auto);
    height: var(${Hs}height, auto);
    max-height: var(${Hs}height, auto);
    transition: var(${Hs}transition) !important;
  }

  :root [${yp}] {
    transition: none;
  }

  :root [${yp}='hidden'] {
    visibility: hidden;
  }

  [${ki}] * {
    pointer-events: none !important;
  }

  [${ki}]:not([${Ev}]) {
    translate: var(${Hs}translate) !important;
  }

  [${ki}][style*='${Hs}scale'] {
    scale: var(${Hs}scale) !important;
    transform-origin: var(${Hs}transform-origin) !important;
  }

  @layer {
    :where([${ki}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${ki}]::backdrop, [${Zd}overlay]:not([${ki}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function _L(r,e="hidden"){return Lt(()=>{const{element:t,manager:s}=r;if(!t||!s)return;const i=OL(t,s.registry.droppables),n=[],o=R8(t),{remove:l}=o;return FL(i,o,n),BL(o,e),o.remove=()=>{n.forEach(u=>u()),l.call(o)},o})}function OL(r,e){const t=new Map;for(const s of e)if(s.element&&(r===s.element||r.contains(s.element))){const i=`${Zd}${Cv("dom-id")}`;s.element.setAttribute(i,""),t.set(s,i)}return t}function FL(r,e,t){for(const[s,i]of r){if(!s.element)continue;const n=`[${i}]`,o=e.matches(n)?e:e.querySelector(n);if(s.element.removeAttribute(i),!o)continue;const l=s.element;s.proxy=o,o.removeAttribute(i),vv.set(l,o),t.push(()=>{vv.delete(l),s.proxy=void 0})}}function BL(r,e="hidden"){r.setAttribute("inert","true"),r.setAttribute("tab-index","-1"),r.setAttribute("aria-hidden","true"),r.setAttribute(yp,e)}function HC(r,e){return r===e?!0:gl(r)===gl(e)}function QC(r){const{target:e}=r;"newState"in r&&r.newState==="closed"&&Ol(e)&&e.hasAttribute("popover")&&requestAnimationFrame(()=>Pu(e))}function WC(r){return r.tagName==="TR"}var xp=new Map,lV,Vv,Cd,K0,Sh,uV,dV,wd=class extends(Vv=js,lV=[bt],Vv){constructor(e,t){super(e,t),As(this,Sh),As(this,K0,Ss(Cd,8,this)),Ss(Cd,11,this),this.state={initial:{},current:{}},this.registerEffect(Sv(this,Sh,dV)),this.registerEffect(Sv(this,Sh,uV))}destroy(){super.destroy();for(const[e,t]of xp.entries())t.instances.has(this)&&(t.instances.delete(this),t.instances.size===0&&(t.cleanup(),xp.delete(e)))}};Cd=Gd(Vv);K0=new WeakMap;Sh=new WeakSet;uV=function(){var r,e,t;const{state:s,manager:i,options:n}=this,{dragOperation:o}=i,{position:l,source:u,status:c}=o;if(c.idle){s.current={},s.initial={};return}if(!u)return;const{element:h,feedback:p}=u;if(!h||p==="none"||!c.initialized||c.initializing)return;const{initial:m}=s,v=(r=this.overlay)!=null?r:h,f=fl(v),b=fl(h),x=!HC(h,v),g=new si(h,{frameTransform:x?b:null,ignoreTransforms:!x}),y={x:b.scaleX/f.scaleX,y:b.scaleY/f.scaleY};let{width:w,height:S,top:P,left:V}=g;x&&(w=w/y.x,S=S/y.y);let I,E;const R=new dL(v),{transition:C,translate:k,boxSizing:L,paddingBlockStart:D,paddingBlockEnd:q,paddingInlineStart:U,paddingInlineEnd:$,borderInlineStartWidth:K,borderInlineEndWidth:M,borderBlockStartWidth:j,borderBlockEndWidth:B}=xi(h),Q=p==="clone",G=L==="content-box",X=G?parseInt(U)+parseInt($)+parseInt(K)+parseInt(M):0,de=G?parseInt(D)+parseInt(q)+parseInt(j)+parseInt(B):0,se=p!=="move"&&!this.overlay?_L(u,Q?"clone":"hidden"):null,fe=Lt(()=>xd(i.dragOperation.activatorEvent));if(k!=="none"){const rt=yd(k);rt&&!m.translate&&(m.translate=rt)}if(!m.transformOrigin){const rt=Lt(()=>l.current);m.transformOrigin={x:(rt.x-V*f.scaleX-f.x)/(w*f.scaleX),y:(rt.y-P*f.scaleY-f.y)/(S*f.scaleY)}}const{transformOrigin:oe}=m,ie=P*f.scaleY+f.y,_=V*f.scaleX+f.x;if(!m.coordinates&&(m.coordinates={x:_,y:ie},y.x!==1||y.y!==1)){const{scaleX:rt,scaleY:ye}=b,{x:Ue,y:Je}=oe;m.coordinates.x+=(w*rt-w)*Ue,m.coordinates.y+=(S*ye-S)*Je}m.dimensions||(m.dimensions={width:w,height:S}),m.frameTransform||(m.frameTransform=f);const O={x:m.coordinates.x-_,y:m.coordinates.y-ie},Z={width:(m.dimensions.width*m.frameTransform.scaleX-w*f.scaleX)*oe.x,height:(m.dimensions.height*m.frameTransform.scaleY-S*f.scaleY)*oe.y},le={x:O.x/f.scaleX+Z.width,y:O.y/f.scaleY+Z.height},te={left:V+le.x,top:P+le.y};v.setAttribute(ki,"true");const W=Lt(()=>o.transform),he=(e=m.translate)!=null?e:{x:0,y:0},me=W.x*f.scaleX+he.x,Ve=W.y*f.scaleY+he.y,Me=`${me}px ${Ve}px 0`,Le=C?`${C}, translate 0ms linear`:"";R.set({width:w-X,height:S-de,top:te.top,left:te.left,translate:Me,transition:Le,scale:x?`${y.x} ${y.y}`:"","transform-origin":`${oe.x*100}% ${oe.y*100}%`},Hs),se&&(h.insertAdjacentElement("afterend",se),n!=null&&n.rootElement&&(typeof n.rootElement=="function"?n.rootElement(u):n.rootElement).appendChild(h)),xv(v)&&(v.hasAttribute("popover")||v.setAttribute("popover","manual"),Pu(v),v.addEventListener("beforetoggle",QC));const ze=new ResizeObserver(()=>{if(!se)return;const rt=new si(se,{frameTransform:f,ignoreTransforms:!0}),ye=oe??{x:1,y:1},Ue=(w-rt.width)*ye.x+le.x,Je=(S-rt.height)*ye.y+le.y;if(R.set({width:rt.width-X,height:rt.height-de,top:P+Je,left:V+Ue},Hs),I==null||I.takeRecords(),WC(h)&&WC(se)){const Xe=Array.from(h.cells),xe=Array.from(se.cells);for(const[Pe,je]of Xe.entries()){const Ae=xe[Pe];je.style.width=`${Ae.offsetWidth}px`}}o.shape=new si(v)}),et=new si(v);Lt(()=>o.shape=et);const nt=vn(v),Bt=rt=>{this.manager.actions.stop({event:rt})};fe&&nt.addEventListener("resize",Bt),Lt(()=>u.status)==="idle"&&requestAnimationFrame(()=>u.status="dragging"),se&&(ze.observe(se),I=new MutationObserver(rt=>{let ye=!1;for(const Ue of rt){if(Ue.target!==h){ye=!0;continue}if(Ue.type!=="attributes")continue;const Je=Ue.attributeName;if(Je.startsWith("aria-")||DL.includes(Je))continue;const Xe=h.getAttribute(Je);if(Je==="style"){if(Gu(h)&&Gu(se)){const xe=h.style;for(const Pe of Array.from(se.style))xe.getPropertyValue(Pe)===""&&se.style.removeProperty(Pe);for(const Pe of Array.from(xe)){if(ML.includes(Pe)||Pe.startsWith(Hs))continue;const je=xe.getPropertyValue(Pe);se.style.setProperty(Pe,je)}}}else Xe!==null?se.setAttribute(Je,Xe):se.removeAttribute(Je)}ye&&Q&&(se.innerHTML=h.innerHTML)}),I.observe(h,{attributes:!0,subtree:!0,childList:!0}),E=new MutationObserver(rt=>{for(const ye of rt)if(ye.addedNodes.length!==0)for(const Ue of Array.from(ye.addedNodes)){if(Ue.contains(h)&&h.nextElementSibling!==se){h.insertAdjacentElement("afterend",se),Pu(v);return}if(Ue.contains(se)&&se.previousElementSibling!==h){se.insertAdjacentElement("beforebegin",h),Pu(v);return}}}),E.observe(h.ownerDocument.body,{childList:!0,subtree:!0}));const Fs=(t=i.dragOperation.source)==null?void 0:t.id,Rr=()=>{var rt;if(!fe||Fs==null)return;const ye=i.registry.draggables.get(Fs),Ue=(rt=ye==null?void 0:ye.handle)!=null?rt:ye==null?void 0:ye.element;sa(Ue)&&Ue.focus()},hr=()=>{I==null||I.disconnect(),E==null||E.disconnect(),ze.disconnect(),nt.removeEventListener("resize",Bt),xv(v)&&(v.removeEventListener("beforetoggle",QC),v.removeAttribute("popover")),v.removeAttribute(ki),R.reset(),u.status="idle";const rt=s.current.translate!=null;se&&(rt||se.parentElement!==v.parentElement)&&v.isConnected&&se.replaceWith(v),se==null||se.remove()},Zr=Ud(()=>{var rt;const{transform:ye,status:Ue}=o;if(!(!ye.x&&!ye.y&&!s.current.translate)&&Ue.dragging){const Je=(rt=m.translate)!=null?rt:{x:0,y:0},Xe={x:ye.x/f.scaleX+Je.x,y:ye.y/f.scaleY+Je.y},xe=s.current.translate,Pe=Lt(()=>o.modifiers),je=Lt(()=>{var vt;return(vt=o.shape)==null?void 0:vt.current}),Ae=fe?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(R.set({transition:`${C}, translate ${Ae}`,translate:`${Xe.x}px ${Xe.y}px 0`},Hs),I==null||I.takeRecords(),je&&je!==et&&xe&&!Pe.length){const vt=Us.delta(Xe,xe);o.shape=yi.from(je.boundingRectangle).translate(vt.x*f.scaleX,vt.y*f.scaleY)}else o.shape=new si(v);s.current.translate=Xe}},function(){if(o.status.dropped){this.dispose(),u.status="dropping";let rt=s.current.translate;const ye=rt!=null;if(!rt&&h!==v&&(rt={x:0,y:0}),!rt){hr();return}const Ue=()=>{var Je,Xe;{Pu(v);const[,xe]=(Je=q4(v,va=>"translate"in va))!=null?Je:[];xe==null||xe.pause();const Pe=se??h,je={frameTransform:HC(v,Pe)?null:void 0},Ae=new si(v,je),vt=(Xe=yd(xi(v).translate))!=null?Xe:rt,qt=new si(Pe,je),xs=yi.delta(Ae,qt,u.alignment),Jr={x:vt.x-xs.x,y:vt.y-xs.y},Sn=Math.round(Ae.intrinsicHeight)!==Math.round(qt.intrinsicHeight)?{minHeight:[`${Ae.intrinsicHeight}px`,`${qt.intrinsicHeight}px`],maxHeight:[`${Ae.intrinsicHeight}px`,`${qt.intrinsicHeight}px`]}:{},wo=Math.round(Ae.intrinsicWidth)!==Math.round(qt.intrinsicWidth)?{minWidth:[`${Ae.intrinsicWidth}px`,`${qt.intrinsicWidth}px`],maxWidth:[`${Ae.intrinsicWidth}px`,`${qt.intrinsicWidth}px`]}:{};R.set({transition:C},Hs),v.setAttribute(Ev,""),I==null||I.takeRecords(),tV({element:v,keyframes:Z0(bd(bd({},Sn),wo),{translate:[`${vt.x}px ${vt.y}px 0`,`${Jr.x}px ${Jr.y}px 0`]}),options:{duration:ye||v!==h?250:0,easing:"ease"}}).then(()=>{v.removeAttribute(Ev),xe==null||xe.finish(),hr(),requestAnimationFrame(Rr)})}};i.renderer.rendering.then(Ue)}});return()=>{hr(),Zr()}};dV=function(){var r,e,t;const{status:s,source:i,target:n}=this.manager.dragOperation,{nonce:o}=(r=this.options)!=null?r:{};if(s.initializing){const l=Hi((e=i==null?void 0:i.element)!=null?e:null),u=Hi((t=n==null?void 0:n.element)!=null?t:null),c=new Set([l,u]);for(const h of c){let p=xp.get(h);if(!p){const m=document.createElement("style");m.textContent=jL,o&&m.setAttribute("nonce",o),h.head.prepend(m);const v=new MutationObserver(f=>{for(const b of f)if(b.type==="childList"){const x=Array.from(b.removedNodes);x.length>0&&x.includes(m)&&h.head.prepend(m)}});v.observe(h.head,{childList:!0}),p={cleanup:()=>{v.disconnect(),m.remove()},instances:new Set},xp.set(h,p)}p.instances.add(this)}}};yn(Cd,4,"overlay",lV,wd,K0);Bl(Cd,wd);wd.configure=w0(wd);var qL=wd,uu=!0,zL=!1,cV,hV,pV,mV,Un,Y0,X0;mV=(pV=[bt],Fr.Forward),hV=(cV=[bt],Fr.Reverse);var Sd=class{constructor(){As(this,Y0,Ss(Un,8,this,uu)),Ss(Un,11,this),As(this,X0,Ss(Un,12,this,uu)),Ss(Un,15,this)}isLocked(r){return r===Fr.Idle?!1:r==null?this[Fr.Forward]===uu&&this[Fr.Reverse]===uu:this[r]===uu}unlock(r){r!==Fr.Idle&&(this[r]=zL)}};Un=Gd(null);Y0=new WeakMap;X0=new WeakMap;yn(Un,4,mV,pV,Sd,Y0);yn(Un,4,hV,cV,Sd,X0);Bl(Un,Sd);var HL=[Fr.Forward,Fr.Reverse],UC=class{constructor(){this.x=new Sd,this.y=new Sd}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},QL=class extends js{constructor(r){super(r);const e=Wd(new UC);let t=null;this.signal=e,dr(()=>{const{status:s}=r.dragOperation;if(!s.initialized){t=null,e.value=new UC;return}const{delta:i}=r.dragOperation.position;if(t){const n={x:$C(i.x,t.x),y:$C(i.y,t.y)},o=e.peek();is(()=>{for(const l of KE)for(const u of HL)n[l]===u&&o[l].unlock(u);e.value=o})}t=i})}get current(){return this.signal.peek()}};function $C(r,e){return Math.sign(r-e)}var gV,Pv,Ed,ex,An,Iv,Jd=class extends(Pv=nm,gV=[bt],Pv){constructor(r){super(r),As(this,ex,Ss(Ed,8,this,!1)),Ss(Ed,11,this),As(this,An),As(this,Iv,()=>{if(!Rs(this,An))return;const{element:n,by:o}=Rs(this,An);o.y&&(n.scrollTop+=o.y),o.x&&(n.scrollLeft+=o.x)}),this.scroll=n=>{var o;if(this.disabled)return!1;const l=this.getScrollableElements();if(!l)return pi(this,An,void 0),!1;const{position:u}=this.manager.dragOperation,c=u==null?void 0:u.current;if(c){const{by:h}=n??{},p=h?{x:GC(h.x),y:GC(h.y)}:void 0,m=p?void 0:this.scrollIntentTracker.current;if(m!=null&&m.isLocked())return!1;for(const v of l){const f=H8(v,h);if(f.x||f.y){const{speed:b,direction:x}=tL(v,c,p);if(m)for(const g of KE)m[g].isLocked(x[g])&&(b[g]=0,x[g]=0);if(x.x||x.y){const{x:g,y}=h??x,w=g*b.x,S=y*b.y;if(w||S){const P=(o=Rs(this,An))==null?void 0:o.by;if(this.autoScrolling&&P&&(P.x&&!w||P.y&&!S))continue;return pi(this,An,{element:v,by:{x:w,y:S}}),gp.schedule(Rs(this,Iv)),!0}}}}}return pi(this,An,void 0),!1};let e=null,t=null;const s=cp(()=>{const{position:n,source:o}=r.dragOperation;if(!n)return null;const l=U4(Hi(o==null?void 0:o.element),n.current);return l&&(e=l),l??e}),i=cp(()=>{const n=s.value,{documentElement:o}=Hi(n);if(!n||n===o){const{target:l}=r.dragOperation,u=l==null?void 0:l.element;if(u){const c=bv(u,{excludeElement:!1});return t=c,c}}if(n){const l=bv(n,{excludeElement:!1});return this.autoScrolling&&t&&l.size<(t==null?void 0:t.size)?t:(t=l,l)}return t=null,null},on);this.getScrollableElements=()=>i.value,this.scrollIntentTracker=new QL(r),this.destroy=r.monitor.addEventListener("dragmove",n=>{this.disabled||n.defaultPrevented||!xd(r.dragOperation.activatorEvent)||!n.by||this.scroll({by:n.by})&&n.preventDefault()})}};Ed=Gd(Pv);ex=new WeakMap;An=new WeakMap;Iv=new WeakMap;yn(Ed,4,"autoScrolling",gV,Jd,ex);Bl(Ed,Jd);function GC(r){return r>0?Fr.Forward:r<0?Fr.Reverse:Fr.Idle}var WL=class{constructor(r){this.scheduler=r,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:e,resolvers:t}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const s of e)s();for(const s of t)s()}}schedule(r){return this.tasks.add(r),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(e=>this.resolvers.add(e))}},UL=new WL(r=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()}),$L=10,tx=class extends js{constructor(r,e){super(r);const t=r.registry.plugins.get(Jd);if(!t)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=dr(()=>{if(this.disabled)return;const{position:s,status:i}=r.dragOperation;if(i.dragging)if(t.scroll()){t.autoScrolling=!0;const o=setInterval(()=>UL.schedule(t.scroll),$L);return()=>{clearInterval(o)}}else t.autoScrolling=!1})}},ZC={capture:!0,passive:!0},Tu,GL=class extends nm{constructor(r){super(r),As(this,Tu),this.handleScroll=()=>{Rs(this,Tu)==null&&pi(this,Tu,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),pi(this,Tu,void 0)},50))};const{dragOperation:e}=this.manager;this.destroy=dr(()=>{var t,s,i;if(e.status.dragging){const o=(i=(s=(t=e.source)==null?void 0:t.element)==null?void 0:s.ownerDocument)!=null?i:document;return o.addEventListener("scroll",this.handleScroll,ZC),()=>{o.removeEventListener("scroll",this.handleScroll,ZC)}}})}};Tu=new WeakMap;var ZL=class extends js{constructor(r,e){super(r,e),this.manager=r,this.destroy=dr(()=>{var t;const{dragOperation:s}=this.manager,{nonce:i}=(t=this.options)!=null?t:{};if(s.status.initialized){const n=document.createElement("style");return i&&n.setAttribute("nonce",i),n.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild(n),Rg(),document.addEventListener("selectionchange",Rg,{capture:!0}),()=>{document.removeEventListener("selectionchange",Rg,{capture:!0}),n.remove()}}})}};function Rg(){var r;(r=document.getSelection())==null||r.removeAllRanges()}var ku=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(r){var e;const{event:t,source:s}=r,i=(e=s.handle)!=null?e:s.element;return t.target===i}}),Na,bp=class extends ml{constructor(e,t){super(e),this.manager=e,this.options=t,As(this,Na,[]),this.listeners=new $4,this.handleSourceKeyDown=(s,i,n)=>{if(this.disabled||s.defaultPrevented||!Ol(s.target)||i.disabled)return;const{keyboardCodes:o=ku.keyboardCodes,shouldActivate:l=ku.shouldActivate}=n??{};o.start.includes(s.code)&&this.manager.dragOperation.status.idle&&l({event:s,source:i,manager:this.manager})&&this.handleStart(s,i,n)}}bind(e,t=this.options){return dr(()=>{var i;const n=(i=e.handle)!=null?i:e.element,o=l=>{xd(l)&&this.handleSourceKeyDown(l,e,t)};if(n)return n.addEventListener("keydown",o),()=>{n.removeEventListener("keydown",o)}})}handleStart(e,t,s){const{element:i}=t;if(!i)throw new Error("Source draggable does not have an associated element");e.preventDefault(),e.stopImmediatePropagation(),eV(i);const{center:n}=new si(i);if(this.manager.actions.start({event:e,coordinates:{x:n.x,y:n.y},source:t}).signal.aborted)return this.cleanup();this.sideEffects();const l=Hi(i),u=[this.listeners.bind(l,[{type:"keydown",listener:c=>this.handleKeyDown(c,t,s),options:{capture:!0}}])];Rs(this,Na).push(...u)}handleKeyDown(e,t,s){const{keyboardCodes:i=ku.keyboardCodes}=s??{};if(Ca(e,[...i.end,...i.cancel])){e.preventDefault();const n=Ca(e,i.cancel);this.handleEnd(e,n);return}Ca(e,i.up)?this.handleMove("up",e):Ca(e,i.down)&&this.handleMove("down",e),Ca(e,i.left)?this.handleMove("left",e):Ca(e,i.right)&&this.handleMove("right",e)}handleEnd(e,t){this.manager.actions.stop({event:e,canceled:t}),this.cleanup()}handleMove(e,t){var s,i;const{shape:n}=this.manager.dragOperation,o=t.shiftKey?5:1;let l={x:0,y:0},u=(i=(s=this.options)==null?void 0:s.offset)!=null?i:ku.offset;if(typeof u=="number"&&(u={x:u,y:u}),!!n){switch(e){case"up":l={x:0,y:-u.y*o};break;case"down":l={x:0,y:u.y*o};break;case"left":l={x:-u.x*o,y:0};break;case"right":l={x:u.x*o,y:0};break}(l.x||l.y)&&(t.preventDefault(),this.manager.actions.move({event:t,by:l}))}}sideEffects(){const e=this.manager.registry.plugins.get(tx);(e==null?void 0:e.disabled)===!1&&(e.disable(),Rs(this,Na).push(()=>{e.enable()}))}cleanup(){Rs(this,Na).forEach(e=>e()),pi(this,Na,[])}destroy(){this.cleanup(),this.listeners.clear()}};Na=new WeakMap;bp.configure=w0(bp);bp.defaults=ku;var JL=bp;function Ca(r,e){return e.includes(r.code)}var fV=Object.freeze({activationConstraints(r,e){var t;const{pointerType:s,target:i}=r;if(!(s==="mouse"&&Ol(i)&&(e.handle===i||(t=e.handle)!=null&&t.contains(i))))return s==="touch"?{delay:{value:250,tolerance:5}}:hL(i)&&!r.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),Ra,La,Cp=class extends ml{constructor(e,t){super(e),this.manager=e,this.options=t,As(this,Ra,new Set),As(this,La),this.listeners=new $4,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:s,coordinates:i}=this.latest;!s||!i||this.manager.actions.move({event:s,to:i})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(e,t){var s;const{activationConstraints:i=fV.activationConstraints}=(s=this.options)!=null?s:{};return typeof i=="function"?i(e,t):i}bind(e,t=this.options){return dr(()=>{var i;const n=new AbortController,{signal:o}=n,l=c=>{cL(c)&&this.handlePointerDown(c,e,t)};let u=[(i=e.handle)!=null?i:e.element];t!=null&&t.activatorElements&&(Array.isArray(t.activatorElements)?u=t.activatorElements:u=t.activatorElements(e));for(const c of u)c&&(XL(c.ownerDocument.defaultView),c.addEventListener("pointerdown",l,{signal:o}));return()=>n.abort()})}handlePointerDown(e,t,s={}){if(this.disabled||!e.isPrimary||e.button!==0||!Ol(e.target)||t.disabled||KL(e)||!this.manager.dragOperation.status.idle)return;const{target:i}=e,n=sa(i)&&i.draggable&&i.getAttribute("draggable")==="true",o=fl(t.element);this.initialCoordinates={x:e.clientX*o.scaleX+o.x,y:e.clientY*o.scaleY+o.y};const l=this.activationConstraints(e,t);if(e.sensor=this,!(l!=null&&l.delay)&&!(l!=null&&l.distance))this.handleStart(t,e);else{const{delay:p}=l;if(p){const m=setTimeout(()=>this.handleStart(t,e),p.value);pi(this,La,()=>{clearTimeout(m),pi(this,La,void 0)})}}const u=Hi(e.target),c=this.listeners.bind(u,[{type:"pointermove",listener:p=>this.handlePointerMove(p,t)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:n?this.handleCancel:Fc,options:{capture:!0}}]),h=()=>{var p;c(),(p=Rs(this,La))==null||p.call(this),this.initialCoordinates=void 0};Rs(this,Ra).add(h)}handlePointerMove(e,t){const s={x:e.clientX,y:e.clientY},i=fl(t.element);if(s.x=s.x*i.scaleX+i.x,s.y=s.y*i.scaleY+i.y,this.manager.dragOperation.status.dragging){e.preventDefault(),e.stopPropagation(),this.latest.event=e,this.latest.coordinates=s,gp.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const n={x:s.x-this.initialCoordinates.x,y:s.y-this.initialCoordinates.y},o=this.activationConstraints(e,t),{distance:l,delay:u}=o??{};if(l){if(l.tolerance!=null&&Tg(n,l.tolerance))return this.handleCancel(e);if(Tg(n,l.value))return this.handleStart(t,e)}if(u&&Tg(n,u.tolerance))return this.handleCancel(e)}handlePointerUp(e){const{status:t}=this.manager.dragOperation;if(!t.idle){e.preventDefault(),e.stopPropagation();const s=!t.initialized;this.manager.actions.stop({event:e,canceled:s})}this.cleanup()}handleKeyDown(e){e.key==="Escape"&&(e.preventDefault(),this.handleCancel(e))}handleStart(e,t){var s;const{manager:i,initialCoordinates:n}=this;if((s=Rs(this,La))==null||s.call(this),!n||!i.dragOperation.status.idle||t.defaultPrevented)return;if(i.actions.start({coordinates:n,event:t,source:e}).signal.aborted)return this.cleanup();t.preventDefault();const l=Hi(t.target),u=l.body;u.setPointerCapture(t.pointerId);const c=this.listeners.bind(l,[{type:"touchmove",listener:Fc,options:{passive:!1}},{type:"click",listener:Fc},{type:"contextmenu",listener:Fc},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:h=>{h.target===u&&this.handlePointerUp(h)}}]);Rs(this,Ra).add(c)}handleCancel(e){const{dragOperation:t}=this.manager;t.status.initialized&&this.manager.actions.stop({event:e,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},Rs(this,Ra).forEach(e=>e()),Rs(this,Ra).clear()}destroy(){this.cleanup(),this.listeners.clear()}};Ra=new WeakMap;La=new WeakMap;Cp.configure=w0(Cp);Cp.defaults=fV;var vV=Cp;function KL(r){return"sensor"in r}function Fc(r){r.preventDefault()}function YL(){}var JC=new WeakSet;function XL(r){!r||JC.has(r)||(r.addEventListener("touchmove",YL,{capture:!1,passive:!1}),JC.add(r))}var Zo={modifiers:[],plugins:[RL,tx,AL,qL,ZL],sensors:[vV,JL]},yV=class extends I8{constructor(r={}){const{plugins:e=Zo.plugins,sensors:t=Zo.sensors,modifiers:s=[]}=r;super(Z0(bd({},r),{plugins:[GL,Jd,...e],sensors:t,modifiers:s}))}},xV,bV,CV,Tv,ni,sx,rx,ix,ql=class extends(Tv=qi,CV=[bt],bV=[bt],xV=[bt],Tv){constructor(r,e){var t=r,{element:s,effects:i=()=>[],handle:n,feedback:o="default"}=t,l=oV(t,["element","effects","handle","feedback"]);super(bd({effects:()=>[...i(),()=>{var u,c;const{manager:h}=this;if(!h)return;const m=((c=(u=this.sensors)==null?void 0:u.map(S0))!=null?c:[...h.sensors]).map(v=>{const f=v instanceof ml?v:h.registry.register(v.plugin),b=v instanceof ml?void 0:v.options;return f.bind(this,b)});return function(){m.forEach(f=>f())}}]},l),e),As(this,sx,Ss(ni,8,this)),Ss(ni,11,this),As(this,rx,Ss(ni,12,this)),Ss(ni,15,this),As(this,ix,Ss(ni,16,this)),Ss(ni,19,this),this.element=s,this.handle=n,this.feedback=o}};ni=Gd(Tv);sx=new WeakMap;rx=new WeakMap;ix=new WeakMap;yn(ni,4,"handle",CV,ql,sx);yn(ni,4,"element",bV,ql,rx);yn(ni,4,"feedback",xV,ql,ix);Bl(ni,ql);var wV,SV,kv,$n,nx,Lg,EV,VV,Zu,ox,lm=class extends(kv=zi,SV=[bt],wV=[bt],kv){constructor(r,e){var t=r,{element:s,effects:i=()=>[]}=t,n=oV(t,["element","effects"]);const{collisionDetector:o=sV}=n,l=c=>{const{manager:h,element:p}=this;if(!p||c===null){this.shape=void 0;return}if(!h)return;const m=new si(p),v=Lt(()=>this.shape);return m&&(v!=null&&v.equals(m))?v:(this.shape=m,m)},u=Wd(!1);super(Z0(bd({},n),{collisionDetector:o,effects:()=>[...i(),()=>{const{element:c,manager:h}=this;if(!h)return;const{dragOperation:p}=h,{source:m}=p;u.value=!!(m&&p.status.initialized&&c&&!this.disabled&&this.accepts(m))},()=>{const{element:c}=this;if(u.value&&c){const h=new z8(c,l);return()=>{h.disconnect(),this.shape=void 0}}},()=>{var c;if((c=this.manager)!=null&&c.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),e),As(this,Zu),As(this,nx,Ss($n,8,this)),Ss($n,11,this),As(this,ox,Ss($n,12,this)),Ss($n,15,this),this.element=s,this.refreshShape=()=>l()}set element(r){pi(this,Zu,r,VV)}get element(){var r;return(r=this.proxy)!=null?r:Rs(this,Zu,EV)}};$n=Gd(kv);nx=new WeakMap;Zu=new WeakSet;ox=new WeakMap;Lg=yn($n,20,"#element",SV,Zu,nx),EV=Lg.get,VV=Lg.set;yn($n,4,"proxy",wV,lm,ox);Bl($n,lm);function eA(r){return r!=null&&typeof r=="object"&&"current"in r}function oo(r){var e;if(r!=null)return eA(r)?(e=r.current)!=null?e:void 0:r}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zl=tA?d.useLayoutEffect:d.useEffect;function sA(){const r=d.useState(0)[1];return d.useCallback(()=>{r(e=>e+1)},[r])}function ax(r,e){const t=d.useRef(new Map),s=sA();return zl(()=>{if(!r){t.current.clear();return}return dr(()=>{var i;let n=!1,o=!1;for(const l of t.current){const[u]=l,c=Lt(()=>l[1]),h=r[u];c!==h&&(n=!0,t.current.set(u,h),o=(i=e==null?void 0:e(u,c,h))!=null?i:!1)}n&&(o?cn.flushSync(s):s())})},[r]),d.useMemo(()=>r&&new Proxy(r,{get(i,n){const o=i[n];return t.current.set(n,o),o}}),[r])}function rA(r,e){r()}function wa(r){const e=d.useRef(r);return zl(()=>{e.current=r},[r]),e}function Tt(r,e,t=d.useEffect,s=Object.is){const i=d.useRef(r);t(()=>{const n=i.current;s(r,n)||(i.current=r,e(r,n))},[e,r])}function tl(r,e){const t=d.useRef(oo(r));zl(()=>{const s=oo(r);s!==t.current&&(t.current=s,e(s))})}var iA=Object.defineProperty,nA=Object.defineProperties,oA=Object.getOwnPropertyDescriptors,wp=Object.getOwnPropertySymbols,PV=Object.prototype.hasOwnProperty,IV=Object.prototype.propertyIsEnumerable,KC=(r,e,t)=>e in r?iA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,TV=(r,e)=>{for(var t in e||(e={}))PV.call(e,t)&&KC(r,t,e[t]);if(wp)for(var t of wp(e))IV.call(e,t)&&KC(r,t,e[t]);return r},kV=(r,e)=>nA(r,oA(e)),aA=(r,e)=>{var t={};for(var s in r)PV.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&wp)for(var s of wp(r))e.indexOf(s)<0&&IV.call(r,s)&&(t[s]=r[s]);return t},lA=new yV,NV=d.createContext(lA),uA=d.memo(d.forwardRef(({children:r},e)=>{const[t,s]=d.useState(0),i=d.useRef(null),n=d.useRef(null),o=d.useMemo(()=>({renderer:{get rendering(){var l;return(l=i.current)!=null?l:Promise.resolve()}},trackRendering(l){i.current||(i.current=new Promise(u=>{n.current=u})),d.startTransition(()=>{l(),s(u=>u+1)})}}),[]);return zl(()=>{var l;(l=n.current)==null||l.call(n),i.current=null},[r,t]),d.useImperativeHandle(e,()=>o),null})),Ag=[void 0,on];function RV(r){var e=r,{children:t,onCollision:s,onBeforeDragStart:i,onDragStart:n,onDragMove:o,onDragOver:l,onDragEnd:u}=e,c=aA(e,["children","onCollision","onBeforeDragStart","onDragStart","onDragMove","onDragOver","onDragEnd"]),h;const p=d.useRef(null),[m,v]=d.useState((h=c.manager)!=null?h:null),{plugins:f,modifiers:b,sensors:x}=c,g=wa(i),y=wa(n),w=wa(l),S=wa(o),P=wa(u),V=wa(s);return d.useEffect(()=>{var I;if(!p.current)throw new Error("Renderer not found");const{renderer:E,trackRendering:R}=p.current,C=(I=c.manager)!=null?I:new yV(c);return C.renderer=E,C.monitor.addEventListener("beforedragstart",k=>{const L=g.current;L&&R(()=>L(k,C))}),C.monitor.addEventListener("dragstart",k=>{var L;return(L=y.current)==null?void 0:L.call(y,k,C)}),C.monitor.addEventListener("dragover",k=>{const L=w.current;L&&R(()=>L(k,C))}),C.monitor.addEventListener("dragmove",k=>{const L=S.current;L&&R(()=>L(k,C))}),C.monitor.addEventListener("dragend",k=>{const L=P.current;L&&R(()=>L(k,C))}),C.monitor.addEventListener("collision",k=>{var L;return(L=V.current)==null?void 0:L.call(V,k,C)}),d.startTransition(()=>v(C)),C.destroy},[c.manager]),Tt(f,()=>m&&(m.plugins=f??Zo.plugins),...Ag),Tt(x,()=>m&&(m.sensors=x??Zo.sensors),...Ag),Tt(b,()=>m&&(m.modifiers=b??Zo.modifiers),...Ag),a.jsxs(NV.Provider,{value:m,children:[a.jsx(uA,{ref:p,children:t}),t]})}function LV(){return d.useContext(NV)}function lx(r){var e;const t=(e=LV())!=null?e:void 0,[s]=d.useState(()=>r(t));return s.manager!==t&&(s.manager=t),zl(s.register,[t,s]),s}function dA(r){const{disabled:e,data:t,element:s,handle:i,id:n,modifiers:o,sensors:l}=r,u=lx(h=>new ql(kV(TV({},r),{register:!1,handle:oo(i),element:oo(s)}),h)),c=ax(u,cA);return Tt(n,()=>u.id=n),tl(i,h=>u.handle=h),tl(s,h=>u.element=h),Tt(t,()=>t&&(u.data=t)),Tt(e,()=>u.disabled=e===!0),Tt(l,()=>u.sensors=l),Tt(o,()=>u.modifiers=o,void 0,on),Tt(r.feedback,()=>{var h;return u.feedback=(h=r.feedback)!=null?h:"default"}),Tt(r.alignment,()=>u.alignment=r.alignment),{draggable:c,get isDragging(){return c.isDragging},get isDropping(){return c.isDropping},get isDragSource(){return c.isDragSource},handleRef:d.useCallback(h=>{u.handle=h??void 0},[u]),ref:d.useCallback(h=>{var p,m;!h&&((p=u.element)!=null&&p.isConnected)&&!((m=u.manager)!=null&&m.dragOperation.status.idle)||(u.element=h??void 0)},[u])}}function cA(r,e,t){return!!(r==="isDragSource"&&!t&&e)}var hA=Object.create,AV=Object.defineProperty,pA=Object.getOwnPropertyDescriptor,DV=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),um=r=>{throw TypeError(r)},mA=(r,e,t)=>e in r?AV(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gA=r=>{var e;return[,,,hA((e=r==null?void 0:r[DV("metadata")])!=null?e:null)]},MV=["class","method","getter","setter","accessor","field","value","get","set"],jV=r=>r!==void 0&&typeof r!="function"?um("Function expected"):r,fA=(r,e,t,s,i)=>({kind:MV[r],name:e,metadata:s,addInitializer:n=>t._?um("Already initialized"):i.push(jV(n||null))}),vA=(r,e)=>mA(e,DV("metadata"),r[3]),yA=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)n[i].call(t);return s},_V=(r,e,t,s,i,n)=>{for(var o,l,u,c,h=e&7,p=!1,m=!1,v=2,f=MV[h+5],b=r[v]||(r[v]=[]),x=(i=i.prototype,pA(i,t)),g=s.length-1;g>=0;g--)u=fA(h,t,l={},r[3],b),u.static=p,u.private=m,c=u.access={has:y=>t in y},c.get=y=>y[t],o=(0,s[g])(x[f],u),l._=1,jV(o)&&(x[f]=o);return x&&AV(i,t,x),i},OV=(r,e,t)=>e.has(r)||um("Cannot "+t),xA=(r,e,t)=>(OV(r,e,"read from private field"),e.get(r)),bA=(r,e,t)=>e.has(r)?um("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),CA=(r,e,t,s)=>(OV(r,e,"write to private field"),e.set(r,t),t),Fo=class Nv{constructor(e,t){this.x=e,this.y=t}static delta(e,t){return new Nv(e.x-t.x,e.y-t.y)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static equals(e,t){return e.x===t.x&&e.y===t.y}static from({x:e,y:t}){return new Nv(e,t)}},FV,BV,Rv,Eh,Kd,ux=class extends(Rv=ca,BV=[ws],FV=[ws],Rv){constructor(r){const e=Fo.from(r);super(e,(t,s)=>Fo.equals(t,s)),yA(Kd,5,this),bA(this,Eh,0),this.velocity={x:0,y:0}}get delta(){return Fo.delta(this.current,this.initial)}get direction(){const{current:r,previous:e}=this;if(!e)return null;const t={x:r.x-e.x,y:r.y-e.y};return!t.x&&!t.y?null:Math.abs(t.x)>Math.abs(t.y)?t.x>0?"right":"left":t.y>0?"down":"up"}get current(){return super.current}set current(r){const{current:e}=this,t=Fo.from(r),s={x:t.x-e.x,y:t.y-e.y},i=Date.now(),n=i-xA(this,Eh),o=l=>Math.round(l/n*100);is(()=>{CA(this,Eh,i),this.velocity={x:o(s.x),y:o(s.y)},super.current=t})}reset(r=this.defaultValue){super.reset(Fo.from(r)),this.velocity={x:0,y:0}}};Kd=gA(Rv);Eh=new WeakMap;_V(Kd,2,"delta",BV,ux);_V(Kd,2,"direction",FV,ux);vA(Kd,ux);var qV=(r=>(r.Horizontal="x",r.Vertical="y",r))(qV||{});Object.values(qV);var wA=({dragOperation:r,droppable:e})=>{const t=r.position.current;if(!t)return null;const{id:s}=e;if(!e.shape)return null;if(e.shape.containsPoint(t)){const i=Fo.distance(e.shape.center,t);return{id:s,value:1/i,type:Wi.PointerIntersection,priority:Or.High}}return null},SA=({dragOperation:r,droppable:e})=>{const{shape:t}=r;if(!e.shape||!(t!=null&&t.current))return null;const s=t.current.intersectionArea(e.shape);if(s){const{position:i}=r,n=Fo.distance(e.shape.center,i.current),l=s/(t.current.area+e.shape.area-s)/n;return{id:e.id,value:l,type:Wi.ShapeIntersection,priority:Or.Normal}}return null},EA=r=>{var e;return(e=wA(r))!=null?e:SA(r)};function zV(r){const{collisionDetector:e,data:t,disabled:s,element:i,id:n,accept:o,type:l}=r,u=lx(h=>new lm(kV(TV({},r),{register:!1,element:oo(i)}),h)),c=ax(u);return Tt(n,()=>u.id=n),tl(i,h=>u.element=h),Tt(o,()=>u.accept=o,void 0,on),Tt(e,()=>u.collisionDetector=e??EA),Tt(t,()=>t&&(u.data=t)),Tt(s,()=>u.disabled=s===!0),Tt(l,()=>u.type=l),{droppable:c,get isDropTarget(){return c.isDropTarget},ref:d.useCallback(h=>{var p,m;!h&&((p=u.element)!=null&&p.isConnected)&&!((m=u.manager)!=null&&m.dragOperation.status.idle)||(u.element=h??void 0)},[u])}}var VA=Object.create,HV=Object.defineProperty,PA=Object.defineProperties,IA=Object.getOwnPropertyDescriptor,TA=Object.getOwnPropertyDescriptors,Sp=Object.getOwnPropertySymbols,QV=Object.prototype.hasOwnProperty,WV=Object.prototype.propertyIsEnumerable,kA=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),Yd=r=>{throw TypeError(r)},Lv=(r,e,t)=>e in r?HV(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NA=(r,e)=>{for(var t in e||(e={}))QV.call(e,t)&&Lv(r,t,e[t]);if(Sp)for(var t of Sp(e))WV.call(e,t)&&Lv(r,t,e[t]);return r},RA=(r,e)=>PA(r,TA(e)),LA=(r,e)=>{var t={};for(var s in r)QV.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&Sp)for(var s of Sp(r))e.indexOf(s)<0&&WV.call(r,s)&&(t[s]=r[s]);return t},AA=r=>{var e;return[,,,VA((e=void 0)!=null?e:null)]},UV=["class","method","getter","setter","accessor","field","value","get","set"],Nu=r=>r!==void 0&&typeof r!="function"?Yd("Function expected"):r,DA=(r,e,t,s,i)=>({kind:UV[r],name:e,metadata:s,addInitializer:n=>t._?Yd("Already initialized"):i.push(Nu(n||null))}),MA=(r,e)=>Lv(e,kA("metadata"),r[3]),Bc=(r,e,t,s)=>{for(var i=0,n=r[e>>1],o=n&&n.length;i<o;i++)e&1?n[i].call(t):s=n[i].call(t,s);return s},$V=(r,e,t,s,i,n)=>{for(var o,l,u,c,h,p=e&7,m=!1,v=!1,f=r.length+1,b=UV[p+5],x=r[f-1]=[],g=r[f]||(r[f]=[]),y=(i=i.prototype,IA({get[t](){return Ru(this,n)},set[t](S){return _o(this,n,S)}},t)),w=s.length-1;w>=0;w--)c=DA(p,t,u={},r[3],g),c.static=m,c.private=v,h=c.access={has:S=>t in S},h.get=S=>S[t],h.set=(S,P)=>S[t]=P,l=(0,s[w])({get:y.get,set:y.set},c),u._=1,l===void 0?Nu(l)&&(y[b]=l):typeof l!="object"||l===null?Yd("Object expected"):(Nu(o=l.get)&&(y.get=o),Nu(o=l.set)&&(y.set=o),Nu(o=l.init)&&x.unshift(o));return y&&HV(i,t,y),i},GV=(r,e,t)=>e.has(r)||Yd("Cannot "+t),Ru=(r,e,t)=>(GV(r,e,"read from private field"),e.get(r)),du=(r,e,t)=>e.has(r)?Yd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),_o=(r,e,t,s)=>(GV(r,e,"write to private field"),e.set(r,t),t);function Qo(r){return r instanceof hx||r instanceof YV}var qc=10,jA=class extends js{constructor(r){super(r);const e=dr(()=>{const{dragOperation:s}=r;if(xd(s.activatorEvent)&&Qo(s.source)&&s.status.initialized){const i=r.registry.plugins.get(Jd);if(i)return i.disable(),()=>i.enable()}}),t=r.monitor.addEventListener("dragmove",(s,i)=>{queueMicrotask(()=>{if(this.disabled||s.defaultPrevented||!s.nativeEvent)return;const{dragOperation:n}=i;if(!xd(s.nativeEvent)||!Qo(n.source)||!n.shape)return;const{actions:o,collisionObserver:l,registry:u}=i,{by:c}=s;if(!c)return;const h=_A(c),{source:p,target:m}=n,{center:v}=n.shape.current,f=[],b=[];is(()=>{for(const P of u.droppables){const{id:V}=P;if(!P.accepts(p)||V===(m==null?void 0:m.id)&&Qo(P)||!P.element)continue;let I=P.shape;const E=new si(P.element,{getBoundingClientRect:R=>vd(R,void 0,.2)});!E.height||!E.width||(h=="down"&&v.y+qc<E.center.y||h=="up"&&v.y-qc>E.center.y||h=="left"&&v.x-qc>E.center.x||h=="right"&&v.x+qc<E.center.x)&&(f.push(P),P.shape=E,b.push(()=>P.shape=I))}}),s.preventDefault(),l.disable();const x=l.computeCollisions(f,fL);is(()=>b.forEach(P=>P()));const[g]=x;if(!g)return;const{id:y}=g,{index:w,group:S}=p.sortable;o.setDropTarget(y).then(()=>{const{source:P,target:V,shape:I}=n;if(!P||!Qo(P)||!I)return;const{index:E,group:R,target:C}=P.sortable,k=w!==E||S!==R,L=k?C:V==null?void 0:V.element;if(!L)return;eV(L);const D=new si(L);if(!D)return;const q=yi.delta(D,yi.from(I.current.boundingRectangle),P.alignment);o.move({by:q}),k?o.setDropTarget(P.id).then(()=>l.enable()):l.enable()})})});this.destroy=()=>{t(),e()}}};function _A(r){const{x:e,y:t}=r;if(e>0)return"right";if(e<0)return"left";if(t>0)return"down";if(t<0)return"up"}var OA=Object.defineProperty,FA=Object.defineProperties,BA=Object.getOwnPropertyDescriptors,YC=Object.getOwnPropertySymbols,qA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,XC=(r,e,t)=>e in r?OA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ew=(r,e)=>{for(var t in e||(e={}))qA.call(e,t)&&XC(r,t,e[t]);if(YC)for(var t of YC(e))zA.call(e,t)&&XC(r,t,e[t]);return r},tw=(r,e)=>FA(r,BA(e));function HA(r,e,t){if(e===t)return r;const s=r.slice();return s.splice(t,0,s.splice(e,1)[0]),s}function QA(r,e,t){var s,i;const{source:n,target:o,canceled:l}=e.operation;if(!n||!o||l)return"preventDefault"in e&&e.preventDefault(),r;const u=(w,S)=>w===S||typeof w=="object"&&"id"in w&&w.id===S;if(Array.isArray(r)){const w=r.findIndex(P=>u(P,n.id)),S=r.findIndex(P=>u(P,o.id));if(w===-1||S===-1)return r;if(!l&&"index"in n&&typeof n.index=="number"){const P=n.index;if(P!==w)return t(r,w,P)}return t(r,w,S)}const c=Object.entries(r);let h=-1,p,m=-1,v;for(const[w,S]of c)if(h===-1&&(h=S.findIndex(P=>u(P,n.id)),h!==-1&&(p=w)),m===-1&&(m=S.findIndex(P=>u(P,o.id)),m!==-1&&(v=w)),h!==-1&&m!==-1)break;if(!n.manager)return r;const{dragOperation:f}=n.manager,b=(i=(s=f.shape)==null?void 0:s.current.center)!=null?i:f.position.current;if(v==null&&o.id in r){const w=o.shape&&b.y>o.shape.center.y?r[o.id].length:0;v=o.id,m=w}if(p==null||v==null||p===v&&h===m)return"preventDefault"in e&&e.preventDefault(),r;if(p===v)return tw(ew({},r),{[p]:t(r[p],h,m)});const g=o.shape&&Math.round(b.y)>Math.round(o.shape.center.y)?1:0,y=r[p][h];return tw(ew({},r),{[p]:[...r[p].slice(0,h),...r[p].slice(h+1)],[v]:[...r[v].slice(0,m+g),y,...r[v].slice(m+g)]})}function WA(r,e){return QA(r,e,HA)}var sw="__default__",UA=class extends js{constructor(r){super(r);const e=()=>{const s=new Map;for(const i of r.registry.droppables)if(i instanceof hx){const{sortable:n}=i,{group:o}=n;let l=s.get(o);l||(l=new Set,s.set(o,l)),l.add(n)}for(const[i,n]of s)s.set(i,new Set(zc(n)));return s},t=[r.monitor.addEventListener("dragover",(s,i)=>{if(this.disabled)return;const{dragOperation:n}=i,{source:o,target:l}=n;if(!Qo(o)||!Qo(l)||o.sortable===l.sortable)return;const u=e(),c=o.sortable.group===l.sortable.group,h=u.get(o.sortable.group),p=c?h:u.get(l.sortable.group);!h||!p||queueMicrotask(()=>{s.defaultPrevented||i.renderer.rendering.then(()=>{var m,v,f;const b=e();for(const[C,k]of u.entries()){const L=Array.from(k).entries();for(const[D,q]of L)if(q.index!==D||q.group!==C||!((m=b.get(C))!=null&&m.has(q)))return}const x=o.sortable.element,g=l.sortable.element;if(!g||!x||!c&&l.id===o.sortable.group)return;const y=zc(h),w=c?y:zc(p),S=(v=o.sortable.group)!=null?v:sw,P=(f=l.sortable.group)!=null?f:sw,V={[S]:y,[P]:w},I=WA(V,s);if(V===I)return;const E=I[P].indexOf(o.sortable),R=I[P].indexOf(l.sortable);i.collisionObserver.disable(),rw(x,E,g,R),is(()=>{for(const[C,k]of I[S].entries())k.index=C;if(!c)for(const[C,k]of I[P].entries())k.group=l.sortable.group,k.index=C}),i.actions.setDropTarget(o.id).then(()=>i.collisionObserver.enable())})})}),r.monitor.addEventListener("dragend",(s,i)=>{if(!s.canceled)return;const{dragOperation:n}=i,{source:o}=n;Qo(o)&&(o.sortable.initialIndex===o.sortable.index&&o.sortable.initialGroup===o.sortable.group||queueMicrotask(()=>{const l=e(),u=l.get(o.sortable.initialGroup);u&&i.renderer.rendering.then(()=>{for(const[v,f]of l.entries()){const b=Array.from(f).entries();for(const[x,g]of b)if(g.index!==x||g.group!==v)return}const c=zc(u),h=o.sortable.element,p=c[o.sortable.initialIndex],m=p==null?void 0:p.element;!p||!m||!h||(rw(h,p.index,m,o.index),is(()=>{for(const[v,f]of l.entries()){const b=Array.from(f).values();for(const x of b)x.index=x.initialIndex,x.group=x.initialGroup}}))})}))})];this.destroy=()=>{for(const s of t)s()}}};function rw(r,e,t,s){const i=s<e?"afterend":"beforebegin";t.insertAdjacentElement(i,r)}function $A(r,e){return r.index-e.index}function zc(r){return Array.from(r).sort($A)}var GA=[jA,UA],ZV={duration:250,easing:"cubic-bezier(0.25, 1, 0.5, 1)",idle:!1},Hc=new Y9,JV,KV,Gn,dx,Lu,Au,cx,Aa;KV=[bt],JV=[bt];var dm=class{constructor(r,e){du(this,dx,Bc(Gn,8,this)),Bc(Gn,11,this),du(this,Lu),du(this,Au),du(this,cx,Bc(Gn,12,this)),Bc(Gn,15,this),du(this,Aa),this.register=()=>(is(()=>{var p,m;(p=this.manager)==null||p.registry.register(this.droppable),(m=this.manager)==null||m.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{is(()=>{var p,m;(p=this.manager)==null||p.registry.unregister(this.droppable),(m=this.manager)==null||m.registry.unregister(this.draggable)})},this.destroy=()=>{is(()=>{this.droppable.destroy(),this.draggable.destroy()})};var t=r,{effects:s=()=>[],group:i,index:n,sensors:o,type:l,transition:u=ZV,plugins:c=GA}=t,h=LA(t,["effects","group","index","sensors","type","transition","plugins"]);this.droppable=new hx(h,e,this),this.draggable=new YV(RA(NA({},h),{effects:()=>[()=>{var p,m,v;const f=(p=this.manager)==null?void 0:p.dragOperation.status;f!=null&&f.initializing&&this.id===((v=(m=this.manager)==null?void 0:m.dragOperation.source)==null?void 0:v.id)&&Hc.clear(this.manager),f!=null&&f.dragging&&Hc.set(this.manager,this.id,Lt(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{const{index:p,group:m,manager:v}=this,f=Ru(this,Au),b=Ru(this,Lu);(p!==f||m!==b)&&(_o(this,Au,p),_o(this,Lu,m),this.animate())},()=>{const{target:p}=this,{feedback:m,isDragSource:v}=this.draggable;m=="move"&&v&&(this.droppable.disabled=!p)},()=>{const{manager:p}=this;for(const m of c)p==null||p.registry.register(m)},...s()],type:l,sensors:o}),e,this),_o(this,Aa,h.element),this.manager=e,this.index=n,_o(this,Au,n),this.group=i,_o(this,Lu,i),this.type=l,this.transition=u}get initialIndex(){var r,e;return(e=(r=Hc.get(this.manager,this.id))==null?void 0:r.initialIndex)!=null?e:this.index}get initialGroup(){var r,e;return(e=(r=Hc.get(this.manager,this.id))==null?void 0:r.initialGroup)!=null?e:this.group}animate(){Lt(()=>{const{manager:r,transition:e}=this,{shape:t}=this.droppable;if(!r)return;const{idle:s}=r.dragOperation.status;!t||!e||s&&!e.idle||r.renderer.rendering.then(()=>{const{element:i}=this;if(!i)return;const n=this.refreshShape();if(!n)return;const o={x:t.boundingRectangle.left-n.boundingRectangle.left,y:t.boundingRectangle.top-n.boundingRectangle.top},{translate:l}=xi(i),u=BC(i,l,!1),c=BC(i,l);(o.x||o.y)&&tV({element:i,keyframes:{translate:[`${u.x+o.x}px ${u.y+o.y}px ${u.z}`,`${c.x}px ${c.y}px ${c.z}`]},options:e}).then(()=>{r.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(r){is(()=>{this.draggable.manager=r,this.droppable.manager=r})}set element(r){is(()=>{const e=Ru(this,Aa),t=this.droppable.element,s=this.draggable.element;(!t||t===e)&&(this.droppable.element=r),(!s||s===e)&&(this.draggable.element=r),_o(this,Aa,r)})}get element(){var r,e;const t=Ru(this,Aa);if(t)return(e=(r=vv.get(t))!=null?r:t)!=null?e:this.droppable.element}set target(r){this.droppable.element=r}get target(){return this.droppable.element}set source(r){this.draggable.element=r}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(r){this.draggable.feedback=r}set disabled(r){is(()=>{this.droppable.disabled=r,this.draggable.disabled=r})}set data(r){is(()=>{this.droppable.data=r,this.draggable.data=r})}set handle(r){this.draggable.handle=r}set id(r){is(()=>{this.droppable.id=r,this.draggable.id=r})}get id(){return this.droppable.id}set sensors(r){this.draggable.sensors=r}set modifiers(r){this.draggable.modifiers=r}set collisionPriority(r){this.droppable.collisionPriority=r}set collisionDetector(r){this.droppable.collisionDetector=r??sV}set alignment(r){this.draggable.alignment=r}get alignment(){return this.draggable.alignment}set type(r){is(()=>{this.droppable.type=r,this.draggable.type=r})}get type(){return this.draggable.type}set accept(r){this.droppable.accept=r}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(r){return this.droppable.accepts(r)}};Gn=AA();dx=new WeakMap;Lu=new WeakMap;Au=new WeakMap;cx=new WeakMap;Aa=new WeakMap;$V(Gn,4,"index",KV,dm,dx);$V(Gn,4,"group",JV,dm,cx);MA(Gn,dm);var YV=class extends ql{constructor(r,e,t){super(r,e),this.sortable=t}get index(){return this.sortable.index}},hx=class extends lm{constructor(r,e,t){super(r,e),this.sortable=t}},ZA=Object.defineProperty,JA=Object.defineProperties,KA=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,YA=Object.prototype.hasOwnProperty,XA=Object.prototype.propertyIsEnumerable,nw=(r,e,t)=>e in r?ZA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dg=(r,e)=>{for(var t in e||(e={}))YA.call(e,t)&&nw(r,t,e[t]);if(iw)for(var t of iw(e))XA.call(e,t)&&nw(r,t,e[t]);return r},eD=(r,e)=>JA(r,KA(e));function XV(r){const{accept:e,collisionDetector:t,collisionPriority:s,id:i,data:n,element:o,handle:l,index:u,group:c,disabled:h,feedback:p,modifiers:m,sensors:v,target:f,type:b}=r,x=Dg(Dg({},ZV),r.transition),g=lx(w=>new dm(eD(Dg({},r),{transition:x,register:!1,handle:oo(l),element:oo(o),target:oo(f),feedback:p}),w)),y=ax(g,tD);return Tt(i,()=>g.id=i),zl(()=>{is(()=>{g.group=c,g.index=u})},[g,c,u]),Tt(b,()=>g.type=b),Tt(e,()=>g.accept=e,void 0,on),Tt(n,()=>n&&(g.data=n)),Tt(u,()=>{var w;(w=g.manager)!=null&&w.dragOperation.status.idle&&(x!=null&&x.idle)&&g.refreshShape()},rA),tl(l,w=>g.handle=w),tl(o,w=>g.element=w),tl(f,w=>g.target=w),Tt(h,()=>g.disabled=h===!0),Tt(v,()=>g.sensors=v),Tt(t,()=>g.collisionDetector=t),Tt(s,()=>g.collisionPriority=s),Tt(p,()=>g.feedback=p??"default"),Tt(x,()=>g.transition=x,void 0,on),Tt(m,()=>g.modifiers=m,void 0,on),Tt(r.alignment,()=>g.alignment=r.alignment),{sortable:y,get isDragging(){return y.isDragging},get isDropping(){return y.isDropping},get isDragSource(){return y.isDragSource},get isDropTarget(){return y.isDropTarget},handleRef:d.useCallback(w=>{g.handle=w??void 0},[g]),ref:d.useCallback(w=>{var S,P;!w&&((S=g.element)!=null&&S.isConnected)&&!((P=g.manager)!=null&&P.dragOperation.status.idle)||(g.element=w??void 0)},[g]),sourceRef:d.useCallback(w=>{var S,P;!w&&((S=g.source)!=null&&S.isConnected)&&!((P=g.manager)!=null&&P.dragOperation.status.idle)||(g.source=w??void 0)},[g]),targetRef:d.useCallback(w=>{var S,P;!w&&((S=g.target)!=null&&S.isConnected)&&!((P=g.manager)!=null&&P.dragOperation.status.idle)||(g.target=w??void 0)},[g])}}function tD(r,e,t){return!!(r==="isDragSource"&&!t&&e)}const ow=r=>Symbol.iterator in r,aw=r=>"entries"in r,lw=(r,e)=>{const t=r instanceof Map?r:new Map(r.entries()),s=e instanceof Map?e:new Map(e.entries());if(t.size!==s.size)return!1;for(const[i,n]of t)if(!s.has(i)||!Object.is(n,s.get(i)))return!1;return!0},sD=(r,e)=>{const t=r[Symbol.iterator](),s=e[Symbol.iterator]();let i=t.next(),n=s.next();for(;!i.done&&!n.done;){if(!Object.is(i.value,n.value))return!1;i=t.next(),n=s.next()}return!!i.done&&!!n.done};function rD(r,e){return Object.is(r,e)?!0:typeof r!="object"||r===null||typeof e!="object"||e===null||Object.getPrototypeOf(r)!==Object.getPrototypeOf(e)?!1:ow(r)&&ow(e)?aw(r)&&aw(e)?lw(r,e):sD(r,e):lw({entries:()=>Object.entries(r)},{entries:()=>Object.entries(e)})}function Ds(r){const e=Ie.useRef(void 0);return t=>{const s=r(t);return rD(e.current,s)?e.current:e.current=s}}function iD(r,e,t){var s=this,i=d.useRef(null),n=d.useRef(0),o=d.useRef(null),l=d.useRef([]),u=d.useRef(),c=d.useRef(),h=d.useRef(r),p=d.useRef(!0);d.useEffect(function(){h.current=r},[r]);var m=!e&&e!==0&&typeof window<"u";if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var v=!!(t=t||{}).leading,f=!("trailing"in t)||!!t.trailing,b="maxWait"in t,x=b?Math.max(+t.maxWait||0,e):null;d.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var g=d.useMemo(function(){var y=function(E){var R=l.current,C=u.current;return l.current=u.current=null,n.current=E,c.current=h.current.apply(C,R)},w=function(E,R){m&&cancelAnimationFrame(o.current),o.current=m?requestAnimationFrame(E):setTimeout(E,R)},S=function(E){if(!p.current)return!1;var R=E-i.current;return!i.current||R>=e||R<0||b&&E-n.current>=x},P=function(E){return o.current=null,f&&l.current?y(E):(l.current=u.current=null,c.current)},V=function E(){var R=Date.now();if(S(R))return P(R);if(p.current){var C=e-(R-i.current),k=b?Math.min(C,x-(R-n.current)):C;w(E,k)}},I=function(){var E=Date.now(),R=S(E);if(l.current=[].slice.call(arguments),u.current=s,i.current=E,R){if(!o.current&&p.current)return n.current=i.current,w(V,e),v?y(i.current):c.current;if(b)return w(V,e),y(i.current)}return o.current||w(V,e),c.current};return I.cancel=function(){o.current&&(m?cancelAnimationFrame(o.current):clearTimeout(o.current)),n.current=0,l.current=i.current=u.current=o.current=null},I.isPending=function(){return!!o.current},I.flush=function(){return o.current?P(Date.now()):c.current},I},[v,b,e,x,f,m]);return g}function Qc(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eP={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(s,i,n){function o(c,h){if(!i[c]){if(!s[c]){var p=typeof Qc=="function"&&Qc;if(!h&&p)return p(c,!0);if(l)return l(c,!0);throw new Error("Cannot find module '"+c+"'")}h=i[c]={exports:{}},s[c][0].call(h.exports,function(m){var v=s[c][1][m];return o(v||m)},h,h.exports,t,s,i,n)}return i[c].exports}for(var l=typeof Qc=="function"&&Qc,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){var f=t("crypto");function b(V,I){I=y(V,I);var E;return(E=I.algorithm!=="passthrough"?f.createHash(I.algorithm):new P).write===void 0&&(E.write=E.update,E.end=E.update),S(I,E).dispatch(V),E.update||E.end(""),E.digest?E.digest(I.encoding==="buffer"?void 0:I.encoding):(V=E.read(),I.encoding!=="buffer"?V.toString(I.encoding):V)}(i=s.exports=b).sha1=function(V){return b(V)},i.keys=function(V){return b(V,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(V){return b(V,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(V){return b(V,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var x=f.getHashes?f.getHashes().slice():["sha1","md5"],g=(x.push("passthrough"),["buffer","hex","binary","base64"]);function y(V,I){var E={};if(E.algorithm=(I=I||{}).algorithm||"sha1",E.encoding=I.encoding||"hex",E.excludeValues=!!I.excludeValues,E.algorithm=E.algorithm.toLowerCase(),E.encoding=E.encoding.toLowerCase(),E.ignoreUnknown=I.ignoreUnknown===!0,E.respectType=I.respectType!==!1,E.respectFunctionNames=I.respectFunctionNames!==!1,E.respectFunctionProperties=I.respectFunctionProperties!==!1,E.unorderedArrays=I.unorderedArrays===!0,E.unorderedSets=I.unorderedSets!==!1,E.unorderedObjects=I.unorderedObjects!==!1,E.replacer=I.replacer||void 0,E.excludeKeys=I.excludeKeys||void 0,V===void 0)throw new Error("Object argument required.");for(var R=0;R<x.length;++R)x[R].toLowerCase()===E.algorithm.toLowerCase()&&(E.algorithm=x[R]);if(x.indexOf(E.algorithm)===-1)throw new Error('Algorithm "'+E.algorithm+'"  not supported. supported values: '+x.join(", "));if(g.indexOf(E.encoding)===-1&&E.algorithm!=="passthrough")throw new Error('Encoding "'+E.encoding+'"  not supported. supported values: '+g.join(", "));return E}function w(V){if(typeof V=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(V))!=null}function S(V,I,E){E=E||[];function R(C){return I.update?I.update(C,"utf8"):I.write(C,"utf8")}return{dispatch:function(C){return this["_"+((C=V.replacer?V.replacer(C):C)===null?"null":typeof C)](C)},_object:function(C){var k,L=Object.prototype.toString.call(C),D=/\[object (.*)\]/i.exec(L);if(D=(D=D?D[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=E.indexOf(C)))return this.dispatch("[CIRCULAR:"+L+"]");if(E.push(C),l!==void 0&&l.isBuffer&&l.isBuffer(C))return R("buffer:"),R(C);if(D==="object"||D==="function"||D==="asyncfunction")return L=Object.keys(C),V.unorderedObjects&&(L=L.sort()),V.respectType===!1||w(C)||L.splice(0,0,"prototype","__proto__","constructor"),V.excludeKeys&&(L=L.filter(function(q){return!V.excludeKeys(q)})),R("object:"+L.length+":"),k=this,L.forEach(function(q){k.dispatch(q),R(":"),V.excludeValues||k.dispatch(C[q]),R(",")});if(!this["_"+D]){if(V.ignoreUnknown)return R("["+D+"]");throw new Error('Unknown object type "'+D+'"')}this["_"+D](C)},_array:function(C,q){q=q!==void 0?q:V.unorderedArrays!==!1;var L=this;if(R("array:"+C.length+":"),!q||C.length<=1)return C.forEach(function(U){return L.dispatch(U)});var D=[],q=C.map(function(U){var $=new P,K=E.slice();return S(V,$,K).dispatch(U),D=D.concat(K.slice(E.length)),$.read().toString()});return E=E.concat(D),q.sort(),this._array(q,!1)},_date:function(C){return R("date:"+C.toJSON())},_symbol:function(C){return R("symbol:"+C.toString())},_error:function(C){return R("error:"+C.toString())},_boolean:function(C){return R("bool:"+C.toString())},_string:function(C){R("string:"+C.length+":"),R(C.toString())},_function:function(C){R("fn:"),w(C)?this.dispatch("[native]"):this.dispatch(C.toString()),V.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(C.name)),V.respectFunctionProperties&&this._object(C)},_number:function(C){return R("number:"+C.toString())},_xml:function(C){return R("xml:"+C.toString())},_null:function(){return R("Null")},_undefined:function(){return R("Undefined")},_regexp:function(C){return R("regex:"+C.toString())},_uint8array:function(C){return R("uint8array:"),this.dispatch(Array.prototype.slice.call(C))},_uint8clampedarray:function(C){return R("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(C))},_int8array:function(C){return R("int8array:"),this.dispatch(Array.prototype.slice.call(C))},_uint16array:function(C){return R("uint16array:"),this.dispatch(Array.prototype.slice.call(C))},_int16array:function(C){return R("int16array:"),this.dispatch(Array.prototype.slice.call(C))},_uint32array:function(C){return R("uint32array:"),this.dispatch(Array.prototype.slice.call(C))},_int32array:function(C){return R("int32array:"),this.dispatch(Array.prototype.slice.call(C))},_float32array:function(C){return R("float32array:"),this.dispatch(Array.prototype.slice.call(C))},_float64array:function(C){return R("float64array:"),this.dispatch(Array.prototype.slice.call(C))},_arraybuffer:function(C){return R("arraybuffer:"),this.dispatch(new Uint8Array(C))},_url:function(C){return R("url:"+C.toString())},_map:function(C){return R("map:"),C=Array.from(C),this._array(C,V.unorderedSets!==!1)},_set:function(C){return R("set:"),C=Array.from(C),this._array(C,V.unorderedSets!==!1)},_file:function(C){return R("file:"),this.dispatch([C.name,C.size,C.type,C.lastModfied])},_blob:function(){if(V.ignoreUnknown)return R("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return R("domwindow")},_bigint:function(C){return R("bigint:"+C.toString())},_process:function(){return R("process")},_timer:function(){return R("timer")},_pipe:function(){return R("pipe")},_tcp:function(){return R("tcp")},_udp:function(){return R("udp")},_tty:function(){return R("tty")},_statwatcher:function(){return R("statwatcher")},_securecontext:function(){return R("securecontext")},_connection:function(){return R("connection")},_zlib:function(){return R("zlib")},_context:function(){return R("context")},_nodescript:function(){return R("nodescript")},_httpparser:function(){return R("httpparser")},_dataview:function(){return R("dataview")},_signal:function(){return R("signal")},_fsevent:function(){return R("fsevent")},_tlswrap:function(){return R("tlswrap")}}}function P(){return{buf:"",write:function(V){this.buf+=V},end:function(V){this.buf+=V},read:function(){return this.buf}}}i.writeToStream=function(V,I,E){return E===void 0&&(E=I,I={}),S(I=y(V,I),E).dispatch(V)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){(function(f){var b=typeof Uint8Array<"u"?Uint8Array:Array,x=43,g=47,y=48,w=97,S=65,P=45,V=95;function I(E){return E=E.charCodeAt(0),E===x||E===P?62:E===g||E===V?63:E<y?-1:E<y+10?E-y+26+26:E<S+26?E-S:E<w+26?E-w+26:void 0}f.toByteArray=function(E){var R,C;if(0<E.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var k=E.length,k=E.charAt(k-2)==="="?2:E.charAt(k-1)==="="?1:0,L=new b(3*E.length/4-k),D=0<k?E.length-4:E.length,q=0;function U($){L[q++]=$}for(R=0;R<D;R+=4,0)U((16711680&(C=I(E.charAt(R))<<18|I(E.charAt(R+1))<<12|I(E.charAt(R+2))<<6|I(E.charAt(R+3))))>>16),U((65280&C)>>8),U(255&C);return k==2?U(255&(C=I(E.charAt(R))<<2|I(E.charAt(R+1))>>4)):k==1&&(U((C=I(E.charAt(R))<<10|I(E.charAt(R+1))<<4|I(E.charAt(R+2))>>2)>>8&255),U(255&C)),L},f.fromByteArray=function(E){var R,C,k,L,D=E.length%3,q="";function U($){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($)}for(R=0,k=E.length-D;R<k;R+=3)C=(E[R]<<16)+(E[R+1]<<8)+E[R+2],q+=U((L=C)>>18&63)+U(L>>12&63)+U(L>>6&63)+U(63&L);switch(D){case 1:q=(q+=U((C=E[E.length-1])>>2))+U(C<<4&63)+"==";break;case 2:q=(q=(q+=U((C=(E[E.length-2]<<8)+E[E.length-1])>>10))+U(C>>4&63))+U(C<<2&63)+"="}return q}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,s,i){(function(n,o,x,u,c,h,p,m,v){var f=t("base64-js"),b=t("ieee754");function x(_,O,Z){if(!(this instanceof x))return new x(_,O,Z);var le,te,W,he,me=typeof _;if(O==="base64"&&me=="string")for(_=(he=_).trim?he.trim():he.replace(/^\s+|\s+$/g,"");_.length%4!=0;)_+="=";if(me=="number")le=M(_);else if(me=="string")le=x.byteLength(_,O);else{if(me!="object")throw new Error("First argument needs to be a number, array or string.");le=M(_.length)}if(x._useTypedArrays?te=x._augment(new Uint8Array(le)):((te=this).length=le,te._isBuffer=!0),x._useTypedArrays&&typeof _.byteLength=="number")te._set(_);else if(j(he=_)||x.isBuffer(he)||he&&typeof he=="object"&&typeof he.length=="number")for(W=0;W<le;W++)x.isBuffer(_)?te[W]=_.readUInt8(W):te[W]=_[W];else if(me=="string")te.write(_,0,O);else if(me=="number"&&!x._useTypedArrays&&!Z)for(W=0;W<le;W++)te[W]=0;return te}function g(_,O,Z,le){return x._charsWritten=X(function(te){for(var W=[],he=0;he<te.length;he++)W.push(255&te.charCodeAt(he));return W}(O),_,Z,le)}function y(_,O,Z,le){return x._charsWritten=X(function(te){for(var W,he,me=[],Ve=0;Ve<te.length;Ve++)he=te.charCodeAt(Ve),W=he>>8,he=he%256,me.push(he),me.push(W);return me}(O),_,Z,le)}function w(_,O,Z){var le="";Z=Math.min(_.length,Z);for(var te=O;te<Z;te++)le+=String.fromCharCode(_[te]);return le}function S(_,O,Z,W){W||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O!=null,"missing offset"),ie(O+1<_.length,"Trying to read beyond buffer length"));var te,W=_.length;if(!(W<=O))return Z?(te=_[O],O+1<W&&(te|=_[O+1]<<8)):(te=_[O]<<8,O+1<W&&(te|=_[O+1])),te}function P(_,O,Z,W){W||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O!=null,"missing offset"),ie(O+3<_.length,"Trying to read beyond buffer length"));var te,W=_.length;if(!(W<=O))return Z?(O+2<W&&(te=_[O+2]<<16),O+1<W&&(te|=_[O+1]<<8),te|=_[O],O+3<W&&(te+=_[O+3]<<24>>>0)):(O+1<W&&(te=_[O+1]<<16),O+2<W&&(te|=_[O+2]<<8),O+3<W&&(te|=_[O+3]),te+=_[O]<<24>>>0),te}function V(_,O,Z,le){if(le||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O!=null,"missing offset"),ie(O+1<_.length,"Trying to read beyond buffer length")),!(_.length<=O))return le=S(_,O,Z,!0),32768&le?-1*(65535-le+1):le}function I(_,O,Z,le){if(le||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O!=null,"missing offset"),ie(O+3<_.length,"Trying to read beyond buffer length")),!(_.length<=O))return le=P(_,O,Z,!0),2147483648&le?-1*(4294967295-le+1):le}function E(_,O,Z,le){return le||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O+3<_.length,"Trying to read beyond buffer length")),b.read(_,O,Z,23,4)}function R(_,O,Z,le){return le||(ie(typeof Z=="boolean","missing or invalid endian"),ie(O+7<_.length,"Trying to read beyond buffer length")),b.read(_,O,Z,52,8)}function C(_,O,Z,le,te){if(te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+1<_.length,"trying to write beyond buffer length"),se(O,65535)),te=_.length,!(te<=Z))for(var W=0,he=Math.min(te-Z,2);W<he;W++)_[Z+W]=(O&255<<8*(le?W:1-W))>>>8*(le?W:1-W)}function k(_,O,Z,le,te){if(te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+3<_.length,"trying to write beyond buffer length"),se(O,4294967295)),te=_.length,!(te<=Z))for(var W=0,he=Math.min(te-Z,4);W<he;W++)_[Z+W]=O>>>8*(le?W:3-W)&255}function L(_,O,Z,le,te){te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+1<_.length,"Trying to write beyond buffer length"),fe(O,32767,-32768)),_.length<=Z||C(_,0<=O?O:65535+O+1,Z,le,te)}function D(_,O,Z,le,te){te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+3<_.length,"Trying to write beyond buffer length"),fe(O,2147483647,-2147483648)),_.length<=Z||k(_,0<=O?O:4294967295+O+1,Z,le,te)}function q(_,O,Z,le,te){te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+3<_.length,"Trying to write beyond buffer length"),oe(O,34028234663852886e22,-34028234663852886e22)),_.length<=Z||b.write(_,O,Z,le,23,4)}function U(_,O,Z,le,te){te||(ie(O!=null,"missing value"),ie(typeof le=="boolean","missing or invalid endian"),ie(Z!=null,"missing offset"),ie(Z+7<_.length,"Trying to write beyond buffer length"),oe(O,17976931348623157e292,-17976931348623157e292)),_.length<=Z||b.write(_,O,Z,le,52,8)}i.Buffer=x,i.SlowBuffer=x,i.INSPECT_MAX_BYTES=50,x.poolSize=8192,x._useTypedArrays=function(){try{var _=new ArrayBuffer(0),O=new Uint8Array(_);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"}catch{return!1}}(),x.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.isBuffer=function(_){return!(_==null||!_._isBuffer)},x.byteLength=function(_,O){var Z;switch(_+="",O||"utf8"){case"hex":Z=_.length/2;break;case"utf8":case"utf-8":Z=Q(_).length;break;case"ascii":case"binary":case"raw":Z=_.length;break;case"base64":Z=G(_).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Z=2*_.length;break;default:throw new Error("Unknown encoding")}return Z},x.concat=function(_,O){if(ie(j(_),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),_.length===0)return new x(0);if(_.length===1)return _[0];if(typeof O!="number")for(te=O=0;te<_.length;te++)O+=_[te].length;for(var Z=new x(O),le=0,te=0;te<_.length;te++){var W=_[te];W.copy(Z,le),le+=W.length}return Z},x.prototype.write=function(_,O,Z,le){isFinite(O)?isFinite(Z)||(le=Z,Z=void 0):(Ve=le,le=O,O=Z,Z=Ve),O=Number(O)||0;var te,W,he,me,Ve=this.length-O;switch((!Z||Ve<(Z=Number(Z)))&&(Z=Ve),le=String(le||"utf8").toLowerCase()){case"hex":te=function(Me,Le,ze,et){ze=Number(ze)||0;var nt=Me.length-ze;(!et||nt<(et=Number(et)))&&(et=nt),ie((nt=Le.length)%2==0,"Invalid hex string"),nt/2<et&&(et=nt/2);for(var Bt=0;Bt<et;Bt++){var Fs=parseInt(Le.substr(2*Bt,2),16);ie(!isNaN(Fs),"Invalid hex string"),Me[ze+Bt]=Fs}return x._charsWritten=2*Bt,Bt}(this,_,O,Z);break;case"utf8":case"utf-8":W=this,he=O,me=Z,te=x._charsWritten=X(Q(_),W,he,me);break;case"ascii":case"binary":te=g(this,_,O,Z);break;case"base64":W=this,he=O,me=Z,te=x._charsWritten=X(G(_),W,he,me);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":te=y(this,_,O,Z);break;default:throw new Error("Unknown encoding")}return te},x.prototype.toString=function(_,O,Z){var le,te,W,he,me=this;if(_=String(_||"utf8").toLowerCase(),O=Number(O)||0,(Z=Z!==void 0?Number(Z):me.length)===O)return"";switch(_){case"hex":le=function(Ve,Me,Le){var ze=Ve.length;(!Me||Me<0)&&(Me=0),(!Le||Le<0||ze<Le)&&(Le=ze);for(var et="",nt=Me;nt<Le;nt++)et+=B(Ve[nt]);return et}(me,O,Z);break;case"utf8":case"utf-8":le=function(Ve,Me,Le){var ze="",et="";Le=Math.min(Ve.length,Le);for(var nt=Me;nt<Le;nt++)Ve[nt]<=127?(ze+=de(et)+String.fromCharCode(Ve[nt]),et=""):et+="%"+Ve[nt].toString(16);return ze+de(et)}(me,O,Z);break;case"ascii":case"binary":le=w(me,O,Z);break;case"base64":te=me,he=Z,le=(W=O)===0&&he===te.length?f.fromByteArray(te):f.fromByteArray(te.slice(W,he));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":le=function(Ve,Me,Le){for(var ze=Ve.slice(Me,Le),et="",nt=0;nt<ze.length;nt+=2)et+=String.fromCharCode(ze[nt]+256*ze[nt+1]);return et}(me,O,Z);break;default:throw new Error("Unknown encoding")}return le},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},x.prototype.copy=function(_,O,Z,le){if(O=O||0,(le=le||le===0?le:this.length)!==(Z=Z||0)&&_.length!==0&&this.length!==0){ie(Z<=le,"sourceEnd < sourceStart"),ie(0<=O&&O<_.length,"targetStart out of bounds"),ie(0<=Z&&Z<this.length,"sourceStart out of bounds"),ie(0<=le&&le<=this.length,"sourceEnd out of bounds"),le>this.length&&(le=this.length);var te=(le=_.length-O<le-Z?_.length-O+Z:le)-Z;if(te<100||!x._useTypedArrays)for(var W=0;W<te;W++)_[W+O]=this[W+Z];else _._set(this.subarray(Z,Z+te),O)}},x.prototype.slice=function(_,O){var Z=this.length;if(_=K(_,Z,0),O=K(O,Z,Z),x._useTypedArrays)return x._augment(this.subarray(_,O));for(var le=O-_,te=new x(le,void 0,!0),W=0;W<le;W++)te[W]=this[W+_];return te},x.prototype.get=function(_){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(_)},x.prototype.set=function(_,O){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(_,O)},x.prototype.readUInt8=function(_,O){if(O||(ie(_!=null,"missing offset"),ie(_<this.length,"Trying to read beyond buffer length")),!(_>=this.length))return this[_]},x.prototype.readUInt16LE=function(_,O){return S(this,_,!0,O)},x.prototype.readUInt16BE=function(_,O){return S(this,_,!1,O)},x.prototype.readUInt32LE=function(_,O){return P(this,_,!0,O)},x.prototype.readUInt32BE=function(_,O){return P(this,_,!1,O)},x.prototype.readInt8=function(_,O){if(O||(ie(_!=null,"missing offset"),ie(_<this.length,"Trying to read beyond buffer length")),!(_>=this.length))return 128&this[_]?-1*(255-this[_]+1):this[_]},x.prototype.readInt16LE=function(_,O){return V(this,_,!0,O)},x.prototype.readInt16BE=function(_,O){return V(this,_,!1,O)},x.prototype.readInt32LE=function(_,O){return I(this,_,!0,O)},x.prototype.readInt32BE=function(_,O){return I(this,_,!1,O)},x.prototype.readFloatLE=function(_,O){return E(this,_,!0,O)},x.prototype.readFloatBE=function(_,O){return E(this,_,!1,O)},x.prototype.readDoubleLE=function(_,O){return R(this,_,!0,O)},x.prototype.readDoubleBE=function(_,O){return R(this,_,!1,O)},x.prototype.writeUInt8=function(_,O,Z){Z||(ie(_!=null,"missing value"),ie(O!=null,"missing offset"),ie(O<this.length,"trying to write beyond buffer length"),se(_,255)),O>=this.length||(this[O]=_)},x.prototype.writeUInt16LE=function(_,O,Z){C(this,_,O,!0,Z)},x.prototype.writeUInt16BE=function(_,O,Z){C(this,_,O,!1,Z)},x.prototype.writeUInt32LE=function(_,O,Z){k(this,_,O,!0,Z)},x.prototype.writeUInt32BE=function(_,O,Z){k(this,_,O,!1,Z)},x.prototype.writeInt8=function(_,O,Z){Z||(ie(_!=null,"missing value"),ie(O!=null,"missing offset"),ie(O<this.length,"Trying to write beyond buffer length"),fe(_,127,-128)),O>=this.length||(0<=_?this.writeUInt8(_,O,Z):this.writeUInt8(255+_+1,O,Z))},x.prototype.writeInt16LE=function(_,O,Z){L(this,_,O,!0,Z)},x.prototype.writeInt16BE=function(_,O,Z){L(this,_,O,!1,Z)},x.prototype.writeInt32LE=function(_,O,Z){D(this,_,O,!0,Z)},x.prototype.writeInt32BE=function(_,O,Z){D(this,_,O,!1,Z)},x.prototype.writeFloatLE=function(_,O,Z){q(this,_,O,!0,Z)},x.prototype.writeFloatBE=function(_,O,Z){q(this,_,O,!1,Z)},x.prototype.writeDoubleLE=function(_,O,Z){U(this,_,O,!0,Z)},x.prototype.writeDoubleBE=function(_,O,Z){U(this,_,O,!1,Z)},x.prototype.fill=function(_,O,Z){if(O=O||0,Z=Z||this.length,ie(typeof(_=typeof(_=_||0)=="string"?_.charCodeAt(0):_)=="number"&&!isNaN(_),"value is not a number"),ie(O<=Z,"end < start"),Z!==O&&this.length!==0){ie(0<=O&&O<this.length,"start out of bounds"),ie(0<=Z&&Z<=this.length,"end out of bounds");for(var le=O;le<Z;le++)this[le]=_}},x.prototype.inspect=function(){for(var _=[],O=this.length,Z=0;Z<O;Z++)if(_[Z]=B(this[Z]),Z===i.INSPECT_MAX_BYTES){_[Z+1]="...";break}return"<Buffer "+_.join(" ")+">"},x.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(x._useTypedArrays)return new x(this).buffer;for(var _=new Uint8Array(this.length),O=0,Z=_.length;O<Z;O+=1)_[O]=this[O];return _.buffer};var $=x.prototype;function K(_,O,Z){return typeof _!="number"?Z:O<=(_=~~_)?O:0<=_||0<=(_+=O)?_:0}function M(_){return(_=~~Math.ceil(+_))<0?0:_}function j(_){return(Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"})(_)}function B(_){return _<16?"0"+_.toString(16):_.toString(16)}function Q(_){for(var O=[],Z=0;Z<_.length;Z++){var le=_.charCodeAt(Z);if(le<=127)O.push(_.charCodeAt(Z));else for(var te=Z,W=(55296<=le&&le<=57343&&Z++,encodeURIComponent(_.slice(te,Z+1)).substr(1).split("%")),he=0;he<W.length;he++)O.push(parseInt(W[he],16))}return O}function G(_){return f.toByteArray(_)}function X(_,O,Z,le){for(var te=0;te<le&&!(te+Z>=O.length||te>=_.length);te++)O[te+Z]=_[te];return te}function de(_){try{return decodeURIComponent(_)}catch{return""}}function se(_,O){ie(typeof _=="number","cannot write a non-number as a number"),ie(0<=_,"specified a negative value for writing an unsigned value"),ie(_<=O,"value is larger than maximum value for type"),ie(Math.floor(_)===_,"value has a fractional component")}function fe(_,O,Z){ie(typeof _=="number","cannot write a non-number as a number"),ie(_<=O,"value larger than maximum allowed value"),ie(Z<=_,"value smaller than minimum allowed value"),ie(Math.floor(_)===_,"value has a fractional component")}function oe(_,O,Z){ie(typeof _=="number","cannot write a non-number as a number"),ie(_<=O,"value larger than maximum allowed value"),ie(Z<=_,"value smaller than minimum allowed value")}function ie(_,O){if(!_)throw new Error(O||"Failed assertion")}x._augment=function(_){return _._isBuffer=!0,_._get=_.get,_._set=_.set,_.get=$.get,_.set=$.set,_.write=$.write,_.toString=$.toString,_.toLocaleString=$.toString,_.toJSON=$.toJSON,_.copy=$.copy,_.slice=$.slice,_.readUInt8=$.readUInt8,_.readUInt16LE=$.readUInt16LE,_.readUInt16BE=$.readUInt16BE,_.readUInt32LE=$.readUInt32LE,_.readUInt32BE=$.readUInt32BE,_.readInt8=$.readInt8,_.readInt16LE=$.readInt16LE,_.readInt16BE=$.readInt16BE,_.readInt32LE=$.readInt32LE,_.readInt32BE=$.readInt32BE,_.readFloatLE=$.readFloatLE,_.readFloatBE=$.readFloatBE,_.readDoubleLE=$.readDoubleLE,_.readDoubleBE=$.readDoubleBE,_.writeUInt8=$.writeUInt8,_.writeUInt16LE=$.writeUInt16LE,_.writeUInt16BE=$.writeUInt16BE,_.writeUInt32LE=$.writeUInt32LE,_.writeUInt32BE=$.writeUInt32BE,_.writeInt8=$.writeInt8,_.writeInt16LE=$.writeInt16LE,_.writeInt16BE=$.writeInt16BE,_.writeInt32LE=$.writeInt32LE,_.writeInt32BE=$.writeInt32BE,_.writeFloatLE=$.writeFloatLE,_.writeFloatBE=$.writeFloatBE,_.writeDoubleLE=$.writeDoubleLE,_.writeDoubleBE=$.writeDoubleBE,_.fill=$.fill,_.inspect=$.inspect,_.toArrayBuffer=$.toArrayBuffer,_}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,s,i){(function(n,o,f,u,c,h,p,m,v){var f=t("buffer").Buffer,b=4,x=new f(b);x.fill(0),s.exports={hash:function(g,y,w,S){for(var P=y(function(C,k){C.length%b!=0&&(L=C.length+(b-C.length%b),C=f.concat([C,x],L));for(var L,D=[],q=k?C.readInt32BE:C.readInt32LE,U=0;U<C.length;U+=b)D.push(q.call(C,U));return D}(g=f.isBuffer(g)?g:new f(g),S),8*g.length),y=S,V=new f(w),I=y?V.writeInt32BE:V.writeInt32LE,E=0;E<P.length;E++)I.call(V,P[E],4*E,!0);return V}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,s,i){(function(n,o,f,u,c,h,p,m,v){var f=t("buffer").Buffer,b=t("./sha"),x=t("./sha256"),g=t("./rng"),y={sha1:b,sha256:x,md5:t("./md5")},w=64,S=new f(w);function P(C,k){var L=y[C=C||"sha1"],D=[];return L||V("algorithm:",C,"is not yet supported"),{update:function(q){return f.isBuffer(q)||(q=new f(q)),D.push(q),q.length,this},digest:function(q){var U=f.concat(D),U=k?function($,K,M){f.isBuffer(K)||(K=new f(K)),f.isBuffer(M)||(M=new f(M)),K.length>w?K=$(K):K.length<w&&(K=f.concat([K,S],w));for(var j=new f(w),B=new f(w),Q=0;Q<w;Q++)j[Q]=54^K[Q],B[Q]=92^K[Q];return M=$(f.concat([j,M])),$(f.concat([B,M]))}(L,k,U):L(U);return D=null,q?U.toString(q):U}}}function V(){var C=[].slice.call(arguments).join(" ");throw new Error([C,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}S.fill(0),i.createHash=function(C){return P(C)},i.createHmac=P,i.randomBytes=function(C,k){if(!k||!k.call)return new f(g(C));try{k.call(this,void 0,new f(g(C)))}catch(L){k(L)}};var I,E=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],R=function(C){i[C]=function(){V("sorry,",C,"is not implemented yet")}};for(I in E)R(E[I])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){var f=t("./helpers");function b(V,I){V[I>>5]|=128<<I%32,V[14+(I+64>>>9<<4)]=I;for(var E=1732584193,R=-271733879,C=-1732584194,k=271733878,L=0;L<V.length;L+=16){var D=E,q=R,U=C,$=k,E=g(E,R,C,k,V[L+0],7,-680876936),k=g(k,E,R,C,V[L+1],12,-389564586),C=g(C,k,E,R,V[L+2],17,606105819),R=g(R,C,k,E,V[L+3],22,-1044525330);E=g(E,R,C,k,V[L+4],7,-176418897),k=g(k,E,R,C,V[L+5],12,1200080426),C=g(C,k,E,R,V[L+6],17,-1473231341),R=g(R,C,k,E,V[L+7],22,-45705983),E=g(E,R,C,k,V[L+8],7,1770035416),k=g(k,E,R,C,V[L+9],12,-1958414417),C=g(C,k,E,R,V[L+10],17,-42063),R=g(R,C,k,E,V[L+11],22,-1990404162),E=g(E,R,C,k,V[L+12],7,1804603682),k=g(k,E,R,C,V[L+13],12,-40341101),C=g(C,k,E,R,V[L+14],17,-1502002290),E=y(E,R=g(R,C,k,E,V[L+15],22,1236535329),C,k,V[L+1],5,-165796510),k=y(k,E,R,C,V[L+6],9,-1069501632),C=y(C,k,E,R,V[L+11],14,643717713),R=y(R,C,k,E,V[L+0],20,-373897302),E=y(E,R,C,k,V[L+5],5,-701558691),k=y(k,E,R,C,V[L+10],9,38016083),C=y(C,k,E,R,V[L+15],14,-660478335),R=y(R,C,k,E,V[L+4],20,-405537848),E=y(E,R,C,k,V[L+9],5,568446438),k=y(k,E,R,C,V[L+14],9,-1019803690),C=y(C,k,E,R,V[L+3],14,-187363961),R=y(R,C,k,E,V[L+8],20,1163531501),E=y(E,R,C,k,V[L+13],5,-1444681467),k=y(k,E,R,C,V[L+2],9,-51403784),C=y(C,k,E,R,V[L+7],14,1735328473),E=w(E,R=y(R,C,k,E,V[L+12],20,-1926607734),C,k,V[L+5],4,-378558),k=w(k,E,R,C,V[L+8],11,-2022574463),C=w(C,k,E,R,V[L+11],16,1839030562),R=w(R,C,k,E,V[L+14],23,-35309556),E=w(E,R,C,k,V[L+1],4,-1530992060),k=w(k,E,R,C,V[L+4],11,1272893353),C=w(C,k,E,R,V[L+7],16,-155497632),R=w(R,C,k,E,V[L+10],23,-1094730640),E=w(E,R,C,k,V[L+13],4,681279174),k=w(k,E,R,C,V[L+0],11,-358537222),C=w(C,k,E,R,V[L+3],16,-722521979),R=w(R,C,k,E,V[L+6],23,76029189),E=w(E,R,C,k,V[L+9],4,-640364487),k=w(k,E,R,C,V[L+12],11,-421815835),C=w(C,k,E,R,V[L+15],16,530742520),E=S(E,R=w(R,C,k,E,V[L+2],23,-995338651),C,k,V[L+0],6,-198630844),k=S(k,E,R,C,V[L+7],10,1126891415),C=S(C,k,E,R,V[L+14],15,-1416354905),R=S(R,C,k,E,V[L+5],21,-57434055),E=S(E,R,C,k,V[L+12],6,1700485571),k=S(k,E,R,C,V[L+3],10,-1894986606),C=S(C,k,E,R,V[L+10],15,-1051523),R=S(R,C,k,E,V[L+1],21,-2054922799),E=S(E,R,C,k,V[L+8],6,1873313359),k=S(k,E,R,C,V[L+15],10,-30611744),C=S(C,k,E,R,V[L+6],15,-1560198380),R=S(R,C,k,E,V[L+13],21,1309151649),E=S(E,R,C,k,V[L+4],6,-145523070),k=S(k,E,R,C,V[L+11],10,-1120210379),C=S(C,k,E,R,V[L+2],15,718787259),R=S(R,C,k,E,V[L+9],21,-343485551),E=P(E,D),R=P(R,q),C=P(C,U),k=P(k,$)}return Array(E,R,C,k)}function x(V,I,E,R,C,k){return P((I=P(P(I,V),P(R,k)))<<C|I>>>32-C,E)}function g(V,I,E,R,C,k,L){return x(I&E|~I&R,V,I,C,k,L)}function y(V,I,E,R,C,k,L){return x(I&R|E&~R,V,I,C,k,L)}function w(V,I,E,R,C,k,L){return x(I^E^R,V,I,C,k,L)}function S(V,I,E,R,C,k,L){return x(E^(I|~R),V,I,C,k,L)}function P(V,I){var E=(65535&V)+(65535&I);return(V>>16)+(I>>16)+(E>>16)<<16|65535&E}s.exports=function(V){return f.hash(V,b,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){s.exports=function(f){for(var b,x=new Array(f),g=0;g<f;g++)!(3&g)&&(b=4294967296*Math.random()),x[g]=b>>>((3&g)<<3)&255;return x}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){var f=t("./helpers");function b(y,w){y[w>>5]|=128<<24-w%32,y[15+(w+64>>9<<4)]=w;for(var S,P,V,I=Array(80),E=1732584193,R=-271733879,C=-1732584194,k=271733878,L=-1009589776,D=0;D<y.length;D+=16){for(var q=E,U=R,$=C,K=k,M=L,j=0;j<80;j++){I[j]=j<16?y[D+j]:g(I[j-3]^I[j-8]^I[j-14]^I[j-16],1);var B=x(x(g(E,5),(B=R,P=C,V=k,(S=j)<20?B&P|~B&V:!(S<40)&&S<60?B&P|B&V|P&V:B^P^V)),x(x(L,I[j]),(S=j)<20?1518500249:S<40?1859775393:S<60?-1894007588:-899497514)),L=k,k=C,C=g(R,30),R=E,E=B}E=x(E,q),R=x(R,U),C=x(C,$),k=x(k,K),L=x(L,M)}return Array(E,R,C,k,L)}function x(y,w){var S=(65535&y)+(65535&w);return(y>>16)+(w>>16)+(S>>16)<<16|65535&S}function g(y,w){return y<<w|y>>>32-w}s.exports=function(y){return f.hash(y,b,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){function f(w,S){var P=(65535&w)+(65535&S);return(w>>16)+(S>>16)+(P>>16)<<16|65535&P}function b(w,S){var P,V=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),I=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);w[S>>5]|=128<<24-S%32,w[15+(S+64>>9<<4)]=S;for(var R,C,k=0;k<w.length;k+=16){for(var L=I[0],D=I[1],q=I[2],U=I[3],$=I[4],K=I[5],M=I[6],j=I[7],B=0;B<64;B++)E[B]=B<16?w[B+k]:f(f(f((C=E[B-2],g(C,17)^g(C,19)^y(C,10)),E[B-7]),(C=E[B-15],g(C,7)^g(C,18)^y(C,3))),E[B-16]),P=f(f(f(f(j,g(C=$,6)^g(C,11)^g(C,25)),$&K^~$&M),V[B]),E[B]),R=f(g(R=L,2)^g(R,13)^g(R,22),L&D^L&q^D&q),j=M,M=K,K=$,$=f(U,P),U=q,q=D,D=L,L=f(P,R);I[0]=f(L,I[0]),I[1]=f(D,I[1]),I[2]=f(q,I[2]),I[3]=f(U,I[3]),I[4]=f($,I[4]),I[5]=f(K,I[5]),I[6]=f(M,I[6]),I[7]=f(j,I[7])}return I}var x=t("./helpers"),g=function(w,S){return w>>>S|w<<32-S},y=function(w,S){return w>>>S};s.exports=function(w){return x.hash(w,b,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){i.read=function(f,b,x,g,k){var w,S,P=8*k-g-1,V=(1<<P)-1,I=V>>1,E=-7,R=x?k-1:0,C=x?-1:1,k=f[b+R];for(R+=C,w=k&(1<<-E)-1,k>>=-E,E+=P;0<E;w=256*w+f[b+R],R+=C,E-=8);for(S=w&(1<<-E)-1,w>>=-E,E+=g;0<E;S=256*S+f[b+R],R+=C,E-=8);if(w===0)w=1-I;else{if(w===V)return S?NaN:1/0*(k?-1:1);S+=Math.pow(2,g),w-=I}return(k?-1:1)*S*Math.pow(2,w-g)},i.write=function(f,b,x,g,y,L){var S,P,V=8*L-y-1,I=(1<<V)-1,E=I>>1,R=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=g?0:L-1,k=g?1:-1,L=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(P=isNaN(b)?1:0,S=I):(S=Math.floor(Math.log(b)/Math.LN2),b*(g=Math.pow(2,-S))<1&&(S--,g*=2),2<=(b+=1<=S+E?R/g:R*Math.pow(2,1-E))*g&&(S++,g/=2),I<=S+E?(P=0,S=I):1<=S+E?(P=(b*g-1)*Math.pow(2,y),S+=E):(P=b*Math.pow(2,E-1)*Math.pow(2,y),S=0));8<=y;f[x+C]=255&P,C+=k,P/=256,y-=8);for(S=S<<y|P,V+=y;0<V;f[x+C]=255&S,C+=k,S/=256,V-=8);f[x+C-k]|=128*L}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,s,i){(function(n,o,l,u,c,h,p,m,v){var f,b,x;function g(){}(n=s.exports={}).nextTick=(b=typeof window<"u"&&window.setImmediate,x=typeof window<"u"&&window.postMessage&&window.addEventListener,b?function(y){return window.setImmediate(y)}:x?(f=[],window.addEventListener("message",function(y){var w=y.source;w!==window&&w!==null||y.data!=="process-tick"||(y.stopPropagation(),0<f.length&&f.shift()())},!0),function(y){f.push(y),window.postMessage("process-tick","*")}):function(y){setTimeout(y,0)}),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.binding=function(y){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(y){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(eP);var nD=eP.exports;const Mg=Mp(nD);var oD=x9({"../../node_modules/classnames/index.js"(r,e){ee(),function(){var t={}.hasOwnProperty;function s(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=n(o,i(u)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return s.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)t.call(o,u)&&o[u]&&(l=n(l,u));return l}function n(o,l){return l?o?o+" "+l:o+l:o}typeof e<"u"&&e.exports?(s.default=s,e.exports=s):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return s}):window.classNames=s}()}});ee();ee();ee();var aD=C9(oD()),lD=(r,e,t={baseClass:""})=>(s={})=>{if(typeof s=="string"){const i=s;return e[`${r}-${i}`]&&t.baseClass+e[`${r}-${i}`]||""}else if(typeof s=="object"){const i=s,n={};for(let l in i)n[e[`${r}--${l}`]]=i[l];const o=e[r];return t.baseClass+(0,aD.default)(J({[o]:!!o},n))}else return t.baseClass+e[r]||""},ht=lD;ee();var uD={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},Vd=ht("ActionBar",uD),ai=({label:r,children:e})=>a.jsxs("div",{className:Vd(),onClick:t=>{t.stopPropagation()},children:[r&&a.jsx(ai.Group,{children:a.jsx("div",{className:Vd("label"),children:r})}),e]}),dD=({children:r,label:e,onClick:t})=>a.jsx("button",{type:"button",className:Vd("action"),onClick:t,title:e,children:r}),cD=({children:r})=>a.jsx("div",{className:Vd("group"),children:r}),hD=({label:r})=>a.jsx("div",{className:Vd("label"),children:r});ai.Action=dD;ai.Label=hD;ai.Group=cD;ee();ee();var pD={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};ee();ee();ee();ee();var uw=(r,e,t)=>{const s=Array.from(r),[i]=s.splice(e,1);return s.splice(t,0,i),s};ee();var mD=(r,e,t)=>{const s=Array.from(r);return s.splice(e,1),s.splice(e,0,t),s};ee();ee();ee();ee();var gD=(r,e,t)=>{if(typeof e.state=="object"){const s=J(J({},r),e.state);return e.state.indexes?s:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),Er(s,t.config))}return J(J({},r),e.state(r))};ee();ee();var vl=(r,e,t)=>{const s=Array.from(r||[]);return s.splice(e,0,t),s};ee();var Vr=r=>r?`${r}-${VC()}`:VC();ee();var Pd=(r,e)=>{const[t]=r.split(":"),s=e.indexes.nodes[t];return((s==null?void 0:s.path)||[]).map(i=>i.split(":")[0])};ee();var tP=(r,e,t=!1)=>{const s=Vr(r.type);return bE(pe(J({},r),{props:t?pe(J({},r.props),{id:s}):J({},r.props)}),e,i=>i.map(n=>{const o=Vr(n.type);return pe(J({},n),{props:t?pe(J({},n.props),{id:o}):J({id:o},n.props)})}))};function sP(r,e,t){const s=e.id||Vr(e.componentType),i=tP({type:e.componentType,props:pe(J({},t.config.components[e.componentType].defaultProps||{}),{id:s})},t.config),[n]=e.destinationZone.split(":"),o=Pd(e.destinationZone,r);return Er(r,t.config,(l,u)=>u===e.destinationZone?vl(l||[],e.destinationIndex,i):l,(l,u)=>l.props.id===s||l.props.id===n||o.includes(l.props.id)||u.includes(e.destinationZone)?l:null)}ee();var fD=(r,e,t)=>{const[s]=e.destinationZone.split(":"),i=Pd(e.destinationZone,r),n=r.indexes.zones[e.destinationZone].contentIds[e.destinationIndex];if(n!==e.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const l=[],u=bE(e.data,t.config,(h,p)=>(l.push(`${p.parentId}:${p.propName}`),h.map(m=>{const v=Vr(m.type);return pe(J({},m),{props:J({id:v},m.props)})}))),c=J({},r);return Object.keys(r.indexes.zones).forEach(h=>{h.split(":")[0]===n&&(l.includes(h)||delete c.indexes.zones[h])}),Er(c,t.config,(h,p)=>{const m=[...h];return p===e.destinationZone&&(m[e.destinationIndex]=u),m},(h,p)=>{const m=p.map(v=>v.split(":")[0]);return h.props.id===u.props.id?u:h.props.id===s||i.indexOf(h.props.id)>-1||m.indexOf(u.props.id)>-1?h:null})};ee();var vD=(r,e,t)=>Er(r,t.config,s=>s,s=>s.props.id==="root"?pe(J({},s),{props:J(J({},s.props),e.root.props),readOnly:e.root.readOnly}):s);ee();ee();function mi(r,e){var t,s;const i=(t=e.indexes.zones)==null?void 0:t[r.zone||Ws];return i?(s=e.indexes.nodes[i.contentIds[r.index]])==null?void 0:s.data:void 0}function yD(r,e,t){const s=mi({index:e.sourceIndex,zone:e.sourceZone},r),i=Pd(e.sourceZone,r),n=pe(J({},s),{props:pe(J({},s.props),{id:Vr(s.type)})}),o=Er(r,t.config,(l,u)=>u===e.sourceZone?vl(l,e.sourceIndex+1,s):l,(l,u,c)=>{const h=u[u.length-1];if(u.map(v=>v.split(":")[0]).indexOf(n.props.id)>-1)return pe(J({},l),{props:pe(J({},l.props),{id:Vr(l.type)})});if(h===e.sourceZone&&c===e.sourceIndex+1)return n;const[m]=e.sourceZone.split(":");return m===l.props.id||i.indexOf(l.props.id)>-1?l:null});return pe(J({},o),{ui:pe(J({},o.ui),{itemSelector:{index:e.sourceIndex+1,zone:e.sourceZone}})})}ee();ee();ee();var Av=(r,e)=>{const t=Array.from(r);return t.splice(e,1),t},rP=(r,e,t)=>{if(e.sourceZone===e.destinationZone&&e.sourceIndex===e.destinationIndex)return r;const s=mi({zone:e.sourceZone,index:e.sourceIndex},r);if(!s)return r;const i=Pd(e.sourceZone,r),n=Pd(e.destinationZone,r);return Er(r,t.config,(o,l)=>l===e.sourceZone&&l===e.destinationZone?vl(Av(o,e.sourceIndex),e.destinationIndex,s):l===e.sourceZone?Av(o,e.sourceIndex):l===e.destinationZone?vl(o,e.destinationIndex,s):o,(o,l)=>{const[u]=e.sourceZone.split(":"),[c]=e.destinationZone.split(":"),h=o.props.id;return u===h||c===h||s.props.id===h||i.indexOf(h)>-1||n.indexOf(h)>-1||l.includes(e.destinationZone)?o:null})},xD=(r,e,t)=>rP(r,{sourceIndex:e.sourceIndex,sourceZone:e.destinationZone,destinationIndex:e.destinationIndex,destinationZone:e.destinationZone},t);ee();var bD=(r,e,t)=>{const s=mi({index:e.index,zone:e.zone},r),i=Object.entries(r.indexes.nodes).reduce((o,[l,u])=>u.path.map(h=>h.split(":")[0]).includes(s.props.id)?[...o,l]:o,[s.props.id]),n=Er(r,t.config,(o,l)=>l===e.zone?Av(o,e.index):o);return Object.keys(n.data.zones||{}).forEach(o=>{const l=o.split(":")[0];i.includes(l)&&n.data.zones&&delete n.data.zones[o]}),Object.keys(n.indexes.zones).forEach(o=>{const l=o.split(":")[0];i.includes(l)&&delete n.indexes.zones[o]}),i.forEach(o=>{delete n.indexes.nodes[o]}),n};ee();var Vh={};function CD(r,e){return Vh[e.zone]?pe(J({},r),{data:pe(J({},r.data),{zones:pe(J({},r.data.zones),{[e.zone]:Vh[e.zone]})}),indexes:pe(J({},r.indexes),{zones:pe(J({},r.indexes.zones),{[e.zone]:pe(J({},r.indexes.zones[e.zone]),{contentIds:Vh[e.zone].map(t=>t.props.id),type:"dropzone"})})})}):pe(J({},r),{data:wE(r.data,e.zone)})}function wD(r,e){const t=J({},r.data.zones||{}),s=J({},r.indexes.zones||{});return t[e.zone]&&(Vh[e.zone]=t[e.zone],delete t[e.zone]),delete s[e.zone],pe(J({},r),{data:pe(J({},r.data),{zones:t}),indexes:pe(J({},r.indexes),{zones:s})})}ee();var SD=(r,e,t)=>typeof e.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),Er(pe(J({},r),{data:J(J({},r.data),e.data)}),t.config)):Er(pe(J({},r),{data:J(J({},r.data),e.data(r.data))}),t.config);ee();var ED=(r,e)=>typeof e.ui=="object"?pe(J({},r),{ui:J(J({},r.ui),e.ui)}):pe(J({},r),{ui:J(J({},r.ui),e.ui(r.ui))});ee();var Id=r=>{const{data:e,ui:t}=r;return{data:e,ui:t}};ee();function VD(r,e,t){return(s,i)=>{const n=r(s,i),o=!["registerZone","unregisterZone","setData","setUi","set"].includes(i.type);return(typeof i.recordHistory<"u"?i.recordHistory:o)&&e&&e(n),t==null||t(i,Id(n),Id(s)),n}}function dw({record:r,onAction:e,appStore:t}){return VD((s,i)=>i.type==="set"?gD(s,i,t):i.type==="insert"?sP(s,i,t):i.type==="replace"?fD(s,i,t):i.type==="replaceRoot"?vD(s,i,t):i.type==="duplicate"?yD(s,i,t):i.type==="reorder"?xD(s,i,t):i.type==="move"?rP(s,i,t):i.type==="remove"?bD(s,i,t):i.type==="registerZone"?CD(s,i):i.type==="unregisterZone"?wD(s,i):i.type==="setData"?SD(s,i,t):i.type==="setUi"?ED(s,i):s,r,e)}ee();ee();var cw={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},Oo=PE()(IE(r=>({held:{},hold:e=>r(t=>t.held[e]?t:{held:pe(J({},t.held),{[e]:!0})}),release:e=>r(t=>t.held[e]?{held:pe(J({},t.held),{[e]:!1})}:t),reset:(e={})=>r(()=>({held:e})),triggers:{}}))),iP=r=>{const e=i=>{const n=cw[i.code];if(n){Oo.getState().hold(n);const{held:o,triggers:l}=Oo.getState();Object.values(l).forEach(({combo:u,cb:c})=>{Object.entries(u).every(([p,m])=>m===!!o[p])&&Object.entries(o).every(([p,m])=>m===!!u[p])&&(i.preventDefault(),c())}),n!=="meta"&&n!=="ctrl"&&n!=="shift"&&Oo.getState().release(n)}},t=i=>{const n=cw[i.code];n&&(n==="meta"?Oo.getState().reset():Oo.getState().release(n))},s=i=>{document.visibilityState==="hidden"&&Oo.getState().reset()};return r.addEventListener("keydown",e),r.addEventListener("keyup",t),r.addEventListener("visibilitychange",s),()=>{r.removeEventListener("keydown",e),r.removeEventListener("keyup",t),r.removeEventListener("visibilitychange",s)}},PD=()=>{d.useEffect(()=>iP(document),[])},On=(r,e)=>{d.useEffect(()=>Oo.setState(t=>({triggers:pe(J({},t.triggers),{[`${Object.keys(r).join("+")}`]:{combo:r,cb:e}})})),[])},hw=0;function ID(r,e=300){let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>{r(...s)},e)}}var pw=r=>pe(J({},r),{ui:pe(J({},r.ui),{field:{focus:null}})}),TD=(r,e)=>{const t=ID(s=>{const{histories:i,index:n}=e().history,o={state:s,id:Vr("history")},l=[...i.slice(0,n+1),o];r({history:pe(J({},e().history),{histories:l,index:l.length-1})})},250);return{initialAppState:{},index:hw,histories:[],hasPast:()=>e().history.index>hw,hasFuture:()=>e().history.index<e().history.histories.length-1,prevHistory:()=>{const{history:s}=e();return s.hasPast()?s.histories[s.index-1]:null},nextHistory:()=>{const s=e().history;return s.hasFuture()?s.histories[s.index+1]:null},currentHistory:()=>e().history.histories[e().history.index],back:()=>{var s;const{history:i,dispatch:n}=e();if(i.hasPast()){const o=pw(((s=i.prevHistory())==null?void 0:s.state)||i.initialAppState);n({type:"set",state:o}),r({history:pe(J({},i),{index:i.index-1})})}},forward:()=>{var s;const{history:i,dispatch:n}=e();if(i.hasFuture()){const o=(s=i.nextHistory())==null?void 0:s.state;n({type:"set",state:o?pw(o):{}}),r({history:pe(J({},i),{index:i.index+1})})}},setHistories:s=>{var i;const{dispatch:n,history:o}=e();n({type:"set",state:((i=s[s.length-1])==null?void 0:i.state)||o.initialAppState}),r({history:pe(J({},o),{histories:s,index:s.length-1})})},setHistoryIndex:s=>{var i;const{dispatch:n,history:o}=e();n({type:"set",state:((i=o.histories[s])==null?void 0:i.state)||o.initialAppState}),r({history:pe(J({},o),{index:s})})},record:t}};function kD(r,{histories:e,index:t,initialAppState:s}){d.useEffect(()=>r.setState({history:pe(J({},r.getState().history),{histories:e,index:t,initialAppState:s})}),[e,t,s]);const i=()=>{r.getState().history.back()},n=()=>{r.getState().history.forward()};On({meta:!0,z:!0},i),On({meta:!0,shift:!0,z:!0},n),On({meta:!0,y:!0},n),On({ctrl:!0,z:!0},i),On({ctrl:!0,shift:!0,z:!0},n),On({ctrl:!0,y:!0},n)}ee();var ND=(r,e)=>({nodes:{},registerNode:(t,s)=>{const i=e().nodes,n={id:t,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},o=i.nodes[t];r({nodes:pe(J({},i),{nodes:pe(J({},i.nodes),{[t]:pe(J(J(J({},n),o),s),{id:t})})})})},unregisterNode:t=>{const s=e().nodes;if(s.nodes[t]){const n=J({},s.nodes);delete n[t],r({nodes:pe(J({},s),{nodes:n})})}}});ee();ee();var mw=(r,e)=>{const t=[];return Er(r,e,s=>s,s=>(t.push(s),null)),t},RD=(r,e)=>{const t=(...i)=>ds(void 0,[...i],function*(n={},o){const{state:l,permissions:u,config:c}=e(),{cache:h,globalPermissions:p}=u,m=(g,y=!1)=>ds(void 0,null,function*(){var w,S,P;const{config:V,state:I,setComponentLoading:E}=e(),R=g.type==="root"?V.root:V.components[g.type];if(!R)return;const C=J(J({},p),R.permissions);if(R.resolvePermissions){const k=c0(g,(w=h[g.props.id])==null?void 0:w.lastData);if(Object.values(k).some(L=>L===!0)||y){const L=E(g.props.id,!0,50),D=yield R.resolvePermissions(g,{changed:k,lastPermissions:((S=h[g.props.id])==null?void 0:S.lastPermissions)||null,permissions:C,appState:Id(I),lastData:((P=h[g.props.id])==null?void 0:P.lastData)||null}),q=e().permissions;r({permissions:pe(J({},q),{cache:pe(J({},q.cache),{[g.props.id]:{lastData:g,lastPermissions:D}}),resolvedPermissions:pe(J({},q.resolvedPermissions),{[g.props.id]:D})})}),L()}}}),v=(g=!1)=>{const{state:y}=e();m({type:"root",props:pe(J({},y.data.root.props),{id:"root"})},g)},{item:f,type:b,root:x}=n;f?yield m(f,o):b?mw(l,c).filter(g=>g.type===b).map(g=>ds(void 0,null,function*(){yield m(g,o)})):x?v(o):mw(l,c).map(g=>ds(void 0,null,function*(){yield m(g,o)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:i,type:n,root:o}={})=>{const{config:l,permissions:u}=e(),{globalPermissions:c,resolvedPermissions:h}=u;if(i){const p=l.components[i.type],m=J(J({},c),p==null?void 0:p.permissions),v=h[i.props.id];return v?J(J({},c),v):m}else if(n){const p=l.components[n];return J(J({},c),p==null?void 0:p.permissions)}else if(o){const p=l.root,m=J(J({},c),p==null?void 0:p.permissions),v=h.root;return v?J(J({},c),v):m}return c},resolvePermissions:t,refreshPermissions:i=>t(i,!0)}},LD=(r,e)=>{d.useEffect(()=>{const{permissions:t}=r.getState(),{globalPermissions:s}=t;r.setState({permissions:pe(J({},t),{globalPermissions:J(J({},s),e)})}),t.resolvePermissions()},[e]),d.useEffect(()=>r.subscribe(t=>t.state.data,()=>{r.getState().permissions.resolvePermissions()}),[]),d.useEffect(()=>r.subscribe(t=>t.config,()=>{r.getState().permissions.resolvePermissions()}),[])};ee();var AD=(r,e)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),DD=(r,e)=>{const t=d.useCallback(s=>ds(void 0,null,function*(){var i,n;const{fields:o,lastResolvedData:l}=r.getState().fields,u=r.getState().state.indexes.nodes,c=u[e||"root"],h=c==null?void 0:c.data,p=c!=null&&c.parentId?u[c.parentId]:null,m=(p==null?void 0:p.data)||null,{getComponentConfig:v,state:f}=r.getState(),b=v(h==null?void 0:h.type);if(!h||!b)return;const x=b.fields||{},g=b.resolveFields;let y=o;if(s&&(r.setState(w=>({fields:pe(J({},w.fields),{fields:x,id:e})})),y=x),g){const w=setTimeout(()=>{r.setState(I=>({fields:pe(J({},I.fields),{loading:!0})}))},50),S=((i=l.props)==null?void 0:i.id)===e?l:null,P=c0(h,S),V=yield g(h,{changed:P,fields:x,lastFields:y,lastData:S,appState:Id(f),parent:m});if(clearTimeout(w),((n=r.getState().selectedItem)==null?void 0:n.props.id)!==e)return;r.setState({fields:{fields:V,loading:!1,lastResolvedData:h,id:e}})}else r.setState(w=>({fields:pe(J({},w.fields),{fields:x,id:e})}))}),[e]);d.useEffect(()=>(t(!0),r.subscribe(s=>s.state.indexes.nodes[e||"root"],()=>t())),[e])};ee();var MD=r=>{if("type"in r&&r.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:e}=r;if(r.props){if("id"in r.props){const t=r.props,{id:s}=t;return{props:yo(t,["id"]),readOnly:e}}return{props:r.props,readOnly:e}}return{props:{},readOnly:e}},jD={title:{type:"text"}},nP=r=>PE()(IE((e,t)=>{var s,i;return pe(J({state:sv,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:up,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{},fieldTransforms:{}},r),{fields:AD(),history:TD(e,t),nodes:ND(e,t),permissions:RD(e,t),getComponentConfig:n=>{var o;const{config:l,selectedItem:u}=t(),c=((o=l.root)==null?void 0:o.fields)||jD;return n&&n!=="root"?l.components[n]:u?l.components[u.type]:pe(J({},l.root),{fields:c})},selectedItem:(s=r==null?void 0:r.state)!=null&&s.ui.itemSelector?mi((i=r==null?void 0:r.state)==null?void 0:i.ui.itemSelector,r.state):null,dispatch:n=>e(o=>{var l,u;const{record:c}=t().history,p=dw({record:c,appStore:o})(o.state,n),m=p.ui.itemSelector?mi(p.ui.itemSelector,p):null;return(u=(l=t()).onAction)==null||u.call(l,n,p,t().state),pe(J({},o),{state:p,selectedItem:m})}),setZoomConfig:n=>e({zoomConfig:n}),setStatus:n=>e({status:n}),setComponentState:n=>e({componentState:n}),pendingLoadTimeouts:{},setComponentLoading:(n,o=!0,l=0)=>{const{setComponentState:u,pendingLoadTimeouts:c}=t(),h=Vr(),p=()=>{var f;const{componentState:b}=t();u(pe(J({},b),{[n]:pe(J({},b[n]),{loadingCount:(((f=b[n])==null?void 0:f.loadingCount)||0)+1})}))},m=()=>{var f;const{componentState:b}=t();clearTimeout(v),delete c[h],e({pendingLoadTimeouts:c}),u(pe(J({},b),{[n]:pe(J({},b[n]),{loadingCount:Math.max((((f=b[n])==null?void 0:f.loadingCount)||0)-1,0)})}))},v=setTimeout(()=>{o?p():m(),delete c[h],e({pendingLoadTimeouts:c})},l);return e({pendingLoadTimeouts:pe(J({},c),{[n]:v})}),m},unsetComponentLoading:n=>{const{setComponentLoading:o}=t();o(n,!1)},setUi:(n,o)=>e(l=>{const c=dw({record:()=>{},appStore:l})(l.state,{type:"setUi",ui:n,recordHistory:o}),h=c.ui.itemSelector?mi(c.ui.itemSelector,c):null;return pe(J({},l),{state:c,selectedItem:h})}),resolveComponentData:(n,o)=>ds(void 0,null,function*(){const{config:l,metadata:u,setComponentLoading:c,permissions:h}=t(),p={};return yield CE(n,l,u,m=>{const v="id"in m.props?m.props.id:"root";p[v]=c(v,!0,50)},m=>ds(void 0,null,function*(){const v="id"in m.props?m.props.id:"root";"type"in m?yield h.refreshPermissions({item:m}):yield h.refreshPermissions({root:!0}),p[v]()}),o)}),resolveAndCommitData:()=>ds(void 0,null,function*(){const{config:n,state:o,dispatch:l,resolveComponentData:u}=t();Er(o,n,c=>c,c=>(u(c,"load").then(h=>{const{state:p}=t(),m=p.indexes.nodes[h.node.props.id];if(m&&h.didChange)if(h.node.props.id==="root")l({type:"replaceRoot",root:MD(h.node)});else{const v=`${m.parentId}:${m.zone}`,b=p.indexes.zones[v].contentIds.indexOf(h.node.props.id);l({type:"replace",data:h.node,destinationIndex:b,destinationZone:v})}}),c))})})})),px=d.createContext(nP());function be(r){const e=d.useContext(px);return p0(e,r)}function cr(){return d.useContext(px)}ee();ee();ee();var _D="Invariant failed";function OD(r,e){throw new Error(_D)}var Wc=function(e){var t=e.top,s=e.right,i=e.bottom,n=e.left,o=s-n,l=i-t,u={top:t,right:s,bottom:i,left:n,width:o,height:l,x:n,y:t,center:{x:(s+n)/2,y:(i+t)/2}};return u},FD=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},gw=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},jg={top:0,right:0,bottom:0,left:0},BD=function(e){var t=e.borderBox,s=e.margin,i=s===void 0?jg:s,n=e.border,o=n===void 0?jg:n,l=e.padding,u=l===void 0?jg:l,c=Wc(FD(t,i)),h=Wc(gw(t,o)),p=Wc(gw(h,u));return{marginBox:c,borderBox:Wc(t),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},Lr=function(e){var t=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var i=Number(t);return isNaN(i)&&OD(),i},qD=function(e,t){var s={top:Lr(t.marginTop),right:Lr(t.marginRight),bottom:Lr(t.marginBottom),left:Lr(t.marginLeft)},i={top:Lr(t.paddingTop),right:Lr(t.paddingRight),bottom:Lr(t.paddingBottom),left:Lr(t.paddingLeft)},n={top:Lr(t.borderTopWidth),right:Lr(t.borderRightWidth),bottom:Lr(t.borderBottomWidth),left:Lr(t.borderLeftWidth)};return BD({borderBox:e,margin:s,padding:i,border:n})},oP=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return qD(t,s)},zD=(r,e,t)=>{const s=oP(e),{width:i,height:n}=s.contentBox,o=r.height==="auto"?n:r.height;let l=0,u=1;if(r.width>i||o>n){const c=Math.min(i/r.width,1),h=Math.min(n/o,1);t=c,c<h?l=o/t:(l=o,t=h),u=t}else u=1,t=1,l=o;return{autoZoom:u,rootHeight:l,zoom:t}},aP=r=>{const e=cr();return s=>{const{state:i,zoomConfig:n,setZoomConfig:o}=e.getState(),{viewports:l}=i.ui,u=(s==null?void 0:s.viewports)||l;r.current&&o(zD(u==null?void 0:u.current,r.current,n.zoom))}};ee();var HD={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},QD=ht("Loader",HD),pa=r=>{var e=r,{color:t,size:s=16}=e,i=yo(e,["color","size"]);return a.jsx("span",J({className:QD(),style:{width:s,height:s,color:t},"aria-label":"loading"},i))},fw=ht("IconButton",pD),gi=({children:r,href:e,onClick:t,variant:s="primary",type:i,disabled:n,tabIndex:o,newTab:l,fullWidth:u,title:c})=>{const[h,p]=d.useState(!1),m=e?"a":"button";return a.jsxs(m,{className:fw({primary:s==="primary",secondary:s==="secondary",disabled:n,fullWidth:u}),onClick:f=>{t&&(p(!0),Promise.resolve(t(f)).then(()=>{p(!1)}))},type:i,disabled:n||h,tabIndex:o,target:l?"_blank":void 0,rel:l?"noreferrer":void 0,href:e,title:c,children:[a.jsx("span",{className:fw("title"),children:c}),r,h&&a.jsxs(a.Fragment,{children:["",a.jsx(pa,{size:14})]})]})};ee();ee();var WD={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};ee();var UD=/^(data-.*)$/,$D=r=>{let e={};for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&UD.test(t)&&(e[t]=r[t]);return e},_g=ht("Button",WD),Dv=r=>{var e=r,{children:t,href:s,onClick:i,variant:n="primary",type:o,disabled:l,tabIndex:u,newTab:c,fullWidth:h,icon:p,size:m="medium",loading:v=!1}=e,f=yo(e,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[b,x]=d.useState(v);d.useEffect(()=>x(v),[v]);const g=s?"a":o?"button":"span",y=$D(f);return a.jsxs(g,pe(J({className:_g({primary:n==="primary",secondary:n==="secondary",disabled:l,fullWidth:h,[m]:!0}),onClick:S=>{i&&(x(!0),Promise.resolve(i(S)).then(()=>{x(!1)}))},type:o,disabled:l||b,tabIndex:u,target:c?"_blank":void 0,rel:c?"noreferrer":void 0,href:s},y),{children:[p&&a.jsx("div",{className:_g("icon"),children:p}),t,b&&a.jsx("div",{className:_g("spinner"),children:a.jsx(pa,{size:14})})]}))};ee();ee();var Hl={InputWrapper:"_InputWrapper_bsxfo_1","Input-label":"_Input-label_bsxfo_5","Input-labelIcon":"_Input-labelIcon_bsxfo_14","Input-disabledIcon":"_Input-disabledIcon_bsxfo_21","Input-input":"_Input-input_bsxfo_26",Input:"_Input_bsxfo_1","Input--readOnly":"_Input--readOnly_bsxfo_82","Input-radioGroupItems":"_Input-radioGroupItems_bsxfo_93","Input-radio":"_Input-radio_bsxfo_93","Input-radioInner":"_Input-radioInner_bsxfo_110","Input-radioInput":"_Input-radioInput_bsxfo_155"};ee();ee();ee();var lP={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};ee();ee();ee();var GD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uP=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();ee();ee();var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},JD=d.forwardRef((r,e)=>{var t=r,{color:s="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:c}=t,h=yo(t,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return d.createElement("svg",J(pe(J({ref:e},ZD),{width:i,height:i,stroke:s,strokeWidth:o?Number(n)*24/Number(i):n,className:uP("lucide",l)}),h),[...c.map(([p,m])=>d.createElement(p,m)),...Array.isArray(u)?u:[u]])}),Rt=(r,e)=>{const t=d.forwardRef((s,i)=>{var n=s,{className:o}=n,l=yo(n,["className"]);return d.createElement(JD,J({ref:i,iconNode:e,className:uP(`lucide-${GD(r)}`,o)},l))});return t.displayName=`${r}`,t};ee();var cm=Rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);ee();var KD=Rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);ee();var dP=Rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);ee();var YD=Rt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);ee();var cP=Rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);ee();var XD=Rt("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);ee();var eM=Rt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);ee();var vw=Rt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);ee();var tM=Rt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);ee();var sM=Rt("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);ee();var rM=Rt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);ee();var hP=Rt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);ee();var iM=Rt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);ee();var nM=Rt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);ee();var oM=Rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);ee();var aM=Rt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);ee();var lM=Rt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);ee();var uM=Rt("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);ee();var dM=Rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);ee();var cM=Rt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);ee();var hM=Rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);ee();var pM=Rt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);ee();var mM=Rt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);ee();var gM=Rt("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);ee();var pP=Rt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);ee();var mx=Rt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);ee();var fM=Rt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);ee();var vM=Rt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);ee();var yM=Rt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);ee();ee();ee();var xM={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},bM=ht("DragIcon",xM),mP=({isDragDisabled:r})=>a.jsx("div",{className:bM({disabled:r}),children:a.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:a.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});ee();ee();var yw={delay:{value:200,tolerance:10}},xw={delay:{value:200,tolerance:10},distance:{value:5}},gP=({other:r=xw,mouse:e,touch:t=yw}={touch:yw,other:xw})=>{const[s]=d.useState(()=>[vV.configure({activationConstraints(i,n){var o;const{pointerType:l,target:u}=i;return l==="mouse"&&Ol(u)&&(n.handle===u||(o=n.handle)!=null&&o.contains(u))?e:l==="touch"?t:r}})]);return s};ee();ee();ee();var Da=(r,e,t,s,i)=>{},Og="increasing",CM=(r,e)=>{var t;const{dragOperation:s,droppable:i}=r,{shape:n}=i,{position:o}=s,l=(t=s.shape)==null?void 0:t.current;if(!l||!n)return null;const u=n.center,c=Math.sqrt(Math.pow(u.x-e.x,2)+Math.pow(u.y-e.y,2)),h=Math.sqrt(Math.pow(u.x-o.current.x,2)+Math.pow(u.y-o.current.y,2));return Og=h===c?Og:h<c?"decreasing":"increasing",Da(l.center,u,i.id.toString()),Og==="decreasing"?{id:i.id,value:1,type:Wi.Collision}:null};ee();var fP=(r,e)=>r==="dynamic"?Math.abs(e.y)>Math.abs(e.x)?e.y===0?null:e.y>0?"down":"up":e.x===0?null:e.x>0?"right":"left":r==="x"?e.x===0?null:e.x>0?"right":"left":e.y===0?null:e.y>0?"down":"up";ee();var wM=(r,e,t,s=0)=>{const i=r.boundingRectangle,n=e.center;if(t==="down"){const l=s*e.boundingRectangle.height;return i.bottom>=n.y+l}else if(t==="up"){const l=s*e.boundingRectangle.height;return i.top<n.y-l}else if(t==="left"){const l=s*e.boundingRectangle.width;return n.x-l>=i.left}const o=s*e.boundingRectangle.width;return i.right-o>=n.x};ee();var bw=10,Xr={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},SM=(r,e="dynamic")=>(Xr.current=r,Xr.delta={x:r.x-Xr.previous.x,y:r.y-Xr.previous.y},Xr.direction=fP(e,Xr.delta)||Xr.direction,(Math.abs(Xr.delta.x)>bw||Math.abs(Xr.delta.y)>bw)&&(Xr.previous=Us.from(r)),Xr);ee();var EM=({dragOperation:r,droppable:e})=>{const t=r.position.current;if(!t)return null;const{id:s}=e;if(!e.shape)return null;if(e.shape.containsPoint(t)){const i=Us.distance(e.shape.center,t);return{id:s,value:1/i,type:Wi.PointerIntersection,priority:Or.High}}return null},VM=r=>{const{dragOperation:e,droppable:t}=r,{shape:s,position:i}=e;if(!t.shape)return null;const n=s?yi.from(s.current.boundingRectangle).corners:void 0,l=yi.from(t.shape.boundingRectangle).corners.reduce((u,c,h)=>{var p;return u+Us.distance(Us.from(c),(p=n==null?void 0:n[h])!=null?p:i.current)},0)/4;return{id:t.id,value:1/l,type:Wi.Collision,priority:Or.Normal}};ee();var Mv=Qd(()=>({fallbackEnabled:!1})),Fg="",vP=(r,e=.05)=>t=>{var s,i,n,o,l;const{dragOperation:u,droppable:c}=t,{position:h}=u,p=(s=u.shape)==null?void 0:s.current,{shape:m}=c;if(!p||!m)return null;const{center:v}=p,{fallbackEnabled:f}=Mv.getState(),b=SM(h.current,r),x={direction:b.direction},{center:g}=m,y=wM(p,m,b.direction,e);if(((i=u.source)==null?void 0:i.id)===c.id){const P=CM(t,b.previous);if(Da(v,g,c.id.toString()),P)return pe(J({},P),{priority:Or.Highest,data:x})}const w=p.intersectionArea(m),S=w/m.area;if(w&&y){Da(v,g,c.id.toString());const P={id:c.id,value:S,priority:Or.High,type:Wi.Collision},V=Fg===c.id;return Fg="",pe(J({},P),{id:V?"flush":P.id,data:x})}if(f&&((n=u.source)==null?void 0:n.id)!==c.id){const P=m.boundingRectangle.right>p.boundingRectangle.left&&m.boundingRectangle.left<p.boundingRectangle.right,V=m.boundingRectangle.bottom>p.boundingRectangle.top&&m.boundingRectangle.top<p.boundingRectangle.bottom;if(r==="y"&&P||V){const I=VM(t);if(I){const E=fP(r,{x:p.center.x-(((o=c.shape)==null?void 0:o.center.x)||0),y:p.center.y-(((l=c.shape)==null?void 0:l.center.y)||0)});return x.direction=E,w?(Da(v,g,c.id.toString()),Fg=c.id,pe(J({},I),{priority:Or.Low,data:x})):(Da(v,g,c.id.toString()),pe(J({},I),{priority:Or.Lowest,data:x}))}}}return Da(v,g,c.id.toString()),null},PM=({children:r,onDragStart:e,onDragEnd:t,onMove:s})=>{const i=gP({mouse:{distance:{value:5}}});return a.jsx(RV,{sensors:i,onDragStart:n=>{var o,l;return e((l=(o=n.operation.source)==null?void 0:o.id.toString())!=null?l:"")},onDragOver:(n,o)=>{var l;n.preventDefault();const{operation:u}=n,{source:c,target:h}=u;if(!c||!h)return;let p=c.data.index,m=h.data.index;const v=(l=o.collisionObserver.collisions[0])==null?void 0:l.data;if(p!==m&&c.id!==h.id){const f=(v==null?void 0:v.direction)==="up"?"before":"after";m>=p&&(m=m-1),f==="after"&&(m=m+1),s({source:p,target:m})}},onDragEnd:()=>{setTimeout(()=>{t()},250)},children:r})},IM=({id:r,index:e,disabled:t,children:s,type:i="item"})=>{const{ref:n,isDragging:o,isDropping:l,handleRef:u}=XV({id:r,type:i,index:e,disabled:t,data:{index:e},collisionDetector:vP("y")});return s({isDragging:o,isDropping:l,ref:n,handleRef:u})};ee();var Ep=d.createContext({}),yP=()=>{const r=d.useContext(Ep);return pe(J({},r),{readOnlyFields:r.readOnlyFields||{}})},xP=({children:r,name:e,subName:t,wildcardName:s=e,readOnlyFields:i})=>{const n=`${e}.${t}`,o=`${s}.${t}`,l=d.useMemo(()=>Object.keys(i).reduce((u,c)=>{if(c.indexOf(n)>-1||c.indexOf(o)>-1){const p=new RegExp(`^(${e}|${s}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),m=c.replace(p,"");return pe(J({},u),{[m]:i[c]})}return u},{}),[e,t,s,i]);return a.jsx(Ep.Provider,{value:{readOnlyFields:l,localName:t},children:r})},Bg=ht("ArrayField",lP),Pn=ht("ArrayFieldItem",lP),TM=({field:r,onChange:e,value:t,name:s,label:i,labelIcon:n,readOnly:o,id:l,Label:u=c=>a.jsx("div",J({},c))})=>{const c=be(D=>D.state.ui.arrayState[l]),h=be(D=>D.setUi),{readOnlyFields:p,localName:m=s}=yP(),v=t,f=c||{items:Array.from(v||[]).map((D,q)=>({_originalIndex:q,_arrayId:`${l}-${q}`})),openId:""},[b,x]=d.useState({arrayState:f,value:v});d.useEffect(()=>{var D;const q=(D=g.getState().state.ui.arrayState[l])!=null?D:f;x({arrayState:q,value:v})},[v]);const g=cr(),y=d.useCallback(D=>{const q=g.getState().state;return{arrayState:pe(J({},q.ui.arrayState),{[l]:J(J({},f),D)})}},[f,g]),w=d.useCallback(()=>f.items.reduce((D,q)=>q._originalIndex>D?q._originalIndex:D,-1),[f]),S=d.useCallback(D=>{let q=w();const U=Array.from(D||[]).map(($,K)=>{var M;const j=f.items[K],B={_originalIndex:typeof(j==null?void 0:j._originalIndex)<"u"?j._originalIndex:q+1,_arrayId:((M=f.items[K])==null?void 0:M._arrayId)||`${l}-${q+1}`};return B._originalIndex>q&&(q=B._originalIndex),B});return pe(J({},f),{items:U})},[f]);d.useEffect(()=>{f.items.length>0&&h(y(f))},[]);const[P,V]=d.useState(""),I=!!P,R=!be(D=>D.permissions.getPermissions({item:D.selectedItem}).edit),C=d.useRef(v),k=d.useCallback(D=>{if(r.type!=="array"||!r.arrayFields)return;const q=g.getState().config;return lp({value:D,fields:r.arrayFields,mappers:{slot:({value:U})=>U.map(K=>tP(K,q,!0))},config:q})},[g,r]);if(r.type!=="array"||!r.arrayFields)return null;const L=r.max!==void 0&&b.arrayState.items.length>=r.max||o;return a.jsx(u,{label:i||s,icon:n||a.jsx(iM,{size:16}),el:"div",readOnly:o,children:a.jsx(PM,{onDragStart:D=>V(D),onDragEnd:()=>{V(""),e(C.current)},onMove:D=>{if(f.items[D.source]._arrayId!==P)return;const q=uw(b.value,D.source,D.target),U=uw(f.items,D.source,D.target),$=g.getState().state,K={arrayState:pe(J({},$.ui.arrayState),{[l]:pe(J({},f),{items:U})})};h(K,!1),x({value:q,arrayState:pe(J({},f),{items:U})}),C.current=q},children:a.jsxs("div",{className:Bg({hasItems:Array.isArray(v)&&v.length>0,addDisabled:L}),children:[b.arrayState.items.length>0&&a.jsx("div",{className:Bg("inner"),"data-dnd-container":!0,children:b.arrayState.items.map((D,q)=>{const{_arrayId:U=`${l}-${q}`,_originalIndex:$=q}=D,K=Array.from(b.value||[])[q]||{};return a.jsx(IM,{id:U,index:q,disabled:o,children:({isDragging:M,ref:j,handleRef:B})=>a.jsxs("div",{ref:j,className:Pn({isExpanded:f.openId===U,isDragging:M,readOnly:o}),children:[a.jsxs("div",{ref:B,onClick:Q=>{M||(Q.preventDefault(),Q.stopPropagation(),f.openId===U?h(y({openId:""})):h(y({openId:U})))},className:Pn("summary"),children:[r.getItemSummary?r.getItemSummary(K,q):`Item #${$}`,a.jsxs("div",{className:Pn("rhs"),children:[!o&&a.jsxs("div",{className:Pn("actions"),children:[a.jsx("div",{className:Pn("action"),children:a.jsx(gi,{type:"button",disabled:!!L,onClick:Q=>{Q.stopPropagation();const G=[...v||[]],X=k(G[q]);G.splice(q,0,X);const de=y(S(G));h(de,!1),e(G)},title:"Duplicate",children:a.jsx(cP,{size:16})})}),a.jsx("div",{className:Pn("action"),children:a.jsx(gi,{type:"button",disabled:r.min!==void 0&&r.min>=b.arrayState.items.length,onClick:Q=>{Q.stopPropagation();const G=[...v||[]],X=[...f.items||[]];G.splice(q,1),X.splice(q,1),h(y({items:X}),!1),e(G)},title:"Delete",children:a.jsx(pP,{size:16})})})]}),a.jsx("div",{children:a.jsx(mP,{})})]})]}),a.jsx("div",{className:Pn("body"),children:f.openId===U&&a.jsx("fieldset",{className:Pn("fieldset"),children:Object.keys(r.arrayFields).map(Q=>{const G=r.arrayFields[Q],de=`${`${s}[${q}]`}.${Q}`,se=`${m}[${q}]`,fe=`${m}[*]`,oe=`${se}.${Q}`,ie=`${fe}.${Q}`,_=R||(typeof p[de]<"u"?p[oe]:p[ie]),O=G.label||Q;return a.jsx(xP,{name:se,wildcardName:fe,subName:Q,readOnlyFields:p,children:a.jsx(hm,{name:de,label:O,id:`${U}_${Q}`,readOnly:_,field:pe(J({},G),{label:O}),value:K[Q],onChange:(Z,le)=>{e(mD(v,q,pe(J({},K),{[Q]:Z})),le)}})},de)})})})]})},U)})}),!L&&a.jsx("button",{type:"button",className:Bg("addButton"),onClick:()=>{var D;if(I)return;const q=v||[],U=l0(k((D=r.defaultItemProps)!=null?D:{}),r.arrayFields),$=[...q,U],K=S($);h(y(K),!1),e($)},children:a.jsx(dM,{size:21})})]})})})};ee();var kM=ht("Input",Hl),Cw=({field:r,onChange:e,readOnly:t,value:s,name:i,label:n,labelIcon:o,Label:l,id:u})=>{const c=s;return a.jsx(l,{label:n||i,icon:o||a.jsxs(a.Fragment,{children:[r.type==="text"&&a.jsx(mx,{size:16}),r.type==="number"&&a.jsx(tM,{size:16})]}),readOnly:t,children:a.jsx("input",{className:kM("input"),autoComplete:"off",type:r.type,title:n||i,name:i,value:c!=null&&c.toString?c.toString():"",onChange:h=>{if(r.type==="number"){const p=Number(h.currentTarget.value);if(typeof r.min<"u"&&p<r.min||typeof r.max<"u"&&p>r.max)return;e(p)}else e(h.currentTarget.value)},readOnly:t,tabIndex:t?-1:void 0,id:u,min:r.type==="number"?r.min:void 0,max:r.type==="number"?r.max:void 0,placeholder:r.type==="text"||r.type==="number"?r.placeholder:void 0,step:r.type==="number"?r.step:void 0})})};ee();ee();ee();var bP={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};ee();ee();var NM={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},ww=ht("Modal",NM),RM=({children:r,onClose:e,isOpen:t})=>{const[s,i]=d.useState(null);return d.useEffect(()=>{i(document.getElementById("puck-portal-root"))},[]),s?cn.createPortal(a.jsx("div",{className:ww({isOpen:t}),onClick:e,children:a.jsx("div",{className:ww("inner"),onClick:n=>n.stopPropagation(),children:r})}),s):a.jsx("div",{})};ee();ee();var LM={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},AM=ht("Heading",LM),gx=({children:r,rank:e,size:t="m"})=>{const s=e?`h${e}`:"span";return a.jsx(s,{className:AM({[t]:!0}),children:r})};ee();var Uc=ht("ExternalInput",bP),Gt=ht("ExternalInputModal",bP),Sw={},DM=({field:r,onChange:e,value:t=null,name:s,id:i,readOnly:n})=>{const{mapProp:o=C=>C,mapRow:l=C=>C,filterFields:u}=r||{},[c,h]=d.useState([]),[p,m]=d.useState(!1),[v,f]=d.useState(!0),b=!!u,[x,g]=d.useState(r.initialFilters||{}),[y,w]=d.useState(b),S=d.useMemo(()=>c.map(l),[c]),P=d.useMemo(()=>{const C=new Set;for(const k of S)for(const L of Object.keys(k))(typeof k[L]=="string"||typeof k[L]=="number"||d.isValidElement(k[L]))&&C.add(L);return Array.from(C)},[S]),[V,I]=d.useState(r.initialQuery||""),E=d.useCallback((C,k)=>ds(void 0,null,function*(){f(!0);const L=`${i}-${C}-${JSON.stringify(k)}`,D=Sw[L]||(yield r.fetchList({query:C,filters:k}));D&&(h(D),f(!1),Sw[L]=D)}),[i,r]),R=d.useCallback(C=>r.renderFooter?r.renderFooter(C):a.jsxs("span",{className:Gt("footer"),children:[C.items.length," result",C.items.length===1?"":"s"]}),[r.renderFooter]);return d.useEffect(()=>{E(V,x)},[]),a.jsxs("div",{className:Uc({dataSelected:!!t,modalVisible:p,readOnly:n}),id:i,children:[a.jsxs("div",{className:Uc("actions"),children:[a.jsx("button",{type:"button",onClick:()=>m(!0),className:Uc("button"),disabled:n,children:t?r.getItemSummary?r.getItemSummary(t):"External item":a.jsxs(a.Fragment,{children:[a.jsx(hP,{size:"16"}),a.jsx("span",{children:r.placeholder})]})}),t&&a.jsx("button",{type:"button",className:Uc("detachButton"),onClick:()=>{e(null)},disabled:n,children:a.jsx(nM,{size:16})})]}),a.jsx(RM,{onClose:()=>m(!1),isOpen:p,children:a.jsxs("form",{className:Gt({isLoading:v,loaded:!v,hasData:S.length>0,filtersToggled:y}),onSubmit:C=>{C.preventDefault(),E(V,x)},children:[a.jsx("div",{className:Gt("masthead"),children:r.showSearch?a.jsxs("div",{className:Gt("searchForm"),children:[a.jsxs("label",{className:Gt("search"),children:[a.jsx("span",{className:Gt("searchIconText"),children:"Search"}),a.jsx("div",{className:Gt("searchIcon"),children:a.jsx(hM,{size:"18"})}),a.jsx("input",{className:Gt("searchInput"),name:"q",type:"search",placeholder:r.placeholder,onChange:C=>{I(C.currentTarget.value)},autoComplete:"off",value:V})]}),a.jsxs("div",{className:Gt("searchActions"),children:[a.jsx(Dv,{type:"submit",loading:v,fullWidth:!0,children:"Search"}),b&&a.jsx("div",{className:Gt("searchActionIcon"),children:a.jsx(gi,{type:"button",title:"Toggle filters",onClick:C=>{C.preventDefault(),C.stopPropagation(),w(!y)},children:a.jsx(pM,{size:20})})})]})]}):a.jsx(gx,{rank:"2",size:"xs",children:r.placeholder||"Select data"})}),a.jsxs("div",{className:Gt("grid"),children:[b&&a.jsx("div",{className:Gt("filters"),children:b&&Object.keys(u).map(C=>{const k=u[C];return a.jsx("div",{className:Gt("field"),children:a.jsx(hm,{field:k,name:C,id:`external_field_${C}_filter`,label:k.label||C,value:x[C],onChange:L=>{const D=pe(J({},x),{[C]:L});g(D),E(V,D)}})},C)})}),a.jsxs("div",{className:Gt("tableWrapper"),children:[a.jsxs("table",{className:Gt("table"),children:[a.jsx("thead",{className:Gt("thead"),children:a.jsx("tr",{className:Gt("tr"),children:P.map(C=>a.jsx("th",{className:Gt("th"),style:{textAlign:"left"},children:C},C))})}),a.jsx("tbody",{className:Gt("tbody"),children:S.map((C,k)=>a.jsx("tr",{style:{whiteSpace:"nowrap"},className:Gt("tr"),onClick:()=>{e(o(c[k])),m(!1)},children:P.map(L=>a.jsx("td",{className:Gt("td"),children:C[L]},L))},k))})]}),a.jsx("div",{className:Gt("loadingBanner"),children:a.jsx(pa,{size:24})})]})]}),a.jsx("div",{className:Gt("footerContainer"),children:a.jsx(R,{items:S})})]})})]})},MM=({field:r,onChange:e,value:t,name:s,label:i,labelIcon:n,Label:o,id:l,readOnly:u})=>{var c,h,p;const m=r,v=r;return d.useEffect(()=>{v.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),r.type!=="external"?null:a.jsx(o,{label:i||s,icon:n||a.jsx(hP,{size:16}),el:"div",children:a.jsx(DM,{name:s,field:pe(J({},m),{placeholder:(c=v.adaptor)!=null&&c.name?`Select from ${v.adaptor.name}`:m.placeholder||"Select data",mapProp:((h=v.adaptor)==null?void 0:h.mapProp)||m.mapProp,mapRow:m.mapRow,fetchList:(p=v.adaptor)!=null&&p.fetchList?()=>ds(void 0,null,function*(){return yield v.adaptor.fetchList(v.adaptorParams)}):m.fetchList}),onChange:e,value:t,id:l,readOnly:u})})};ee();var $c=ht("Input",Hl),jM=({field:r,onChange:e,readOnly:t,value:s,name:i,id:n,label:o,labelIcon:l,Label:u})=>r.type!=="radio"||!r.options?null:a.jsx(u,{icon:l||a.jsx(YD,{size:16}),label:o||i,readOnly:t,el:"div",children:a.jsx("div",{className:$c("radioGroupItems"),id:n,children:r.options.map(c=>{var h;return a.jsxs("label",{className:$c("radio"),children:[a.jsx("input",{type:"radio",className:$c("radioInput"),value:JSON.stringify({value:c.value}),name:i,onChange:p=>{e(JSON.parse(p.target.value).value)},disabled:t,checked:s===c.value}),a.jsx("div",{className:$c("radioInner"),children:c.label||((h=c.value)==null?void 0:h.toString())})]},c.label+c.value)})})});ee();var _M=ht("Input",Hl),OM=({field:r,onChange:e,label:t,labelIcon:s,Label:i,value:n,name:o,readOnly:l,id:u})=>r.type!=="select"||!r.options?null:a.jsx(i,{label:t||o,icon:s||a.jsx(cm,{size:16}),readOnly:l,children:a.jsx("select",{id:u,title:t||o,className:_M("input"),disabled:l,onChange:c=>{e(JSON.parse(c.target.value).value)},value:JSON.stringify({value:n}),children:r.options.map(c=>a.jsx("option",{label:c.label,value:JSON.stringify({value:c.value})},c.label+JSON.stringify(c.value)))})});ee();var FM=ht("Input",Hl),BM=({field:r,onChange:e,readOnly:t,value:s,name:i,label:n,labelIcon:o,Label:l,id:u})=>a.jsx(l,{label:n||i,icon:o||a.jsx(mx,{size:16}),readOnly:t,children:a.jsx("textarea",{id:u,className:FM("input"),autoComplete:"off",name:i,value:typeof s>"u"?"":s,onChange:c=>e(c.currentTarget.value),readOnly:t,tabIndex:t?-1:void 0,rows:5,placeholder:r.type==="textarea"?r.placeholder:void 0})});ee();ee();var qM={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},Ew=ht("ObjectField",qM),zM=({field:r,onChange:e,value:t,name:s,label:i,labelIcon:n,Label:o,readOnly:l,id:u})=>{const{readOnlyFields:c,localName:h=s}=yP();if(r.type!=="object"||!r.objectFields)return null;const p=t||{};return a.jsx(o,{label:i||s,icon:n||a.jsx(eM,{size:16}),el:"div",readOnly:l,children:a.jsx("div",{className:Ew(),children:a.jsx("fieldset",{className:Ew("fieldset"),children:Object.keys(r.objectFields).map(m=>{const v=r.objectFields[m],f=`${h}.${m}`,b=l||c[f],x=v.label||m;return a.jsx(xP,{name:h||u,subName:m,readOnlyFields:c,children:a.jsx(hm,{name:f,label:f,id:`${u}_${m}`,readOnly:b,field:pe(J({},v),{label:x}),value:p[m],onChange:(g,y)=>{e(pe(J({},p),{[m]:g}),y)}})},f)})})})})};ee();var fx=()=>{if(typeof Ie.useId<"u")return Ie.useId();const[r]=d.useState(Vr());return r},Ph=ht("Input",Hl),HM=ht("InputWrapper",Hl),QM=({children:r,icon:e,label:t,el:s="label",readOnly:i,className:n})=>{const o=s;return a.jsxs(o,{className:n,children:[a.jsxs("div",{className:Ph("label"),children:[e?a.jsx("div",{className:Ph("labelIcon"),children:e}):a.jsx(a.Fragment,{}),t,i&&a.jsx("div",{className:Ph("disabledIcon"),title:"Read-only",children:a.jsx(oM,{size:"12"})})]}),r]})},WM=({children:r,icon:e,label:t,el:s="label",readOnly:i})=>{const n=be(l=>l.overrides),o=d.useMemo(()=>n.fieldLabel||QM,[n]);return t?a.jsx(o,{label:t,icon:e,className:Ph({readOnly:i}),readOnly:i,el:s,children:r}):a.jsx(a.Fragment,{children:r})},Zi={array:TM,external:MM,object:zM,select:OM,textarea:BM,radio:jM,text:Cw,number:Cw};function UM(r){var e;const t=be(S=>S.dispatch),s=be(S=>S.overrides),i=be(S=>{var P;return(P=S.selectedItem)==null?void 0:P.readOnly}),n=d.useContext(Ep),{id:o,Label:l=WM}=r,u=r.field,c=u.label,h=u.labelIcon,p=fx(),m=o||p,v=d.useMemo(()=>{var S,P,V,I,E,R,C,k;return pe(J({},s.fieldTypes),{array:((S=s.fieldTypes)==null?void 0:S.array)||Zi.array,external:((P=s.fieldTypes)==null?void 0:P.external)||Zi.external,object:((V=s.fieldTypes)==null?void 0:V.object)||Zi.object,select:((I=s.fieldTypes)==null?void 0:I.select)||Zi.select,textarea:((E=s.fieldTypes)==null?void 0:E.textarea)||Zi.textarea,radio:((R=s.fieldTypes)==null?void 0:R.radio)||Zi.radio,text:((C=s.fieldTypes)==null?void 0:C.text)||Zi.text,number:((k=s.fieldTypes)==null?void 0:k.number)||Zi.number})},[s]),f=d.useMemo(()=>pe(J({},r),{field:u,label:c,labelIcon:h,Label:l,id:m}),[r,u,c,h,l,m]),b=d.useCallback(S=>{f.name&&(S.target.nodeName==="INPUT"||S.target.nodeName==="TEXTAREA")&&(S.stopPropagation(),t({type:"setUi",ui:{field:{focus:f.name}}}))},[f.name]),x=d.useCallback(S=>{"name"in S.target&&t({type:"setUi",ui:{field:{focus:null}}})},[]);let g=d.useMemo(()=>u.type!=="custom"&&u.type!=="slot"?Zi[u.type]:S=>null,[u.type]),y=d.useMemo(()=>{if(u.type==="custom")return u.render?u.render:null;if(u.type!=="slot")return v[u.type]},[u.type,v]);const{visible:w=!0}=r.field;if(!w||u.type==="slot")return null;if(!y)throw new Error(`Field type for ${u.type} did not exist.`);return a.jsx(Ep.Provider,{value:{readOnlyFields:n.readOnlyFields||i||{},localName:(e=n.localName)!=null?e:f.name},children:a.jsx("div",{className:HM(),onFocus:b,onBlur:x,onClick:S=>{S.stopPropagation()},children:a.jsx(y,pe(J({},f),{children:a.jsx(g,J({},f))}))})})}function hm(r){const e=be(u=>u.state.ui.field.focus===r.name),{value:t,onChange:s}=r,[i,n]=d.useState(t),o=d.useCallback((u,c)=>{n(u),s(u,c)},[s]);d.useEffect(()=>{e||n(t)},[t]),d.useEffect(()=>{e||t!==i&&n(t)},[e,t,i]);const l={value:i,onChange:o};return a.jsx(UM,J(J({},r),l))}ee();ee();ee();ee();var $M={DraggableComponent:"_DraggableComponent_1vaqy_1","DraggableComponent-overlayWrapper":"_DraggableComponent-overlayWrapper_1vaqy_12","DraggableComponent-overlay":"_DraggableComponent-overlay_1vaqy_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_1vaqy_34","DraggableComponent--hover":"_DraggableComponent--hover_1vaqy_50","DraggableComponent--isSelected":"_DraggableComponent--isSelected_1vaqy_57","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_1vaqy_71","DraggableComponent-actions":"_DraggableComponent-actions_1vaqy_71"};ee();function Vw(r){let e={x:0,y:0},t=r;for(;t&&t!==document.documentElement;){const s=t.parentElement;s&&(e.x+=s.scrollLeft,e.y+=s.scrollTop),t=s}return e}ee();var Ql=d.createContext(null),br=d.createContext(Qd(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),GM=({children:r,store:e})=>a.jsx(br.Provider,{value:e,children:r}),Td=({children:r,value:e})=>{const t=be(n=>n.dispatch),s=d.useCallback(n=>{t({type:"registerZone",zone:n})},[t]),i=d.useMemo(()=>J({registerZone:s},e),[e]);return a.jsx(a.Fragment,{children:i&&a.jsx(Ql.Provider,{value:i,children:r})})};ee();function ZM(r){let e=new DOMMatrixReadOnly,t=r.parentElement;for(;t&&t!==document.documentElement;){const s=getComputedStyle(t).transform;s&&s!=="none"&&(e=new DOMMatrixReadOnly(s).multiply(e)),t=t.parentElement}return{scaleX:e.a,scaleY:e.d}}ee();function Jo(r,e){const t=d.useContext(r);if(!t)throw new Error("useContextStore must be used inside context");return p0(t,Ds(e))}ee();var CP=(r,e=[])=>{const t=cr();return d.useCallback(()=>{let s=()=>{};const i=o=>{o?r(!1):(setTimeout(()=>{r(!0)},0),s&&s())},n=t.getState().state.ui.isDragging;return i(n),n&&(s=t.subscribe(o=>o.state.ui.isDragging,o=>{i(o)})),s},[t,...e])},Sa=ht("DraggableComponent",$M),wP=8,JM=wP*6.5,KM=-44,Pw=wP,YM=({label:r,children:e,parentAction:t})=>a.jsxs(ai,{children:[a.jsxs(ai.Group,{children:[t,r&&a.jsx(ai.Label,{label:r})]}),a.jsx(ai.Group,{children:e})]}),XM=({children:r})=>a.jsx(a.Fragment,{children:r}),ej=({children:r,depth:e,componentType:t,id:s,index:i,zoneCompound:n,isLoading:o=!1,isSelected:l=!1,debug:u,label:c,autoDragAxis:h,userDragAxis:p,inDroppableZone:m=!0})=>{const v=be(ye=>{var Ue;return((Ue=ye.selectedItem)==null?void 0:Ue.props.id)===s?ye.zoomConfig.zoom:1}),f=be(ye=>ye.overrides),b=be(ye=>ye.dispatch),x=be(ye=>ye.iframe),g=d.useContext(Ql),[y,w]=d.useState({}),S=d.useCallback((ye,Ue)=>{var Je;(Je=g==null?void 0:g.registerLocalZone)==null||Je.call(g,ye,Ue),w(Xe=>pe(J({},Xe),{[ye]:Ue}))},[w]),P=d.useCallback(ye=>{var Ue;(Ue=g==null?void 0:g.unregisterLocalZone)==null||Ue.call(g,ye),w(Je=>{const Xe=J({},Je);return delete Xe[ye],Xe})},[w]),V=Object.values(y).filter(Boolean).length>0,I=be(Ds(ye=>{var Ue;return(Ue=ye.state.indexes.nodes[s])==null?void 0:Ue.path})),E=be(Ds(ye=>{const Ue=mi({index:i,zone:n},ye.state);return ye.permissions.getPermissions({item:Ue})})),R=d.useContext(br),[C,k]=d.useState(p||h),L=d.useMemo(()=>vP(C),[C]),{ref:D,isDragging:q,sortable:U}=XV({id:s,index:i,group:n,type:"component",data:{areaId:g==null?void 0:g.areaId,zone:n,index:i,componentType:t,containsActiveZone:V,depth:e,path:I||[],inDroppableZone:m},collisionPriority:e,collisionDetector:L,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});d.useEffect(()=>{const ye=R.getState().enabledIndex[n];U.droppable.disabled=!ye,U.draggable.disabled=!E.drag;const Ue=R.subscribe(Je=>{U.droppable.disabled=!Je.enabledIndex[n]});return $.current&&!E.drag?($.current.setAttribute("data-puck-disabled",""),()=>{var Je;(Je=$.current)==null||Je.removeAttribute("data-puck-disabled"),Ue()}):Ue},[E.drag,n]);const $=d.useRef(null),K=d.useCallback(ye=>{D(ye),ye&&($.current=ye)},[D]),[M,j]=d.useState();d.useEffect(()=>{var ye,Ue,Je;j(x.enabled?(ye=$.current)==null?void 0:ye.ownerDocument.body:(Je=(Ue=$.current)==null?void 0:Ue.closest("[data-puck-preview]"))!=null?Je:document.body)},[x.enabled,$.current]);const B=d.useCallback(()=>{var ye,Ue,Je;if(!$.current)return;const Xe=$.current.getBoundingClientRect(),xe=Vw($.current),Pe=x.enabled?null:(ye=$.current)==null?void 0:ye.closest("[data-puck-preview]"),je=Pe==null?void 0:Pe.getBoundingClientRect(),Ae=Pe?Vw(Pe):{x:0,y:0},vt={x:xe.x-Ae.x-((Ue=je==null?void 0:je.left)!=null?Ue:0),y:xe.y-Ae.y-((Je=je==null?void 0:je.top)!=null?Je:0)},qt={height:$.current.offsetHeight,width:$.current.offsetWidth},xs=ZM($.current);return{left:`${(Xe.left+vt.x)/xs.scaleX}px`,top:`${(Xe.top+vt.y)/xs.scaleY}px`,height:`${qt.height}px`,width:`${qt.width}px`}},[$.current]),[Q,G]=d.useState(),X=d.useCallback(()=>{G(B())},[$.current,x]);d.useEffect(()=>{if($.current){const ye=new ResizeObserver(X);return ye.observe($.current),()=>{ye.disconnect()}}},[$.current]);const de=be(ye=>ye.nodes.registerNode),se=d.useCallback(()=>{Me(!1)},[]),fe=d.useCallback(()=>{Me(!0)},[]);d.useEffect(()=>{var ye;return de(s,{methods:{sync:X,showOverlay:fe,hideOverlay:se},element:(ye=$.current)!=null?ye:null}),()=>{de(s,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[s,n,i,t,X]);const oe=d.useMemo(()=>f.actionBar||YM,[f.actionBar]),ie=d.useMemo(()=>f.componentOverlay||XM,[f.componentOverlay]),_=d.useCallback(ye=>{ye.target.closest("[data-puck-overlay-portal]")||ye.stopPropagation(),b({type:"setUi",ui:{itemSelector:{index:i,zone:n}}})},[i,n,s]),O=cr(),Z=d.useCallback(()=>{const{nodes:ye,zones:Ue}=O.getState().state.indexes,Je=ye[s],Xe=Je!=null&&Je.parentId?ye[Je==null?void 0:Je.parentId]:null;if(!Xe||!Je.parentId)return;const xe=`${Xe.parentId}:${Xe.zone}`,Pe=Ue[xe].contentIds.indexOf(Je.parentId);b({type:"setUi",ui:{itemSelector:{zone:xe,index:Pe}}})},[g,I]),le=d.useCallback(()=>{b({type:"duplicate",sourceIndex:i,sourceZone:n})},[i,n]),te=d.useCallback(()=>{b({type:"remove",index:i,zone:n})},[i,n]),[W,he]=d.useState(!1),me=Jo(br,ye=>ye.hoveringComponent===s);d.useEffect(()=>{if(!$.current)return;const ye=$.current,Ue=Xe=>{const xe=!!R.getState().draggedItem;he(xe?!!q:!0),Xe.stopPropagation()},Je=Xe=>{Xe.stopPropagation(),he(!1)};return ye.setAttribute("data-puck-component",s),ye.setAttribute("data-puck-dnd",s),ye.style.position="relative",ye.addEventListener("click",_),ye.addEventListener("mouseover",Ue),ye.addEventListener("mouseout",Je),()=>{ye.removeAttribute("data-puck-component"),ye.removeAttribute("data-puck-dnd"),ye.removeEventListener("click",_),ye.removeEventListener("mouseover",Ue),ye.removeEventListener("mouseout",Je)}},[$.current,_,V,n,s,q,m]);const[Ve,Me]=d.useState(!1),[Le,ze]=d.useState(!0),[et,nt]=d.useTransition();d.useEffect(()=>{nt(()=>{W||me||l?(X(),Me(!0),Fs(!1)):Me(!1)})},[W,me,l,x]);const[Bt,Fs]=d.useState(!1),Rr=CP(ye=>{ye?nt(()=>{X(),ze(!0)}):ze(!1)});d.useEffect(()=>{q&&Fs(!0)},[q]),d.useEffect(()=>{if(Bt)return Rr()},[Bt,Rr]);const hr=d.useCallback(ye=>{if(ye&&ye.ownerDocument.defaultView){const Je=ye.getBoundingClientRect(),xe=Je.x<0,je=Je.y<0;xe&&(ye.style.transformOrigin="left top",ye.style.left="0px"),je&&(ye.style.top="12px",xe||(ye.style.transformOrigin="right top"))}},[v]);d.useEffect(()=>{if(p){k(p);return}if($.current){const ye=window.getComputedStyle($.current);if(ye.display==="inline"||ye.display==="inline-block"){k("x");return}}k(h)},[$,p,h]);const Zr=d.useMemo(()=>(g==null?void 0:g.areaId)&&(g==null?void 0:g.areaId)!=="root"&&a.jsx(ai.Action,{onClick:Z,label:"Select parent",children:a.jsx(XD,{size:16})}),[g==null?void 0:g.areaId]),rt=d.useMemo(()=>pe(J({},g),{areaId:s,zoneCompound:n,index:i,depth:e+1,registerLocalZone:S,unregisterLocalZone:P}),[g,s,n,i,e,S,P]);return a.jsxs(Td,{value:rt,children:[Le&&Ve&&cn.createPortal(a.jsxs("div",{className:Sa({isSelected:l,isDragging:q,hover:W||me}),style:J({},Q),"data-puck-overlay":!0,children:[u,o&&a.jsx("div",{className:Sa("loadingOverlay"),children:a.jsx(pa,{})}),a.jsx("div",{className:Sa("actionsOverlay"),style:{top:JM/v},children:a.jsx("div",{className:Sa("actions"),style:{transform:`scale(${1/v}`,top:KM/v,right:0,paddingLeft:Pw,paddingRight:Pw},ref:hr,children:a.jsxs(oe,{parentAction:Zr,label:c,children:[E.duplicate&&a.jsx(ai.Action,{onClick:le,label:"Duplicate",children:a.jsx(cP,{size:16})}),E.delete&&a.jsx(ai.Action,{onClick:te,label:"Delete",children:a.jsx(pP,{size:16})})]})})}),a.jsx("div",{className:Sa("overlayWrapper"),children:a.jsx(ie,{componentId:s,componentType:t,hover:W,isSelected:l,children:a.jsx("div",{className:Sa("overlay")})})})]}),M||document.body),r(K)]})};ee();var tj={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};ee();ee();var SP={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};ee();ee();ee();function sj(r,e){const t=setTimeout(r,e);return()=>clearTimeout(t)}function rj(r,e){const t=()=>performance.now();let s,i=0;return function(...n){const o=t(),l=this;o-i>=e?(r.apply(l,n),i=o):(s==null||s(),s=sj(()=>{r.apply(l,n),i=t()},e-(o-i)))}}ee();var yl=()=>{if(typeof window>"u")return;let r=document.querySelector("#preview-frame");return(r==null?void 0:r.tagName)==="IFRAME"?r.contentDocument||document:(r==null?void 0:r.ownerDocument)||document};ee();var ij=class{constructor(r,e){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var t;this.target=r,this.original=e,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/(((t=this.frameEl.contentWindow)==null?void 0:t.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};ee();var nj=typeof PointerEvent<"u"?PointerEvent:Event,EP=class extends nj{constructor(r,e){super(r,e),this._originalTarget=null,this.originalTarget=e.originalTarget}set originalTarget(r){this._originalTarget=r}get originalTarget(){return this._originalTarget}},oj=r=>r.sort((e,t)=>{const s=e.data,i=t.data;return s.depth>i.depth?1:i.depth>s.depth?-1:0}),aj=r=>{let e=r==null?void 0:r.id;if(!r)return null;if(r.type==="component"){const t=r.data;t.containsActiveZone?e=null:e=t.zone}else if(r.type==="void")return"void";return e},Gc=6,lj=(r,e)=>{const t=[];let s=r.target.ownerDocument.elementsFromPoint(r.x,r.y);const i=s.find(o=>o.getAttribute("data-puck-preview")),n=s.find(o=>o.getAttribute("data-puck-drawer"));if(n&&(s=[n]),i){const o=yl();o&&(s=o.elementsFromPoint(r.frame.x,r.frame.y))}if(s)for(let o=0;o<s.length;o++){const l=s[o],u=l.getAttribute("data-puck-dropzone"),c=l.getAttribute("data-puck-dnd"),h=l.hasAttribute("data-puck-dnd-void");if((u||c)&&!h){const p=l.getBoundingClientRect(),m={left:p.left+Gc,right:p.right-Gc,top:p.top+Gc,bottom:p.bottom-Gc};if(r.frame.x<m.left||r.frame.x>m.right||r.frame.y>m.bottom||r.frame.y<m.top)continue}if(u){const p=e.registry.droppables.get(u);p&&t.push(p)}if(c){const p=e.registry.droppables.get(c);p&&t.push(p)}}return t},uj=(r,e)=>{var t;const s=lj(r,e);if(s.length>0){const i=oj(s),n=e.dragOperation.source,o=i.findIndex(f=>f.id===(n==null?void 0:n.id)),l=n==null?void 0:n.id;let u=[...i];l&&o>-1&&u.splice(o,1),u=u.filter(f=>{const b=f.data;if(l&&o>-1&&b.path.indexOf(l)>-1)return!1;if(f.type==="dropzone"){const x=f.data;if(!x.isDroppableTarget||x.areaId===l)return!1}else if(f.type==="component"&&!f.data.inDroppableZone)return!1;return!0}),u.reverse();const c=u[0];if(!c)return{zone:null,area:null};const h=c.data,p="containsActiveZone"in h,m=aj(c),v=p&&h.containsActiveZone?u[0].id:(t=u[0])==null?void 0:t.data.areaId;return{zone:m,area:v}}return{zone:Ws,area:d0}},dj=({onChange:r},e)=>class extends js{constructor(s,i){super(s),!(typeof window>"u")&&this.registerEffect(()=>{const o=rj(c=>{const h=c instanceof EP&&c.originalTarget||c.target,p=new ij(h,{x:c.clientX,y:c.clientY});document.elementsFromPoint(p.global.x,p.global.y).some(f=>f.id===e)&&r(uj(p,s),s)},50),l=c=>{o(c)};return document.body.addEventListener("pointermove",l,{capture:!0}),()=>{document.body.removeEventListener("pointermove",l,{capture:!0})}})}};ee();var cj=(r,e,t,s)=>ds(void 0,null,function*(){const i=Vr(r),n={type:"insert",componentType:r,destinationIndex:t,destinationZone:e,id:i},{state:o,dispatch:l,resolveComponentData:u}=s,c=sP(o,n,s);l(pe(J({},n),{recordHistory:!0}));const h={index:t,zone:e};l({type:"setUi",ui:{itemSelector:h}});const p=mi(h,c);if(p){const m=yield u(p,"insert");m.didChange&&l({type:"replace",destinationZone:h.zone,destinationIndex:h.index,data:m.node})}});ee();function hj(r){function e(t){return t?t.getAttribute("dir")||e(t.parentElement):"ltr"}return r?e(r):"ltr"}var VP=d.createContext({dragListeners:{}});function pj(r,e,t=[]){const{setDragListeners:s}=d.useContext(VP);d.useEffect(()=>{s&&s(i=>pe(J({},i),{[r]:[...i[r]||[],e]}))},t)}var mj=100,gj=r=>{const e=d.useRef(null);return d.useCallback(t=>{Mv.setState({fallbackEnabled:!1});const s=Vr();e.current=s,setTimeout(()=>{e.current===s&&(Mv.setState({fallbackEnabled:!0}),t.collisionObserver.forceUpdate(!0))},r)},[])},fj=({children:r,disableAutoScroll:e})=>{const t=be(w=>w.dispatch),s=cr(),i=fx(),n=d.useRef(null),o=gj(100),[l]=d.useState(()=>Qd(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),u=d.useCallback((w,S)=>{const{zoneDepthIndex:P={},areaDepthIndex:V={}}=l.getState()||{},I=Object.keys(P).length>0,E=Object.keys(V).length>0;let R=!1,C=!1;return(w.zone&&!P[w.zone]||!w.zone&&I)&&(R=!0),(w.area&&!V[w.area]||!w.area&&E)&&(C=!0),{zoneChanged:R,areaChanged:C}},[l]),c=d.useCallback((w,S)=>{const{zoneChanged:P,areaChanged:V}=u(w,i);!P&&!V||(l.setState({zoneDepthIndex:w.zone?{[w.zone]:!0}:{},areaDepthIndex:w.area?{[w.area]:!0}:{}}),o(S),setTimeout(()=>{S.collisionObserver.forceUpdate(!0)},50),n.current=null)},[l]),h=iD(c,mj),p=()=>{h.cancel(),n.current=null};d.useEffect(()=>{},[]);const[m]=d.useState(()=>[...e?Zo.plugins.filter(w=>w!==tx):Zo.plugins,dj({onChange:(w,S)=>{const P=l.getState(),{zoneChanged:V,areaChanged:I}=u(w,i),E=S.dragOperation.status.dragging;if(I||V){let R={},C={};w.zone&&(R={[w.zone]:!0}),w.area&&(C={[w.area]:!0}),l.setState({nextZoneDepthIndex:R,nextAreaDepthIndex:C})}if(w.zone!=="void"&&(P!=null&&P.zoneDepthIndex.void)){c(w,S);return}if(I){if(E){const R=n.current;R&&R.area===w.area&&R.zone===w.zone||(p(),h(w,S),n.current=w)}else p(),c(w,S);return}V&&c(w,S),p()}},i)]),v=gP(),[f,b]=d.useState({}),x=d.useRef(null),g=d.useRef(void 0),y=d.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return a.jsx("div",{id:i,children:a.jsx(VP.Provider,{value:{dragListeners:f,setDragListeners:b},children:a.jsx(RV,{plugins:m,sensors:v,onDragEnd:(w,S)=>{var P,V;const I=(P=yl())==null?void 0:P.querySelector("[data-puck-entry]");I==null||I.removeAttribute("data-puck-dragging");const{source:E,target:R}=w.operation;if(!E){l.setState({draggedItem:null});return}const{zone:C,index:k}=E.data,{previewIndex:L={}}=l.getState()||{},D=((V=L[C])==null?void 0:V.props.id)===E.id?L[C]:null,q=()=>{var $,K;if(l.setState({draggedItem:null}),w.canceled||(R==null?void 0:R.type)==="void"){l.setState({previewIndex:{}}),($=f.dragend)==null||$.forEach(M=>{M(w,S)}),t({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}D&&(l.setState({previewIndex:{}}),D.type==="insert"?cj(D.componentType,D.zone,D.index,s.getState()):g.current&&t({type:"move",sourceIndex:g.current.index,sourceZone:g.current.zone,destinationIndex:D.index,destinationZone:D.zone,recordHistory:!1})),t({type:"setUi",ui:{itemSelector:{index:k,zone:C},isDragging:!1},recordHistory:!0}),(K=f.dragend)==null||K.forEach(M=>{M(w,S)})};let U;U=dr(()=>{E.status==="idle"&&(q(),U==null||U())})},onDragOver:(w,S)=>{var P,V,I,E;if(w.preventDefault(),!((P=l.getState())==null?void 0:P.draggedItem))return;p();const{source:C,target:k}=w.operation;if(!k||!C||k.type==="void")return;const[L]=C.id.split(":"),[D]=k.id.split(":"),q=C.data;let U=q.zone,$=q.index,K="",M=0;if(k.type==="component"){const B=k.data;K=B.zone,M=B.index;const Q=(V=S.collisionObserver.collisions[0])==null?void 0:V.data,G=hj(k.element),X=(Q==null?void 0:Q.direction)==="up"||G==="ltr"&&(Q==null?void 0:Q.direction)==="left"||G==="rtl"&&(Q==null?void 0:Q.direction)==="right"?"before":"after";M>=$&&U===K&&(M=M-1),X==="after"&&(M=M+1)}else K=k.id.toString(),M=0;const j=((I=s.getState().state.indexes.nodes[k.id])==null?void 0:I.path)||[];if(!(D===L||j.find(B=>{const[Q]=B.split(":");return Q===L}))){if(x.current==="new")l.setState({previewIndex:{[K]:{componentType:q.componentType,type:"insert",index:M,zone:K,element:C.element,props:{id:C.id.toString()}}}});else{g.current||(g.current={zone:q.zone,index:q.index});const B=mi(g.current,s.getState().state);B&&l.setState({previewIndex:{[K]:{componentType:q.componentType,type:"move",index:M,zone:K,props:B.props,element:C.element}}})}(E=f.dragover)==null||E.forEach(B=>{B(w,S)})}},onDragStart:(w,S)=>{var P;const{source:V}=w.operation;if(V&&V.type!=="void"){const I=V.data,E=mi({zone:I.zone,index:I.index},s.getState().state);E&&l.setState({previewIndex:{[I.zone]:{componentType:I.componentType,type:"move",index:I.index,zone:I.zone,props:E.props,element:V.element}}})}(P=f.dragstart)==null||P.forEach(I=>{I(w,S)})},onBeforeDragStart:w=>{var S,P,V,I;const E=((S=w.operation.source)==null?void 0:S.type)==="drawer";x.current=E?"new":"existing",g.current=void 0,l.setState({draggedItem:w.operation.source}),((P=s.getState().selectedItem)==null?void 0:P.props.id)!==((V=w.operation.source)==null?void 0:V.id)?t({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):t({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const R=(I=yl())==null?void 0:I.querySelector("[data-puck-entry]");R==null||R.setAttribute("data-puck-dragging","true")},children:a.jsx(GM,{store:l,children:a.jsx(Td,{value:y,children:r})})})})})},vj=({children:r,disableAutoScroll:e})=>be(s=>s.status)==="LOADING"?r:a.jsx(fj,{disableAutoScroll:e,children:r}),Ih=ht("Drawer",SP),Ea=ht("DrawerItem",SP),jv=({children:r,name:e,label:t,dragRef:s,isDragDisabled:i})=>{const n=d.useMemo(()=>r||(({children:o})=>a.jsx("div",{className:Ea("default"),children:o})),[r]);return a.jsx("div",{className:Ea({disabled:i}),ref:s,onMouseDown:o=>o.preventDefault(),"data-testid":s?`drawer-item:${e}`:"","data-puck-drawer-item":!0,children:a.jsx(n,{name:e,children:a.jsx("div",{className:Ea("draggableWrapper"),children:a.jsxs("div",{className:Ea("draggable"),children:[a.jsx("div",{className:Ea("name"),children:t??e}),a.jsx("div",{className:Ea("icon"),children:a.jsx(mP,{})})]})})})})},yj=({children:r,name:e,label:t,id:s,isDragDisabled:i})=>{const{ref:n}=dA({id:s,data:{componentType:e},disabled:i,type:"drawer"});return a.jsxs("div",{className:Ih("draggable"),children:[a.jsx("div",{className:Ih("draggableBg"),children:a.jsx(jv,{name:e,label:t,children:r})}),a.jsx("div",{className:Ih("draggableFg"),children:a.jsx(jv,{name:e,label:t,dragRef:n,isDragDisabled:i,children:r})})]})},xj=({name:r,children:e,id:t,label:s,index:i,isDragDisabled:n})=>{const o=t||r,[l,u]=d.useState(Vr(o));return typeof i<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),pj("dragend",()=>{u(Vr(o))},[o]),a.jsx("div",{children:a.jsx(yj,{name:r,label:s,id:l,isDragDisabled:n,children:e})},l)},vx=({children:r,droppableId:e,direction:t})=>{e&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),t&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const s=fx(),{ref:i}=zV({id:s,type:"void",collisionPriority:0});return a.jsx("div",{className:Ih(),ref:i,"data-puck-dnd":s,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:r})};vx.Item=xj;ee();var Iw=(r,e)=>r.getState().state.indexes.zones[e].contentIds.length,bj=({zoneCompound:r,userMinEmptyHeight:e,ref:t})=>{const s=cr(),[i,n]=d.useState(0),[o,l]=d.useState(!1),{draggedItem:u,isZone:c}=Jo(br,m=>{var v,f;return{draggedItem:((v=m.draggedItem)==null?void 0:v.data.zone)===r?m.draggedItem:null,isZone:((f=m.draggedItem)==null?void 0:f.data.zone)===r}}),h=d.useRef(0),p=CP(m=>{var v;if(m){const f=Iw(s,r);if(n(0),f||h.current===0){l(!1);return}const b=s.getState().selectedItem,x=s.getState().state.indexes.zones,g=s.getState().nodes;(v=g.nodes[b==null?void 0:b.props.id])==null||v.methods.hideOverlay(),setTimeout(()=>{var y;(((y=x[r])==null?void 0:y.contentIds)||[]).forEach(S=>{const P=g.nodes[S];P==null||P.methods.sync()}),b&&setTimeout(()=>{var S,P;(S=g.nodes[b.props.id])==null||S.methods.sync(),(P=g.nodes[b.props.id])==null||P.methods.showOverlay()},200),l(!1)},100)}},[s,i,r]);return d.useEffect(()=>{if(u&&t.current&&c){const m=t.current.getBoundingClientRect();return h.current=Iw(s,r),n(m.height),l(!0),p()}},[t.current,u,p]),[i||e,o]};ee();function Cj(r,e){typeof r=="function"?r(e):r&&typeof r=="object"&&"current"in r&&(r.current=e)}function wj(r,e){r.forEach(t=>{Cj(t,e)})}ee();ee();function Sj(r,e){const t=LV();return d.useCallback((...s)=>ds(this,null,function*(){return yield t==null?void 0:t.renderer.rendering,r(...s)}),[...e,t])}var Ej=(r,e)=>{const t=d.useContext(br),s=Jo(br,h=>h.previewIndex[e]),i=be(h=>h.state.ui.isDragging),[n,o]=d.useState(r),[l,u]=d.useState(s),c=Sj((h,p,m,v,f)=>{m&&!f||(p?p.type==="insert"?o(vl(h.filter(b=>b!==p.props.id),p.index,p.props.id)):o(vl(h.filter(b=>b!==p.props.id),p.index,p.props.id)):o(f?h.filter(b=>b!==v):h),u(p))},[]);return d.useEffect(()=>{var h;const p=t.getState(),m=(h=p.draggedItem)==null?void 0:h.id,v=Object.keys(p.previewIndex||{}).length>0;c(r,s,i,m,v)},[r,s,i]),[n,l]};ee();var Vj="dynamic",Pj="x",Tw="y",Ij=(r,e)=>{const t=be(o=>o.status),[s,i]=d.useState(e||Tw),n=d.useCallback(()=>{if(r.current){const o=window.getComputedStyle(r.current);o.display==="grid"?i(Vj):o.display==="flex"&&o.flexDirection==="row"?i(Pj):i(Tw)}},[r.current]);return d.useEffect(()=>{const o=()=>{n()};return window.addEventListener("viewportchange",o),()=>{window.removeEventListener("viewportchange",o)}},[]),d.useEffect(n,[t,e]),[s,n]};ee();var Tj=({componentId:r,zone:e})=>{const t=be(n=>n.config),s=be(n=>n.metadata),i=be(Ds(n=>{var o,l;const u=n.state.indexes;return((l=(o=u.zones[`${r}:${e}`])==null?void 0:o.contentIds)!=null?l:[]).map(h=>u.nodes[h].flatData)}));return a.jsx(h0,{content:i,zone:e,config:t,metadata:s})};ee();ee();ee();var PP=(r,e={})=>{if(!r)return;const{disableDrag:t=!1,disableDragOnFocus:s=!0}=e,i=l=>{l.stopPropagation()};r.addEventListener("mouseover",i,{capture:!0});const n=()=>{setTimeout(()=>{r.addEventListener("pointerdown",i,{capture:!0})},200)},o=()=>{r.removeEventListener("pointerdown",i,{capture:!0})};return s?(r.addEventListener("focus",n,{capture:!0}),r.addEventListener("blur",o,{capture:!0})):t&&r.addEventListener("pointerdown",i,{capture:!0}),r.setAttribute("data-puck-overlay-portal","true"),()=>{r.removeEventListener("mouseover",i,{capture:!0}),s?(r.removeEventListener("focus",n,{capture:!0}),r.removeEventListener("blur",n,{capture:!0})):t&&r.removeEventListener("pointerdown",i,{capture:!0}),r.removeAttribute("data-puck-overlay-portal")}};ee();var kj={InlineTextField:"_InlineTextField_1xph6_1"};ee();function Nj(r,e,t){const s=e.split("."),i=J({},r);let n=i;for(let o=0;o<s.length;o++){const[l,u]=s[o].replace("]","").split("["),c=o===s.length-1;if(u!==void 0){Array.isArray(n[l])||(n[l]=[]);const h=Number(u);if(c){n[l][h]=t;continue}n[l][h]===void 0&&(n[l][h]={}),n=n[l][h];continue}if(c){n[l]=t;continue}n[l]===void 0&&(n[l]={}),n=n[l]}return J(J({},r),i)}ee();var IP=(r,e)=>{const t=r.indexes.nodes[e];if(!t)return;const s=`${t.parentId}:${t.zone}`,i=r.indexes.zones[s].contentIds.indexOf(e);return{zone:s,index:i}},Rj=ht("InlineTextField",kj),Lj=({propPath:r,componentId:e,value:t,isReadOnly:s,opts:i={}})=>{var n;const o=d.useRef(null),l=cr(),u=(n=i.disableLineBreaks)!=null?n:!1;d.useEffect(()=>{const v=l.getState(),f=v.state.indexes.nodes[e].data;if(!v.getComponentConfig(f.type))throw new Error(`InlineTextField Error: No config defined for ${f.type}`);if(o.current){t!==o.current.innerText&&o.current.replaceChildren(t);const x=PP(o.current),g=y=>ds(void 0,null,function*(){var w;const S=l.getState(),P=S.state.indexes.nodes[e],V=`${P.parentId}:${P.zone}`,I=(w=S.state.indexes.zones[V])==null?void 0:w.contentIds.indexOf(e);let E=y.target.innerText;u&&(E=E.replaceAll(/\n/gm,""));const R=Nj(P.data.props,r,E),C=yield S.resolveComponentData(pe(J({},P.data),{props:R}),"replace");S.dispatch({type:"replace",data:C.node,destinationIndex:I,destinationZone:V})});return o.current.addEventListener("input",g),()=>{var y;(y=o.current)==null||y.removeEventListener("input",g),x==null||x()}}},[l,o.current,t,u]);const[c,h]=d.useState(!1),[p,m]=d.useState(!1);return a.jsx("span",{className:Rj(),ref:o,contentEditable:c||p?"plaintext-only":"false",onClick:v=>{v.preventDefault(),v.stopPropagation()},onClickCapture:v=>{v.preventDefault(),v.stopPropagation();const f=IP(l.getState().state,e);l.getState().setUi({itemSelector:f})},onKeyDown:v=>{v.stopPropagation(),(u&&v.key==="Enter"||s)&&v.preventDefault()},onKeyUp:v=>{v.stopPropagation(),v.preventDefault()},onMouseOverCapture:()=>h(!0),onMouseOutCapture:()=>h(!1),onFocus:()=>m(!0),onBlur:()=>m(!1)})},qg=d.memo(Lj),Aj=()=>({text:({value:r,componentId:e,field:t,propPath:s,isReadOnly:i})=>t.contentEditable?a.jsx(qg,{propPath:s,componentId:e,value:r,opts:{disableLineBreaks:!0},isReadOnly:i}):r,textarea:({value:r,componentId:e,field:t,propPath:s,isReadOnly:i})=>t.contentEditable?a.jsx(qg,{propPath:s,componentId:e,value:r,isReadOnly:i}):r,custom:({value:r,componentId:e,field:t,propPath:s,isReadOnly:i})=>t.contentEditable&&typeof r=="string"?a.jsx(qg,{propPath:s,componentId:e,value:r,isReadOnly:i}):r}),Dj=ht("DropZone",tj),_v=r=>a.jsx(TP,J({},r)),Mj=({zoneCompound:r,componentId:e,index:t,dragAxis:s,collisionAxis:i,inDroppableZone:n})=>{var o,l;const u=be(M=>M.metadata),c=d.useContext(Ql),{depth:h=1}=c??{},p=d.useContext(br),m=be(Ds(M=>{var j;return(j=M.state.indexes.nodes[e])==null?void 0:j.flatData.props})),v=be(M=>{var j;return(j=M.state.indexes.nodes[e])==null?void 0:j.data.type}),f=be(Ds(M=>{var j;return(j=M.state.indexes.nodes[e])==null?void 0:j.data.readOnly})),b=cr(),x=d.useMemo(()=>{if(m)return T9({type:v,props:m});const M=p.getState().previewIndex[r];return e===(M==null?void 0:M.props.id)?{type:M.componentType,props:M.props,previewType:M.type,element:M.element}:null},[b,e,r,v,m]),g=be(M=>x!=null&&x.type?M.config.components[x.type]:null),y=d.useMemo(()=>({renderDropZone:_v,isEditing:!0,dragRef:null,metadata:J(J({},u),g==null?void 0:g.metadata)}),[u,g==null?void 0:g.metadata]),w=be(M=>M.overrides),S=be(M=>{var j;return((j=M.componentState[e])==null?void 0:j.loadingCount)>0}),P=be(M=>{var j;return((j=M.selectedItem)==null?void 0:j.props.id)===e||!1});let V=(l=(o=g==null?void 0:g.label)!=null?o:x==null?void 0:x.type.toString())!=null?l:"Component";const I=d.useMemo(()=>function(){var j;return x&&"element"in x&&x.element?a.jsx("div",{dangerouslySetInnerHTML:{__html:x.element.outerHTML}}):a.jsx(jv,{name:V,children:(j=w.componentItem)!=null?j:w.drawerItem})},[e,V,w]),E=d.useMemo(()=>pe(J(J({},g==null?void 0:g.defaultProps),x==null?void 0:x.props),{puck:y,editMode:!0}),[g==null?void 0:g.defaultProps,x==null?void 0:x.props,y]),R=d.useMemo(()=>{var M;return{type:(M=x==null?void 0:x.type)!=null?M:v,props:E}},[x==null?void 0:x.type,v,E]),C=be(M=>M.config),k=be(M=>M.plugins),L=be(M=>M.fieldTransforms),D=d.useMemo(()=>J(J(J(J({},EE(_v,M=>a.jsx(Tj,{componentId:e,zone:M.zone}))),Aj()),k.reduce((M,j)=>J(J({},M),j.fieldTransforms),{})),L),[k,L]),q=SE(C,R,D,f,S);if(!x)return;let U=g?g.render:()=>a.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",x.type]}),$=x.type;const K="previewType"in x?x.previewType==="insert":!1;return K&&(U=I),a.jsx(ej,{id:e,componentType:$,zoneCompound:r,depth:h+1,index:t,isLoading:S,isSelected:P,label:V,autoDragAxis:s,userDragAxis:i,inDroppableZone:n,children:M=>g!=null&&g.inline&&!K?a.jsx(a.Fragment,{children:a.jsx(U,pe(J({},q),{puck:pe(J({},q.puck),{dragRef:M})}))}):a.jsx("div",{ref:M,children:a.jsx(U,J({},q))})})},jj=d.memo(Mj),TP=d.forwardRef(function({zone:e,allow:t,disallow:s,style:i,className:n,minEmptyHeight:o=128,collisionAxis:l},u){const c=d.useContext(Ql),h=cr(),{areaId:p,depth:m=0,registerLocalZone:v,unregisterLocalZone:f}=c??{},b=be(Ds(Q=>{var G;return p?(G=Q.state.indexes.nodes[p])==null?void 0:G.path:null}));let x=Ws;p&&e!==Ws&&(x=`${p}:${e}`);const g=x===Ws||e===Ws||p==="root",y=Jo(br,Q=>Q.nextAreaDepthIndex[p||""]),w=be(Ds(Q=>{var G;return(G=Q.state.indexes.zones[x])==null?void 0:G.contentIds})),S=be(Ds(Q=>{var G;return(G=Q.state.indexes.zones[x])==null?void 0:G.type}));d.useEffect(()=>{(!S||S==="dropzone")&&c!=null&&c.registerZone&&(c==null||c.registerZone(x))},[S,h]),d.useEffect(()=>{S==="dropzone"&&x!==Ws&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[S]);const P=d.useMemo(()=>w||[],[w]),V=d.useRef(null),I=d.useCallback(Q=>{if(!Q)return!0;if(s){const G=t||[];if((s||[]).filter(de=>G.indexOf(de)===-1).indexOf(Q)!==-1)return!1}else if(t&&t.indexOf(Q)===-1)return!1;return!0},[t,s]),E=Jo(br,Q=>{var G;const X=(G=Q.draggedItem)==null?void 0:G.data.componentType;return I(X)}),R=y||g,C=Jo(br,Q=>{var G;let X=!0;return X=(G=Q.zoneDepthIndex[x])!=null?G:!1,X&&(X=E),X});d.useEffect(()=>(v&&v(x,E||C),()=>{f&&f(x)}),[E,C,x]);const[k,L]=Ej(P,x),D=C&&(L?k.length===1:k.length===0),q=d.useContext(br);d.useEffect(()=>{const{enabledIndex:Q}=q.getState();q.setState({enabledIndex:pe(J({},Q),{[x]:C})})},[C,q,x]);const U={id:x,collisionPriority:C?m:0,disabled:!D,collisionDetector:EM,type:"dropzone",data:{areaId:p,depth:m,isDroppableTarget:E,path:b||[]}},{ref:$}=zV(U),K=be(Q=>(Q==null?void 0:Q.selectedItem)&&p===(Q==null?void 0:Q.selectedItem.props.id)),[M]=Ij(V,l),[j,B]=bj({zoneCompound:x,userMinEmptyHeight:o,ref:V});return a.jsx("div",{className:`${Dj({isRootZone:g,hoveringOverArea:R,isEnabled:C,isAreaSelected:K,hasChildren:P.length>0,isAnimating:B})}${n?` ${n}`:""}`,ref:Q=>{wj([V,$,u],Q)},"data-testid":`dropzone:${x}`,"data-puck-dropzone":x,style:pe(J({},i),{"--min-empty-height":`${j}px`,backgroundColor:i==null?void 0:i.backgroundColor}),children:k.map((Q,G)=>a.jsx(jj,{zoneCompound:x,componentId:Q,dragAxis:M,index:G,collisionAxis:l,inDroppableZone:E},Q))})}),_j=({config:r,item:e,metadata:t})=>{const s=r.components[e.type],i=tm(r,e,o=>a.jsx(h0,pe(J({},o),{config:r,metadata:t}))),n=d.useMemo(()=>({areaId:i.id,depth:1}),[i]);return a.jsx(Td,{value:n,children:a.jsx(s.render,pe(J({},i),{puck:pe(J({},i.puck),{renderDropZone:Ov,metadata:J(J({},t),s.metadata)})}))},i.id)},Ov=r=>a.jsx(kP,J({},r)),kP=d.forwardRef(function({className:e,style:t,zone:s},i){const n=d.useContext(Ql),{areaId:o="root"}=n||{},{config:l,data:u,metadata:c}=d.useContext(Bv);let h=`${o}:${s}`,p=(u==null?void 0:u.content)||[];return d.useEffect(()=>{p||n!=null&&n.registerZone&&(n==null||n.registerZone(h))},[p]),!u||!l?null:(h!==Ws&&(p=wE(u,h).zones[h]),a.jsx("div",{className:e,style:t,ref:i,children:p.map(m=>l.components[m.type]?a.jsx(_j,{config:l,item:m,metadata:c},m.props.id):null)}))}),Fv=r=>a.jsx(yx,J({},r)),yx=d.forwardRef(function(e,t){const s=d.useContext(Ql);return(s==null?void 0:s.mode)==="edit"?a.jsx(a.Fragment,{children:a.jsx(TP,pe(J({},e),{ref:t}))}):a.jsx(a.Fragment,{children:a.jsx(kP,pe(J({},e),{ref:t}))})}),Bv=Ie.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function Oj({config:r,data:e,metadata:t={}}){var s;const i=pe(J({},e),{root:e.root||{},content:e.content||[]}),n="props"in i.root?i.root.props:i.root,o=(n==null?void 0:n.title)||"",l=pe(J({},n),{puck:{renderDropZone:Fv,isEditing:!1,dragRef:null,metadata:t},title:o,editMode:!1,id:"puck-root"}),u=tm(r,{type:"root",props:l},h=>a.jsx(VE,pe(J({},h),{config:r,metadata:t}))),c=d.useMemo(()=>({mode:"render",depth:0}),[]);return(s=r.root)!=null&&s.render?a.jsx(Bv.Provider,{value:{config:r,data:i,metadata:t},children:a.jsx(Td,{value:c,children:a.jsx(r.root.render,pe(J({},u),{children:a.jsx(Ov,{zone:rv})}))})}):a.jsx(Bv.Provider,{value:{config:r,data:i,metadata:t},children:a.jsx(Td,{value:c,children:a.jsx(Ov,{zone:rv})})})}ee();var kw=r=>{const e={back:r.history.back,forward:r.history.forward,setHistories:r.history.setHistories,setHistoryIndex:r.history.setHistoryIndex,hasPast:r.history.hasPast(),hasFuture:r.history.hasFuture(),histories:r.history.histories,index:r.history.index};return{appState:Id(r.state),config:r.config,dispatch:r.dispatch,getPermissions:r.permissions.getPermissions,refreshPermissions:r.permissions.refreshPermissions,history:e,selectedItem:r.selectedItem||null,getItemBySelector:s=>mi(s,r.state),getItemById:s=>r.state.indexes.nodes[s].data,getSelectorForId:s=>IP(r.state,s)}},Fj=d.createContext(null),Nw=r=>({state:r.state,config:r.config,dispatch:r.dispatch,permissions:r.permissions,history:r.history,selectedItem:r.selectedItem}),Bj=r=>{const[e]=d.useState(()=>Qd(()=>kw(Nw(r.getState()))));return d.useEffect(()=>r.subscribe(t=>Nw(t),t=>{e.setState(kw(t))}),[]),e};ee();ee();ee();var qj={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};ee();var zj=r=>{const e=be(n=>{var o;return(o=n.selectedItem)==null?void 0:o.props.id}),t=be(n=>n.config),s=be(n=>{var o;return(o=n.state.indexes.nodes[e])==null?void 0:o.path}),i=cr();return d.useMemo(()=>{const n=(s==null?void 0:s.map(o=>{var l,u,c;const[h]=o.split(":");if(h==="root")return{label:"Page",selector:null};const p=i.getState().state.indexes.nodes[h],m=p.path[p.path.length-1],f=(((l=i.getState().state.indexes.zones[m])==null?void 0:l.contentIds)||[]).indexOf(h);return{label:p?(c=(u=t.components[p.data.type])==null?void 0:u.label)!=null?c:p.data.type:"Component",selector:p?{index:f,zone:p.path[p.path.length-1]}:null}}))||[];return n.slice(n.length-r)},[s,r])},In=ht("SidebarSection",qj),qv=({children:r,title:e,background:t,showBreadcrumbs:s,noBorderTop:i,noPadding:n,isLoading:o})=>{const l=be(c=>c.setUi),u=zj(1);return a.jsxs("div",{className:In({noBorderTop:i,noPadding:n}),style:{background:t},children:[a.jsx("div",{className:In("title"),children:a.jsxs("div",{className:In("breadcrumbs"),children:[s?u.map((c,h)=>a.jsxs("div",{className:In("breadcrumb"),children:[a.jsx("button",{type:"button",className:In("breadcrumbLabel"),onClick:()=>l({itemSelector:c.selector}),children:c.label}),a.jsx(KD,{size:16})]},h)):null,a.jsx("div",{className:In("heading"),children:a.jsx(gx,{rank:"2",size:"xs",children:e})})]})}),a.jsx("div",{className:In("content"),children:r}),o&&a.jsx("div",{className:In("loadingOverlay"),children:a.jsx(pa,{size:32})})]})};ee();var NP={Puck:"_Puck_1yxlw_19","Puck-portal":"_Puck-portal_1yxlw_31","PuckLayout-inner":"_PuckLayout-inner_1yxlw_38","PuckLayout--mounted":"_PuckLayout--mounted_1yxlw_59","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_1yxlw_63","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_1yxlw_69","PuckLayout-mounted":"_PuckLayout-mounted_1yxlw_83",PuckLayout:"_PuckLayout_1yxlw_38"};ee();ee();var Hj={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},Th=ht("PuckFields",Hj),Qj=({children:r})=>a.jsx(a.Fragment,{children:r}),Wj=(r,e)=>(t,s)=>ds(void 0,null,function*(){let i;const{dispatch:n,state:o,selectedItem:l,resolveComponentData:u}=e.getState(),{data:c,ui:h}=o,{itemSelector:p}=h,m=c.root.props||c.root;l?i=l.props:i=m;const v=pe(J({},i),{[r]:t});l&&p?n({type:"replace",destinationIndex:p.index,destinationZone:p.zone||Ws,data:(yield u(pe(J({},l),{props:v}),"replace")).node,ui:s}):c.root.props?n({type:"replaceRoot",root:(yield u(pe(J({},c.root),{props:v}),"replace")).node,ui:J(J({},h),s),recordHistory:!0}):n({type:"setData",data:{root:v}})}),Uj=({fieldName:r})=>{const e=be(c=>c.fields.fields[r]),t=be(c=>((c.selectedItem?c.selectedItem.readOnly:c.state.data.root.readOnly)||{})[r]),s=be(c=>{const h=c.state.data.root.props||c.state.data.root;return c.selectedItem?c.selectedItem.props[r]:h[r]}),i=be(c=>e?c.selectedItem?`${c.selectedItem.props.id}_${e.type}_${r}`:`root_${e.type}_${r}`:null),n=be(Ds(c=>{const{selectedItem:h,permissions:p}=c;return h?p.getPermissions({item:h}):p.getPermissions({root:!0})})),o=cr(),l=d.useCallback(Wj(r,o),[r]),{visible:u=!0}=e??{};return!e||!i||!u||e.type==="slot"?null:a.jsx("div",{className:Th("field"),children:a.jsx(hm,{field:e,name:r,id:i,readOnly:!n.edit||t,value:s,onChange:l})},i)},$j=d.memo(Uj),Gj=({wrapFields:r=!0})=>{const e=be(h=>h.overrides),t=be(h=>{var p,m;const v=h.selectedItem?(p=h.componentState[h.selectedItem.props.id])==null?void 0:p.loadingCount:(m=h.componentState.root)==null?void 0:m.loadingCount;return(v??0)>0}),s=be(Ds(h=>h.state.ui.itemSelector)),i=be(h=>{var p;return(p=h.selectedItem)==null?void 0:p.props.id}),n=cr();DD(n,i);const o=be(h=>h.fields.loading),l=be(Ds(h=>h.fields.id===i?Object.keys(h.fields.fields):[])),u=o||t,c=d.useMemo(()=>e.fields||Qj,[e]);return a.jsxs("form",{className:Th({wrapFields:r}),onSubmit:h=>{h.preventDefault()},children:[a.jsx(c,{isLoading:u,itemSelector:s,children:l.map(h=>a.jsx($j,{fieldName:h},h))}),u&&a.jsx("div",{className:Th("loadingOverlay"),children:a.jsx("div",{className:Th("loadingOverlayInner"),children:a.jsx(pa,{size:16})})})]})},RP=d.memo(Gj);ee();ee();ee();ee();var Zj={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},Zc=ht("ComponentList",Zj),LP=({name:r,label:e})=>{var t;const s=be(n=>n.overrides),i=be(n=>n.permissions.getPermissions({type:r}).insert);return d.useEffect(()=>{s.componentItem&&console.warn("The `componentItem` override has been deprecated and renamed to `drawerItem`")},[s]),a.jsx(vx.Item,{label:e,name:r,isDragDisabled:!i,children:(t=s.componentItem)!=null?t:s.drawerItem})},Ga=({children:r,title:e,id:t})=>{const s=be(l=>l.config),i=be(l=>l.setUi),n=be(l=>l.state.ui.componentList),{expanded:o=!0}=n[t]||{};return a.jsxs("div",{className:Zc({isExpanded:o}),children:[e&&a.jsxs("button",{type:"button",className:Zc("title"),onClick:()=>i({componentList:pe(J({},n),{[t]:pe(J({},n[t]),{expanded:!o})})}),title:o?`Collapse${e?` ${e}`:""}`:`Expand${e?` ${e}`:""}`,children:[a.jsx("div",{children:e}),a.jsx("div",{className:Zc("titleIcon"),children:o?a.jsx(dP,{size:12}):a.jsx(cm,{size:12})})]}),a.jsx("div",{className:Zc("content"),children:a.jsx(vx,{children:r||Object.keys(s.components).map(l=>{var u;return a.jsx(LP,{label:(u=s.components[l].label)!=null?u:l,name:l},l)})})})]})};Ga.Item=LP;var Jj=()=>{const[r,e]=d.useState(),t=be(i=>i.config),s=be(i=>i.state.ui.componentList);return d.useEffect(()=>{var i,n,o;if(Object.keys(s).length>0){const l=[];let u;u=Object.entries(s).map(([h,p])=>p.visible===!1||!p.components?null:a.jsx(Ga,{id:h,title:p.title||h,children:p.components.map((m,v)=>{var f;l.push(m);const b=t.components[m]||{};return a.jsx(Ga.Item,{label:(f=b.label)!=null?f:m,name:m,index:v},m)})},h));const c=Object.keys(t.components).filter(h=>l.indexOf(h)===-1);c.length>0&&!((i=s.other)!=null&&i.components)&&((n=s.other)==null?void 0:n.visible)!==!1&&u.push(a.jsx(Ga,{id:"other",title:((o=s.other)==null?void 0:o.title)||"Other",children:c.map((h,p)=>{var m;const v=t.components[h]||{};return a.jsx(Ga.Item,{name:h,label:(m=v.label)!=null?m:h,index:p},h)})},"other")),e(u)}},[t.categories,t.components,s]),r},AP=()=>{const r=be(s=>s.overrides),e=Jj(),t=d.useMemo(()=>(r.components&&console.warn("The `components` override has been deprecated and renamed to `drawer`"),r.components||r.drawer||"div"),[r]);return a.jsx(t,{children:e||a.jsx(Ga,{id:"all"})})};ee();ee();var zv='style, link[rel="stylesheet"]',Kj=r=>{const e=[];return r.querySelectorAll(zv).forEach(t=>{t.tagName==="STYLE"?t.innerHTML.trim()&&e.push(t):e.push(t)}),e},Rw=r=>Array.from(document.styleSheets).find(e=>e.ownerNode.href===r.href),Yj=r=>{if(r)try{return[...Array.from(r.cssRules)].map(e=>e.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",r.href)}return""},Lw=(r,e)=>{const t=r.attributes;(t==null?void 0:t.length)>0&&Array.from(t).forEach(s=>{e.setAttribute(s.name,s.value)})},Aw=r=>setTimeout(r,0),Xj=({children:r,debug:e=!1,onStylesLoaded:t=()=>null})=>{const{document:s,window:i}=e_();return d.useEffect(()=>{if(!i||!s)return()=>{};let n=[];const o={},l=y=>n.findIndex(w=>w.original===y),u=(y,w=!1)=>ds(void 0,null,function*(){let S;if(y.nodeName==="LINK"&&w){S=document.createElement("style"),S.type="text/css";let P=Rw(y);P||(yield new Promise(I=>{const E=()=>{I(),y.removeEventListener("load",E)};y.addEventListener("load",E)}),P=Rw(y));const V=Yj(P);if(!V){e&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}S.innerHTML=V,S.setAttribute("data-href",y.getAttribute("href"))}else S=y.cloneNode(!0);return S}),c=y=>ds(void 0,null,function*(){const w=l(y);if(w>-1){e&&console.log("Tried to add an element that was already mirrored. Updating instead..."),n[w].mirror.innerText=y.innerText;return}const S=yield u(y);if(!S)return;const P=Mg(S.outerHTML);if(o[P]){e&&console.log("iframe already contains element that is being mirrored. Skipping...");return}o[P]=!0,s.head.append(S),n.push({original:y,mirror:S}),e&&console.log(`Added style node ${y.outerHTML}`)}),h=y=>{var w,S;const P=l(y);if(P===-1){e&&console.log("Tried to remove an element that did not exist. Skipping...");return}const V=Mg(y.outerHTML);(S=(w=n[P])==null?void 0:w.mirror)==null||S.remove(),delete o[V],e&&console.log(`Removed style node ${y.outerHTML}`)},p=new MutationObserver(y=>{y.forEach(w=>{w.type==="childList"&&(w.addedNodes.forEach(S=>{if(S.nodeType===Node.TEXT_NODE||S.nodeType===Node.ELEMENT_NODE){const P=S.nodeType===Node.TEXT_NODE?S.parentElement:S;P&&P.matches(zv)&&Aw(()=>c(P))}}),w.removedNodes.forEach(S=>{if(S.nodeType===Node.TEXT_NODE||S.nodeType===Node.ELEMENT_NODE){const P=S.nodeType===Node.TEXT_NODE?S.parentElement:S;P&&P.matches(zv)&&Aw(()=>h(P))}}))})}),m=i.parent.document,v=Kj(m),f=[];let b=0;const x=m.getElementsByTagName("html")[0];Lw(x,s.documentElement);const g=m.getElementsByTagName("body")[0];return Lw(g,s.body),Promise.all(v.map((y,w)=>ds(void 0,null,function*(){if(y.nodeName==="LINK"){const P=y.href;if(f.indexOf(P)>-1)return;f.push(P)}const S=yield u(y);if(S)return n.push({original:y,mirror:S}),S}))).then(y=>{const w=y.filter(S=>typeof S<"u");w.forEach(S=>{S.onload=()=>{b=b+1,b>=n.length&&t()},S.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),b=b+1,b>=n.length&&t()}}),s.head.innerHTML="",s.head.append(...w),p.observe(m.head,{childList:!0,subtree:!0}),w.forEach(S=>{const P=Mg(S.outerHTML);o[P]=!0})}),()=>{p.disconnect()}},[]),a.jsx(a.Fragment,{children:r})},xx=d.createContext({}),e_=()=>d.useContext(xx);function DP(r){var e=r,{children:t,className:s,debug:i,id:n,onReady:o=()=>{},onNotReady:l=()=>{},frameRef:u}=e,c=yo(e,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[h,p]=d.useState(!1),[m,v]=d.useState({}),[f,b]=d.useState(),[x,g]=d.useState(!1);return d.useEffect(()=>{var y;if(u.current){const w=u.current.contentDocument,S=u.current.contentWindow;v({document:w||void 0,window:S||void 0}),b((y=u.current.contentDocument)==null?void 0:y.getElementById("frame-root")),w&&S&&x?o():l()}},[u,h,x]),a.jsx("iframe",pe(J({},c),{className:s,id:n,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:u,onLoad:()=>{p(!0)},children:a.jsx(xx.Provider,{value:m,children:h&&f&&a.jsx(Xj,{debug:i,onStylesLoaded:()=>g(!0),children:cn.createPortal(t,f)})})}))}DP.displayName="AutoFrame";var t_=DP;ee();var s_={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},zg=ht("PuckPreview",s_),r_=r=>{const e=be(t=>t.status);d.useEffect(()=>{if(r.current&&e==="READY"){const t=r.current,s=o=>{const l=new EP("pointermove",pe(J({},o),{bubbles:!0,cancelable:!1,clientX:o.clientX,clientY:o.clientY,originalTarget:o.target}));t.dispatchEvent(l)},i=()=>{var o;n(),(o=t.contentDocument)==null||o.addEventListener("pointermove",s,{capture:!0})},n=()=>{var o;(o=t.contentDocument)==null||o.removeEventListener("pointermove",s)};return i(),()=>{n()}}},[e])},MP=({id:r="puck-preview"})=>{const e=be(f=>f.dispatch),t=be(f=>f.state.data.root),s=be(f=>f.config),i=be(f=>f.setStatus),n=be(f=>f.iframe),o=be(f=>f.overrides),l=be(f=>f.metadata),u=be(f=>f.state.ui.previewMode==="edit"?null:f.state.data),c=d.useCallback(f=>{var b,x;const g=tm(s,{type:"root",props:f},_v);return(b=s.root)!=null&&b.render?(x=s.root)==null?void 0:x.render(J({id:"puck-root"},g)):a.jsx(a.Fragment,{children:g.children})},[s]),h=d.useMemo(()=>o.iframe,[o]),p=t.props||t,m=d.useRef(null);r_(m);const v=u?a.jsx(Oj,{data:u,config:s,metadata:l}):a.jsx(c,pe(J({},p),{puck:{renderDropZone:Fv,isEditing:!0,dragRef:null,metadata:l},editMode:!0,children:a.jsx(Fv,{zone:Ws})}));return d.useEffect(()=>{n.enabled||i("READY")},[n.enabled]),a.jsx("div",{className:zg(),id:r,"data-puck-preview":!0,onClick:f=>{const b=f.target;!b.hasAttribute("data-puck-component")&&!b.hasAttribute("data-puck-dropzone")&&e({type:"setUi",ui:{itemSelector:null}})},children:n.enabled?a.jsx(t_,{id:"preview-frame",className:zg("frame"),"data-rfd-iframe":!0,onReady:()=>{i("READY")},onNotReady:()=>{i("MOUNTED")},frameRef:m,children:a.jsx(xx.Consumer,{children:({document:f})=>h?a.jsx(h,{document:f,children:v}):v})}):a.jsx("div",{id:"preview-frame",className:zg("frame"),ref:m,"data-puck-entry":!0,children:v})})};ee();ee();ee();var jP={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};ee();var i_=r=>{const e=J({},r.style);r.style.scrollMargin="256px",r&&(r==null||r.scrollIntoView({behavior:"smooth"}),r.style.scrollMargin=e.scrollMargin||"")};ee();var n_=(r,e)=>{let t;const s=function(){clearTimeout(t),t=setTimeout(function(){e(),r==null||r.removeEventListener("scroll",s)},50)};r==null||r.addEventListener("scroll",s),setTimeout(()=>{t||e()},50)},Jc=ht("LayerTree",jP),Tn=ht("Layer",jP),o_=({index:r,itemId:e,zoneCompound:t})=>{var s;const i=be(y=>y.config),n=be(y=>y.state.ui.itemSelector),o=be(y=>y.dispatch),l=d.useCallback(y=>{o({type:"setUi",ui:{itemSelector:y}})},[o]),c=be(y=>{var w;return(w=y.selectedItem)==null?void 0:w.props.id})===e||n&&n.zone===Ws&&!t,h=be(y=>y.state.indexes.nodes[e]),p=be(Ds(y=>Object.keys(y.state.indexes.zones).filter(w=>w.split(":")[0]===e))),m=p.length>0,v=d.useContext(br),f=Jo(br,y=>y.hoveringComponent===e),b=be(y=>{var w,S;const P=y.state.indexes.nodes[(w=y.selectedItem)==null?void 0:w.props.id];return(S=P==null?void 0:P.path.some(V=>{const[I]=V.split(":");return I===e}))!=null?S:!1}),x=i.components[h.data.type],g=(s=x==null?void 0:x.label)!=null?s:h.data.type.toString();return a.jsxs("li",{className:Tn({isSelected:c,isHovering:f,containsZone:m,childIsSelected:b}),children:[a.jsx("div",{className:Tn("inner"),children:a.jsxs("button",{type:"button",className:Tn("clickable"),onClick:()=>{if(c){l(null);return}const y=yl(),w=y==null?void 0:y.querySelector(`[data-puck-component="${e}"]`);if(!w){l({index:r,zone:t});return}i_(w),n_(y,()=>{l({index:r,zone:t})})},onMouseEnter:y=>{y.stopPropagation(),v.setState({hoveringComponent:e})},onMouseLeave:y=>{y.stopPropagation(),v.setState({hoveringComponent:null})},children:[m&&a.jsx("div",{className:Tn("chevron"),title:c?"Collapse":"Expand",children:a.jsx(cm,{size:"12"})}),a.jsxs("div",{className:Tn("title"),children:[a.jsx("div",{className:Tn("icon"),children:h.data.type==="Text"||h.data.type==="Heading"?a.jsx(mx,{size:"16"}):a.jsx(rM,{size:"16"})}),a.jsx("div",{className:Tn("name"),children:g})]})]})}),m&&p.map(y=>a.jsx("div",{className:Tn("zones"),children:a.jsx(_P,{zoneCompound:y})},y))]})},_P=({label:r,zoneCompound:e})=>{const t=be(i=>{var n,o,l,u;if(r)return r;if(e===Ws)return;const[c,h]=e.split(":"),p=(n=i.state.indexes.nodes[c])==null?void 0:n.data.type,m=p&&p!==d0?i.config.components[p]:i.config.root;return(u=(l=(o=m==null?void 0:m.fields)==null?void 0:o[h])==null?void 0:l.label)!=null?u:h}),s=be(Ds(i=>{var n,o;return e?(o=(n=i.state.indexes.zones[e])==null?void 0:n.contentIds)!=null?o:[]:[]}));return a.jsxs(a.Fragment,{children:[t&&a.jsxs("div",{className:Jc("zoneTitle"),children:[a.jsx("div",{className:Jc("zoneIcon"),children:a.jsx(sM,{size:"16"})}),t]}),a.jsxs("ul",{className:Jc(),children:[s.length===0&&a.jsx("div",{className:Jc("helper"),children:"No items"}),s.map((i,n)=>a.jsx(o_,{index:n,itemId:i,zoneCompound:e},i))]})]})};ee();var a_=(r,e)=>Object.keys(r.indexes.zones).filter(t=>t.split(":")[0]===e),OP=()=>{const r=be(s=>s.overrides.outline),e=be(Ds(s=>a_(s.state,"root"))),t=d.useMemo(()=>r||"div",[r]);return a.jsx(t,{children:e.map(s=>a.jsx(_P,{label:e.length===1?"":s.split(":")[1],zoneCompound:s},s))})};ee();ee();ee();var FP={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},Dw={Smartphone:a.jsx(mM,{size:16}),Tablet:a.jsx(gM,{size:16}),Monitor:a.jsx(aM,{size:16})},Kc=ht("ViewportControls",FP),Mw=ht("ViewportButton",FP),l_=({children:r,height:e="auto",title:t,width:s,onClick:i})=>{const n=be(u=>u.state.ui.viewports),[o,l]=d.useState(!1);return d.useEffect(()=>{l(s===n.current.width)},[s,n.current.width]),a.jsx("span",{className:Mw({isActive:o}),children:a.jsx(gi,{type:"button",title:t,disabled:o,onClick:u=>{u.stopPropagation(),i({width:s,height:e})},children:a.jsx("span",{className:Mw("inner"),children:r})})})},jw=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],u_=({autoZoom:r,zoom:e,onViewportChange:t,onZoom:s})=>{var i,n;const o=be(c=>c.viewports),l=jw.find(c=>c.value===r),u=d.useMemo(()=>[...jw,...l?[]:[{value:r,label:`${(r*100).toFixed(0)}% (Auto)`}]].filter(c=>c.value<=r).sort((c,h)=>c.value>h.value?1:-1),[r]);return a.jsxs("div",{className:Kc(),children:[o.map((c,h)=>a.jsx(l_,{height:c.height,width:c.width,title:c.label?`Switch to ${c.label} viewport`:"Switch viewport",onClick:t,children:typeof c.icon=="string"?Dw[c.icon]||c.icon:c.icon||Dw.Smartphone},h)),a.jsx("div",{className:Kc("divider")}),a.jsx(gi,{type:"button",title:"Zoom viewport out",disabled:e<=((i=u[0])==null?void 0:i.value),onClick:c=>{c.stopPropagation(),s(u[Math.max(u.findIndex(h=>h.value===e)-1,0)].value)},children:a.jsx(yM,{size:16})}),a.jsx(gi,{type:"button",title:"Zoom viewport in",disabled:e>=((n=u[u.length-1])==null?void 0:n.value),onClick:c=>{c.stopPropagation(),s(u[Math.min(u.findIndex(h=>h.value===e)+1,u.length-1)].value)},children:a.jsx(vM,{size:16})}),a.jsx("div",{className:Kc("divider")}),a.jsx("select",{className:Kc("zoomSelect"),value:e.toString(),onChange:c=>{s(parseFloat(c.currentTarget.value))},children:u.map(c=>a.jsx("option",{value:c.value,label:c.label},c.label))})]})};ee();var d_={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};ee();var BP=d.createContext(null),c_=({children:r})=>{const e=d.useRef(null),t=d.useMemo(()=>({frameRef:e}),[]);return a.jsx(BP.Provider,{value:t,children:r})},qP=()=>{const r=d.useContext(BP);if(r===null)throw new Error("useCanvasFrame must be used within a FrameProvider");return r},cu=ht("PuckCanvas",d_),Hg=150,h_=()=>{const{frameRef:r}=qP(),e=aP(r),{dispatch:t,overrides:s,setUi:i,zoomConfig:n,setZoomConfig:o,status:l,iframe:u}=be(Ds(V=>({dispatch:V.dispatch,overrides:V.overrides,setUi:V.setUi,zoomConfig:V.zoomConfig,setZoomConfig:V.setZoomConfig,status:V.status,iframe:V.iframe}))),{leftSideBarVisible:c,rightSideBarVisible:h,leftSideBarWidth:p,rightSideBarWidth:m,viewports:v}=be(Ds(V=>({leftSideBarVisible:V.state.ui.leftSideBarVisible,rightSideBarVisible:V.state.ui.rightSideBarVisible,leftSideBarWidth:V.state.ui.leftSideBarWidth,rightSideBarWidth:V.state.ui.rightSideBarWidth,viewports:V.state.ui.viewports}))),[f,b]=d.useState(!1),x=d.useRef(!1),g=d.useMemo(()=>({children:I})=>a.jsx(a.Fragment,{children:I}),[]),y=d.useMemo(()=>s.preview||g,[s]),w=d.useCallback(()=>{if(r.current){const V=r.current,I=oP(V);return{width:I.contentBox.width,height:I.contentBox.height}}return{width:0,height:0}},[r]);d.useEffect(()=>{e()},[r,c,h,p,m,v]),d.useEffect(()=>{const{height:V}=w();v.current.height==="auto"&&o(pe(J({},n),{rootHeight:V/n.zoom}))},[n.zoom,w,o]),d.useEffect(()=>{e()},[v.current.width,v]),d.useEffect(()=>{if(!r.current)return;const V=new ResizeObserver(()=>{x.current||e()});return V.observe(r.current),()=>{V.disconnect()}},[r.current]);const[S,P]=d.useState(!1);return d.useEffect(()=>{setTimeout(()=>{P(!0)},500)},[]),a.jsxs("div",{className:cu({ready:l==="READY"||!u.enabled||!u.waitForStyles,showLoader:S}),onClick:V=>{const I=V.target;!I.hasAttribute("data-puck-component")&&!I.hasAttribute("data-puck-dropzone")&&t({type:"setUi",ui:{itemSelector:null},recordHistory:!0})},children:[v.controlsVisible&&u.enabled&&a.jsx("div",{className:cu("controls"),children:a.jsx(u_,{autoZoom:n.autoZoom,zoom:n.zoom,onViewportChange:V=>{b(!0),x.current=!0;const I=pe(J({},V),{height:V.height||"auto",zoom:n.zoom}),E={viewports:pe(J({},v),{current:I}),itemSelector:null};i(E),e({viewports:pe(J({},v),{current:I})})},onZoom:V=>{b(!0),x.current=!0,o(pe(J({},n),{zoom:V}))}})}),a.jsxs("div",{className:cu("inner"),ref:r,children:[a.jsx("div",{className:cu("root"),style:{width:u.enabled?v.current.width:"100%",height:n.rootHeight,transform:u.enabled?`scale(${n.zoom})`:void 0,transition:f?`width ${Hg}ms ease-out, height ${Hg}ms ease-out, transform ${Hg}ms ease-out`:"",overflow:u.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{b(!1),x.current=!1},children:a.jsx(y,{children:a.jsx(MP,{})})}),a.jsx("div",{className:cu("loader"),children:a.jsx(pa,{size:24})})]})]})};ee();ee();var p_=({overrides:r,plugins:e})=>{const t=J({},r);return e==null||e.forEach(s=>{s.overrides&&Object.keys(s.overrides).forEach(i=>{var n;const o=i;if(!((n=s.overrides)!=null&&n[o]))return;if(o==="fieldTypes"){const c=s.overrides.fieldTypes;Object.keys(c).forEach(h=>{t.fieldTypes=t.fieldTypes||{};const p=t.fieldTypes[h],m=v=>c[h](pe(J({},v),{children:p?p(v):v.children}));t.fieldTypes[h]=m});return}const l=t[o],u=c=>s.overrides[o](pe(J({},c),{children:l?l(c):c.children}));t[o]=u})}),t},m_=({overrides:r,plugins:e})=>d.useMemo(()=>p_({overrides:r,plugins:e}),[e,r]);ee();var Hv=({children:r})=>a.jsx(a.Fragment,{children:r});ee();var g_="",f_=(r,e)=>{const[t,s]=d.useState();return d.useEffect(()=>{s(document.createElement("style"))},[]),d.useEffect(()=>{var i;if(!(!t||typeof window>"u")){if(t.innerHTML=r,e){const n=yl();(i=n==null?void 0:n.head)==null||i.appendChild(t)}document.head.appendChild(t)}},[e,t]),t},v_=r=>f_(g_,r);ee();var y_=()=>{const r=cr(),e=d.useCallback(()=>{const t=r.getState().dispatch;t({type:"setUi",ui:s=>({previewMode:s.previewMode==="edit"?"interactive":"edit"})})},[r]);On({meta:!0,i:!0},e),On({ctrl:!0,i:!0},e)};ee();ee();ee();var x_={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},Qg=ht("MenuBar",x_);function b_({menuOpen:r=!1,renderHeaderActions:e,setMenuOpen:t}){const s=be(l=>l.history.back),i=be(l=>l.history.forward),n=be(l=>l.history.hasFuture()),o=be(l=>l.history.hasPast());return a.jsx("div",{className:Qg({menuOpen:r}),onClick:l=>{var u;const c=l.target;window.matchMedia("(min-width: 638px)").matches||c.tagName==="A"&&((u=c.getAttribute("href"))!=null&&u.startsWith("#"))&&t(!1)},children:a.jsxs("div",{className:Qg("inner"),children:[a.jsxs("div",{className:Qg("history"),children:[a.jsx(gi,{type:"button",title:"undo",disabled:!o,onClick:s,children:a.jsx(fM,{size:21})}),a.jsx(gi,{type:"button",title:"redo",disabled:!n,onClick:i,children:a.jsx(cM,{size:21})})]}),a.jsx(a.Fragment,{children:e&&e()})]})})}ee();var C_={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},Ji=ht("PuckHeader",C_),w_=()=>{const{onPublish:r,renderHeader:e,renderHeaderActions:t,headerTitle:s,headerPath:i,iframe:n}=bx(),o=be(y=>y.dispatch),l=cr(),u=d.useMemo(()=>e?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),w=>{var S=w,{actions:P}=S,V=yo(S,["actions"]);const I=e,E=be(R=>R.state);return a.jsx(I,pe(J({},V),{dispatch:o,state:E,children:P}))}):Hv,[e]),c=d.useMemo(()=>t?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),w=>{const S=t,P=be(V=>V.state);return a.jsx(S,pe(J({},w),{dispatch:o,state:P}))}):Hv,[t]),h=be(y=>y.overrides.header||u),p=be(y=>y.overrides.headerActions||c),[m,v]=d.useState(!1),f=be(y=>{var w,S;return(S=((w=y.state.indexes.nodes.root)==null?void 0:w.data).props.title)!=null?S:""}),b=be(y=>y.state.ui.leftSideBarVisible),x=be(y=>y.state.ui.rightSideBarVisible),g=d.useCallback(y=>{const w=window.matchMedia("(min-width: 638px)").matches,S=y==="left"?b:x,P=y==="left"?"rightSideBarVisible":"leftSideBarVisible";o({type:"setUi",ui:J({[`${y}SideBarVisible`]:!S},w?{}:{[P]:!1})})},[o,b,x]);return a.jsx(h,{actions:a.jsx(a.Fragment,{children:a.jsx(p,{children:a.jsx(Dv,{onClick:()=>{const y=l.getState().state.data;r&&r(y)},icon:a.jsx(vw,{size:"14px"}),children:"Publish"})})}),children:a.jsx("header",{className:Ji({leftSideBarVisible:b,rightSideBarVisible:x}),children:a.jsxs("div",{className:Ji("inner"),children:[a.jsxs("div",{className:Ji("toggle"),children:[a.jsx("div",{className:Ji("leftSideBarToggle"),children:a.jsx(gi,{type:"button",onClick:()=>{g("left")},title:"Toggle left sidebar",children:a.jsx(lM,{focusable:"false"})})}),a.jsx("div",{className:Ji("rightSideBarToggle"),children:a.jsx(gi,{type:"button",onClick:()=>{g("right")},title:"Toggle right sidebar",children:a.jsx(uM,{focusable:"false"})})})]}),a.jsx("div",{className:Ji("title"),children:a.jsxs(gx,{rank:"2",size:"xs",children:[s||f||"Page",i&&a.jsxs(a.Fragment,{children:[" ",a.jsx("code",{className:Ji("path"),children:i})]})]})}),a.jsxs("div",{className:Ji("tools"),children:[a.jsx("div",{className:Ji("menuButton"),children:a.jsx(gi,{type:"button",onClick:()=>v(!m),title:"Toggle menu bar",children:m?a.jsx(dP,{focusable:"false"}):a.jsx(cm,{focusable:"false"})})}),a.jsx(b_,{dispatch:o,onPublish:r,menuOpen:m,renderHeaderActions:()=>a.jsx(p,{children:a.jsx(Dv,{onClick:()=>{const y=l.getState().state.data;r&&r(y)},icon:a.jsx(vw,{size:"14px"}),children:"Publish"})}),setMenuOpen:v})]})]})})})},S_=d.memo(w_);ee();ee();ee();var E_={ResizeHandle:"_ResizeHandle_144bf_2","ResizeHandle--left":"_ResizeHandle--left_144bf_16","ResizeHandle--right":"_ResizeHandle--right_144bf_20"},V_=ht("ResizeHandle",E_),P_=({position:r,sidebarRef:e,onResize:t,onResizeEnd:s})=>{const{frameRef:i}=qP(),n=aP(i),o=d.useRef(null),l=d.useRef(!1),u=d.useRef(0),c=d.useRef(0),h=d.useCallback(v=>{if(!l.current)return;const f=v.clientX-u.current,b=r==="left"?c.current+f:c.current-f,x=Math.max(192,b);t(x),v.preventDefault()},[t,r]),p=d.useCallback(()=>{var v;if(!l.current)return;l.current=!1,document.body.style.cursor="",document.body.style.userSelect="";const f=document.getElementById("resize-overlay");f&&document.body.removeChild(f),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p);const b=((v=e.current)==null?void 0:v.getBoundingClientRect().width)||0;s(b),n()},[s]),m=d.useCallback(v=>{var f;l.current=!0,u.current=v.clientX,c.current=((f=e.current)==null?void 0:f.getBoundingClientRect().width)||0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const b=document.createElement("div");b.id="resize-overlay",b.setAttribute("data-resize-overlay",""),document.body.appendChild(b),document.addEventListener("mousemove",h),document.addEventListener("mouseup",p),v.preventDefault()},[r,h,p]);return a.jsx("div",{ref:o,className:V_({[r]:!0}),onMouseDown:m})};ee();var I_={Sidebar:"_Sidebar_1xksb_1","Sidebar--left":"_Sidebar--left_1xksb_8","Sidebar--right":"_Sidebar--right_1xksb_14","Sidebar-resizeHandle":"_Sidebar-resizeHandle_1xksb_20"},_w=ht("Sidebar",I_),Ow=({position:r,sidebarRef:e,isVisible:t,onResize:s,onResizeEnd:i,children:n})=>t?a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:e,className:_w({[r]:!0}),children:n}),a.jsx("div",{className:`${_w("resizeHandle")}`,children:a.jsx(P_,{position:r,sidebarRef:e,onResize:s,onResizeEnd:i})})]}):null;ee();function Fw(r,e){const[t,s]=d.useState(null),i=d.useRef(null),n=be(l=>r==="left"?l.state.ui.leftSideBarWidth:l.state.ui.rightSideBarWidth);d.useEffect(()=>{if(typeof window<"u"&&!n)try{const l=localStorage.getItem("puck-sidebar-widths");if(l){const c=JSON.parse(l)[r];c&&e({type:"setUi",ui:{[r==="left"?"leftSideBarWidth":"rightSideBarWidth"]:c}})}}catch(l){console.error(`Failed to load ${r} sidebar width from localStorage`,l)}},[e,r,n]),d.useEffect(()=>{n!==void 0&&s(n)},[n]);const o=d.useCallback(l=>{e({type:"setUi",ui:{[r==="left"?"leftSideBarWidth":"rightSideBarWidth"]:l}});let u={};try{const c=localStorage.getItem("puck-sidebar-widths");u=c?JSON.parse(c):{}}catch(c){console.error(`Failed to save ${r} sidebar width to localStorage`,c)}finally{localStorage.setItem("puck-sidebar-widths",JSON.stringify(pe(J({},u),{[r]:l})))}window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},[e,r]);return{width:t,setWidth:s,sidebarRef:i,handleResizeEnd:o}}var Bw=ht("Puck",NP),qw=ht("PuckLayout",NP),T_=()=>{const r=be(e=>{var t,s;return e.selectedItem?(s=(t=e.config.components[e.selectedItem.type])==null?void 0:t.label)!=null?s:e.selectedItem.type.toString():"Page"});return a.jsx(qv,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:r,children:a.jsx(RP,{})})},zP=d.createContext({});function k_(r){return a.jsx(zP.Provider,{value:r,children:r.children})}var bx=()=>d.useContext(zP);function N_({children:r}){const{config:e,data:t,ui:s,onChange:i,permissions:n={},plugins:o,overrides:l,viewports:u=up,iframe:c,initialHistory:h,metadata:p,onAction:m,fieldTransforms:v}=bx(),f=d.useMemo(()=>J({enabled:!0,waitForStyles:!0},c),[c]),[b]=d.useState(()=>{var C,k,L,D,q,U,$,K,M;const j=J(J({},sv.ui),s);let B={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(B=pe(J({},B),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const de=window.innerWidth,fe=Object.entries(u).map(([oe,ie])=>({key:oe,diff:Math.abs(de-ie.width)})).sort((oe,ie)=>oe.diff>ie.diff?1:-1)[0].key;f.enabled&&(B=pe(J({},B),{viewports:pe(J({},j.viewports),{current:pe(J({},j.viewports.current),{height:((k=(C=s==null?void 0:s.viewports)==null?void 0:C.current)==null?void 0:k.height)||((L=u[fe])==null?void 0:L.height)||"auto",width:((q=(D=s==null?void 0:s.viewports)==null?void 0:D.current)==null?void 0:q.width)||((U=u[fe])==null?void 0:U.width)})})}))}Object.keys((t==null?void 0:t.root)||{}).length>0&&!(($=t==null?void 0:t.root)!=null&&$.props)&&console.warn("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const Q=((K=t==null?void 0:t.root)==null?void 0:K.props)||(t==null?void 0:t.root)||{},G=J(J({},(M=e.root)==null?void 0:M.defaultProps),Q),X=pe(J({},sv),{data:pe(J({},t),{root:pe(J({},t==null?void 0:t.root),{props:G}),content:t.content||[]}),ui:pe(J(J({},j),B),{componentList:e.categories?Object.entries(e.categories).reduce((de,[se,fe])=>pe(J({},de),{[se]:{title:fe.title,components:fe.components,expanded:fe.defaultExpanded,visible:fe.visible}}),{}):{}})});return Er(X,e)}),{appendData:x=!0}=h||{},[g]=d.useState([...(h==null?void 0:h.histories)||[],...x?[{state:b}]:[]].map(C=>{let k=J(J({},b),C.state);return C.state.indexes||(k=Er(k,e)),pe(J({},C),{state:k})})),y=(h==null?void 0:h.index)||g.length-1,w=g[y].state,S=m_({overrides:l,plugins:o}),P=d.useMemo(()=>{const k=(o||[]).reduce((L,D)=>J(J({},L),D.fieldTransforms),{});return J(J({},k),v)},[v,o]),V=d.useCallback(C=>({state:C,config:e,plugins:o||[],overrides:S,viewports:u,iframe:f,onAction:m,metadata:p,fieldTransforms:P}),[w,e,o,S,u,f,m,p,P]),[I]=d.useState(()=>nP(V(w)));d.useEffect(()=>{},[I]),d.useEffect(()=>{const C=I.getState().state;I.setState(J({},V(C)))},[e,o,S,u,f,m,p]),kD(I,{histories:g,index:y,initialAppState:w});const E=d.useRef(null);d.useEffect(()=>{I.subscribe(C=>C.state.data,C=>{if(i){if(op(C,E.current))return;i(C),E.current=C}})},[]),LD(I,n);const R=Bj(I);return d.useEffect(()=>{const{resolveAndCommitData:C}=I.getState();C()},[]),a.jsx(px.Provider,{value:I,children:a.jsx(Fj.Provider,{value:R,children:r})})}function R_({children:r}){const{iframe:e,dnd:t,initialHistory:s}=bx(),i=d.useMemo(()=>J({enabled:!0,waitForStyles:!0},e),[e]);v_(i.enabled);const n=be(V=>V.dispatch),o=be(V=>V.state.ui.leftSideBarVisible),l=be(V=>V.state.ui.rightSideBarVisible),{width:u,setWidth:c,sidebarRef:h,handleResizeEnd:p}=Fw("left",n),{width:m,setWidth:v,sidebarRef:f,handleResizeEnd:b}=Fw("right",n);d.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||n({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const V=()=>{window.matchMedia("(min-width: 638px)").matches||n({type:"setUi",ui:I=>J(J({},I),I.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",V),()=>{window.removeEventListener("resize",V)}},[]);const x=be(V=>V.overrides),g=d.useMemo(()=>x.puck||Hv,[x]),[y,w]=d.useState(!1);d.useEffect(()=>{w(!0)},[]);const S=be(V=>V.status==="READY");PD(),d.useEffect(()=>{if(S&&i.enabled){const V=yl();if(V)return iP(V)}},[S,i.enabled]),y_();const P={};return u&&(P["--puck-user-left-side-bar-width"]=`${u}px`),m&&(P["--puck-user-right-side-bar-width"]=`${m}px`),a.jsxs("div",{className:`Puck ${Bw()}`,children:[a.jsx(vj,{disableAutoScroll:t==null?void 0:t.disableAutoScroll,children:a.jsx(g,{children:r||a.jsx(c_,{children:a.jsx("div",{className:qw({leftSideBarVisible:o,mounted:y,rightSideBarVisible:l}),children:a.jsxs("div",{className:qw("inner"),style:P,children:[a.jsx(S_,{}),a.jsxs(Ow,{position:"left",sidebarRef:h,isVisible:o,onResize:c,onResizeEnd:p,children:[a.jsx(qv,{title:"Components",noBorderTop:!0,children:a.jsx(AP,{})}),a.jsx(qv,{title:"Outline",children:a.jsx(OP,{})})]}),a.jsx(h_,{}),a.jsx(Ow,{position:"right",sidebarRef:f,isVisible:l,onResize:v,onResizeEnd:b,children:a.jsx(T_,{})})]})})})})}),a.jsx("div",{id:"puck-portal-root",className:Bw("portal")})]})}function Xd(r){return a.jsx(k_,pe(J({},r),{children:a.jsx(N_,pe(J({},r),{children:a.jsx(R_,J({},r))}))}))}Xd.Components=AP;Xd.Fields=RP;Xd.Outline=OP;Xd.Preview=MP;ee();ee();ee();ee();ee();ee();ee();ee();ee();ee();ee();ee();/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-up.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-check-big.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/corner-left-up.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/ellipsis-vertical.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/globe.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/hash.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layers.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layout-grid.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/link.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/list.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lock-open.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lock.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/monitor.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-left.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-right.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/plus.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/redo-2.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/search.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sliders-horizontal.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/smartphone.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/tablet.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/type.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/undo-2.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/zoom-in.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/zoom-out.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/ee();const HP=({text:r,level:e=1,size:t,color:s="#333",align:i="left",puck:n})=>{const l={color:s,fontSize:(c=>{switch(c){case"XXXL":return"4rem";case"XXL":return"3.5rem";case"XL":return"3rem";case"L":return"2.5rem";case"M":return"2rem";case"S":return"1.5rem";case"XS":return"1.25rem";default:return}})(t)},u=i==="center"?"text-center":i==="right"?"text-right":"text-left";switch(e){case 1:return a.jsx("h1",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});case 2:return a.jsx("h2",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});case 3:return a.jsx("h3",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});case 4:return a.jsx("h4",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});case 5:return a.jsx("h5",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});case 6:return a.jsx("h6",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r});default:return a.jsx("h1",{ref:n==null?void 0:n.dragRef,style:l,className:`my-4 font-bold ${u}`,children:r})}},Ma=({text:r,size:e="16px",color:t="#555",align:s="left",puck:i})=>{const n=s==="center"?"text-center":s==="right"?"text-right":"text-left";return a.jsx("p",{ref:i==null?void 0:i.dragRef,style:{color:t,fontSize:e},className:`my-3 leading-relaxed ${n}`,children:r})},kh=({text:r,variant:e="primary",size:t="medium",textColor:s,backgroundColor:i,onClick:n})=>{const o={small:"py-2 px-4 text-sm",medium:"py-3 px-6 text-base",large:"py-4 px-8 text-lg"},l={primary:"bg-blue-500",secondary:"bg-gray-500",success:"bg-green-500",danger:"bg-red-500"},u={...i&&{backgroundColor:i},...s&&{color:s}};return a.jsx("button",{onClick:n,style:u,className:`${o[t]} ${l[e]} ${s?"":"text-white"} border-none rounded cursor-pointer my-2`,children:r})},L_=({title:r,description:e,backgroundColor:t="#fff",titleColor:s,textColor:i})=>a.jsxs("div",{style:{backgroundColor:t},className:"border border-gray-300 rounded-lg p-5 my-4 shadow-sm",children:[a.jsx("h3",{style:{color:s||"#333"},className:"m-0 mb-3",children:r}),a.jsx("p",{style:{color:i||"#666"},className:"m-0 leading-relaxed",children:e})]}),A_=({items:r,type:e="ul",textColor:t})=>{const s=r.split(`
`).filter(i=>i.trim());return e==="ol"?a.jsx("ol",{className:"my-4 pl-5",children:s.map((i,n)=>a.jsx("li",{style:{color:t||"#555"},className:"my-2",children:i.trim()},n))}):a.jsx("ul",{className:"my-4 pl-5",children:s.map((i,n)=>a.jsx("li",{style:{color:t||"#555"},className:"my-2",children:i.trim()},n))})},D_=({color:r="#ddd",thickness:e="1px"})=>a.jsx("hr",{style:{border:"none",borderTop:`${e} solid ${r}`},className:"my-6"}),Du=({height:r="20px"})=>a.jsx("div",{style:{height:r},className:"w-full"}),M_=({label:r,checked:e,onChange:t})=>{const s=l=>typeof l=="string"?l==="true":!!l,[i,n]=d.useState(()=>s(e));d.useEffect(()=>{const l=s(e);console.log("Checkbox props updated:",{label:r,checked:e,booleanValue:l,currentState:i}),n(l)},[e,r]);const o=l=>{const u=l.target.checked;console.log("Input handleChange:",{label:r,newValue:u,previous:i}),n(u),t?(console.log("Calling onChange with:",u),t(u)):console.log("No onChange prop provided - using internal state only")};return a.jsx("div",{onClick:()=>{const l=!i;console.log("Container clicked:",{label:r,newValue:l,previous:i}),n(l),t?(console.log("Container calling onChange with:",l),t(l)):console.log("Container: No onChange prop provided - using internal state only")},className:"p-2 cursor-pointer",children:a.jsxs("label",{className:"flex items-center cursor-pointer py-1 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:o,style:{accentColor:"#3b82f6"},className:"mr-2 w-[18px] h-[18px] cursor-pointer"}),r]})},`checkbox-${r}-${i}`)},QP=({label:r,placeholder:e="",value:t="",type:s="text",required:i=!1,disabled:n=!1,icon:o,iconPosition:l="left",width:u="100%",height:c="40px",fontSize:h="14px",color:p="#333333",backgroundColor:m="#ffffff",borderColor:v="#d1d5db",borderRadius:f="6px",padding:b="10px 12px",margin:x="0",onChange:g})=>{const y=w=>{g&&g(w.target.value)};return a.jsxs("div",{style:{margin:x,width:u},children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r,i&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[o&&l==="left"&&a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-base text-gray-500 z-[1] flex items-center justify-center",children:o}),a.jsx("input",{type:s,value:t,placeholder:e,required:i,disabled:n,onChange:y,style:{height:c,padding:o&&l==="left"?"10px 12px 10px 40px":b,border:`1px solid ${v}`,borderRadius:f,fontSize:h,color:p,backgroundColor:n?"#f9fafb":m},className:"w-full outline-none transition-colors duration-200 box-border focus:border-purple-500",onBlur:w=>{w.currentTarget.style.borderColor=v}}),o&&l==="right"&&a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-base text-gray-500 z-[1] flex items-center justify-center",children:o})]})]})},WP=({label:r,options:e=[],value:t="",placeholder:s="Select an option",required:i=!1,disabled:n=!1,width:o="100%",height:l="40px",fontSize:u="14px",color:c="#333333",backgroundColor:h="#ffffff",borderColor:p="#d1d5db",borderRadius:m="6px",padding:v="10px 12px",margin:f="0",onChange:b})=>{const x=g=>{b&&b(g.target.value)};return a.jsxs("div",{style:{margin:f,width:o},children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r,i&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:t,required:i,disabled:n,onChange:x,style:{height:l,padding:"10px 40px 10px 12px",border:`1px solid ${p}`,borderRadius:m,fontSize:u,color:c,backgroundColor:n?"#f9fafb":h},className:"w-full outline-none transition-colors duration-200 box-border appearance-none focus:border-purple-500 disabled:cursor-not-allowed cursor-pointer",onBlur:g=>{g.currentTarget.style.borderColor=p},children:[s&&a.jsx("option",{value:"",disabled:!0,children:s}),e.map((g,y)=>a.jsx("option",{value:g.value,children:g.label},y))]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 text-xs",children:""})]})]})},zw=({label:r="",timeValue:e="12:00",ampmValue:t="AM",required:s=!1,disabled:i=!1,width:n="100%",height:o="40px",fontSize:l="14px",color:u="#333333",backgroundColor:c="#ffffff",borderColor:h="#d1d5db",borderRadius:p="6px",padding:m="10px 12px",margin:v="0",onTimeChange:f,onAMPMChange:b})=>a.jsxs("div",{style:{margin:v,width:n},children:[r&&a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r,s&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{style:{height:o,border:`1px solid ${h}`,borderRadius:p,fontSize:l,color:u,backgroundColor:i?"#f9fafb":c},className:"w-full flex items-center box-border overflow-hidden disabled:cursor-not-allowed cursor-text",children:[a.jsx("div",{style:{color:u,fontSize:l},className:"flex-1 h-full flex items-center justify-center font-medium",children:e}),a.jsx("div",{style:{backgroundColor:h},className:"w-px h-[70%] flex-shrink-0"}),a.jsx("div",{style:{color:u,fontSize:l},className:"flex-none w-[50px] h-full flex items-center justify-center font-medium",children:t})]})]}),j_=({children:r,backgroundColor:e="transparent",padding:t="20px",layout:s="vertical",gap:i="16px"})=>{const n={vertical:"flex flex-col",horizontal:"flex flex-row items-center",grid:"grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))]",centered:"flex flex-col items-center justify-center"};return a.jsx("div",{style:{backgroundColor:e,padding:t,gap:i,border:e==="transparent"?"1px dashed #ccc":"none"},className:`${n[s]} my-4 rounded-lg`,children:r})},__=({children:r,direction:e="row",justify:t="flex-start",align:s="stretch",gap:i="16px",wrap:n="nowrap"})=>{const o=e==="column"?"flex-col":"flex-row",l={"flex-start":"justify-start","flex-end":"justify-end",center:"justify-center","space-between":"justify-between","space-around":"justify-around","space-evenly":"justify-evenly"},u={stretch:"items-stretch","flex-start":"items-start","flex-end":"items-end",center:"items-center",baseline:"items-baseline"},c=n==="wrap"?"flex-wrap":"flex-nowrap";return a.jsx("div",{style:{gap:i},className:`flex ${o} ${l[t]||"justify-start"} ${u[s]||"items-stretch"} ${c} p-4 my-4 bg-gray-50 rounded-lg border border-gray-200`,children:r})},O_=({columns:r=2,gap:e="16px",rowGap:t="16px",puck:s,...i})=>{const n=Array.from({length:r},(l,u)=>u),o=Object.keys(i).some(l=>l.startsWith("column-")&&Array.isArray(i[l]));return a.jsx("div",{style:{gridTemplateColumns:`repeat(${r}, 1fr)`,gap:e,rowGap:t},className:"grid p-4 my-4 bg-gray-50 rounded-lg border border-gray-200 min-h-[100px]",children:n.map(l=>{const u=`column-${l}`;if(o){const c=i[u]||[];return a.jsx("div",{className:"min-h-[50px]",children:c.length>0?c.map((h,p)=>{var v;const m=(v=Uo.components[h.type])==null?void 0:v.render;return m?a.jsx("div",{children:a.jsx(m,{...h.props})},p):null}):a.jsxs("div",{className:"min-h-[50px] flex items-center justify-center text-gray-500 text-sm border border-dashed border-gray-300 rounded",children:["Column ",l+1]})},l)}else return a.jsx("div",{className:"min-h-[50px]",children:a.jsx(yx,{zone:u})},l)})})},F_=({children:r,backgroundColor:e="#f0f8ff",padding:t="20px"})=>a.jsx("div",{style:{backgroundColor:e,padding:t,border:"2px dashed #007bff"},className:"my-4 rounded-lg min-h-[100px]",children:r}),B_=({children:r,position:e="static",top:t="auto",left:s="auto",right:i="auto",bottom:n="auto",zIndex:o="auto"})=>a.jsx("div",{style:{position:e,top:t,left:s,right:i,bottom:n,zIndex:o},className:"my-4",children:r}),Cx=({title:r,subtitle:e="",buttons:t=[{text:"Register Now",link:"#",color:"#8b5cf6",textColor:"white",size:"large"}],backgroundColor:s="#1a1a1a",textColor:i="#FFFFFF",backgroundImage:n="",height:o="500px",alignment:l="center",overlayOpacity:u=.4,buttonSpacing:c="12px"})=>{const h=d.useRef([]),p=d.useRef(null),[m,v]=d.useState("");d.useEffect(()=>{h.current.forEach(C=>{C&&PP(C)})},[t]);const f=C=>{var L;const k=(L=C.target.files)==null?void 0:L[0];if(k){const D=new FileReader;D.onload=q=>{var $;const U=($=q.target)==null?void 0:$.result;v(U)},D.readAsDataURL(k)}},b=m||n,x={backgroundColor:b?"#ffffff":s||"#1a1a1a",color:i,minHeight:b?"500px":"300px",height:o||"500px",justifyContent:l==="left"?"flex-start":l==="right"?"flex-end":"center",padding:"clamp(40px, 8vw, 80px) clamp(20px, 4vw, 40px)",width:"100%",maxWidth:"100%",display:"flex",position:"relative",boxSizing:"border-box",overflow:"hidden",margin:0};d.useEffect(()=>{const C=typeof x.background=="string"?x.background:"";console.log(" HeroSection render:",{backgroundImageProp:n?n.substring(0,50)+"...":"EMPTY",uploadedImageUrl:m?m.substring(0,50)+"...":"EMPTY",currentBackgroundImage:b?b.substring(0,50)+"...":"EMPTY",heroStyleBackground:C?C.substring(0,80)+"...":"",title:r,subtitle:e})},[n,m,b,x.background,r,e]);const g="w-full flex items-center m-0 relative overflow-hidden block",y={backgroundColor:`rgba(0, 0, 0, ${u})`},w={textAlign:l,maxWidth:"800px",padding:"0 clamp(10px, 2vw, 20px)"},S=C=>{switch(C){case"small":return"clamp(6px, 1.5vw, 8px) clamp(12px, 2vw, 16px)";case"medium":return"clamp(10px, 2vw, 12px) clamp(18px, 3vw, 24px)";case"large":return"clamp(12px, 2.5vw, 16px) clamp(24px, 4vw, 32px)";default:return"clamp(12px, 2.5vw, 16px) clamp(24px, 4vw, 32px)"}},P=C=>{switch(C){case"small":return"clamp(12px, 2vw, 14px)";case"medium":return"clamp(14px, 2.5vw, 16px)";case"large":return"clamp(14px, 3vw, 18px)";default:return"clamp(14px, 3vw, 18px)"}},V=C=>({backgroundColor:C.color||"#6938EF",color:C.textColor||"white",padding:S(C.size||"large"),border:(C.color||"#6938EF")==="transparent"?`2px solid ${C.textColor||"white"}`:"none",fontSize:P(C.size||"large"),boxShadow:(C.color||"#6938EF")==="transparent"?"none":"0 4px 12px rgba(0,0,0,0.3)",marginRight:c}),I=C=>{C.currentTarget.classList.add("-translate-y-0.5"),C.currentTarget.style.backgroundColor==="transparent"?(C.currentTarget.style.backgroundColor=C.currentTarget.style.color,C.currentTarget.style.color="white"):C.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.4)"},E=C=>{C.currentTarget.classList.remove("-translate-y-0.5"),C.currentTarget.style.backgroundColor==="transparent"?(C.currentTarget.style.backgroundColor="transparent",C.currentTarget.style.color=C.currentTarget.dataset.originalColor||"white"):C.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)"},R=(C,k)=>{(!k.link||k.link==="#"||k.link.startsWith("#"))&&(C.preventDefault(),console.log("Button clicked:",k.text,"Link:",k.link))};return a.jsxs("div",{style:x,className:g,onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},onMouseEnter:C=>{C.currentTarget.classList.add("cursor-pointer","opacity-95")},onMouseLeave:C=>{C.currentTarget.classList.remove("cursor-pointer","opacity-95")},children:[b&&a.jsx("img",{src:b,alt:"Hero banner",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center center",zIndex:0,display:"block",margin:0,padding:0},onError:C=>{console.error("Error loading banner image"),C.currentTarget.style.display="none"}}),b&&a.jsx("div",{style:y,className:"absolute inset-0 z-[1]"}),a.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:f,className:"hidden"}),a.jsxs("div",{style:w,className:"z-[2] relative w-full",onClick:C=>C.stopPropagation(),onMouseEnter:C=>{C.currentTarget.parentElement.classList.remove("cursor-pointer"),C.currentTarget.parentElement.classList.add("cursor-default")},onMouseLeave:C=>{C.currentTarget.parentElement.classList.remove("cursor-default"),C.currentTarget.parentElement.classList.add("cursor-pointer")},children:[a.jsx("h1",{className:"m-0 mb-4 text-[clamp(1.75rem,4vw,3.5rem)] font-bold leading-tight text-white drop-shadow-[2px_2px_4px_rgba(0,0,0,0.5)]","data-puck-field":"title",contentEditable:!0,suppressContentEditableWarning:!0,children:r}),e&&a.jsx("p",{className:"m-0 mb-5 text-[clamp(0.875rem,2vw,1.25rem)] opacity-95 text-white drop-shadow-[1px_1px_2px_rgba(0,0,0,0.5)] leading-snug","data-puck-field":"subtitle",contentEditable:!0,suppressContentEditableWarning:!0,children:e}),t&&t.length>0&&a.jsx("div",{className:"mt-[clamp(20px,4vw,30px)] flex flex-wrap",style:{gap:c,justifyContent:l==="left"?"flex-start":l==="right"?"flex-end":"center"},children:t.map((C,k)=>a.jsx("a",{ref:L=>{h.current[k]=L},href:C.link||"#",style:V(C),className:"rounded-lg cursor-pointer font-bold no-underline inline-block transition-all duration-300 uppercase tracking-wider","data-original-color":C.textColor,"data-puck-field":`buttons[${k}].text`,contentEditable:!0,suppressContentEditableWarning:!0,onMouseEnter:I,onMouseLeave:E,onClick:L=>R(L,C),children:C.text},k))})]})]})},q_=({videoUrl:r,title:e,subtitle:t,buttonText:s,buttonLink:i,backgroundColor:n,textColor:o,titleSize:l,subtitleSize:u,buttonColor:c,buttonTextColor:h,buttonSize:p,overlayOpacity:m,alignment:v,height:f})=>{const[b,x]=d.useState(!1),[g,y]=d.useState(!1),[w,S]=d.useState(null),[P,V]=d.useState(null),I=j=>typeof j=="string"?j:j&&typeof j=="object"&&"props"in j&&j.props&&"value"in j.props&&j.props.value||"",E=I(r),R=I(e),C=I(t),k=I(s),L=I(i);console.log("HeroVideo props:",{videoUrl:r,title:e,subtitle:t,buttonText:s,buttonLink:i}),console.log("Extracted values:",{videoUrlValue:E,titleValue:R,subtitleValue:C,buttonTextValue:k,buttonLinkValue:L});const D=j=>{j.preventDefault(),L&&L!=="#"&&console.log("Navigate to:",L)},q=()=>{const j=document.createElement("input");j.type="file",j.accept="image/*,video/*",j.onchange=B=>{var G;const Q=(G=B.target.files)==null?void 0:G[0];if(Q){const X=URL.createObjectURL(Q),de=Q.type.startsWith("video/"),se=Q.type.startsWith("image/");(de||se)&&(S(X),V(de?"video":"image"),y(!1),x(!1))}},j.click()},U=j=>{switch(j){case"XXXL":return"4rem";case"XXL":return"3.5rem";case"XL":return"3rem";case"L":return"2.5rem";case"M":return"2rem";case"S":return"1.5rem";case"XS":return"1.25rem";default:return"2.5rem"}},$=j=>{switch(j){case"XL":return"1.5rem";case"L":return"1.25rem";case"M":return"1.125rem";case"S":return"1rem";case"XS":return"0.875rem";default:return"1.25rem"}},K=j=>{switch(j){case"large":return{padding:"12px 32px",fontSize:"1.125rem"};case"medium":return{padding:"10px 24px",fontSize:"1rem"};case"small":return{padding:"8px 16px",fontSize:"0.875rem"};default:return{padding:"10px 24px",fontSize:"1rem"}}},M=j=>{switch(j){case"left":return"flex-start";case"right":return"flex-end";case"center":default:return"center"}};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          .hero-video-container:hover .upload-hint {
            opacity: 1 !important;
          }
        `}),a.jsxs("div",{className:"hero-video-container relative min-h-[400px] overflow-hidden flex items-center",style:{height:f||"500px",backgroundColor:n||"#000000",justifyContent:M(v)},children:[(w||E)&&!g?P==="image"?a.jsx("img",{src:w||E,alt:"Hero background",className:"absolute top-0 left-0 w-full h-full object-cover z-[1]",onLoad:()=>{x(!0),y(!1)},onError:()=>{y(!0)}}):a.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover z-[1]",onLoadedData:()=>{x(!0),y(!1)},onError:()=>{y(!0)},children:[a.jsx("source",{src:w||E,type:"video/mp4"}),"Your browser does not support the video tag."]}):a.jsx("div",{style:{background:"linear-gradient(45deg, #667eea 0%, #764ba2 100%)"},className:"absolute top-0 left-0 w-full h-full z-[1] cursor-pointer",onClick:q}),a.jsx("div",{style:{backgroundColor:`rgba(0, 0, 0, ${m||.4})`},className:"absolute top-0 left-0 w-full h-full z-[2] cursor-pointer",onClick:q}),a.jsxs("div",{style:{color:o||"#ffffff"},className:`relative z-[3] max-w-[800px] p-8 w-full ${v==="left"?"text-left":v==="right"?"text-right":"text-center"}`,children:[a.jsx("h1",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"title",style:{fontSize:U(l),color:o||"#ffffff"},className:"font-bold m-0 mb-4 leading-tight drop-shadow-[2px_2px_4px_rgba(0,0,0,0.5)] cursor-text outline-none min-h-[60px]",children:e}),a.jsx("p",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"subtitle",style:{fontSize:$(u),color:o||"#ffffff"},className:"m-0 mb-8 leading-relaxed drop-shadow-[1px_1px_2px_rgba(0,0,0,0.5)] cursor-text outline-none min-h-[40px]",children:t}),a.jsx("a",{href:L||"#",onClick:D,contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"buttonText",style:{backgroundColor:c||"#007bff",color:h||"#ffffff",...K(p)},className:"inline-block no-underline rounded-md font-semibold transition-all duration-300 shadow-lg cursor-text outline-none hover:-translate-y-0.5",onMouseEnter:j=>{j.currentTarget.style.boxShadow="0 6px 20px rgba(0,0,0,0.3)"},onMouseLeave:j=>{j.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},children:s}),E&&!b&&!g&&a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-xl z-[4]",children:"Loading video..."}),a.jsx("div",{className:"upload-hint absolute top-5 right-5 bg-black/70 text-white px-3 py-2 rounded text-xs z-10 opacity-0 transition-opacity duration-300 pointer-events-none",children:" Click background to upload image or video"}),g&&a.jsx("div",{className:"absolute top-2.5 left-2.5 bg-red-600/90 text-white px-3 py-2 rounded text-xs z-10 max-w-[200px]",children:" Media failed to load"})]})]})]})},z_=({slides:r,autoplay:e=!0,autoplaySpeed:t=3e3,showDots:s=!0,showArrows:i=!0,height:n="400px",backgroundColor:o="#f8f9fa"})=>{const[l,u]=Ie.useState(0),c=r.split(`
`).filter(b=>b.trim());Ie.useEffect(()=>{if(e&&c.length>1){const b=setInterval(()=>{u(x=>(x+1)%c.length)},t);return()=>clearInterval(b)}},[e,t,c.length]);const h=()=>{u(b=>(b+1)%c.length)},p=()=>{u(b=>(b-1+c.length)%c.length)},m=b=>{u(b)},v={height:n,backgroundColor:o},f={background:`linear-gradient(135deg, ${o} 0%, #e9ecef 100%)`};return c.length===0?a.jsx("div",{style:v,className:"relative my-4 rounded-lg overflow-hidden flex items-center justify-center",children:a.jsx("div",{style:f,className:"w-full h-full flex items-center justify-center p-10 text-center text-2xl font-bold text-gray-800",children:"Add slide content (one per line)"})}):a.jsxs("div",{style:v,className:"relative my-4 rounded-lg overflow-hidden flex items-center justify-center",children:[a.jsx("div",{style:f,className:"w-full h-full flex items-center justify-center p-10 text-center text-2xl font-bold text-gray-800",children:c[l]||"No slides available"}),i&&c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute top-1/2 -translate-y-1/2 left-5 bg-black/50 text-white border-none rounded-full w-10 h-10 cursor-pointer text-lg flex items-center justify-center z-[2] hover:bg-black/70 transition-colors",onClick:p,children:""}),a.jsx("button",{className:"absolute top-1/2 -translate-y-1/2 right-5 bg-black/50 text-white border-none rounded-full w-10 h-10 cursor-pointer text-lg flex items-center justify-center z-[2] hover:bg-black/70 transition-colors",onClick:h,children:""})]}),s&&c.length>1&&a.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex gap-2 z-[2]",children:c.map((b,x)=>a.jsx("button",{className:`w-3 h-3 rounded-full cursor-pointer transition-colors duration-300 ${x===l?"bg-white":"bg-white/50"}`,onClick:()=>m(x)},x))})]})},UP=({photo:r,uploadedImage:e,name:t,designation:s})=>{const i=r&&typeof r=="object"&&"props"in r&&r.props&&"value"in r.props?r.props.value:typeof r=="string"?r:"",n=e&&typeof e=="object"&&"props"in e&&e.props&&"value"in e.props?e.props.value:typeof e=="string"?e:"",o=t&&typeof t=="object"&&"props"in t&&t.props&&"value"in t.props?t.props.value:typeof t=="string"?t:"";s&&typeof s=="object"&&"props"in s&&s.props&&"value"in s.props&&s.props.value;const[l,u]=Ie.useState(""),c=Ie.useRef("");i&&!c.current&&(console.log("Setting stable photo URL:",i),c.current=i);const h=l||n||c.current,p=m=>{var f;const v=(f=m.target.files)==null?void 0:f[0];if(console.log("File selected:",v),v){const b=new FileReader;b.onload=x=>{var w;const g=(w=x.target)==null?void 0:w.result;console.log("File read result:",g.substring(0,50)+"..."),u(g);const y=document.querySelector('[data-puck-field="uploadedImage"]');if(console.log("Found uploadedImageField:",y),y){y.textContent=g,console.log("Updated field content to:",g.substring(0,50)+"...");const S=new Event("input",{bubbles:!0});y.dispatchEvent(S),console.log("Dispatched input event")}else console.log("No uploadedImageField found")},b.readAsDataURL(v)}};return d.useEffect(()=>{n&&l&&u("")},[n]),d.useEffect(()=>()=>{l&&l.startsWith("blob:")&&URL.revokeObjectURL(l)},[l]),a.jsxs("div",{className:"rounded-xl border border-gray-200 shadow-sm bg-white overflow-hidden",children:[a.jsxs("div",{className:"w-full h-[220px] overflow-hidden rounded-t-lg relative bg-gray-100 flex items-center justify-center",children:[h?a.jsx("img",{src:h,alt:o,className:"w-full h-full block",style:{objectFit:"contain",objectPosition:"center center",width:"100%",height:"250px",display:"block"},onError:m=>{m.currentTarget.style.display="none"}}):a.jsx("div",{className:"text-gray-500 text-sm",children:"No image"}),a.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center text-white text-xs opacity-0 transition-opacity duration-200 cursor-pointer rounded-lg z-10 hover:opacity-100",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"absolute inset-0 opacity-0 cursor-pointer"}),a.jsx("span",{children:"Click to upload image"})]}),a.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"uploadedImage",className:"absolute -top-[9999px] -left-[9999px] w-px h-px opacity-0 pointer-events-none",children:n}),a.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"photo",className:"absolute top-2.5 left-2.5 right-2.5 bg-black/70 text-white text-[10px] px-2 py-1 rounded opacity-0 transition-opacity duration-200 cursor-pointer z-[11] hover:opacity-100",children:r})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"font-semibold text-lg block mb-1 text-gray-900",contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"name",children:t}),a.jsx("div",{className:"text-gray-500 text-sm leading-snug",contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"designation",children:s})]})]})},wx=({speakers:r=[],title:e="Speakers",showTitle:t=!0,backgroundColor:s="#ffffff",padding:i="0 2rem",gap:n="2rem",containerMaxWidth:o="max-w-7xl",containerPadding:l="px-4 sm:px-6 lg:px-8 py-8"})=>a.jsxs("div",{className:`${o} mx-auto ${l}`,children:[t&&e&&a.jsx("div",{className:"mb-6",children:a.jsx("h2",{className:"text-[24px] text-center font-bold text-slate-900",children:e})}),a.jsxs("section",{style:{backgroundColor:s,padding:i},className:"w-full",children:[a.jsx("div",{style:{gap:n},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 max-w-[900px] mx-auto",children:r.map((u,c)=>a.jsx("div",{className:"w-full",children:a.jsx(UP,{name:u.name,designation:u.title,photo:u.image,uploadedImage:""})},c))}),r.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500 text-lg",children:"No speakers added yet. Add speakers using the properties panel."})]})]}),$P=({puck:r,sessionTitle:e="Session title",startTime:t="00:00",startAMPM:s="AM",endTime:i="00:00",endAMPM:n="AM",location:o="Enter location",eventType:l="Select event type",eventTypeOptions:u=[{label:"Select event type",value:"Select event type"},{label:"In-Person",value:"In-Person"},{label:"Virtual",value:"Virtual"},{label:"Hybrid",value:"Hybrid"}],ctaText:c="Click to add a section!",addButtonText:h="+ Add section",cancelButtonText:p="Cancel",saveButtonText:m="Save",showActionButtons:v=!0,backgroundColor:f="#ffffff",borderRadius:b="12px",padding:x="40px",onSave:g,onCancel:y,onAddSection:w})=>a.jsxs("div",{ref:r==null?void 0:r.dragRef,style:{backgroundColor:f,borderRadius:b,padding:x},className:"shadow-md max-w-[1200px] mx-auto",children:[a.jsx(HP,{text:e,level:1,size:"XL",color:"#111827",align:"left"}),a.jsx(Du,{height:"32px"}),a.jsxs("div",{className:"flex gap-5 flex-wrap items-end",children:[a.jsxs("div",{className:"flex-none",children:[a.jsx("div",{className:"mb-2",children:a.jsx(Ma,{text:"Start time",size:"14px",color:"#374151",align:"left"})}),a.jsx(zw,{timeValue:t,ampmValue:s,width:"150px",height:"40px"})]}),a.jsxs("div",{className:"flex-none",children:[a.jsx("div",{className:"mb-2",children:a.jsx(Ma,{text:"End Time",size:"14px",color:"#374151",align:"left"})}),a.jsx(zw,{timeValue:i,ampmValue:n,width:"150px",height:"40px"})]}),a.jsxs("div",{className:"flex-1 min-w-[200px]",children:[a.jsx("div",{className:"mb-2",children:a.jsx(Ma,{text:"Location",size:"14px",color:"#374151",align:"left"})}),a.jsx(QP,{label:"",value:o,placeholder:o,icon:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),a.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),iconPosition:"left",width:"100%",height:"40px"})]}),a.jsxs("div",{className:"flex-none w-[220px]",children:[a.jsx("div",{className:"mb-2",children:a.jsx(Ma,{text:"Event type",size:"14px",color:"#374151",align:"left"})}),a.jsx(WP,{label:"",value:l,placeholder:"",options:u,width:"100%",height:"40px"})]})]}),a.jsx(Du,{height:"48px"}),a.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl py-[60px] px-10 text-center min-h-[200px] flex flex-col items-center justify-center",children:[a.jsx(Ma,{text:c,size:"18px",color:"#6b7280",align:"center"}),a.jsx(Du,{height:"16px"}),a.jsx(kh,{text:h,variant:"primary",size:"medium",backgroundColor:"#8b5cf6",onClick:w})]}),v&&a.jsxs(a.Fragment,{children:[a.jsx(Du,{height:"32px"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(kh,{text:p,variant:"secondary",size:"medium",onClick:y}),a.jsx(kh,{text:m,variant:"primary",size:"medium",backgroundColor:"#8b5cf6",onClick:g})]})]})]}),GP=d.createContext({}),Hw=({children:r,onNavigateToEditor:e,onAddComponent:t})=>(Ie.useEffect(()=>{},[e,t]),a.jsx(GP.Provider,{value:{onNavigateToEditor:e,onAddComponent:t},children:r})),H_=()=>d.useContext(GP),Q_=({initialDate:r,onDateChange:e,events:t,onEventsChange:s,onNavigateToEditor:i,...n})=>{var Sn,wo,va;const{onNavigateToEditor:o,onAddComponent:l}=H_();d.useEffect(()=>{console.log(" SchedulePage mounted - NavigationContext check:"),console.log("  - onAddComponent available?",!!l),console.log("  - onNavigateToEditor available?",!!o),console.log("  - Full context:",{onAddComponent:l,onNavigateToEditorContext:o})},[l,o]);const u=i||o;console.log("SchedulePage: onNavigateToEditor from prop:",typeof i),console.log("SchedulePage: onNavigateToEditor from context:",typeof o),console.log("SchedulePage: Final onNavigateToEditor:",typeof u),console.log("SchedulePage: onAddComponent:",typeof l);const h=(n.events||[]).map(ne=>ne&&typeof ne.tags=="string"?{...ne,tags:ne.tags?ne.tags.split(",").map(Se=>Se.trim()).filter(Se=>Se.length>0):[]}:ne),[p,m]=d.useState(()=>{if(r)return r;const ne=localStorage.getItem("schedule-current-date");if(ne){const Se=new Date(ne);if(!isNaN(Se.getTime()))return Se}return new Date}),[v,f]=d.useState(!1),[b,x]=d.useState("Presentation Session"),[g,y]=d.useState(null),[w,S]=d.useState(!1),[P,V]=d.useState(0),[I,E]=d.useState(!1),[R,C]=d.useState(!0),[k,L]=d.useState(!1),[D,q]=d.useState(!1),[U,$]=d.useState(new Set),[K,M]=d.useState({title:"",startTime:"08:00",endTime:"09:00",location:"",type:"In-Person",description:"",tags:"",participants:"",attachments:0,parentSessionId:""}),j=d.useRef({}),B=[{id:"1",title:"Welcome & Opening Keynote",startTime:"09:00 AM",endTime:"10:00 AM",location:"Main Hall",type:"In-Person",description:"Opening keynote address by the conference chair",participants:"Chairman: Dr. Smith, Speaker: Dr. Johnson",tags:["Keynote","Opening"],attachments:2,isCompleted:!1,isExpanded:!1,children:[]},{id:"2",title:"Coffee Break",startTime:"10:00 AM",endTime:"10:30 AM",location:"Lobby",type:"In-Person",description:"Networking and refreshments",isCompleted:!1,isExpanded:!1,children:[]},{id:"3",title:"AI & Machine Learning Workshop",startTime:"10:30 AM",endTime:"12:00 PM",location:"Room A",type:"In-Person",description:"Hands-on workshop on AI and ML fundamentals",participants:"Instructor: Prof. Williams",tags:["Workshop","AI","ML"],attachments:5,isCompleted:!1,isExpanded:!1,children:[]},{id:"4",title:"Panel Discussion: Future of Tech",startTime:"10:30 AM",endTime:"12:00 PM",location:"Room B",type:"Virtual",description:"Expert panel discussing emerging technologies",participants:"Moderator: Dr. Brown, Panelists: Dr. Davis, Dr. Wilson",tags:["Panel","Discussion","Tech"],attachments:1,isParallel:!0,isCompleted:!1,isExpanded:!1,children:[]},{id:"5",title:"Lunch Break",startTime:"12:00 PM",endTime:"01:00 PM",location:"Dining Hall",type:"In-Person",description:"Buffet lunch and networking",isCompleted:!1,isExpanded:!1,children:[]},{id:"6",title:"Poster Session",startTime:"01:00 PM",endTime:"02:30 PM",location:"Exhibition Hall",type:"In-Person",description:"Poster presentations and networking",participants:"Multiple presenters",tags:["Poster","Networking"],attachments:0,isCompleted:!1,isExpanded:!1,children:[]},{id:"7",title:"Advanced React Patterns",startTime:"02:30 PM",endTime:"04:00 PM",location:"Room A",type:"In-Person",description:"Deep dive into advanced React patterns and best practices",participants:"Speaker: Dr. Martinez",tags:["Workshop","React","Frontend"],attachments:3,isCompleted:!1,isExpanded:!1,children:[]},{id:"8",title:"Closing Remarks",startTime:"04:00 PM",endTime:"04:30 PM",location:"Main Hall",type:"In-Person",description:"Conference closing and thank you notes",participants:"Chairman: Dr. Smith",tags:["Closing"],attachments:0,isCompleted:!1,isExpanded:!1,children:[]}],Q=ne=>{if(ne&&typeof ne.tags=="string"){const Se=ne.tags;return{...ne,tags:Se?Se.split(",").map(ve=>ve.trim()).filter(ve=>ve.length>0):[]}}return ne&&!Array.isArray(ne.tags)?{...ne,tags:[]}:ne},G=ne=>ne.map(Q),[X,de]=d.useState(()=>t&&t.length>0?G(t):h&&h.length>0?G(h):G(B));d.useEffect(()=>{t&&t.length>0?de(G(t)):h&&h.length>0&&de(G(h))},[t,h]);const se=ne=>{const Se=G(ne);de(Se),s&&s(Se)},oe=(ne=>{const Se=new Date(ne),ve=Se.getDay(),$e=Se.getDate()-ve+(ve===0?-6:1);return Se.setDate($e),Array.from({length:7},(At,ls)=>{const Ut=new Date(Se);return Ut.setDate(Se.getDate()+ls),Ut})})(p),ie=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_=ne=>{const Se=new Date(p);Se.setDate(p.getDate()+(ne==="next"?7:-7)),m(Se),localStorage.setItem("schedule-current-date",Se.toISOString()),e==null||e(Se)},O=ne=>ne.toDateString()===p.toDateString(),Z=ne=>{m(ne),localStorage.setItem("schedule-current-date",ne.toISOString()),e==null||e(ne)},le=()=>{console.log(" addSession called!"),console.log(" onAddComponent available?",!!l),l?(console.log(" Using onAddComponent to add SessionForm to Puck canvas"),l("SessionForm",{sessionTitle:"New Session",startTime:"00:00",startAMPM:"AM",endTime:"00:00",endAMPM:"AM",location:"Enter location",eventType:"Select event type",ctaText:"Click to add a section!",addButtonText:"+ Add section",cancelButtonText:"Cancel",saveButtonText:"Save",showActionButtons:!0,backgroundColor:"#ffffff",borderRadius:"12px",padding:"40px"}),console.log(" SessionForm component added to canvas")):(console.log(" onAddComponent not available, using fallback modal"),f(!0))},te=()=>{f(!1),C(!0),L(!1),M({title:"",startTime:"08:00",endTime:"09:00",location:"",type:"In-Person",description:"",tags:"",participants:"",attachments:0,parentSessionId:""})},W=ne=>{const Se=X.find(ve=>ve.id===ne);Se&&(M(ve=>({...ve,startTime:he(Se.startTime),endTime:he(Se.endTime),location:Se.location,parentSessionId:ne})),L(!0),C(!1),f(!0))},he=ne=>{const[Se,ve]=ne.split(" "),[$e,At]=Se.split(":");let ls=parseInt($e);return ve==="PM"&&ls!==12?ls+=12:ve==="AM"&&ls===12&&(ls=0),`${ls.toString().padStart(2,"0")}:${At}`},me=ne=>{x(ne)},Ve=()=>{b==="Create custom session"?(q(!0),f(!1),C(!0)):C(!1)},Me=()=>{console.log("handleEditSessionForm called!");const ne={content:[{type:"SessionForm",props:{sessionTitle:"Session title",startTime:"00:00",startAMPM:"AM",endTime:"00:00",endAMPM:"AM",location:"Enter location",eventType:"Select event type",ctaText:"Click to add a section!",addButtonText:"+ Add section",cancelButtonText:"Cancel",saveButtonText:"Save",showActionButtons:!0,backgroundColor:"#ffffff",borderRadius:"12px",padding:"40px"},id:"session-form-editor"}],root:{props:{}}};console.log("Storing SessionForm data:",ne),localStorage.setItem("custom-session-data",JSON.stringify(ne));const Se=localStorage.getItem("custom-session-data");if(console.log("Verifying stored data:",Se),u){console.log("Navigating to editor...");try{u(),console.log("onNavigateToEditor called successfully")}catch(ve){const $e=ve instanceof Error?ve.message:String(ve);console.error("Error calling onNavigateToEditor:",$e),alert("Error navigating to editor: "+$e)}}else console.error("onNavigateToEditor function not provided!"),alert("ERROR: onNavigateToEditor function not provided!")},Le=ne=>{const{name:Se,value:ve}=ne.target;M($e=>({...$e,[Se]:ve}))},ze=ne=>{const[Se,ve]=ne.split(":"),$e=parseInt(Se),At=$e>=12?"PM":"AM";return`${($e%12||12).toString().padStart(2,"0")}:${ve} ${At}`},et=ne=>{ne.preventDefault();const Se=ze(K.startTime),ve=ze(K.endTime),At=X.filter(Ut=>Ut.startTime===Se).length>0,ls={id:Date.now().toString(),title:K.title||"Untitled Session",startTime:Se,endTime:ve,location:K.location||"TBA",type:K.type,description:K.description,attachments:K.attachments,participants:K.participants,tags:K.tags?K.tags.split(",").map(Ut=>Ut.trim()):void 0,isParallel:At,isCompleted:!1,children:[],isExpanded:!1,parentSessionId:k?K.parentSessionId:void 0};se([...X,ls]),k&&K.parentSessionId&&$(Ut=>new Set([...Ut,K.parentSessionId])),M({title:"",startTime:"08:00",endTime:"09:00",location:"",type:"In-Person",description:"",tags:"",participants:"",attachments:0,parentSessionId:""}),f(!1),C(!0),x("Presentation Session"),L(!1),setTimeout(()=>{Xe.forEach(Ut=>{Ae(Ut)})},200)},nt=ne=>{const Se=X.map($e=>$e.id===ne?{...$e,isCompleted:!$e.isCompleted}:$e),ve=Se.every($e=>$e.isCompleted);E(ve),se(Se)},Bt=ne=>{y(g===ne?null:ne)},Fs=()=>{S(!w)},Rr=()=>{const ne=X.map(Se=>({...Se,isCompleted:!0}));se(ne),E(!0),V(Se=>Se+1),S(!1)},hr=()=>{const ne=X.map(Se=>({...Se,isCompleted:!1}));se(ne),E(!1),V(Se=>Se+1),S(!1)},Zr=ne=>{const Se=X.filter($e=>$e.id!==ne),ve=Se.length>0&&Se.every($e=>$e.isCompleted);E(ve),se(Se),y(null),setTimeout(()=>{Xe.forEach($e=>{Ae($e)})},200)},rt=ne=>{const Se=X.map(ve=>ve.id===ne?{...ve,isExpanded:!ve.isExpanded}:ve);se(Se),V(ve=>ve+1),setTimeout(()=>{Xe.forEach(ve=>{Ae(ve)})},200)},ye=ne=>{$(Se=>{const ve=new Set(Se);return ve.has(ne)?ve.delete(ne):ve.add(ne),ve}),setTimeout(()=>{Xe.forEach(Se=>{Ae(Se)})},200)};d.useEffect(()=>{const ne=Se=>{const ve=Se.target;ve&&!ve.closest("[data-dropdown]")&&(g&&y(null),w&&S(!1))};return(g||w)&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[g,w]);const Ue=ne=>X.filter(Se=>Se.startTime===ne&&!Se.parentSessionId),Xe=(()=>{const ne=X.filter(ve=>!ve.parentSessionId),Se=new Set(ne.map(ve=>ve.startTime));return Array.from(Se).sort((ve,$e)=>{const At=ls=>{const[Ut,pr]=ls.split(" "),[Kr,mr]=Ut.split(":");let Gs=parseInt(Kr);return pr==="PM"&&Gs!==12&&(Gs+=12),pr==="AM"&&Gs===12&&(Gs=0),Gs*60+parseInt(mr)};return At(ve)-At($e)})})(),[xe,Pe]=d.useState({}),je=(ne,Se)=>{const ve=Math.max(Se,60);Pe($e=>({...$e,[ne]:ve}))},Ae=d.useCallback(ne=>{const Se=j.current[ne];if(Se){const ve=Ue(ne);if(ve.length===0)je(ne,80);else{let Ut=60;ve.forEach(mr=>{Ut+=100;const Gs=X.filter(Kl=>Kl.parentSessionId===mr.id);Gs.length>0&&U.has(mr.id)&&(Ut+=Gs.length*80)});const pr=Se.scrollHeight,Kr=Math.max(Ut,pr+20,80);je(ne,Kr)}}},[X,U]),vt=d.useCallback(ne=>Se=>{j.current[ne]=Se,Se&&setTimeout(()=>{const ve=Se.scrollHeight;je(ne,ve)},0)},[]);d.useEffect(()=>{const ne=X.filter(ve=>!ve.parentSessionId),Se=Array.from(new Set(ne.map(ve=>ve.startTime))).sort((ve,$e)=>{const At=pr=>{const[Kr,mr]=pr.split(" "),[Gs,Kl]=Kr.split(":");let So=parseInt(Gs);return mr==="PM"&&So!==12?So+=12:mr==="AM"&&So===12&&(So=0),`${So.toString().padStart(2,"0")}:${Kl}`},ls=At(ve),Ut=At($e);return ls.localeCompare(Ut)});Se.forEach(ve=>{const $e=X.filter(At=>At.startTime===ve&&!At.parentSessionId);if($e.length===0)je(ve,80);else{let pr=60;$e.forEach(Kr=>{pr+=100;const mr=X.filter(Gs=>Gs.parentSessionId===Kr.id);mr.length>0&&U.has(Kr.id)&&(pr+=mr.length*80)}),je(ve,pr)}}),setTimeout(()=>{Se.forEach(ve=>{Ae(ve)})},100)},[X,U]),d.useEffect(()=>{const ne=new ResizeObserver(Se=>{Se.forEach(ve=>{const $e=Object.keys(j.current).find(At=>j.current[At]===ve.target);$e&&je($e,ve.contentRect.height)})});return setTimeout(()=>{Object.values(j.current).filter(Boolean).forEach(ve=>{ve&&ne.observe(ve)})},100),()=>{ne.disconnect()}},[X,P]);const qt=ne=>ne==="In-Person"?"":"",xs=ne=>{const Se=!!ne.parentSessionId;return a.jsxs("div",{children:[a.jsxs("div",{className:`rounded-lg p-4 mb-2 relative cursor-move transition-opacity duration-200 ${Se?"bg-slate-50 border border-slate-300 shadow-sm ml-8":"bg-white border border-gray-200 shadow-sm ml-0"}`,style:{opacity:ne.isCompleted?.6:1},draggable:!0,children:[a.jsx("div",{onClick:()=>nt(ne.id),className:`absolute left-4 top-4 w-4 h-4 rounded-sm cursor-pointer flex items-center justify-center transition-all duration-200 ${ne.isCompleted?"border-2 border-purple-600 bg-purple-600":"border-2 border-gray-300 bg-transparent"}`,children:ne.isCompleted&&a.jsx("span",{className:"text-white text-[10px] font-bold",children:""})}),a.jsxs("div",{className:"ml-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h3",{className:"m-0 text-base font-bold text-gray-900 flex items-center gap-2",children:[Se&&a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:""}),ne.title]}),a.jsxs("div",{className:"flex gap-2 items-center relative",children:[a.jsx("button",{onClick:ve=>{ve.stopPropagation(),Bt(ne.id)},className:"w-6 h-6 border-none bg-transparent cursor-pointer flex items-center justify-center text-base text-gray-500 rounded",children:""}),g===ne.id&&a.jsx("div",{className:"absolute top-7 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:a.jsx("button",{onClick:ve=>{ve.stopPropagation(),Zr(ne.id)},className:"w-full px-3 py-2 border-none bg-transparent text-red-600 text-sm text-left cursor-pointer flex items-center gap-2 rounded-lg hover:bg-red-50",children:" Delete"})}),ne.children&&ne.children.length>0&&a.jsx("button",{onClick:ve=>{ve.stopPropagation(),rt(ne.id)},className:"w-6 h-6 border-none bg-transparent cursor-pointer flex items-center justify-center text-base text-gray-500 rounded",children:ne.isExpanded?"":""}),(()=>{const ve=X.filter($e=>$e.parentSessionId===ne.id);return ve.length>0&&a.jsxs("button",{onClick:$e=>{$e.stopPropagation(),ye(ne.id)},className:"min-w-[32px] h-6 border border-gray-300 bg-white rounded cursor-pointer flex items-center justify-center text-[11px] text-gray-500 transition-all duration-200 mr-1 px-1 gap-0.5 hover:bg-gray-50 hover:border-gray-400",title:`${U.has(ne.id)?"Hide":"Show"} ${ve.length} child session${ve.length>1?"s":""}`,children:[a.jsx("span",{children:U.has(ne.id)?"":""}),a.jsx("span",{className:"text-[10px] font-medium",children:ve.length})]})})(),a.jsx("button",{onClick:ve=>{ve.stopPropagation(),W(ne.id)},className:"w-6 h-6 border border-gray-300 bg-white rounded cursor-pointer flex items-center justify-center text-sm text-gray-500 transition-all duration-200 hover:bg-gray-50 hover:border-gray-400",title:"Add Child Session",children:"+"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[ne.startTime," - ",ne.endTime]}),a.jsx("span",{className:"text-gray-500 text-sm",children:""}),a.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-xl text-xs font-medium",children:ne.location}),a.jsx("span",{className:"text-gray-500 text-sm",children:""}),a.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-xl text-xs font-medium flex items-center gap-1",children:[qt(ne.type)," ",ne.type]}),Array.isArray(ne.tags)&&ne.tags.map((ve,$e)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-xl text-xs font-medium",children:ve},$e))]}),ne.description&&a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:ne.description}),ne.participants&&a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:ne.participants}),ne.attachments&&a.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-xl text-xs font-medium inline-flex items-center gap-1",children:[" ",ne.attachments]})]})]},`${ne.id}-${ne.isCompleted}`),(()=>{const ve=X.filter(At=>At.parentSessionId===ne.id),$e=U.has(ne.id);return ve.length>0&&$e&&a.jsx("div",{className:"mt-2 ml-4 border border-gray-200 rounded-md p-2 bg-slate-50",children:ve.map(At=>xs(At))})})()]},ne.id)},Jr=["Presentation Session","Discussion session","Poster/Abstract session","Workshop session","Networking session","Create custom session"];return D?a.jsxs("div",{className:"font-sans bg-gray-50 min-h-screen p-10",children:[a.jsx("button",{onClick:()=>q(!1),className:"mb-6 px-5 py-2.5 bg-gray-100 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 cursor-pointer flex items-center gap-2 transition-all duration-200 hover:bg-gray-200",children:" Back to Schedule"}),a.jsx($P,{sessionTitle:"Session title",startTime:"00:00",startAMPM:"AM",endTime:"00:00",endAMPM:"AM",location:"Enter location",eventType:"Select event type",ctaText:"Click to add a section!",addButtonText:"+ Add section",cancelButtonText:"Cancel",saveButtonText:"Save",showActionButtons:!1,backgroundColor:"#ffffff",borderRadius:"12px",padding:"40px"}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{type:"button",onClick:Me,className:"bg-purple-600 text-white border-none rounded-lg px-8 py-3 text-base font-medium cursor-pointer transition-colors duration-200 hover:bg-purple-700",children:"Edit"})})]}):a.jsxs("div",{className:"font-sans bg-gray-50 min-h-screen p-5",children:[a.jsxs("div",{className:"bg-white rounded-xl p-5 mb-5 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("button",{onClick:ne=>{ne.stopPropagation(),ne.preventDefault(),_("prev")},onMouseDown:ne=>ne.stopPropagation(),className:"w-12 h-12 rounded-full border-none bg-gray-100 cursor-pointer flex items-center justify-center text-xl text-gray-600 transition-all duration-200 shadow-sm pointer-events-auto relative z-10 hover:bg-gray-200 hover:-translate-y-0.5",children:""}),a.jsx("div",{className:"flex gap-3",children:oe.map((ne,Se)=>a.jsxs("button",{onClick:ve=>{ve.stopPropagation(),ve.preventDefault(),Z(ne)},onMouseDown:ve=>ve.stopPropagation(),className:`px-6 py-4 rounded-xl border-none cursor-pointer font-semibold text-base min-w-[80px] transition-all duration-200 pointer-events-auto relative z-10 ${O(ne)?"bg-purple-600 text-white shadow-lg shadow-purple-600/30":"bg-gray-100 text-black shadow-sm hover:bg-gray-200 hover:-translate-y-0.5"}`,children:[ie[Se]," ",ne.getDate()]},Se))}),a.jsx("button",{onClick:ne=>{ne.stopPropagation(),ne.preventDefault(),_("next")},onMouseDown:ne=>ne.stopPropagation(),className:"w-12 h-12 rounded-full border-none bg-gray-100 cursor-pointer flex items-center justify-center text-xl text-gray-600 transition-all duration-200 shadow-sm pointer-events-auto relative z-10 hover:bg-gray-200 hover:-translate-y-0.5",children:""})]}),a.jsx("div",{"data-puck-interactive":"true",className:"pointer-events-auto relative z-[100]",onMouseDown:ne=>{ne.stopPropagation()},onClick:ne=>{ne.stopPropagation()},children:a.jsx("button",{onClick:ne=>{ne.stopPropagation(),ne.preventDefault(),console.log(" ============================================="),console.log(" Add Session button CLICKED in Preview Mode!"),console.log(" onAddComponent is:",l),console.log(" Type of onAddComponent:",typeof l),console.log(" ============================================="),le()},onMouseDown:ne=>{ne.stopPropagation()},onMouseUp:ne=>{ne.stopPropagation()},className:"bg-purple-600 text-white border-none rounded-lg px-6 py-3 text-base font-medium cursor-pointer flex items-center gap-2 pointer-events-auto relative z-[101] select-none",children:"+ Add session"})})]}),a.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5 pb-2.5 border-b border-gray-200",children:[a.jsx("h2",{className:"m-0 text-xl font-semibold text-gray-900",children:"Schedule"}),a.jsxs("div",{className:"flex gap-2 relative",children:[a.jsx("button",{onClick:Fs,className:"w-8 h-8 rounded-md border border-gray-300 bg-white cursor-pointer flex items-center justify-center text-base text-gray-500",children:""}),w&&a.jsxs("div",{"data-dropdown":!0,className:"absolute top-9 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[160px]",children:[I?a.jsx("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),hr()},className:"w-full px-3 py-2 border-none bg-transparent text-gray-700 text-sm text-left cursor-pointer flex items-center gap-2 hover:bg-gray-50",children:"Unselect All"}):a.jsx("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),Rr()},className:"w-full px-3 py-2 border-none bg-transparent text-gray-700 text-sm text-left cursor-pointer flex items-center gap-2 hover:bg-gray-50",children:"Select All"}),a.jsx("div",{className:"h-px bg-gray-200 my-1"}),a.jsx("button",{onClick:ne=>{ne.stopPropagation();const Se=X.filter(ve=>!ve.isCompleted);se(Se),E(!1),V(ve=>ve+1),S(!1)},className:"w-full px-3 py-2 border-none bg-transparent text-red-600 text-sm text-left cursor-pointer flex items-center gap-2 rounded-b-lg hover:bg-red-50",children:" Delete"})]})]})]}),a.jsxs("div",{className:"flex gap-5 items-stretch",children:[a.jsx("div",{className:"min-w-[120px] flex flex-col",children:Xe.length===0?a.jsx("div",{className:"p-5 text-center text-gray-400 text-sm",children:"No sessions scheduled"}):Xe.map((ne,Se)=>{var Ut;const ve=Ue(ne),$e=ve.length,At=((Ut=ve[0])==null?void 0:Ut.endTime)||ne,ls=xe[ne]||80;return a.jsxs("div",{style:{height:`${ls}px`},className:`flex flex-col items-center p-2.5 relative border border-gray-200 rounded-lg bg-gray-50 flex-shrink-0 ${Se<Xe.length-1?"mb-3":"mb-0"}`,children:[a.jsx("span",{className:"text-base text-black font-bold font-sans mb-2.5",children:ne}),$e>1&&a.jsxs("div",{className:"absolute top-1/2 left-2.5 right-2.5 bg-blue-100 text-blue-800 px-2 py-1 rounded-xl text-xs font-medium text-center -translate-y-1/2",children:[$e," parallel session",$e>1?"s":""]}),a.jsx("span",{className:"absolute bottom-2.5 text-base text-black font-bold font-sans",children:At})]},ne)})}),a.jsxs("div",{className:"flex-1 relative flex flex-col",children:[a.jsx("div",{className:"absolute -left-2.5 top-0 bottom-0 w-px bg-gray-200"}),Xe.length===0?a.jsx("div",{className:"py-10 px-5 text-center text-gray-400 text-sm",children:'Click "Add session" to create your first session'}):Xe.map((ne,Se)=>{const ve=xe[ne]||80;return a.jsx("div",{ref:vt(ne),style:{height:`${ve}px`},className:`flex flex-col justify-start items-stretch flex-shrink-0 overflow-hidden ${Se<Xe.length-1?"mb-3":"mb-0"}`,children:Ue(ne).map($e=>a.jsx("div",{className:"mb-2 flex-shrink-0",children:xs($e)},$e.id))},ne)})]})]})]}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000]",children:a.jsxs("div",{className:`bg-white rounded-xl p-6 max-w-[90vw] max-h-[90vh] overflow-y-auto shadow-2xl relative ${R?"w-[500px]":"w-[600px]"}`,children:[a.jsx("button",{onClick:te,className:"absolute top-4 right-4 bg-transparent border-none text-2xl text-gray-500 cursor-pointer w-8 h-8 flex items-center justify-center rounded-md transition-colors duration-200 hover:bg-gray-100",children:""}),R?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"m-0 mb-2 text-xl font-semibold text-gray-900",children:"Select block type"}),a.jsx("p",{className:"m-0 text-sm text-gray-500",children:"Select a style for your block."})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:Jr.map(ne=>a.jsxs("div",{onClick:()=>me(ne),className:`rounded-lg p-4 cursor-pointer bg-white flex items-center justify-between transition-all duration-200 ${b===ne?"border-2 border-purple-600":"border border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-md flex items-center justify-center relative",children:a.jsxs("div",{className:"w-5 h-5 relative",children:[a.jsx("div",{className:"absolute top-0.5 left-0.5 w-1 h-1 bg-yellow-400 rounded-full"}),a.jsx("div",{className:"absolute top-0.5 right-0.5 w-1 h-1 bg-orange-500 rounded-full"}),a.jsx("div",{className:"absolute bottom-0.5 left-0.5 w-1 h-1 bg-green-500 rounded-full"}),a.jsx("div",{className:"absolute bottom-0.5 right-0.5 w-1 h-1 bg-purple-600 rounded-full"}),a.jsx("div",{className:"absolute top-2 left-0.5 right-0.5 h-px bg-gray-300"}),a.jsx("div",{className:"absolute top-3 left-0.5 right-0.5 h-px bg-gray-300"})]})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 leading-snug",children:ne})]}),a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${b===ne?"border-2 border-purple-600 bg-purple-600":"border-2 border-gray-300 bg-transparent"}`,children:b===ne&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})})]},ne))}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("a",{href:"#",className:"text-sm text-gray-500 no-underline flex items-center gap-1.5",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-100 flex items-center justify-center text-[10px] text-gray-500",children:"?"}),"Need help?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:te,className:"px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 text-sm font-medium cursor-pointer",children:"Cancel"}),a.jsx("button",{onClick:Ve,className:"px-4 py-2 rounded-md border-none bg-purple-600 text-white text-sm font-medium cursor-pointer",children:"Select"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"m-0 mb-2 text-xl font-semibold text-gray-900",children:k?"Add Child Session":"Add New Session"}),a.jsx("p",{className:"m-0 text-sm text-gray-500",children:k?`Fill in the details for your child ${b.toLowerCase()}.`:`Fill in the details for your ${b.toLowerCase()}.`})]}),a.jsx("form",{onSubmit:et,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[k&&K.parentSessionId&&a.jsxs("div",{className:"p-3 bg-sky-50 border border-sky-200 rounded-md mb-2",children:[a.jsx("div",{className:"text-xs text-sky-700 font-medium mb-1",children:"Adding Child Session to:"}),a.jsx("div",{className:"text-sm text-sky-900 font-semibold mb-1",children:((Sn=X.find(ne=>ne.id===K.parentSessionId))==null?void 0:Sn.title)||"Parent Session"}),a.jsxs("div",{className:"text-xs text-sky-700 italic",children:["Parent Time:"," ",(wo=X.find(ne=>ne.id===K.parentSessionId))==null?void 0:wo.startTime," ","-"," ",(va=X.find(ne=>ne.id===K.parentSessionId))==null?void 0:va.endTime]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Session Title"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"title",value:K.title,onChange:Le,required:!0,placeholder:"Enter session title",className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none transition-colors duration-200 focus:border-purple-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",name:"startTime",value:K.startTime,onChange:Le,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none bg-white text-gray-900 cursor-text transition-colors duration-200 focus:border-purple-600"}),k&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:"Child session time should be within parent session period"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["End Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",name:"endTime",value:K.endTime,onChange:Le,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none bg-white text-gray-900 cursor-text transition-colors duration-200 focus:border-purple-600"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",value:K.location,onChange:Le,required:!0,placeholder:"e.g., Room A, Main Hall",className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none transition-colors duration-200 focus:border-purple-600"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"type",value:K.type,onChange:Le,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none bg-white transition-colors duration-200 focus:border-purple-600",children:[a.jsx("option",{value:"In-Person",children:"In-Person"}),a.jsx("option",{value:"Virtual",children:"Virtual"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description"}),a.jsx("textarea",{name:"description",value:K.description,onChange:Le,placeholder:"Enter session description...",rows:3,className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none resize-y font-inherit transition-colors duration-200 focus:border-purple-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Participants"}),a.jsx("input",{type:"text",name:"participants",value:K.participants,onChange:Le,placeholder:"e.g., Chairman: Dr. Smith, Speaker: Dr. Johnson",className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none transition-colors duration-200 focus:border-purple-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Tags"}),a.jsx("input",{type:"text",name:"tags",value:K.tags,onChange:Le,placeholder:"Enter tags separated by commas",className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none transition-colors duration-200 focus:border-purple-600"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate tags with commas (e.g., Workshop, Beginner, AI)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Number of Attachments"}),a.jsx("input",{type:"number",name:"attachments",value:K.attachments,onChange:Le,min:"0",className:"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm outline-none transition-colors duration-200 focus:border-purple-600"})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>C(!0),className:"px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 text-sm font-medium cursor-pointer transition-colors duration-200 hover:bg-gray-50",children:" Back"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 text-sm font-medium cursor-pointer transition-colors duration-200 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md border-none bg-purple-600 text-white text-sm font-medium cursor-pointer transition-colors duration-200 hover:bg-purple-700",children:"Add Session"})]})]})]})})]})]})})]})},W_=({sessions:r=[],buttonText:e="View Full Schedule",padding:t="2rem",gap:s="1rem"})=>{var h,p;const[i,n]=d.useState(new Set),[o,l]=d.useState(!1),u=m=>{const v=new Set(i);v.has(m)?v.delete(m):v.add(m),n(v)},c=()=>{l(!o)};return a.jsxs("section",{style:{padding:t},className:"w-full min-h-[400px]",children:[a.jsxs("div",{className:"max-w-[1200px] mx-auto bg-white rounded-xl shadow-md p-8 relative",children:[a.jsxs("div",{className:"absolute -left-20 top-8 flex flex-col items-center",children:[a.jsxs("div",{className:"bg-gray-100 rounded-lg px-4 py-2 mb-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"m-0"}),a.jsx("span",{className:"text-sm font-medium",children:((p=(h=r[0])==null?void 0:h.time)==null?void 0:p.split(" - ")[0])||"08:00 AM"})]}),a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:[r.length," parallel session",r.length!==1?"s":""]})]}),a.jsx("div",{className:"flex flex-col",style:{gap:s},children:r.map((m,v)=>v<2||o?a.jsxs("div",{className:"border border-gray-200 rounded-lg pl-32 pr-32 relative bg-white",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 m-0 mb-2","data-puck-field":`sessions[${v}].title`,contentEditable:!0,suppressContentEditableWarning:!0,children:m.title}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{"data-puck-field":`sessions[${v}].time`,contentEditable:!0,suppressContentEditableWarning:!0,children:m.time})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{"data-puck-field":`sessions[${v}].room`,contentEditable:!0,suppressContentEditableWarning:!0,children:m.room})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{"data-puck-field":`sessions[${v}].mode`,contentEditable:!0,suppressContentEditableWarning:!0,children:m.mode})]})]})]}),a.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("button",{className:"bg-none border-none cursor-pointer p-1 text-gray-500",children:""}),a.jsx("button",{className:"bg-none border-none cursor-pointer p-1 text-gray-500",children:""})]})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-gray-500 text-sm m-0 leading-relaxed","data-puck-field":`sessions[${v}].description`,contentEditable:!0,suppressContentEditableWarning:!0,children:i.has(v)?m.description:`${m.description.substring(0,50)}...`}),m.description.length>50&&a.jsx("button",{onClick:()=>u(v),className:"bg-none border-none text-blue-500 cursor-pointer text-sm mt-2 underline",children:i.has(v)?"See less":"See more"})]})]},v):null)}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("button",{onClick:c,className:"bg-purple-600 text-white border-none rounded-lg py-3 px-8 text-base font-semibold cursor-pointer w-full max-w-[300px] hover:bg-purple-700 transition-colors","data-puck-field":"buttonText",contentEditable:!0,suppressContentEditableWarning:!0,children:o?"Show Less":"View full schedule"})})]}),r.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500 text-lg",children:"No sessions added yet. Add sessions using the properties panel."})]})},Sx=({leftTitle:r="About Event",leftText:e="We are dedicated to providing innovative solutions that help our clients achieve their goals and drive success in their respective industries.",rightTitle:t,rightText:s,backgroundColor:i="#ffffff",textColor:n="#333333",padding:o="3rem 2rem"})=>{const l={backgroundColor:i,color:n,padding:o},u={color:n},c={color:n};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media (max-width: 768px) {
            .about-section-container {
              padding: 2rem 1rem !important;
            }
            .about-section-column {
              gap: 1rem !important;
            }
          }
          @media (max-width: 480px) {
            .about-section-container {
              padding: 1.5rem 1rem !important;
            }
            .about-section-title {
              font-size: 1.125rem !important;
              margin-bottom: 0.75rem !important;
            }
            .about-section-text {
              font-size: 0.9rem !important;
              line-height: 1.6 !important;
            }
          }
        `}),a.jsx("section",{style:l,className:"w-full min-h-[250px] about-section-container",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs("div",{className:"flex flex-col gap-6 about-section-column",children:[a.jsx("h2",{style:u,className:"text-[24px] text-center font-bold mb-4 leading-tight tracking-tight about-section-title","data-puck-field":"leftTitle",contentEditable:!0,suppressContentEditableWarning:!0,children:r}),a.jsx("p",{style:c,className:"text-[clamp(1rem,2.5vw,1.125rem)] leading-relaxed about-section-text max-w-3xl opacity-80","data-puck-field":"leftText",contentEditable:!0,suppressContentEditableWarning:!0,children:e})]})})})]})},U_=({plans:r=[{id:"basic",icon:"",title:"Basic plan",price:"$10",billingNote:"Billed annually.",features:["Access to all basic features","Basic reporting and analytics","Up to 10 individual users","20 GB individual data","Basic chat and email support"],buttonText:"Get started"},{id:"business",icon:"",title:"Business plan",price:"$20",billingNote:"Billed annually.",features:["200+ integrations","Advanced reporting and analytics","Up to 20 individual users","40 GB individual data","Priority chat and email support"],buttonText:"Get started"},{id:"enterprise",icon:"",title:"Enterprise plan",price:"$40",billingNote:"Billed annually.",features:["Advanced custom fields","Audit log and data history","Unlimited individual users","Unlimited individual data","Personalized + priority service"],buttonText:"Get started"}],backgroundColor:e="#f3e8ff",padding:t="6rem 2rem"})=>{const s={backgroundColor:e,padding:t},i=(o,l)=>{l?(o.currentTarget.classList.add("-translate-y-1","shadow-xl"),o.currentTarget.classList.remove("shadow-sm")):(o.currentTarget.classList.remove("-translate-y-1","shadow-xl"),o.currentTarget.classList.add("shadow-sm"))},n=(o,l)=>{l?o.currentTarget.style.backgroundColor="#7c3aed":o.currentTarget.style.backgroundColor="#8b5cf6"};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media (max-width: 768px) {
            .pricing-container {
              padding: 3rem 1rem !important;
            }
            .pricing-grid {
              grid-template-columns: 1fr !important;
              gap: 1rem !important;
            }
            .pricing-card {
              padding: 1.25rem !important;
            }
            .pricing-icon {
              width: 40px !important;
              height: 40px !important;
              font-size: 20px !important;
            }
            .pricing-title {
              font-size: 1rem !important;
            }
            .pricing-price {
              font-size: 2rem !important;
            }
            .pricing-billing {
              font-size: 0.75rem !important;
              margin-bottom: 1rem !important;
            }
            .pricing-feature {
              font-size: 0.8rem !important;
              margin-bottom: 0.5rem !important;
            }
            .pricing-features {
              margin-bottom: 1rem !important;
            }
          }
          @media (max-width: 480px) {
            .pricing-container {
              padding: 2rem 1rem !important;
            }
            .pricing-card {
              padding: 1rem !important;
            }
            .pricing-icon {
              width: 36px !important;
              height: 36px !important;
              font-size: 18px !important;
            }
            .pricing-title {
              font-size: 0.95rem !important;
            }
            .pricing-price {
              font-size: 1.75rem !important;
            }
            .pricing-billing {
              font-size: 0.7rem !important;
            }
            .pricing-feature {
              font-size: 0.75rem !important;
            }
            .pricing-button {
              padding: 0.625rem 1.25rem !important;
              font-size: 0.9rem !important;
            }
          }
          @media (min-width: 1200px) {
            .pricing-grid {
              grid-template-columns: repeat(3, 1fr) !important;
              gap: 2rem !important;
            }
            .pricing-card {
              padding: 2rem !important;
            }
          }
        `}),a.jsx("section",{style:s,className:"w-full min-h-[600px] pricing-container",children:a.jsx("div",{className:"max-w-[1200px] mx-auto pricing-content",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start pricing-grid",children:r.map((o,l)=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm transition-all duration-300 cursor-pointer flex flex-col h-full pricing-card",onMouseEnter:u=>i(u,!0),onMouseLeave:u=>i(u,!1),children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-2xl mb-6 self-center pricing-icon",children:o.icon}),a.jsx("h3",{className:"text-[clamp(1.125rem,3vw,1.25rem)] font-semibold text-purple-500 mb-4 text-center pricing-title","data-puck-field":`plans[${l}].title`,contentEditable:!0,suppressContentEditableWarning:!0,children:o.title}),a.jsxs("div",{className:"text-[clamp(2rem,6vw,3rem)] font-bold text-gray-800 mb-2 text-center leading-none pricing-price","data-puck-field":`plans[${l}].price`,contentEditable:!0,suppressContentEditableWarning:!0,children:[o.price,a.jsx("span",{className:"text-[clamp(1rem,3vw,1.5rem)] font-normal",children:"/mth"})]}),a.jsx("p",{className:"text-[clamp(0.8rem,2vw,0.875rem)] text-gray-500 mb-6 text-center pricing-billing","data-puck-field":`plans[${l}].billingNote`,contentEditable:!0,suppressContentEditableWarning:!0,children:o.billingNote}),a.jsx("ul",{className:"list-none p-0 m-0 mb-6 flex-1 pricing-features",children:o.features.map((u,c)=>a.jsxs("li",{className:"flex items-center mb-3 text-[clamp(0.8rem,2vw,0.875rem)] text-gray-700 pricing-feature",children:[a.jsx("span",{className:"text-purple-500 mr-3 text-base font-bold",children:""}),a.jsx("span",{"data-puck-field":`plans[${l}].features[${c}]`,contentEditable:!0,suppressContentEditableWarning:!0,children:u})]},c))}),a.jsx("a",{href:"#get-started",style:{backgroundColor:"#8b5cf6"},className:"text-white border-none rounded-lg py-3 px-6 text-base font-semibold cursor-pointer transition-all duration-300 w-full text-center no-underline block hover:bg-purple-600 pricing-button",onMouseEnter:u=>n(u,!0),onMouseLeave:u=>n(u,!1),"data-puck-field":`plans[${l}].buttonText`,contentEditable:!0,suppressContentEditableWarning:!0,children:o.buttonText})]},o.id))})})})]})},$_=({isOpen:r=!1,onClose:e,title:t="Get in touch",subtitle:s="We'd love to hear from you. Please fill out this form.",buttonText:i="Send message",privacyText:n="You agree to our friendly privacy policy.",privacyLink:o="#privacy"})=>{const[l,u]=d.useState({firstName:"",lastName:"",email:"",phone:"",country:"US",message:"",agreeToPrivacy:!1}),c=m=>{const{name:v,value:f,type:b}=m.target;u(x=>({...x,[v]:b==="checkbox"?m.target.checked:f}))},h=m=>{m.preventDefault(),console.log("Form submitted:",l)},p=m=>{m.target===m.currentTarget&&e&&e()};return r?a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media (max-width: 640px) {
            .contact-form-modal {
              padding: 12px !important;
            }
            .contact-form-content {
              padding: 1rem !important;
              margin: 0 !important;
              border-radius: 8px !important;
            }
            .contact-form-row {
              grid-template-columns: 1fr !important;
            }
            .contact-form-phone-container {
              flex-direction: column !important;
            }
            .contact-form-country-select {
              width: 100% !important;
              min-width: auto !important;
            }
            .contact-form-phone-input {
              min-width: auto !important;
            }
            .contact-form-checkbox-container {
              flex-direction: column !important;
              align-items: flex-start !important;
              gap: 0.5rem !important;
            }
          }
          @media (max-width: 480px) {
            .contact-form-title {
              font-size: 1.5rem !important;
            }
            .contact-form-subtitle {
              font-size: 0.9rem !important;
            }
          }
        `}),a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] p-4 contact-form-modal",onClick:p,children:a.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-[600px] w-full max-h-[95vh] overflow-y-auto shadow-xl mx-auto relative contact-form-content",children:[a.jsx("button",{className:"absolute top-3 right-3 bg-none border-none text-2xl cursor-pointer text-gray-500 p-2 rounded transition-colors duration-200 z-10 hover:text-gray-700",onClick:e,children:""}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-sm text-purple-500 font-semibold mb-2",children:"Contact us"}),a.jsx("h2",{className:"text-[clamp(1.75rem,4vw,2.5rem)] font-bold text-gray-800 mb-2 leading-tight contact-form-title",children:t}),a.jsx("p",{className:"text-base text-gray-500 leading-relaxed contact-form-subtitle",children:s})]}),a.jsxs("form",{className:"flex flex-col gap-6",onSubmit:h,children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 contact-form-row",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["First name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"firstName",value:l.firstName,onChange:c,placeholder:"First name",className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20",required:!0})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Last name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"lastName",value:l.lastName,onChange:c,placeholder:"Last name",className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20",required:!0})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",value:l.email,onChange:c,placeholder:"you@company.com",className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20",required:!0})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone number"}),a.jsxs("div",{className:"flex gap-2 flex-wrap contact-form-phone-container",children:[a.jsxs("select",{name:"country",value:l.country,onChange:c,className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 min-w-[80px] w-20 flex-shrink-0 contact-form-country-select",children:[a.jsx("option",{value:"US",children:"US"}),a.jsx("option",{value:"CA",children:"CA"}),a.jsx("option",{value:"UK",children:"UK"}),a.jsx("option",{value:"AU",children:"AU"}),a.jsx("option",{value:"DE",children:"DE"}),a.jsx("option",{value:"FR",children:"FR"})]}),a.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:c,placeholder:"+1 (555) 000-0000",className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 flex-1 min-w-[200px] contact-form-phone-input"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Message ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"message",value:l.message,onChange:c,placeholder:"Leave us a message...",className:"px-3 py-3 border border-gray-300 rounded-md text-base text-gray-800 bg-white transition-colors duration-200 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 min-h-[120px] resize-y",required:!0})]}),a.jsxs("div",{className:"flex items-start gap-3 contact-form-checkbox-container",children:[a.jsx("input",{type:"checkbox",name:"agreeToPrivacy",checked:l.agreeToPrivacy,onChange:c,className:"w-4 h-4 mt-0.5",required:!0}),a.jsxs("div",{className:"text-sm text-gray-500 leading-relaxed",children:[n.split("privacy policy")[0],a.jsx("span",{className:"text-purple-500 underline cursor-pointer",children:"privacy policy"}),n.split("privacy policy")[1]]})]}),a.jsx("button",{type:"submit",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},className:"text-white border-none rounded-lg py-3.5 px-6 text-base font-semibold cursor-pointer transition-all duration-300 w-full hover:-translate-y-0.5 hover:shadow-lg",onMouseEnter:m=>{m.currentTarget.style.boxShadow="0 10px 25px rgba(139, 92, 246, 0.3)"},onMouseLeave:m=>{m.currentTarget.style.boxShadow="none"},children:i})]})]})})]}):null},G_=({title:r="Frequently asked questions",subtitle:e="Everything you need to know about the product and billing.",faqs:t=[{id:"1",icon:"",question:"Is there a free trial available?",answer:"Yes, you can try us for free for 30 days. If you want, we'll provide you with a free, personalized 30-minute onboarding call to get you up and running as soon as possible."},{id:"2",icon:"",question:"Can I change my plan later?",answer:"Of course. Our pricing scales with your company. Chat to our friendly team to find a solution that works for you."},{id:"3",icon:"",question:"What is your cancellation policy?",answer:"We understand that things change. You can cancel your plan at any time and we'll refund you the difference already paid."},{id:"4",icon:"",question:"Can other info be added to an invoice?",answer:"Absolutely. You can add any additional information you need to your invoices, including custom fields and notes."},{id:"5",icon:"",question:"How does billing work?",answer:"We offer flexible billing options. You can choose monthly or annual billing, and we accept all major credit cards and payment methods."},{id:"6",icon:"",question:"How do I change my account email?",answer:"You can update your account email anytime from your account settings. We'll send a confirmation email to verify the change."}],ctaText:s="Still have questions? Can't find the answer you're looking for? Please chat to our friendly team.",buttonText:i="Get in touch",backgroundColor:n="#f8fafc",padding:o="6rem 2rem"})=>{const[l,u]=d.useState(!1),c={backgroundColor:n,padding:o},h=(v,f)=>{f?(v.currentTarget.style.backgroundColor="#7c3aed",v.currentTarget.classList.add("-translate-y-0.5")):(v.currentTarget.style.backgroundColor="#8b5cf6",v.currentTarget.classList.remove("-translate-y-0.5"))},p=v=>{v.preventDefault(),u(!0)},m=(v,f)=>{f?(v.currentTarget.classList.add("-translate-y-1","shadow-lg"),v.currentTarget.classList.remove("shadow-sm")):(v.currentTarget.classList.remove("-translate-y-1","shadow-lg"),v.currentTarget.classList.add("shadow-sm"))};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media (max-width: 768px) {
            .faq-section-container {
              padding: 3rem 1rem !important;
            }
            .faq-section-header {
              margin-bottom: 2rem !important;
            }
            .faq-section-grid {
              grid-template-columns: 1fr !important;
              gap: 1rem !important;
              margin-bottom: 2rem !important;
            }
            .faq-section-item {
              padding: 1rem !important;
            }
            .faq-section-cta {
              flex-direction: column !important;
              gap: 1rem !important;
              text-align: center !important;
            }
            .faq-section-avatars {
              justify-content: center !important;
            }
          }
          @media (max-width: 480px) {
            .faq-section-container {
              padding: 2rem 1rem !important;
            }
            .faq-section-title {
              font-size: 1.5rem !important;
            }
            .faq-section-subtitle {
              font-size: 0.9rem !important;
            }
            .faq-section-question {
              font-size: 0.95rem !important;
            }
            .faq-section-answer {
              font-size: 0.85rem !important;
            }
            .faq-section-icon {
              width: 40px !important;
              height: 40px !important;
              font-size: 20px !important;
            }
          }
          @media (min-width: 1200px) {
            .faq-section-grid {
              grid-template-columns: repeat(3, 1fr) !important;
              gap: 2rem !important;
            }
          }
        `}),a.jsxs("section",{style:c,className:"w-full min-h-[600px] faq-section-container",children:[a.jsxs("div",{className:"max-w-[1200px] mx-auto faq-section-content",children:[a.jsxs("div",{className:"text-center mb-16 faq-section-header",children:[a.jsx("h2",{className:"text-[clamp(1.75rem,5vw,2.5rem)] font-bold text-gray-800 mb-4 leading-tight faq-section-title","data-puck-field":"title",contentEditable:!0,suppressContentEditableWarning:!0,children:r}),a.jsx("p",{className:"text-[clamp(1rem,3vw,1.25rem)] text-gray-500 leading-relaxed faq-section-subtitle","data-puck-field":"subtitle",contentEditable:!0,suppressContentEditableWarning:!0,children:e})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12 faq-section-grid",children:t.map((v,f)=>a.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm transition-all duration-300 faq-section-item",onMouseEnter:b=>m(b,!0),onMouseLeave:b=>m(b,!1),children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl mb-6 mx-auto faq-section-icon",children:v.icon}),a.jsx("h3",{className:"text-[clamp(1rem,2.5vw,1.125rem)] font-semibold text-gray-800 mb-3 leading-snug faq-section-question","data-puck-field":`faqs[${f}].question`,contentEditable:!0,suppressContentEditableWarning:!0,children:v.question}),a.jsx("p",{className:"text-[clamp(0.9rem,2vw,1rem)] text-gray-500 leading-relaxed faq-section-answer","data-puck-field":`faqs[${f}].answer`,contentEditable:!0,suppressContentEditableWarning:!0,children:v.answer})]},v.id))}),a.jsxs("div",{className:"flex items-center gap-8 p-8 bg-white rounded-xl shadow-sm mt-8 flex-col md:flex-row md:text-left text-center faq-section-cta",children:[a.jsxs("div",{className:"flex items-center -space-x-2 faq-section-avatars",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white -ml-2 bg-gray-200 flex items-center justify-center text-sm font-semibold text-gray-500",children:"A"}),a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white -ml-2 bg-gray-200 flex items-center justify-center text-sm font-semibold text-gray-500",children:"B"}),a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white -ml-2 bg-gray-200 flex items-center justify-center text-sm font-semibold text-gray-500",children:"C"})]}),a.jsx("p",{className:"text-base text-gray-800 leading-relaxed flex-1","data-puck-field":"ctaText",contentEditable:!0,suppressContentEditableWarning:!0,children:s}),a.jsx("a",{href:"#contact",style:{backgroundColor:"#8b5cf6"},className:"text-white border-none rounded-lg py-3 px-6 text-base font-semibold cursor-pointer transition-all duration-300 no-underline inline-block hover:bg-purple-600",onClick:p,onMouseEnter:v=>h(v,!0),onMouseLeave:v=>h(v,!1),"data-puck-field":"buttonText",contentEditable:!0,suppressContentEditableWarning:!0,children:i})]})]}),a.jsx($_,{isOpen:l,onClose:()=>u(!1)})]})]})},Ex=({title:r="Frequently Asked Questions",description:e,faqs:t=[{id:"1",question:"What is this service about?",answer:"This service provides comprehensive solutions for your business needs. We offer a wide range of features and support to help you achieve your goals."},{id:"2",question:"How do I get started?",answer:"Getting started is easy! Simply sign up for an account, complete the onboarding process, and you'll be ready to use all our features within minutes."},{id:"3",question:"Is there a free trial available?",answer:"Yes, we offer a 30-day free trial for all new users. No credit card required to start your trial period."},{id:"4",question:"What kind of support do you provide?",answer:"We provide 24/7 customer support through email, chat, and phone. Our support team is always ready to help you with any questions or issues."},{id:"5",question:"Can I cancel my subscription anytime?",answer:"Absolutely! You can cancel your subscription at any time from your account settings. There are no cancellation fees or long-term contracts."}],allowMultiple:s=!1,backgroundColor:i="#ffffff",textColor:n="#333333",questionColor:o="#1f2937",answerColor:l="#6b7280",borderColor:u="#e5e7eb",padding:c="3rem 2rem",spacing:h="1rem",iconColor:p="#8b5cf6",hoverColor:m="#f8fafc",containerMaxWidth:v="max-w-7xl",containerPadding:f="px-4 sm:px-6 lg:px-8 py-8"})=>{const[b,x]=d.useState(new Set),g=E=>{x(R=>{const C=new Set(R);return C.has(E)?C.delete(E):(s||C.clear(),C.add(E)),setTimeout(()=>{const L=document.querySelector(`[data-faq-id="${E}"]`),D=L==null?void 0:L.querySelector(".faq-accordion-question"),q=L==null?void 0:L.querySelector(".faq-accordion-answer");L&&D&&q&&(C.has(E)?(D.style.backgroundColor="#ffffff",q.style.backgroundColor="#ffffff"):(D.style.backgroundColor="transparent",q.style.backgroundColor="#f8fafc"))},0),C})},y={backgroundColor:i,padding:c},w={border:`1px solid ${u}`},S={color:o},P={color:p},V={color:l},I=(E,R)=>{const C=E.currentTarget.querySelector(".faq-accordion-question"),k=E.currentTarget.querySelector(".faq-accordion-answer"),L=b.has(E.currentTarget.dataset.faqId||"");C&&(R?(L?(C.style.backgroundColor="#ffffff",k&&(k.style.backgroundColor="#ffffff")):C.style.backgroundColor=m,E.currentTarget.classList.add("-translate-y-0.5","shadow-lg")):(L?(C.style.backgroundColor="#ffffff",k&&(k.style.backgroundColor="#ffffff")):C.style.backgroundColor="transparent",E.currentTarget.classList.remove("-translate-y-0.5","shadow-lg")))};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          .faq-accordion-question {
            border: none !important;
            border-bottom: none !important;
            outline: none !important;
            box-shadow: none !important;
          }
          .faq-accordion-answer-container {
            border: none !important;
            border-top: none !important;
            outline: none !important;
            box-shadow: none !important;
          }
          .faq-accordion-item {
            border: 1px solid ${u} !important;
            border-bottom: 1px solid ${u} !important;
          }
          .faq-accordion-item:focus-within {
            border: 1px solid ${u} !important;
          }
          @media (max-width: 768px) {
            .faq-accordion-container {
              padding: 2rem 1rem !important;
            }
            .faq-accordion-header {
              margin-bottom: 2rem !important;
            }
            .faq-accordion-title {
              font-size: 1.5rem !important;
            }
            .faq-accordion-subtitle {
              font-size: 0.9rem !important;
            }
            .faq-accordion-question {
              font-size: 1rem !important;
              padding: 1rem !important;
            }
            .faq-accordion-answer {
              font-size: 0.9rem !important;
              padding: 0 1rem 1rem 1rem !important;
            }
          }
          @media (max-width: 480px) {
            .faq-accordion-container {
              padding: 1.5rem 1rem !important;
            }
            .faq-accordion-title {
              font-size: 1.25rem !important;
            }
            .faq-accordion-subtitle {
              font-size: 0.85rem !important;
            }
            .faq-accordion-question {
              font-size: 0.95rem !important;
              padding: 0.75rem !important;
            }
            .faq-accordion-answer {
              font-size: 0.85rem !important;
              padding: 0 0.75rem 0.75rem 0.75rem !important;
            }
          }
        `}),a.jsx("div",{className:`${v} mx-auto ${f}`,children:a.jsx("section",{style:y,className:"w-full min-h-[400px] faq-accordion-container",children:a.jsxs("div",{className:"max-w-[800px] mx-auto faq-accordion-content",children:[a.jsxs("div",{className:"text-center mb-12 faq-accordion-header",children:[a.jsx("h2",{style:{color:o},className:"text-[24px] font-bold mb-4 leading-tight faq-accordion-title","data-puck-field":"title",contentEditable:!0,suppressContentEditableWarning:!0,children:r}),e&&a.jsx("p",{style:{color:l},className:"text-base leading-relaxed opacity-80 max-w-2xl mx-auto","data-puck-field":"description",contentEditable:!0,suppressContentEditableWarning:!0,children:e})]}),a.jsx("div",{className:"flex flex-col faq-accordion-list",style:{gap:h},children:t.map((E,R)=>{const C=b.has(E.id);return a.jsxs("div",{style:w,className:"rounded-lg overflow-hidden transition-all duration-300 bg-gray-50 faq-accordion-item","data-faq-id":E.id,onMouseEnter:k=>I(k,!0),onMouseLeave:k=>I(k,!1),children:[a.jsxs("button",{style:S,className:"w-full p-4 bg-transparent border-none cursor-pointer flex justify-between items-center text-left transition-all duration-300 text-lg font-semibold leading-snug faq-accordion-question focus:outline-none focus:shadow-none",onClick:()=>g(E.id),"data-puck-field":`faqs[${R}].question`,contentEditable:!0,suppressContentEditableWarning:!0,children:[a.jsx("span",{className:"flex-1 mr-4",children:E.question}),a.jsx("span",{style:P,className:`text-xl transition-transform duration-300 flex-shrink-0 ${C?"rotate-45":"rotate-0"}`,children:"+"})]}),a.jsx("div",{className:`overflow-hidden transition-all duration-300 bg-transparent faq-accordion-answer-container ${C?"max-h-[200px]":"max-h-0"}`,children:a.jsx("div",{style:V,className:"px-6 pb-6 text-base leading-relaxed bg-gray-50 faq-accordion-answer","data-puck-field":`faqs[${R}].answer`,contentEditable:!0,suppressContentEditableWarning:!0,children:E.answer})})]},E.id)})})]})})})]})},Z_=({logo:r,logoText:e,menuItems:t,backgroundColor:s,customBackgroundColor:i,textColor:n,customTextColor:o,logoColor:l,customLogoColor:u,linkColor:c,customLinkColor:h,hoverColor:p,customHoverColor:m,padding:v,customPadding:f,alignment:b})=>{const[x,g]=d.useState(!1),[y,w]=d.useState(!1),[S,P]=d.useState(""),V=r&&typeof r=="object"&&"props"in r&&r.props&&"value"in r.props?r.props.value:"",I=e&&typeof e=="object"&&"props"in e&&e.props&&"value"in e.props?e.props.value:"",E=t&&typeof t=="object"&&"props"in t&&t.props&&"value"in t.props?t.props.value:"",R=s==="custom"?i:s,C=n==="custom"?o:n,k=l==="custom"?u:l,L=c==="custom"?h:c,D=p==="custom"?m:p,q=v==="custom"?f:v,U=y?S:E,$=U?U.split(",").map(se=>{const[fe,oe]=se.trim().split("|");return{label:(fe==null?void 0:fe.trim())||"",link:(oe==null?void 0:oe.trim())||"#"}}):[{label:"About",link:"/about"},{label:"Speakers",link:"/speakers"},{label:"Schedule",link:"/schedule"},{label:"Information",link:"/information"},{label:"Contact",link:"/contact"},{label:"Register",link:"/register"}],K=(se,fe)=>{se.preventDefault(),fe&&fe!=="#"&&console.log("Navigate to:",fe),g(!1)},M=()=>{g(!x)},j=()=>{w(!0),P(E)},B=()=>{console.log("Menu items updated:",S),w(!1)},Q=()=>{w(!1),P("")},G=()=>{const se="New Item|#",fe=S?`${S},${se}`:se;P(fe)},X=se=>{const fe=S.split(",");fe.splice(se,1),P(fe.join(","))},de=b==="center"?"justify-center":b==="right"?"justify-end":"justify-between";return a.jsxs("nav",{style:{backgroundColor:R||"#27115F",padding:q||"1rem 2rem"},className:"shadow-md relative z-[1000] min-h-[60px]",children:[a.jsxs("div",{className:`flex items-center ${de} max-w-[1200px] mx-auto flex-wrap gap-4 nav-container`,children:[a.jsxs("div",{className:"logo-section flex items-center gap-2 flex-shrink-0",children:[V&&a.jsx("img",{src:V,alt:I||"Logo",className:"h-10 w-auto object-contain",onError:se=>{console.log("Logo image failed to load:",V),se.currentTarget.style.display="none"}}),a.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"logoText",style:{color:k||C||"#ffffff"},className:"text-2xl font-bold cursor-text min-w-[100px] outline-none",children:e})]}),a.jsxs("div",{className:"mobile-icons hidden items-center gap-4",children:[a.jsx("div",{className:"text-white text-xl cursor-pointer p-2 rounded transition-colors duration-300 hover:bg-white/10",children:""}),a.jsx("div",{className:"text-white text-xl cursor-pointer p-2 rounded transition-colors duration-300 hover:bg-white/10",children:""}),a.jsx("div",{className:"w-9 h-9 rounded-full border-2 border-white overflow-hidden cursor-pointer flex items-center justify-center bg-gray-100",children:a.jsx("span",{className:"text-lg",children:""})})]}),a.jsx("div",{className:"desktop-menu flex items-center gap-8 flex-wrap",children:$.map((se,fe)=>a.jsxs("a",{href:se.link,onClick:oe=>K(oe,se.link),style:{color:L||C||"#ffffff"},className:`no-underline font-medium text-base py-2 relative transition-colors duration-300 cursor-pointer flex items-center gap-1 ${fe===0?"border-b border-white":""}`,"data-puck-field":"menuItems",contentEditable:!0,suppressContentEditableWarning:!0,children:[fe===0&&a.jsx("span",{className:"text-sm",children:""}),se.label,fe>0&&fe<6&&a.jsx("span",{className:"text-xs",children:""})]},fe))}),a.jsxs("div",{className:"desktop-user-elements flex items-center gap-4",children:[a.jsxs("button",{onClick:j,className:"bg-purple-600 text-white border-none rounded-md py-2 px-4 text-sm font-medium cursor-pointer flex items-center gap-1.5 transition-colors duration-300 hover:bg-purple-700",children:[a.jsx("span",{className:"text-sm",children:""}),"Edit"]}),a.jsxs("div",{className:"desktop-icons flex items-center gap-4",children:[a.jsx("div",{className:"text-white text-xl cursor-pointer p-2 rounded transition-colors duration-300 hover:bg-white/10",children:""}),a.jsx("div",{className:"text-white text-xl cursor-pointer p-2 rounded transition-colors duration-300 hover:bg-white/10",children:""}),a.jsx("div",{className:"w-9 h-9 rounded-full border-2 border-white overflow-hidden cursor-pointer flex items-center justify-center bg-gray-100",children:a.jsx("span",{className:"text-lg",children:""})})]})]}),a.jsxs("button",{onClick:M,className:"mobile-menu-toggle hidden bg-none border-none cursor-pointer p-2 flex-col gap-1",children:[a.jsx("div",{style:{backgroundColor:n||"#ffffff",transform:x?"rotate(45deg) translate(5px, 5px)":"none"},className:"w-[25px] h-0.5 transition-all duration-300"}),a.jsx("div",{style:{backgroundColor:n||"#ffffff",opacity:x?"0":"1"},className:"w-[25px] h-0.5 transition-all duration-300"}),a.jsx("div",{style:{backgroundColor:n||"#ffffff",transform:x?"rotate(-45deg) translate(7px, -6px)":"none"},className:"w-[25px] h-0.5 transition-all duration-300"})]})]}),a.jsx("div",{style:{display:x?"block":"none",backgroundColor:R||"#27115F"},className:"mobile-menu absolute top-full left-0 right-0 shadow-md z-[1000] py-4",children:$.map((se,fe)=>a.jsx("a",{href:se.link,onClick:oe=>K(oe,se.link),style:{color:L||C||"#ffffff"},className:"block no-underline font-medium text-lg py-4 px-8 border-b border-white/10 transition-colors duration-300 cursor-pointer hover:bg-white/10","data-puck-field":"menuItems",contentEditable:!0,suppressContentEditableWarning:!0,children:se.label},fe))}),y&&a.jsxs("div",{style:{background:R||"#27115F"},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 border-2 border-white rounded-lg p-5 z-[10000] min-w-[400px] max-w-[600px] shadow-2xl",children:[a.jsx("h3",{className:"m-0 mb-4 text-white",children:"Edit Navigation Menu"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block mb-1.5 font-bold text-white",children:"Menu Items (format: Label|Link, Label|Link):"}),a.jsx("textarea",{value:S,onChange:se=>P(se.target.value),className:"w-full h-[100px] p-2 border border-gray-300 rounded text-sm resize-y",placeholder:"About|/about,Speakers|/speakers,Schedule|/schedule"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("button",{onClick:G,className:"bg-blue-500 text-white border-none py-2 px-4 rounded cursor-pointer mr-2.5 hover:bg-blue-600 transition-colors",children:" Add Item"}),a.jsx("span",{className:"text-xs text-white",children:"Click to add a new menu item"})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("h4",{className:"m-0 mb-2.5 text-sm text-white",children:"Current Menu Items:"}),$.map((se,fe)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-purple-600 mb-1.5 rounded",children:[a.jsxs("span",{className:"text-sm text-white",children:[a.jsx("strong",{children:se.label}),"  ",se.link]}),a.jsx("button",{onClick:()=>X(fe),className:"bg-red-500 text-white border-none py-1 px-2 rounded cursor-pointer text-xs hover:bg-red-600 transition-colors",children:" Delete"})]},fe))]}),a.jsxs("div",{className:"flex gap-2.5 justify-end",children:[a.jsx("button",{onClick:Q,className:"bg-gray-500 text-white border-none py-2.5 px-5 rounded cursor-pointer hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:B,className:"bg-green-500 text-white border-none py-2.5 px-5 rounded cursor-pointer hover:bg-green-600 transition-colors",children:"Save Changes"})]})]}),a.jsx("style",{children:`
        nav * {
          color: #ffffff !important;
        }
        nav a {
          color: #ffffff !important;
        }
        nav a:hover {
          color: ${D||"#E0E0E0"} !important;
        }
        .mobile-menu a:hover {
          background-color: rgba(255,255,255,0.1) !important;
        }
        nav button {
          color: #ffffff !important;
        }
        nav span {
          color: #ffffff !important;
        }
        nav div {
          color: #ffffff !important;
        }
        @media (max-width: 768px) {
          .desktop-menu {
            display: none !important;
          }
          .desktop-user-elements {
            display: none !important;
          }
          .mobile-icons {
            display: flex !important;
          }
          .mobile-menu-toggle {
            display: flex !important;
          }
          .nav-container {
            justify-content: space-between !important;
          }
        }
        @media (min-width: 769px) {
          .mobile-menu {
            display: none !important;
          }
          .mobile-icons {
            display: none !important;
          }
        }
      `})]})},J_=({heading:r,targetDate:e})=>{const[t,s]=d.useState({months:0,days:0,hours:0,minutes:0,seconds:0}),n=(u=>typeof u=="string"?u:u&&typeof u=="object"&&"props"in u&&u.props&&"value"in u.props&&u.props.value||"")(e);d.useEffect(()=>{if(!n)return;const u=()=>{try{const h=new Date(n).getTime();if(isNaN(h))return;const p=new Date().getTime(),m=h-p;if(m<=0){s({months:0,days:0,hours:0,minutes:0,seconds:0});return}const v=Math.floor(m/(1e3*60*60*24*30)),f=Math.floor(m%(1e3*60*60*24*30)/(1e3*60*60*24)),b=Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(m%(1e3*60*60)/(1e3*60)),g=Math.floor(m%(1e3*60)/1e3);s({months:v,days:f,hours:b,minutes:x,seconds:g})}catch{}};u();const c=setInterval(u,1e3);return()=>clearInterval(c)},[n]);const o=u=>u.toString().padStart(2,"0");t.months===0&&t.days===0&&t.hours===0&&t.minutes===0&&t.seconds;const l=({value:u,label:c,gradient:h,shadowColor:p})=>a.jsxs("div",{style:{background:h,boxShadow:`0 8px 25px ${p}`},className:"flex flex-col items-center rounded-2xl p-7 min-w-[90px] transition-all duration-300 cursor-pointer relative overflow-hidden",onMouseEnter:m=>{m.currentTarget.style.transform="scale(1.08) translateY(-4px)",m.currentTarget.style.boxShadow=`0 12px 35px ${p.replace("0.3","0.4")}`},onMouseLeave:m=>{m.currentTarget.style.transform="scale(1) translateY(0)",m.currentTarget.style.boxShadow=`0 8px 25px ${p}`},children:[a.jsx("div",{className:"text-[42px] font-black text-white leading-none drop-shadow-[0_2px_4px_rgba(0,0,0,0.1)]",children:o(u)}),a.jsx("div",{className:"mt-3 text-[13px] uppercase tracking-wider text-white/90 font-semibold",children:c})]});return a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 bg-white rounded-[20px] shadow-[0_20px_40px_rgba(0,0,0,0.1),0_8px_16px_rgba(0,0,0,0.06)] min-h-[300px] border border-slate-100",children:[a.jsx("h2",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"heading",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},className:"text-[32px] font-bold mb-10 text-center cursor-text outline-none tracking-tight",children:r}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6 max-w-[800px]",children:[a.jsx(l,{value:t.months,label:t.months===1?"Month":"Months",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",shadowColor:"rgba(102, 126, 234, 0.3)"}),a.jsx(l,{value:t.days,label:t.days===1?"Day":"Days",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",shadowColor:"rgba(240, 147, 251, 0.3)"}),a.jsx(l,{value:t.hours,label:t.hours===1?"Hour":"Hours",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",shadowColor:"rgba(79, 172, 254, 0.3)"}),a.jsx(l,{value:t.minutes,label:t.minutes===1?"Minute":"Minutes",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",shadowColor:"rgba(67, 233, 123, 0.3)"}),a.jsx(l,{value:t.seconds,label:t.seconds===1?"Second":"Seconds",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",shadowColor:"rgba(250, 112, 154, 0.3)"})]})]})},K_=({item1Value:r,item1Color:e,item1Caption:t,item2Value:s,item2Color:i,item2Caption:n,item3Value:o,item3Color:l,item3Caption:u})=>{const[c,h]=d.useState([]),p=b=>typeof b=="string"?b:b&&typeof b=="object"&&"props"in b&&b.props&&"value"in b.props&&b.props.value||"",m=b=>typeof b=="number"?b:b&&typeof b=="object"&&"props"in b&&b.props&&"value"in b.props&&parseFloat(b.props.value)||0,v=d.useMemo(()=>[{value:m(r||0)||96.5,color:p(e||"")||"#3b82f6",caption:t||"Found the event useful for their professional career development."},{value:m(s||0)||97.4,color:p(i||"")||"#10b981",caption:n||"Reported that the congress met their educational goals and learning expectations."},{value:m(o||0)||99.3,color:p(l||"")||"#f59e0b",caption:u||"Agreed that the information presented was well-balanced and supported by scientific evidence."}],[r,e,t,s,i,n,o,l,u]);d.useEffect(()=>{const b=v.map(V=>V.value);h(new Array(v.length).fill(0));const x=2e3,g=100,y=x/g;let w=0,S;const P=()=>{w++;const V=Math.min(w/g,1),I=1-Math.pow(1-V,3),E=b.map(R=>Math.round(R*I*10)/10);h(E),w<g?S=setTimeout(P,y):h(b)};return S=setTimeout(P,50),()=>{S&&clearTimeout(S)}},[v]);const f=({value:b,color:x,caption:g,index:y})=>{const V=88*Math.PI,I=c[y]||0,E=V-I/100*V;return a.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[200px] max-w-[200px] bg-transparent",children:[a.jsxs("div",{className:"relative w-32 h-32",children:[a.jsxs("svg",{width:"128",height:"128",className:"-rotate-90",children:[a.jsx("circle",{stroke:"#e5e7eb",fill:"transparent",strokeWidth:8,r:44,cx:60,cy:60}),a.jsx("circle",{stroke:x,fill:"transparent",strokeWidth:8,strokeLinecap:"round",strokeDasharray:V+" "+V,style:{strokeDashoffset:E,transition:"stroke-dashoffset 0.3s ease-in-out"},r:44,cx:60,cy:60})]}),a.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-bold text-gray-900 text-center",children:[c[y]||0,"%"]})]}),a.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":`item${y+1}Caption`,className:"text-sm text-gray-700 text-center leading-snug cursor-text outline-none min-h-[40px]",children:g})]})};return!v||v.length===0?a.jsx("div",{className:"flex justify-center items-center py-12 px-4 text-gray-500 text-base",children:"Loading progress circles..."}):a.jsx("div",{className:"flex flex-wrap justify-center gap-8 py-8 px-4 max-w-[1200px] mx-auto",children:v.map((b,x)=>a.jsx(f,{value:b.value,color:b.color,caption:b.caption,index:x},x))})},Y_=({htmlContent:r,id:e})=>{const t=d.useRef(null),i=(u=>typeof u=="string"?u:u&&typeof u=="object"&&"props"in u&&u.props&&"value"in u.props&&u.props.value||"")(r);d.useEffect(()=>(setTimeout(()=>{n()},100),()=>{l()}),[i]);const n=()=>{if(!t.current)return;t.current.querySelectorAll("h1, h2, h3, h4, h5, h6, p, span, div, a, button, li, td, th").forEach(c=>{c.setAttribute("contenteditable","true"),c.setAttribute("data-puck-field","htmlContent"),c.classList.add("outline-none","cursor-text"),c.addEventListener("mouseenter",()=>{c.classList.add("bg-blue-500/10","rounded")}),c.addEventListener("mouseleave",()=>{c.classList.remove("bg-blue-500/10","rounded")}),c.addEventListener("input",()=>{o()}),c.addEventListener("blur",()=>{o()})})},o=()=>{if(!t.current)return;const u=t.current.innerHTML,c=document.querySelector('[data-puck-field="htmlContent"]');if(c){c.textContent=u;const h=new Event("input",{bubbles:!0});c.dispatchEvent(h)}},l=()=>{if(!t.current)return;t.current.querySelectorAll('[contenteditable="true"]').forEach(c=>{c.removeAttribute("contenteditable"),c.removeAttribute("data-puck-field"),c.classList.remove("outline-none","cursor-text","bg-blue-500/10","rounded")})};return a.jsxs("div",{id:e,className:"w-full min-h-screen relative",children:[a.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,"data-puck-field":"htmlContent",className:"absolute -top-[9999px] -left-[9999px] w-px h-px opacity-0 pointer-events-none",children:i}),a.jsx("div",{ref:t,dangerouslySetInnerHTML:{__html:i},className:"w-full min-h-screen relative"})]})};/*!
 * surveyjs - Survey JavaScript library v2.3.7
 * Copyright (c) 2015-2025 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */class qe{static isAvailable(){return typeof window<"u"}static isFileReaderAvailable(){return qe.isAvailable()?!!window.FileReader:!1}static getLocation(){if(qe.isAvailable())return window.location}static getVisualViewport(){return qe.isAvailable()?window.visualViewport:null}static getInnerWidth(){if(qe.isAvailable())return window.innerWidth}static getInnerHeight(){return qe.isAvailable()?window.innerHeight:null}static getDevicePixelRatio(){return qe.isAvailable()?window.devicePixelRatio:null}static getWindow(){if(qe.isAvailable())return window}static hasOwn(e){if(qe.isAvailable())return e in window}static getSelection(){if(qe.isAvailable()&&window.getSelection)return window.getSelection()}static requestAnimationFrame(e){if(qe.isAvailable())return window.requestAnimationFrame(e)}static addEventListener(e,t){qe.isAvailable()&&window.addEventListener(e,t)}static removeEventListener(e,t){qe.isAvailable()&&window.removeEventListener(e,t)}static matchMedia(e){return!qe.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(e)}}class Re{static isAvailable(){return typeof document<"u"}static getBody(){if(Re.isAvailable())return document.body}static getDocumentElement(){if(Re.isAvailable())return document.documentElement}static getDocument(){if(Re.isAvailable())return document}static getCookie(){if(Re.isAvailable())return document.cookie}static setCookie(e){Re.isAvailable()&&(document.cookie=e)}static activeElementBlur(){if(!Re.isAvailable())return;const e=document.activeElement;e&&e.blur&&e.blur()}static createElement(e){if(Re.isAvailable())return document.createElement(e)}static getComputedStyle(e){return Re.isAvailable()?document.defaultView.getComputedStyle(e):new CSSStyleDeclaration}static addEventListener(e,t){Re.isAvailable()&&document.addEventListener(e,t)}static removeEventListener(e,t){Re.isAvailable()&&document.removeEventListener(e,t)}}function Vs(r,e){if(!e)return new Date;!re.storeUtcDates&&typeof e=="string"&&X_(e)&&(e+="T00:00:00");const t=new Date(e);return re.onDateCreated(t,r,e)}function X_(r){return r.indexOf("T")>0||!/\d{4}-\d{2}-\d{2}/.test(r)?!1:!isNaN(new Date(r).getTime())}class Y{static isValueEmpty(e){if(Array.isArray(e)&&e.length===0)return!0;if(e&&Y.isValueObject(e)&&e.constructor===Object){for(var t in e)if(!Y.isValueEmpty(e[t]))return!1;return!0}return!e&&e!==0&&e!==!1}static isValueUndefined(e){return e==null||typeof e=="number"&&isNaN(e)}static isArrayContainsEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var s=0;s<e.length;s++){for(var i=0;i<t.length&&!Y.isTwoValueEquals(e[s],t[i]);i++);if(i===t.length)return!1}return!0}static checkIfArraysEqual(e,t,s){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;if(s.ignoreOrder!==void 0?s.ignoreOrder:!1){for(var n=[],o=[],l=0;l<e.length;l++)n.push(e[l]),o.push(t[l]);n.sort(),o.sort(),e=n,t=o}for(var l=0;l<e.length;l++)if(!Y.checkIfValuesEqual(e[l],t[l],s))return!1;return!0}static isArraysEqual(e,t,s=!1,i,n){return Y.checkIfArraysEqual(e,t,{ignoreOrder:s,caseSensitive:i,trimStrings:n})}static compareStrings(e,t){const s=re.comparator.normalizeTextCallback;if(e&&(e=s(e,"compare").trim()),t&&(t=s(t,"compare").trim()),!e&&!t)return 0;if(!e)return-1;if(!t)return 1;if(e===t)return 0;let i=-1;for(let n=0;n<e.length&&n<t.length;n++){if(this.isCharDigit(e[n])&&this.isCharDigit(t[n])){i=n;break}if(e[n]!==t[n])break}if(i>-1){let n=this.getNumberFromStr(e,i),o=this.getNumberFromStr(t,i);if(!Number.isNaN(n)&&!Number.isNaN(o)&&n!==o)return n>o?1:-1}return e>t?1:-1}static checkIfValuesEqual(e,t,s){if(e===t||Array.isArray(e)&&e.length===0&&typeof t>"u"||Array.isArray(t)&&t.length===0&&typeof e>"u"||e==null&&t===""||t==null&&e==="")return!0;const i=s.caseSensitive!==void 0?s.caseSensitive:re.comparator.caseSensitive,n=s.trimStrings!==void 0?s.trimStrings:re.comparator.trimStrings;if(typeof e=="string"&&typeof t=="string"){const h=re.comparator.normalizeTextCallback;return e=h(e,"compare"),t=h(t,"compare"),n&&(e=e.trim(),t=t.trim()),i||(e=e.toLowerCase(),t=t.toLowerCase()),e===t}if(e instanceof Date&&t instanceof Date)return e.getTime()==t.getTime();const o=!s.doNotConvertNumbers;if(o&&Y.isConvertibleToNumber(e)&&Y.isConvertibleToNumber(t)&&parseInt(e)===parseInt(t)&&parseFloat(e)===parseFloat(t))return!0;if(!Y.isValueEmpty(e)&&Y.isValueEmpty(t)||Y.isValueEmpty(e)&&!Y.isValueEmpty(t))return!1;if((e===!0||e===!1)&&typeof t=="string")return e.toString()===t.toLocaleLowerCase();if((t===!0||t===!1)&&typeof e=="string")return t.toString()===e.toLocaleLowerCase();const l=Y.isValueObject(e),u=Y.isValueObject(t);if(!l&&!u&&(o||typeof e!="number"&&typeof t!="number"))return e==t;if(!l||!u)return!1;if(e.equals&&t.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t))return Y.checkIfArraysEqual(e,t,s);for(var c in e)if(e.hasOwnProperty(c)&&(!t.hasOwnProperty(c)||!this.checkIfValuesEqual(e[c],t[c],s)))return!1;for(c in t)if(t.hasOwnProperty(c)&&!e.hasOwnProperty(c))return!1;return!0}static isTwoValueEquals(e,t,s=!1,i,n){return this.checkIfValuesEqual(e,t,{ignoreOrder:s,caseSensitive:i,trimStrings:n})}static randomizeArray(e){for(var t=e.length-1;t>0;t--){var s=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[s],e[s]=i}return e}static getUnbindValue(e){if(Array.isArray(e)){const t=[];for(let s=0;s<e.length;s++)t.push(Y.getUnbindValue(e[s]));return t}return e&&Y.isValueObject(e)&&!(e instanceof Date)?JSON.parse(JSON.stringify(e)):e}static createCopy(e){return this.createCopyWithPrefix(e,void 0)}static createCopyWithPrefix(e,t){var s={};if(!e)return s;for(var i in e){const n=t?t+i:i;s[n]=e[i]}return s}static isConvertibleToNumber(e){return e!=null&&!Array.isArray(e)&&!isNaN(e)}static isValueObject(e,t){return e instanceof Object&&(!t||!Array.isArray(e))}static isNumber(e){return!isNaN(this.getNumber(e))}static getNumber(e){const t=Y.getNumberCore(e);return re.parseNumber(e,t)}static getNumberCore(e){if(typeof e=="string"){if(e=e.trim(),!e)return NaN;if(e.indexOf("0x")==0)return e.length>32?NaN:parseInt(e);if(e.length>15&&Y.isDigitsOnly(e))return NaN;if(Y.isStringHasOperator(e))return NaN}e=this.prepareStringToNumber(e);const t=parseFloat(e);return isNaN(t)||!isFinite(e)?NaN:t}static isStringHasOperator(e){if(e.lastIndexOf("-")>0||e.lastIndexOf("+")>0)return!1;const t="*^/%";for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>-1)return!0;return!1}static prepareStringToNumber(e){if(typeof e!="string"||!e)return e;let t=e.indexOf(",");return t>-1&&e.indexOf(",",t+1)<0?e.replace(",","."):e}static getMaxLength(e,t){return e<0&&(e=t),e>0?e:null}static getRemainingCharacterCounterText(e,t){return!t||t<=0||!re.showMaxLengthIndicator?"":[e?e.length:"0",t].join("/")}static getNumberByIndex(e,t,s){if(e<0)return"";var i=1,n="",o=".",l=!0,u="A",c="";const h=b=>{if(!b)return!1;for(var x=0;x<b.length;x++)if(Y.isCharDigit(b[x]))return!0;return!1};if(t){c=t;for(var p=c.length-1,m=h(c),v=function(){return m&&!Y.isCharDigit(c[p])||Y.isCharNotLetterAndDigit(c[p])};p>=0&&v();)p--;var f="";for(p<c.length-1&&(f=c.substring(p+1),c=c.substring(0,p+1)),p=c.length-1;p>=0&&!(v()||(p--,!m)););u=c.substring(p+1),n=c.substring(0,p+1),parseInt(u)?i=parseInt(u):u.length==1&&(l=!1),(f||n)&&(o=f)}if(s>-1&&h(n)&&(n=this.getNumberByIndex(s,n)),l){let b=(e+i).toString();for(;b.length<u.length;)b="0"+b;return n+b+o}return n+String.fromCharCode(u.charCodeAt(0)+e)+o}static isCharNotLetterAndDigit(e){return e.toUpperCase()==e.toLowerCase()&&!Y.isCharDigit(e)}static isCharDigit(e){return e>="0"&&e<="9"}static isDigitsOnly(e){if(!e)return!1;for(let t=0;t<e.length;t++)if(!Y.isCharDigit(e[t]))return!1;return!0}static getNumberFromStr(e,t){if(!this.isCharDigit(e[t]))return NaN;let s="";for(;t<e.length&&this.isCharDigit(e[t]);)s+=e[t],t++;return s?this.getNumber(s):NaN}static countDecimals(e){if(Y.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static correctAfterPlusMinis(e,t,s){const i=Y.countDecimals(e),n=Y.countDecimals(t);if(i>0||n>0){const o=Math.max(i,n);s=parseFloat(s.toFixed(o))}return s}static sumAnyValues(e,t){if(!Y.isNumber(e)||!Y.isNumber(t)){if(Array.isArray(e)&&Array.isArray(t))return[].concat(e).concat(t);if(Array.isArray(e)||Array.isArray(t)){const i=Array.isArray(e)?e:t,n=i===e?t:e;if(typeof n=="string"){const o=i.join(", ");return i===e?o+n:n+o}if(typeof n=="number"){let o=0;for(var s=0;s<i.length;s++)typeof i[s]=="number"&&(o=Y.correctAfterPlusMinis(o,i[s],o+i[s]));return Y.correctAfterPlusMinis(o,n,o+n)}}return e+t}return typeof e=="string"||typeof t=="string"?e+t:Y.correctAfterPlusMinis(e,t,e+t)}static correctAfterMultiple(e,t,s){const i=Y.countDecimals(e)+Y.countDecimals(t);return i>0&&(s=parseFloat(s.toFixed(i))),s}static findObjByPropValue(e,t,s){for(var i=0;i<e.length;i++)if(Y.isTwoValueEquals(e[i][t],s))return e[i]}static convertArrayObjectToValue(e,t){const s=new Array;if(!e||!Array.isArray(e))return s;for(var i=0;i<e.length;i++){const n=e[i]?e[i][t]:void 0;Y.isValueEmpty(n)||s.push(n)}return s}static convertDateToString(e){const t=s=>s<10?"0"+s.toString():s.toString();return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}static convertDateTimeToString(e){const t=s=>s<10?"0"+s.toString():s.toString();return this.convertDateToString(e)+" "+t(e.getHours())+":"+t(e.getMinutes())}static convertValToQuestionVal(e,t){return e instanceof Date?t==="datetime-local"?Y.convertDateTimeToString(e):Y.convertDateToString(e):this.getUnbindValue(e)}static compareVerions(e,t){if(!e&&!t)return 0;const s=e.split("."),i=t.split("."),n=s.length,o=i.length;for(let l=0;l<n&&l<o;l++){const u=s[l],c=i[l];if(u.length===c.length){if(u!==c)return u<c?-1:1}else return u.length<c.length?-1:1}return n===o?0:n<o?-1:1}static isUrlYoutubeVideo(e){if(!e)return!1;const t=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];e=e.toLowerCase(),e=e.replace(/^https?:\/\//,"");for(let s=0;s<t.length;s++)if(e.indexOf(t[s]+"/")===0)return!0;return!1}}String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(e,t){return typeof r[t]<"u"?r[t]:e})});var eO={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",commentText:"Please leave a comment",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",buttongroupOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",stepError:"Please enter a value that matches the step size of {0}.",maxError:"The value should not be greater than {0}",textNoDigitsAllow:"Numbers are not allowed.",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",noRowsText:"There are no rows.",rowIndexTemplateTitle:"Row {rowIndex}",rowNameTemplateTitle:"{rowTitle}",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",choices_Choice:"Choice option",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",selectCaption:"Select",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",loadingPage:"Loading...",loadingData:"Loading...",noEntriesText:`No entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel",createCustomItem:'Create "{0}" item...',toc:"Table of contents",progressbar:"Progress bar"},vr={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(r){this.useEnglishNames=r},setupLocale(r){const e=r.localeCode;this.locales[e]=r.strings,this.localeNames[e]=r.nativeName,this.localeNamesInEnglish[e]=r.englishName,r.rtl!==void 0&&(this.localeDirections[e]=r.rtl?"rtl":"ltr")},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(r){this.currentLocaleValue=this.getCorrectLocaleName(r)},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(r){this.defaultLocaleValue=this.getCorrectLocaleName(r)},getCorrectLocaleName(r){return r==="cz"&&(r="cs"),r==="gr"&&(r="el"),r==="rs"&&(r="sr"),r==="ua"&&(r="uk"),r},getLocaleStrings(r){return this.locales[r]},getString:function(r,e=null){const t=new Array,s=n=>{const o=this.locales[n];o&&t.push(o)},i=n=>{if(!n)return;s(n);const o=n.indexOf("-");o<1||(n=n.substring(0,o),s(n))};i(e),i(this.currentLocale),i(this.defaultLocale),this.defaultLocale!=="en"&&s("en");for(let n=0;n<t.length;n++){const o=t[n][r];if(o!==void 0)return o}return this.onGetExternalString(r,e)},getLocaleName(r,e){if(!r)return"";e===void 0&&(e=this.showNamesInEnglish);const t=e?this.localeNamesInEnglish:this.localeNames,s=e?this.localeNames:this.localeNamesInEnglish;return t[r]||s[r]||r},getLocales:function(r=!1){var e=[];e.push("");var t=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){t={};for(var s=0;s<this.supportedLocales.length;s++)t[this.supportedLocales[s]]=!0}for(var i in t)r&&i==this.defaultLocale||e.push(i);var n=o=>this.getLocaleName(o).toLowerCase();return e.sort((o,l)=>{var u=n(o),c=n(l);return u===c?0:u<c?-1:1}),e},onGetExternalString:function(r,e){}};function os(r,e=null){return vr.getString(r,e)}vr.locales.en=eO;vr.localeNames.en="english";function Qv(r,e,t){let s=r.getLocalizableString(t);if(!s){let i;typeof e.localizable=="object"&&e.localizable.defaultStr&&(i=e.localizable.defaultStr),s=r.createLocalizableString(t,r,!0,i),typeof e.localizable=="object"&&typeof e.localizable.onGetTextCallback=="function"&&(s.onGetTextCallback=e.localizable.onGetTextCallback)}}function tO(r,e,t){Qv(r,e,t);let s=r.getLocalizableStringText(t);if(s)return s;if(typeof e.localizable=="object"&&e.localizable.defaultStr){const i=r.getLocale?r.getLocale():"";return os(e.localizable.defaultStr,i)}return""}function z(r={}){return function(e,t){let s=(i,n)=>{if(n&&typeof n=="object"&&n.type===yt.ComputedUpdaterType){He.startCollectDependencies(()=>i[t]=n.updater(),i,t);const o=n.updater(),l=He.finishCollectDependencies();return n.setDependencies(l),i.dependencies[t]&&i.dependencies[t].dispose(),i.dependencies[t]=n,o}return n};!r||!r.localizable?Object.defineProperty(e,t,{get:function(){let i=null;return r&&(typeof r.getDefaultValue=="function"&&(i=r.getDefaultValue(this)),r.defaultValue!==void 0&&(i=r.defaultValue)),this.getPropertyValue(t,i)},set:function(i){const n=s(this,i),o=this.getPropertyValue(t);n!==o&&(this.setPropertyValue(t,n),r&&r.onSet&&r.onSet(n,this,o))}}):(Object.defineProperty(e,t,{get:function(){return tO(this,r,t)},set:function(i){Qv(this,r,t);const n=s(this,i);this.setLocalizableStringText(t,n),r&&r.onSet&&r.onSet(n,this)}}),Object.defineProperty(e,typeof r.localizable=="object"&&r.localizable.name?r.localizable.name:"loc"+t.charAt(0).toUpperCase()+t.slice(1),{get:function(){return Qv(this,r,t),this.getLocalizableString(t)}}))}}function Qw(r,e,t){r.ensureArray(t,(s,i)=>{const n=e?e.onPush:null;n&&n(s,i,r)},(s,i)=>{const n=e?e.onRemove:null;n&&n(s,i,r)})}function _s(r){return function(e,t){Object.defineProperty(e,t,{get:function(){return Qw(this,r,t),this.getPropertyValue(t)},set:function(s){Qw(this,r,t);const i=this.getPropertyValue(t);s!==i&&(i?i.splice(0,i.length,...s||[]):this.setPropertyValue(t,s),r&&r.onSet&&r.onSet(s,this))}})}}class Mi{constructor(e,t,s=!1){this.name=t,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=e,this.isRequiredValue=s,this.idValue=Mi.Index++}get id(){return this.idValue}get classInfo(){return this.classInfoValue}get type(){return this.typeValue?this.typeValue:"string"}set type(e){e==="itemvalues"&&(e="itemvalue[]"),e==="textitems"&&(e="textitem[]"),this.typeValue=e,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))}get locationInTable(){return this.locationInTableValue||"column"}set locationInTable(e){this.locationInTableValue=e}get showMode(){const e=this.locationInTableValue;return e==="detail"?"form":e==="column"?"list":""}set showMode(e){this.locationInTable=e==="form"?"detail":e==="list"?"column":void 0}get isRequired(){return this.isRequiredValue}set isRequired(e){e!==this.isRequired&&(this.isRequiredValue=e,this.classInfo&&this.classInfo.resetAllProperties())}get isUnique(){return this.isUniqueValue}set isUnique(e){this.isUniqueValue=e}get uniquePropertyName(){return this.uniquePropertyValue}set uniquePropertyName(e){this.uniquePropertyValue=e}isPropertySerializable(e){return this.isSerializableFunc?this.isSerializableFunc(e):this.isSerializable}getDefaultValue(e){let t=this.defaultValueFunc?this.defaultValueFunc(e):this.defaultValueValue;return Mi.getItemValuesDefaultValue&&ce.isDescendantOf(this.className,"itemvalue")&&(t=Mi.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),t}get defaultValue(){return this.getDefaultValue(void 0)}set defaultValue(e){this.defaultValueValue=e,e!==void 0&&(this.defaultValueFunc=void 0)}isDefaultValue(e){return this.isDefaultValueByObj(void 0,e)}isDefaultValueByObj(e,t){if(this.isLocalizable)return t==null;const s=this.getDefaultValue(e);return s!==void 0?typeof s!="object"?s===t:Y.isTwoValueEquals(t,s,!1,!0,!1):t===!1&&(this.type=="boolean"||this.type=="switch")&&!this.defaultValueFunc||t===""||Y.isValueEmpty(t)}getSerializableValue(e,t){if(this.onSerializeValue)return this.onSerializeValue(e);const s=this.getValue(e);if(s!=null&&!(!t&&this.isDefaultValueByObj(e,s)))return s}getValue(e){return this.onGetValue?(e=this.getOriginalObj(e),this.onGetValue(e)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].getJson():e[this.name]}getPropertyValue(e){return this.isLocalizable?e[this.serializationProperty]?e[this.serializationProperty].text:null:this.getValue(e)}get hasToUseSetValue(){return this.onSetValue||this.serializationProperty}settingValue(e,t){return!this.onSettingValue||e.isLoadingFromJson?t:this.onSettingValue(e,t)}setValue(e,t,s){this.onSetValue?(e=this.getOriginalObj(e),this.onSetValue(e,t,s)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].setJson(t,!0):(t&&typeof t=="string"&&(this.type=="number"&&(t=parseInt(t)),(this.type=="boolean"||this.type=="switch")&&(t=t.toLowerCase()==="true")),e[this.name]=t)}validateValue(e){const t=this.choices;return!Array.isArray(t)||t.length===0?!0:t.indexOf(e)>-1}getObjType(e){return this.classNamePart?e.replace(this.classNamePart,""):e}get choices(){return this.getChoices(null)}get hasChoices(){return!!this.choicesValue||!!this.choicesfunc}getChoices(e,t=null){return this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(e,t):null}setChoices(e,t=null){this.choicesValue=e,this.choicesfunc=t}getBaseValue(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""}setBaseValue(e){this.baseValue=e}get readOnly(){return this.readOnlyValue!=null?this.readOnlyValue:!1}set readOnly(e){this.readOnlyValue=e}isEnable(e){return this.readOnly?!1:!e||!this.enableIf?!0:this.enableIf(this.getOriginalObj(e))}isVisible(e,t=null){let s=!this.layout||!e||this.layout===e;return!this.visible||!s?!1:this.visibleIf&&t?this.visibleIf(this.getOriginalObj(t)):!0}getOriginalObj(e){if(e&&e.getOriginalObj){const t=e.getOriginalObj();if(t&&ce.findProperty(t.getType(),this.name))return t}return e}get visible(){return this.visibleValue!=null?this.visibleValue:!0}set visible(e){this.visibleValue=e}isAvailableInVersion(e){return this.alternativeName||this.oldName?!0:this.isAvailableInVersionCore(e)}getSerializedName(e){return this.alternativeName?this.isAvailableInVersionCore(e)?this.name:this.alternativeName||this.oldName:this.name}getSerializedProperty(e,t){return!this.oldName||this.isAvailableInVersionCore(t)?this:!e||!e.getType?null:ce.findProperty(e.getType(),this.oldName)}isAvailableInVersionCore(e){return!e||!this.version?!0:Y.compareVerions(this.version,e)<=0}get isLocalizable(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1}set isLocalizable(e){this.isLocalizableValue=e}get dataList(){return Array.isArray(this.dataListValue)?this.dataListValue:[]}set dataList(e){this.dataListValue=e}mergeWith(e){for(var t=Mi.mergableValues,s=0;s<t.length;s++)this.mergeValue(e,t[s])}addDependedProperty(e){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(e)<0&&this.dependedProperties.push(e)}getDependedProperties(){return this.dependedProperties?this.dependedProperties:[]}schemaType(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"}schemaRef(){if(this.className)return this.className}mergeValue(e,t){this[t]==null&&e[t]!=null&&(this[t]=e[t])}}Mi.Index=1;Mi.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","locationInTable","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"];class Mt{static addProperty(e,t){e=e.toLowerCase();var s=Mt.properties;s[e]||(s[e]=[]),s[e].push(t)}static removeProperty(e,t){e=e.toLowerCase();var s=Mt.properties;if(s[e]){for(var i=s[e],n=0;n<i.length;n++)if(i[n].name==t){s[e].splice(n,1);break}}}static removeAllProperties(e){e=e.toLowerCase(),delete Mt.properties[e]}static addClass(e,t){e=e.toLowerCase(),t&&(t=t.toLowerCase()),Mt.parentClasses[e]=t}static getProperties(e){e=e.toLowerCase();for(var t=[],s=Mt.properties;e;){var i=s[e];if(i)for(var n=0;n<i.length;n++)t.push(i[n]);e=Mt.parentClasses[e]}return t}static createProperties(e){!e||!e.getType||Mt.createPropertiesCore(e,e.getType())}static createPropertiesCore(e,t){var s=Mt.properties;s[t]&&Mt.createPropertiesInObj(e,s[t]);var i=Mt.parentClasses[t];i&&Mt.createPropertiesCore(e,i)}static createPropertiesInObj(e,t){for(var s=0;s<t.length;s++)Mt.createPropertyInObj(e,t[s])}static createPropertyInObj(e,t){if(!Mt.checkIsPropertyExists(e,t.name)&&!(t.serializationProperty&&Mt.checkIsPropertyExists(e,t.serializationProperty))){if(t.isLocalizable&&t.serializationProperty&&e.createCustomLocalizableObj){const o=e.createCustomLocalizableObj(t.name);o.defaultValue=t.getDefaultValue(e);var s={get:function(){return e.getLocalizableString(t.name)}};Object.defineProperty(e,t.serializationProperty,s);var i={get:function(){return e.getLocalizableStringText(t.name)},set:function(l){e.setLocalizableStringText(t.name,l)}};Object.defineProperty(e,t.name,i)}else{var n=t.isArray||t.type==="multiplevalues";if(typeof e.createNewArray=="function"&&(ce.isDescendantOf(t.className,"itemvalue")?(e.createNewArray(t.name,function(o){o.locOwner=e,o.ownerPropertyName=t.name}),n=!0):n&&e.createNewArray(t.name),n)){const o=t.getDefaultValue(e);Array.isArray(o)&&e.setPropertyValue(t.name,o)}if(e.getPropertyValue&&e.setPropertyValue){var i={get:()=>t.onGetValue?t.onGetValue(e):e.getPropertyValue(t.name,void 0),set:function(l){t.onSetValue?t.onSetValue(e,l,null):e.setPropertyValue(t.name,l)}};Object.defineProperty(e,t.name,i)}}(t.type==="condition"||t.type==="expression")&&t.onExecuteExpression&&e.addExpressionProperty(t.name,t.onExecuteExpression)}}static checkIsPropertyExists(e,t){return e.hasOwnProperty(t)||e[t]}}Mt.properties={};Mt.parentClasses={};class xl{constructor(e,t,s=null,i=null){this.name=e,this.creator=s,this.parentName=i,e=e.toLowerCase(),this.isCustomValue=!s&&e!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),Mt.addClass(e,this.parentName),s&&this.makeParentRegularClass()),this.properties=new Array;for(var n=0;n<t.length;n++)this.createProperty(t[n],this.isCustom)}find(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null}findProperty(e){return this.fillAllProperties(),this.hashProperties[e]}getAllProperties(){return this.fillAllProperties(),this.allProperties}getRequiredProperties(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];const e=this.getAllProperties();for(let t=0;t<e.length;t++)e[t].isRequired&&this.requiredProperties.push(e[t]);return this.requiredProperties}resetAllProperties(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var e=ce.getChildrenClasses(this.name),t=0;t<e.length;t++)e[t].resetAllProperties()}get isCustom(){return this.isCustomValue}fillAllProperties(){if(this.allProperties)return;this.allProperties=[],this.hashProperties={};const e={};this.properties.forEach(s=>e[s.name]=s);const t=this.parentName?ce.findClass(this.parentName):null;t&&t.getAllProperties().forEach(i=>{const n=e[i.name];n?(n.mergeWith(i),this.addPropCore(n)):this.addPropCore(i)}),this.properties.forEach(s=>{this.hashProperties[s.name]||this.addPropCore(s)})}addPropCore(e){this.allProperties.push(e),this.hashProperties[e.name]=e,e.alternativeName&&(this.hashProperties[e.alternativeName]=e)}isOverridedProp(e){return!!this.parentName&&!!ce.findProperty(this.parentName,e)}hasRegularChildClass(){if(this.isCustom){this.isCustomValue=!1;for(var e=0;e<this.properties.length;e++)this.properties[e].isCustom=!1;Mt.removeAllProperties(this.name),this.makeParentRegularClass()}}makeParentRegularClass(){if(!this.parentName)return;const e=ce.findClass(this.parentName);e&&e.hasRegularChildClass()}createProperty(e,t=!1){var s=typeof e=="string"?e:e.name;if(s){var i=null,n=s.indexOf(xl.typeSymbol);n>-1&&(i=s.substring(n+1),s=s.substring(0,n));var o=this.getIsPropertyNameRequired(s)||!!e.isRequired;s=this.getPropertyName(s);var l=new Mi(this,s,o);if(i&&(l.type=i),typeof e=="object"){if(e.type&&(l.type=e.type),e.default!==void 0&&(l.defaultValue=e.default),e.defaultFunc!==void 0&&(l.defaultValueFunc=e.defaultFunc),Y.isValueEmpty(e.isSerializable)||(l.isSerializable=e.isSerializable),Y.isValueEmpty(e.isSerializableFunc)||(l.isSerializableFunc=e.isSerializableFunc),Y.isValueEmpty(e.isLightSerializable)||(l.isLightSerializable=e.isLightSerializable),Y.isValueEmpty(e.maxLength)||(l.maxLength=e.maxLength),e.displayName!==void 0&&(l.displayName=e.displayName),Y.isValueEmpty(e.category)||(l.category=e.category),Y.isValueEmpty(e.categoryIndex)||(l.categoryIndex=e.categoryIndex),Y.isValueEmpty(e.nextToProperty)||(l.nextToProperty=e.nextToProperty),Y.isValueEmpty(e.overridingProperty)||(l.overridingProperty=e.overridingProperty),Y.isValueEmpty(e.visibleIndex)||(l.visibleIndex=e.visibleIndex),Y.isValueEmpty(e.showMode)||(l.showMode=e.showMode),Y.isValueEmpty(e.locationInTable)||(l.locationInTable=e.locationInTable),Y.isValueEmpty(e.maxValue)||(l.maxValue=e.maxValue),Y.isValueEmpty(e.minValue)||(l.minValue=e.minValue),Y.isValueEmpty(e.dataList)||(l.dataList=e.dataList),Y.isValueEmpty(e.isDynamicChoices)||(l.isDynamicChoices=e.isDynamicChoices),Y.isValueEmpty(e.isBindable)||(l.isBindable=e.isBindable),Y.isValueEmpty(e.isUnique)||(l.isUnique=e.isUnique),Y.isValueEmpty(e.uniqueProperty)||(l.uniquePropertyName=e.uniqueProperty),Y.isValueEmpty(e.isArray)||(l.isArray=e.isArray),(e.visible===!0||e.visible===!1)&&(l.visible=e.visible),e.visibleIf&&(l.visibleIf=e.visibleIf),e.enableIf&&(l.enableIf=e.enableIf),e.onExecuteExpression&&(l.onExecuteExpression=e.onExecuteExpression),e.onPropertyEditorUpdate&&(l.onPropertyEditorUpdate=e.onPropertyEditorUpdate),e.readOnly===!0&&(l.readOnly=!0),e.availableInMatrixColumn===!0&&(l.availableInMatrixColumn=!0),e.choices){var u=typeof e.choices=="function"?e.choices:null,c=typeof e.choices!="function"?e.choices:null;l.setChoices(c,u)}e.baseValue&&l.setBaseValue(e.baseValue),e.onSerializeValue&&(l.onSerializeValue=e.onSerializeValue),e.onGetValue&&(l.onGetValue=e.onGetValue),e.onSetValue&&(l.onSetValue=e.onSetValue),e.onSettingValue&&(l.onSettingValue=e.onSettingValue),e.isLocalizable&&(e.serializationProperty="loc"+l.name),e.serializationProperty&&(l.serializationProperty=e.serializationProperty,l.serializationProperty&&l.serializationProperty.indexOf("loc")==0&&(l.isLocalizable=!0)),e.isLocalizable&&(l.isLocalizable=e.isLocalizable),e.className&&(l.className=e.className),e.baseClassName&&(l.baseClassName=e.baseClassName,l.isArray=!0),l.isArray===!0&&(l.isArray=!0),e.classNamePart&&(l.classNamePart=e.classNamePart),e.alternativeName&&(l.alternativeName=e.alternativeName),e.oldName&&(l.oldName=e.oldName),e.layout&&(l.layout=e.layout),e.version&&(l.version=e.version),e.dependsOn&&this.addDependsOnProperties(l,e.dependsOn)}return this.properties.push(l),t&&!this.isOverridedProp(l.name)&&(l.isCustom=!0,Mt.addProperty(this.name,l)),l}}addDependsOnProperties(e,t){const s=Array.isArray(t)?t:[t];e.dependsOn=s;for(var i=0;i<s.length;i++)this.addDependsOnProperty(e,s[i])}addDependsOnProperty(e,t){var s=this.find(t);s||(s=ce.findProperty(this.parentName,t)),s&&s.addDependedProperty(e.name)}getIsPropertyNameRequired(e){return e.length>0&&e[0]==xl.requiredSymbol}getPropertyName(e){return this.getIsPropertyNameRequired(e)&&(e=e.slice(1)),e}}xl.requiredSymbol="!";xl.typeSymbol=":";class sO{constructor(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}getObjPropertyValue(e,t){if(this.isObjWrapper(e)&&this.isNeedUseObjWrapper(e,t)){const i=e.getOriginalObj(),n=ce.findProperty(i.getType(),t);if(n)return this.getObjPropertyValueCore(i,n)}const s=ce.findProperty(e.getType(),t);return s?this.getObjPropertyValueCore(e,s):e[t]}setObjPropertyValue(e,t,s){if(e[t]!==s)if(e[t]&&e[t].setJson)e[t].setJson(s,!0);else{if(Array.isArray(s)){const n=[];for(var i=0;i<s.length;i++)n.push(s[i]);s=n}e[t]=s}}getObjPropertyValueCore(e,t){if(!t.isPropertySerializable(e))return e[t.name];if(t.isLocalizable){if(t.isArray)return e[t.name];const s=e.getLocalizableString(t.name);if(s)return s.isDefautlLocale?s.text:s.getValue(s.locale);if(t.serializationProperty)return e[t.serializationProperty].text}return e.getPropertyValue(t.name)}isObjWrapper(e){return!!e.getOriginalObj&&!!e.getOriginalObj()}isNeedUseObjWrapper(e,t){if(!e.getDynamicProperties)return!0;const s=e.getDynamicProperties();if(!Array.isArray(s))return!1;for(let i=0;i<s.length;i++)if(s[i].name===t)return!0;return!1}addClass(e,t,s=null,i=null){e=e.toLowerCase();var n=new xl(e,t,s,i);if(this.classes[e]=n,i){i=i.toLowerCase();var o=this.childrenClasses[i];o||(this.childrenClasses[i]=[]),this.childrenClasses[i].push(n)}return n}removeClass(e){var t=this.findClass(e);if(t&&(delete this.classes[t.name],t.parentName)){var s=this.childrenClasses[t.parentName].indexOf(t);s>-1&&this.childrenClasses[t.parentName].splice(s,1)}}overrideClassCreatore(e,t){this.overrideClassCreator(e,t)}overrideClassCreator(e,t){e=e.toLowerCase();var s=this.findClass(e);s&&(s.creator=t)}getProperties(e){var t=this.findClass(e);return t?t.getAllProperties():[]}getPropertiesByObj(e){const t=e&&e.getType?e.getType():void 0;if(!t)return[];const s=this.getProperties(t),i=this.getDynamicPropertiesByObj(e);for(let n=i.length-1;n>=0;n--)this.findProperty(t,i[n].name)&&i.splice(n,1);return i.length===0?s:[].concat(s).concat(i)}addDynamicPropertiesIntoObj(e,t,s){s.forEach(i=>{this.addDynamicPropertyIntoObj(e,t,i.name,!1),i.serializationProperty&&this.addDynamicPropertyIntoObj(e,t,i.serializationProperty,!0),i.alternativeName&&this.addDynamicPropertyIntoObj(e,t,i.alternativeName,!1)})}addDynamicPropertyIntoObj(e,t,s,i){var n={configurable:!0,get:function(){return t[s]}};i||(n.set=function(o){t[s]=o}),Object.defineProperty(e,s,n)}getDynamicPropertiesByObj(e,t=null){if(!e||!e.getType)return[];if(e.getDynamicProperties)return e.getDynamicProperties();if(!e.getDynamicType&&!t)return[];const s=t||e.getDynamicType();return this.getDynamicPropertiesByTypes(e.getType(),s)}getDynamicPropertiesByTypes(e,t,s){if(!t)return[];const i=t+"-"+e;if(this.dynamicPropsCache[i])return this.dynamicPropsCache[i];var n=this.getProperties(t);if(!n||n.length==0)return[];const o={},l=this.getProperties(e);for(var u=0;u<l.length;u++)o[l[u].name]=l[u];const c=[];s||(s=[]);for(let h=0;h<n.length;h++){const p=n[h];this.canAddDybamicProp(p,o[p.name])&&(s.indexOf(p.name)>-1&&(p.visible=!1,p.isSerializable=!1),c.push(p))}return this.dynamicPropsCache[i]=c,c}canAddDybamicProp(e,t){if(!t)return!0;if(e===t)return!1;let s=e.classInfo;for(;s&&s.parentName;){if(e=this.findProperty(s.parentName,e.name),e&&e===t)return!0;s=e?e.classInfo:void 0}return!1}hasOriginalProperty(e,t){return!!this.getOriginalProperty(e,t)}getOriginalProperty(e,t){var s=this.findProperty(e.getType(),t);return s||(this.isObjWrapper(e)?this.findProperty(e.getOriginalObj().getType(),t):null)}getProperty(e,t){const s=this.findProperty(e,t);if(!s)return s;const i=this.findClass(e);if(s.classInfo===i)return s;const n=new Mi(i,s.name,s.isRequired);return n.mergeWith(s),n.isArray=s.isArray,i.properties.push(n),i.resetAllProperties(),n}findProperty(e,t){const s=this.findClass(e);return s?s.findProperty(t):null}findProperties(e,t){var s=new Array;const i=this.findClass(e);if(!i)return s;for(var n=0;n<t.length;n++){var o=i.findProperty(t[n]);o&&s.push(o)}return s}getAllPropertiesByName(e){for(var t=new Array,s=this.getAllClasses(),i=0;i<s.length;i++)for(var n=this.findClass(s[i]),o=0;o<n.properties.length;o++)if(n.properties[o].name==e){t.push(n.properties[o]);break}return t}getAllClasses(){var e=new Array;for(var t in this.classes)e.push(t);return e}createClass(e,t=void 0){e=e.toLowerCase();var s=this.findClass(e);if(!s)return null;if(s.creator)return s.creator(t);for(var i=s.parentName;i;){if(s=this.findClass(i),!s)return null;if(i=s.parentName,s.creator)return this.createCustomType(e,s.creator,t)}return null}createCustomType(e,t,s=void 0){e=e.toLowerCase();var i=t(s),n=e,o=i.getTemplate?i.getTemplate():i.getType();return i.getType=function(){return n},i.getTemplate=function(){return o},Mt.createProperties(i),i}getChildrenClasses(e,t=!1){e=e.toLowerCase();var s=[];return this.fillChildrenClasses(e,t,s),s}getRequiredProperties(e){const t=this.findClass(e);if(!t)return[];const s=t.getRequiredProperties();for(var i=[],n=0;n<s.length;n++)i.push(s[n].name);return i}addProperties(e,t){e=e.toLowerCase();for(var s=this.findClass(e),i=0;i<t.length;i++)this.addCustomPropertyCore(s,t[i])}addProperty(e,t){return this.addCustomPropertyCore(this.findClass(e),t)}addCustomPropertyCore(e,t){if(!e)return null;var s=e.createProperty(t,!0);return s&&(this.clearDynamicPropsCache(e),e.resetAllProperties()),s}removeProperty(e,t){var s=this.findClass(e);if(!s)return!1;var i=s.find(t);i&&(this.clearDynamicPropsCache(s),this.removePropertyFromClass(s,i),s.resetAllProperties(),Mt.removeProperty(s.name,t))}clearDynamicPropsCache(e){this.dynamicPropsCache={}}removePropertyFromClass(e,t){var s=e.properties.indexOf(t);s<0||e.properties.splice(s,1)}fillChildrenClasses(e,t,s){var i=this.childrenClasses[e];if(i)for(var n=0;n<i.length;n++)(!t||i[n].creator)&&s.push(i[n]),this.fillChildrenClasses(i[n].name,t,s)}findClass(e){e=e.toLowerCase();var t=this.classes[e];if(!t){var s=this.alternativeNames[e];if(s&&s!=e)return this.findClass(s)}return t}isDescendantOf(e,t){if(!e||!t)return!1;e=e.toLowerCase(),t=t.toLowerCase();var s=this.findClass(e);if(!s)return!1;var i=s;do{if(i.name===t)return!0;i=this.classes[i.parentName]}while(i);return!1}addAlterNativeClassName(e,t){this.alternativeNames[t.toLowerCase()]=e.toLowerCase()}generateSchema(e=void 0){e||(e="survey");var t=this.findClass(e);if(!t)return null;var s={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(t,s,s.definitions,!0),s}generateLocStrClass(){const e={},t=ce.findProperty("survey","locale");if(t){const s=t.getChoices(null);Array.isArray(s)&&(s.indexOf("en")<0&&s.splice(0,0,"en"),s.splice(0,0,"default"),s.forEach(i=>{i&&(e[i]={type:"string"})}))}return{$id:"locstring",type:"object",properties:e}}generateSchemaProperties(e,t,s,i){if(!e)return;const n=t.properties,o=[];e.name==="question"&&(n.type={type:"string"},o.push("type"));for(let l=0;l<e.properties.length;l++){const u=e.properties[l];u.isSerializable!==!1&&(e.parentName&&ce.findProperty(e.parentName,u.name)||(n[u.name]=this.generateSchemaProperty(u,s,i),u.isRequired&&o.push(u.name)))}o.length>0&&(t.required=o)}generateSchemaProperty(e,t,s){if(e.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",s)}]};const i=e.schemaType(),n=e.schemaRef();var o={};if(i&&(o.type=i),e.hasChoices){const h=e.getChoices(null);Array.isArray(h)&&h.length>0&&(o.enum=this.getChoicesValues(h))}if(n&&(i==="array"?e.className==="string"?o.items={type:e.className}:o.items={$ref:this.getChemeRefName(e.className,s)}:o.$ref=this.getChemeRefName(n,s),this.generateChemaClass(e.className,t,!1)),e.baseClassName){var l=this.getChildrenClasses(e.baseClassName,!0);e.baseClassName=="question"&&l.push(this.findClass("panel")),o.items={anyOf:[]};for(var u=0;u<l.length;u++){var c=l[u].name;o.items.anyOf.push({$ref:this.getChemeRefName(c,s)}),this.generateChemaClass(c,t,!1)}}return o}getChemeRefName(e,t){return t?"#/definitions/"+e:e}generateChemaClass(e,t,s){if(t[e])return;var i=this.findClass(e);if(!i)return;var n=!!i.parentName&&i.parentName!="base";n&&this.generateChemaClass(i.parentName,t,s);const o={type:"object",$id:e};t[e]=o;const l={properties:{}};this.generateSchemaProperties(i,l,t,s),n?o.allOf=[{$ref:this.getChemeRefName(i.parentName,s)},{properties:l.properties}]:o.properties=l.properties,Array.isArray(l.required)&&(o.required=l.required)}getChoicesValues(e){const t=new Array;return e.forEach(s=>{typeof s=="object"&&s.value!==void 0?t.push(s.value):t.push(s)}),t}}class ec{constructor(e,t){this.type=e,this.message=t,this.description="",this.at=-1,this.end=-1}getFullDescription(){return this.message+(this.description?`
`+this.description:"")}}class rO extends ec{constructor(e,t){super("unknownproperty","Unknown property in class '"+t+"': '"+e+"'."),this.propertyName=e,this.className=t}}class ZP extends ec{constructor(e,t,s){super(t,s),this.baseClassName=e,this.type=t,this.message=s}}class iO extends ZP{constructor(e,t){super(t,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class nO extends ZP{constructor(e,t){super(t,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class oO extends ec{constructor(e,t){super("requiredproperty","The property '"+e+"' is required in class '"+t+"'."),this.propertyName=e,this.className=t}}class aO extends ec{constructor(e,t){super("arrayproperty","The property '"+e+"' should be an array in '"+t+"'."),this.propertyName=e,this.className=t}}class lO extends ec{constructor(e,t){super("incorrectvalue","The property value: '"+t+"' is incorrect for property '"+e.name+"'."),this.property=e,this.value=t}}class _t{constructor(){this.errors=new Array,this.lightSerializing=!1}static get metaData(){return _t.metaDataValue}toJsonObject(e,t){return this.toJsonObjectCore(e,null,t)}toObject(e,t,s){this.toObjectCore(e,t,s);var i=this.getRequiredError(t,e);i&&this.addNewError(i,e,t)}toObjectCore(e,t,s){if(!e)return;var i=null,n=void 0,o=!0;if(t.getType&&(n=t.getType(),i=ce.getProperties(n),o=!!n&&!ce.isDescendantOf(n,"itemvalue")),!i)return;t.startLoadingFromJson&&t.startLoadingFromJson(e),i=this.addDynamicProperties(t,e,i),this.options=s;const l={};l[_t.typePropertyName]=!0;const u={};for(var c in e)this.setPropertyValueToObj(e,t,c,i,l,u,n,o,s);this.options=void 0,t.endLoadingFromJson&&t.endLoadingFromJson()}setPropertyValueToObj(e,t,s,i,n,o,l,u,c){if(n[s])return;if(s===_t.positionPropertyName){t[s]=e[s];return}const h=this.findProperty(i,s);if(!h&&u&&this.addNewError(new rO(s.toString(),l),e,t),h){const p=h.dependsOn;Array.isArray(p)&&(o[s]=!0,p.forEach(m=>{o[m]||this.setPropertyValueToObj(e,t,m,i,n,o,l,!1,c)})),this.valueToObj(e[s],t,h,e,c),n[s]=!0}}toJsonObjectCore(e,t,s){if(!e||!e.getType)return e;if(!e.isSurvey&&typeof e.getData=="function")return e.getData();var i={};t!=null&&!t.className&&(i[_t.typePropertyName]=t.getObjType(e.getType()));const n=s===!0;return(!s||s===!0)&&(s={}),n&&(s.storeDefaults=n),this.propertiesToJson(e,ce.getProperties(e.getType()),i,s),this.propertiesToJson(e,this.getDynamicProperties(e),i,s),i}getDynamicProperties(e){return ce.getDynamicPropertiesByObj(e)}addDynamicProperties(e,t,s){if(!e.getDynamicPropertyName&&!e.getDynamicProperties)return s;if(e.getDynamicPropertyName){const n=e.getDynamicPropertyName();if(!n)return s;n&&t[n]&&(e[n]=t[n])}const i=this.getDynamicProperties(e);return i.length===0?s:[].concat(s).concat(i)}propertiesToJson(e,t,s,i){for(var n=0;n<t.length;n++)this.valueToJson(e,s,t[n],i)}valueToJson(e,t,s,i){i||(i={}),!(!s.isPropertySerializable(e)||s.isLightSerializable===!1&&this.lightSerializing)&&(i.version&&!s.isAvailableInVersion(i.version)||this.valueToJsonCore(e,t,s,i))}valueToJsonCore(e,t,s,i){const n=s.getSerializedProperty(e,i.version);if(n&&n!==s){this.valueToJsonCore(e,t,n,i);return}var o=s.getSerializableValue(e,i.storeDefaults);if(o===void 0)return;if(this.isValueArray(o)){for(var l=[],u=0;u<o.length;u++)l.push(this.toJsonObjectCore(o[u],s,i));o=l.length>0?l:null}else o=this.toJsonObjectCore(o,s,i);if(o==null)return;const c=s.getSerializedName(i.version);var h=typeof e.getPropertyValue=="function"&&e.getPropertyValue(c,null)!==null;(i.storeDefaults&&h||!s.isDefaultValueByObj(e,o))&&(!ce.onSerializingProperty||!ce.onSerializingProperty(e,s,o,t))&&(t[c]=this.removePosOnValueToJson(s,o))}valueToObj(e,t,s,i,n){if(e!=null){if(this.removePos(s,e),s!=null&&s.hasToUseSetValue){s.setValue(t,e,this);return}if(s.isArray&&!Array.isArray(e)&&e){e=[e];const l=i&&s.alternativeName&&i[s.alternativeName]?s.alternativeName:s.name;this.addNewError(new aO(l,t.getType()),i||e,t)}if(this.isValueArray(e)){this.valueToArray(e,t,s.name,s,n);return}var o=this.createNewObj(e,s);o.newObj&&(this.toObjectCore(e,o.newObj,n),e=o.newObj),o.error||(s!=null?(s.setValue(t,e,this),n&&n.validatePropertyValues&&(s.validateValue(e)||this.addNewError(new lO(s,e),i,t))):t[s.name]=e)}}removePosOnValueToJson(e,t){return!e.isCustom||!t||this.removePosFromObj(t),t}removePos(e,t){!e||!e.type||e.type.indexOf("value")<0||this.removePosFromObj(t)}removePosFromObj(e){if(!(!e||typeof e.getType=="function")){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.removePosFromObj(e[t]);if(typeof e=="object"){e[_t.positionPropertyName]&&delete e[_t.positionPropertyName];for(let s in e)this.removePosFromObj(e[s])}}}isValueArray(e){return e&&Array.isArray(e)}createNewObj(e,t){var s={newObj:null,error:null};const i=this.getClassNameForNewObj(e,t);return s.newObj=i?ce.createClass(i,e):null,s.error=this.checkNewObjectOnErrors(s.newObj,e,t,i),s}getClassNameForNewObj(e,t){var s=t!=null&&t.className?t.className:void 0;if(s||(s=e[_t.typePropertyName]),!s)return s;s=s.toLowerCase();const i=t.classNamePart;return i&&s.indexOf(i)<0&&(s+=i),s}checkNewObjectOnErrors(e,t,s,i){var n=null;return e?n=this.getRequiredError(e,t):s.baseClassName&&(i?n=new nO(s.name,s.baseClassName):n=new iO(s.name,s.baseClassName)),n&&this.addNewError(n,t,e),n}getRequiredError(e,t){if(!e.getType||typeof e.getData=="function")return null;const s=ce.findClass(e.getType());if(!s)return null;const i=s.getRequiredProperties();if(!Array.isArray(i))return null;for(var n=0;n<i.length;n++){const o=i[n];if(Y.isValueEmpty(o.defaultValue)&&!t[o.name])return new oO(o.name,e.getType())}return null}addNewError(e,t,s){if(e.jsonObj=t,e.element=s,this.errors.push(e),!t)return;const i=t[_t.positionPropertyName];i&&(e.at=i.start,e.end=i.end)}valueToArray(e,t,s,i,n){if(!(t[s]&&!this.isValueArray(t[s]))){t[s]&&e.length>0&&t[s].splice(0,t[s].length);var o=t[s]?t[s]:[];this.addValuesIntoArray(e,o,i,n),t[s]||(t[s]=o)}}addValuesIntoArray(e,t,s,i){for(var n=0;n<e.length;n++){var o=this.createNewObj(e[n],s);o.newObj?(e[n].name&&(o.newObj.name=e[n].name),e[n].valueName&&(o.newObj.valueName=e[n].valueName.toString()),t.push(o.newObj),this.toObjectCore(e[n],o.newObj,i)):o.error||t.push(e[n])}}findProperty(e,t){if(!e)return null;for(var s=0;s<e.length;s++){var i=e[s];if(i.name==t||i.alternativeName==t)return i}return null}}_t.typePropertyName="type";_t.positionPropertyName="pos";_t.metaDataValue=new sO;var ce=_t.metaData;class Zn{constructor(){}getValueInfo(e){const t=this.getValueInfoCore(e);return!t.isFound&&t.value===void 0&&e.name.endsWith(".length")&&(t.isFound=!0,t.value=0),t}getValueInfoCore(e){const t=e.name,s=e.context;let i=this.run(e.name,s,e.createObjects);if((!i||!i.isFound)&&s&&s.getRootObj){const o=s.getRootObj();if(o)return e.context=o.getValueGetterContext(),this.getValueInfo(e)}const n={isFound:!1,value:void 0};return!i||!i.isFound||(n.isFound=!0,n.value=i.value,n.strictCompare=i.requireStrictCompare,i.context&&(e.isText&&i.context.getTextValue&&(n.value=i.context.getTextValue(t,n.value,e.isDisplayValue)),i.context.getQuestion&&(n.question=i.context.getQuestion()))),n}getValue(e,t,s,i){const n=this.getValueInfo({name:e,context:t,isText:s,isDisplayValue:i});return n.isFound?n.value:void 0}getDisplayValue(e,t,s=!0){return this.getValue(e,t,!0,s)}isAnyKeyChanged(e,t){for(var s=0;s<t.length;s++){const o=t[s];if(!o)continue;const l=o.toLowerCase();if(e.hasOwnProperty(o)||o!==l&&e.hasOwnProperty(l))return!0;const u=this.getPath(o),c=u.length>0?u[0].name:"";if(!e.hasOwnProperty(c))continue;if(o===c)return!0;const h=e[c];if(h==null)continue;if(!h.hasOwnProperty("oldValue")||!h.hasOwnProperty("newValue"))return!0;const p={};p[c]=h.oldValue;var i=this.getValueFromObject(p,o);p[c]=h.newValue;var n=this.getValueFromObject(p,o);if(!Y.isTwoValueEquals(i,n,!1,!1,!1))return!0}return!1}getValueFromObject(e,t){const s=this.getValueInfo({name:t,context:new bi(e)});return s.isFound?s.value:void 0}run(e,t,s){if(!t)return;let i=this.getPath(e);const n=t.getValue(i,!0,-1,s);return n&&n.isFound?n:void 0}getPath(e){const t=[],s=e.split(".");for(let i=0;i<s.length;i++)t.push(this.getValueItem(s[i]));return t}getValueItem(e){e=e.trim();let t;if(e.lastIndexOf("]")===e.length-1){const i=e.lastIndexOf("[");if(i>-1){const n=e.substring(i+1,e.length-1);t=Y.getNumber(n),(isNaN(t)||t<0)&&(t=void 0),t!==void 0&&(e=e.substring(0,i))}}const s={name:e};return t!==void 0&&(s.index=t),s}}class ma{constructor(){}getValue(e,t,s,i){let n=0;const o={isFound:!1,value:this.getInitialvalue(),context:this};for(;n<e.length;){if(n=this.checkValueByPath(e,n,o),!o.isFound)return;const l=e[n];if(n++,o.context!==this&&o.context)return o.context.getValue([].concat(e.slice(n)),!1,l.index,i);if(l.index!==void 0&&(this.updateItemByIndex(l.index,o),!o.isFound))return}return o}isSearchNameRevert(){return!1}checkValueByPath(e,t,s){const i=this.isSearchNameRevert(),n=t,o=this.getMaxIndexByPath(e,t);for(s.isFound=!1,i&&(t=o);!s.isFound&&t<=o&&t>=n;){const l=this.getNameByPath(e,n,t+1);if(this.updateValueByItem(l,s),s.isFound)break;t+=i?-1:1}return t}getNameByPath(e,t,s){let i="";for(let n=t;n<s;n++)n>t&&(i+="."),i+=e[n].name;return i}getMaxIndexByPath(e,t){let s=t;for(;s<e.length&&e[s].index===void 0;)s++;return s<e.length?s:e.length-1}getTextValue(e,t,s){return s?t==null?"":t.toString():t}getInitialvalue(){}updateValueByItem(e,t){}updateItemByIndex(e,t){}}class bi extends ma{constructor(e){super(),this.variables=e}getInitialvalue(){return this.variables}isSearchNameRevert(){return!0}updateValueByItem(e,t){const s=this.getValueByItemCore(t.value,e);t.isFound=s!==void 0,t.isFound&&(t.value=s)}updateItemByIndex(e,t){const s=t.value;Array.isArray(s)&&e<s.length?(t.value=s[e],t.isFound=!0):t.isFound=!1}getValueByItemCore(e,t){if(!e||!t)return;const s=t.toLowerCase();if(t==="length"&&(Array.isArray(e)||typeof e=="string"))return e.length;let i=s[0],n=t[0].toLocaleUpperCase();for(var o in e){var l=o[0];if(l===i||l===n){var u=o.toLowerCase();if(u==s)return e[o]}}}}class Vx extends bi{constructor(e,t){super(e),this.second=t}getValue(e,t,s,i){const n=super.getValue(e,t,s,i);return!this.second||n!=null&&n.isFound?n:this.second.getValue(e,t,s,i)}}class uO{constructor(e){this.properties=null,this.asyncValues={},this.contextValue=e}get context(){return this.contextValue}hasValue(e){return this.context?this.getValueInfoByContext(e).isFound:!1}getValue(e){if(this.context)return this.getValueInfoByContext(e).value}getValueInfoByContext(e){return new Zn().getValueInfo({name:e,context:this.context,isText:!1})}getValueInfo(e){if(this.context){const t=this.getValueInfoByContext(e.name);e.value=t.value,e.hasValue=t.isFound,e.strictCompare=t.strictCompare;return}return{hasValue:!1}}}class Ur{static disposedObjectChangedProperty(e,t){Ur.warn('An attempt to set a property "'+e+'" of a disposed object "'+t+'"')}static inCorrectQuestionValue(e,t){const s=JSON.stringify(t,null,3);Ur.warn("An attempt to assign an incorrect value"+s+' to the following question: "'+e+'"')}static warn(e){console.warn(e)}static error(e){console.error(e)}}class ct{constructor(){this.functionHash={},this.isAsyncHash={}}register(e,t,s=!1){this.functionHash[e]=t,s&&(this.isAsyncHash[e]=!0)}unregister(e){delete this.functionHash[e],delete this.isAsyncHash[e]}hasFunction(e){return!!this.functionHash[e]}isAsyncFunction(e){return!!this.isAsyncHash[e]}clear(){this.functionHash={}}getAll(){var e=[];for(var t in this.functionHash)e.push(t);return e.sort()}run(e,t,s=null,i){const n=this.functionHash[e];if(!n)return Ur.warn(this.getUnknownFunctionErrorText(e,s)),null;let o={func:n};if(s)for(var l in s)o[l]=s[l];return o.func(t,i)}getUnknownFunctionErrorText(e,t){return"Unknown function name: '"+e+"'."+bl.getQuestionErrorText(t)}}ct.Instance=new ct;ct.Instance.register;function ga(r,e){if(r!=null)if(Array.isArray(r))for(var t=0;t<r.length;t++)ga(r[t],e);else Y.isNumber(r)&&(r=Y.getNumber(r)),e.push(r)}function JP(r){var e=[];ga(r,e);for(var t=0,s=0;s<e.length;s++)t=Y.correctAfterPlusMinis(t,e[s],t+e[s]);return t}ct.Instance.register("sum",JP);function KP(r,e){var t=[];ga(r,t);for(var s=void 0,i=0;i<t.length;i++)s===void 0&&(s=t[i]),e?s>t[i]&&(s=t[i]):s<t[i]&&(s=t[i]);return s}function dO(r){return KP(r,!0)}ct.Instance.register("min",dO);function cO(r){return KP(r,!1)}ct.Instance.register("max",cO);function hO(r){var e=[];return ga(r,e),e.length}ct.Instance.register("count",hO);function pO(r){var e=[];ga(r,e);const t=JP(r);return e.length>0?t/e.length:0}ct.Instance.register("avg",pO);function mO(r){var e=[];if(ga(r,e),e.length>0){const t=e[0],s=e[1]||0;if(Y.isNumber(t)&&Y.isNumber(s)){const i=Math.pow(10,s),n=t*i*(1+Number.EPSILON);return Math.round(n)/i}}return NaN}ct.Instance.register("round",mO);function gO(r){var e=[];if(ga(r,e),e.length>0){const t=e[0],s=e[1]||-1;if(Y.isNumber(t)&&Y.isNumber(s)){const i=new RegExp("^-?\\d+(?:.\\d{0,"+s+"})?");return Number(t.toString().match(i)[0])}}return NaN}ct.Instance.register("trunc",gO);function fO(r,e){if(r.length<2||r.length>3)return null;const t=r[0];if(!t||!Array.isArray(t)&&!Array.isArray(Object.keys(t)))return null;const s=r[1];if(typeof s!="string"&&!(s instanceof String))return null;let i=r.length>2?r[2]:void 0;if(typeof i!="string"&&!(i instanceof String)&&(i=void 0),!i){const n=Array.isArray(e)&&e.length>2?e[2]:void 0;n&&n.toString()&&(i=n.toString())}return{data:t,name:s,expression:i}}function vO(r){return typeof r=="string"?Y.isNumber(r)?Y.getNumber(r):void 0:r}function Ww(r,e,t,s,i,n,o){if(!r||Y.isValueEmpty(r[e])||n&&!n.runValues(r,o))return t;const l=i?vO(r[e]):1;return s(t,l)}function pm(r,e,t,s,i=!0){var n=fO(e,t);if(!n)return;let o=n.expression?new Ci(n.expression):void 0;o&&o.isAsync&&(o=void 0);var l=void 0;if(Array.isArray(n.data))for(var u=0;u<n.data.length;u++)l=Ww(n.data[u],n.name,l,s,i,o,r);else for(var c in n.data)l=Ww(n.data[c],n.name,l,s,i,o,r);return l}function tc(r){var e;return{survey:r.survey,question:r.question,context:(e=r.survey)===null||e===void 0?void 0:e.getValueGetterContext()}}function yO(r,e){var t=pm(tc(this),r,e,function(s,i){return s==null&&(s=0),i==null||i==null?s:Y.correctAfterPlusMinis(s,i,s+i)});return t!==void 0?t:0}ct.Instance.register("sumInArray",yO);function xO(r,e){return pm(tc(this),r,e,function(t,s){return t==null?s:s==null||s==null||t<s?t:s})}ct.Instance.register("minInArray",xO);function bO(r,e){return pm(tc(this),r,e,function(t,s){return t==null?s:s==null||s==null||t>s?t:s})}ct.Instance.register("maxInArray",bO);function CO(r,e){var t=pm(tc(this),r,e,function(s,i){return s==null&&(s=0),i==null||i==null?s:s+1},!1);return t!==void 0?t:0}ct.Instance.register("countInArray",CO);function wO(r,e){const t=tc(this),s=n=>ct.Instance.run(n,r,t,e),i=s("countInArray");return i==0?0:s("sumInArray")/i}ct.Instance.register("avgInArray",wO);function SO(r){if(!Array.isArray(r)||r.length<2)return null;const e=r.length>2?r[2]:void 0;return r[0]?r[1]:e}ct.Instance.register("iif",SO);function EO(r){return!Array.isArray(r)||r.length<1||!r[0]?null:Vs("function-getDate",r[0])}ct.Instance.register("getDate",EO);function YP(r,e,t){if(t==="days")return eI([r,e]);const s=Vs("function-dateDiffMonths",r),i=Vs("function-dateDiffMonths",e),n=i.getFullYear()-s.getFullYear();t=t||"years";let o=n*12+i.getMonth()-s.getMonth();return i.getDate()<s.getDate()&&(o-=1),t==="months"?o:~~(o/12)}function VO(r){return!Array.isArray(r)||r.length<1||!r[0]?null:YP(r[0],void 0,(r.length>1?r[1]:"")||"years")}ct.Instance.register("age",VO);function PO(r){if(!Array.isArray(r)||r.length<2||!r[0]||!r[1])return null;const e=(r.length>2?r[2]:"")||"days",t=e==="hours"||e==="minutes"||e==="seconds",s=t?"days":e;let i=YP(r[0],r[1],s);if(t){const n=Vs("function-dateDiffMonths",r[0]),o=Vs("function-dateDiffMonths",r[1]);(o.getHours()>n.getHours()||e!=="hours"&&o.getHours()===n.getHours()&&o.getMinutes()>n.getMinutes())&&(i-=1);let l=i*24+o.getHours()-n.getHours();if(e==="hours")return l;o.getMinutes()<n.getMinutes()&&(l-=1);const u=l*60+o.getMinutes()-n.getMinutes();return e==="minutes"?u:u*60+o.getSeconds()-n.getSeconds()}return i}ct.Instance.register("dateDiff",PO);function IO(r){if(!Array.isArray(r)||r.length<2||!r[0]||!r[1])return null;const e=Vs("function-dateAdd",r[0]),t=r[1],s=r[2]||"days";return s==="days"&&e.setDate(e.getDate()+t),s==="months"&&e.setMonth(e.getMonth()+t),s==="years"&&e.setFullYear(e.getFullYear()+t),e}ct.Instance.register("dateAdd",IO);function Uw(r){if(!r)return!1;for(var e=r.questions,t=0;t<e.length;t++)if(!e[t].validate(!1))return!1;return!0}function TO(r){if(!r&&r.length<1||!r[0]||!this.survey)return!1;const e=r[0];let t=this.survey.getPageByName(e);if(t||(t=this.survey.getPanelByName(e)),!t){const s=this.survey.getQuestionByName(e);if(!s||!Array.isArray(s.panels))return!1;if(r.length>1)r[1]<s.panels.length&&(t=s.panels[r[1]]);else{for(let i=0;i<s.panels.length;i++)if(!Uw(s.panels[i]))return!1;return!0}}return Uw(t)}ct.Instance.register("isContainerReady",TO);function kO(){return this.survey&&this.survey.isDisplayMode}ct.Instance.register("isDisplayMode",kO);function NO(){return Vs("function-currentDate")}ct.Instance.register("currentDate",NO);function XP(r){var e=Vs("function-today");return re.localization.useLocalTimeZone?e.setHours(0,0,0,0):e.setUTCHours(0,0,0,0),Array.isArray(r)&&r.length==1&&e.setDate(e.getDate()+r[0]),e}ct.Instance.register("today",XP);function RO(r){if(!(r.length!==1||!r[0]))return Vs("function-getYear",r[0]).getFullYear()}ct.Instance.register("getYear",RO);function LO(){return Vs("function-currentYear").getFullYear()}ct.Instance.register("currentYear",LO);function eI(r){if(!Array.isArray(r)||r.length!==2||!r[0]||!r[1])return 0;const e=Vs("function-diffDays",r[0]),t=Vs("function-diffDays",r[1]),s=Math.abs(t-e);return Math.ceil(s/(1e3*60*60*24))}ct.Instance.register("diffDays",eI);function mm(r,e){let t=XP(void 0);return e&&e[0]&&(t=Vs("function-"+r,e[0])),t}function AO(r){return mm("year",r).getFullYear()}ct.Instance.register("year",AO);function DO(r){return mm("month",r).getMonth()+1}ct.Instance.register("month",DO);function MO(r){return mm("day",r).getDate()}ct.Instance.register("day",MO);function jO(r){return mm("weekday",r).getDay()}ct.Instance.register("weekday",jO);function tI(r,e){if(!r||!e)return;let t=r.question;for(;t&&t.parent;){const i=t.parent.getQuestionByName(e);if(i)return i;t=t.parentQuestion}const s=["row","panel","survey"];for(let i=0;i<s.length;i++){const n=r[s[i]];if(n&&n.getQuestionByName){const o=n.getQuestionByName(e);if(o)return o}}return null}function $w(r,e){return e.length>1&&!Y.isValueEmpty(e[1])?r.getDisplayValue(!0,e[1]):r.displayValue}function _O(r){const e=tI(this,r[0]);if(!e)return"";if(e.isReady)this.returnResult($w(e,r));else{const t=(s,i)=>{s.isReady&&(s.onReadyChanged.remove(t),this.returnResult($w(s,r)))};e.onReadyChanged.add(t)}}ct.Instance.register("displayValue",_O,!0);function OO(r){if(r.length!==2||!r[0]||!r[1])return;const e=tI(this,r[0]);return e?e[r[1]]:void 0}ct.Instance.register("propertyValue",OO);function FO(r){if(r.length<2)return"";const e=r[0];if(!e||typeof e!="string")return"";const t=r[1];if(!Y.isNumber(t))return"";const s=r.length>2?r[2]:void 0;return Y.isNumber(s)?e.substring(t,s):e.substring(t)}ct.Instance.register("substring",FO);class bo{constructor(){this._id=bo.counter++}get id(){return this._id}toString(e=void 0){return""}hasFunction(){return!1}hasAsyncFunction(){return!1}addToAsyncList(e){}addOperandsToList(e){e.push(this),this.addChildrenToList(e)}isEqual(e){return!!e&&e.getType()===this.getType()&&this.isContentEqual(e)}areOperatorsEquals(e,t){return!e&&!t||!!e&&e.isEqual(t)}addChildrenToList(e){}}bo.counter=1;class BO extends bo{constructor(e,t=null,s=null,i=!1){super(),this.operatorName=e,this.left=t,this.right=s,this.isArithmeticValue=i,i?this.consumer=at.binaryFunctions.arithmeticOp(e):this.consumer=at.binaryFunctions[e],this.consumer==null&&at.throwInvalidOperatorError(e)}get requireStrictCompare(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)}getIsOperandRequireStrict(e){return!!e&&e.requireStrictCompare}getType(){return"binary"}get isArithmetic(){return this.isArithmeticValue}get isConjunction(){return this.operatorName=="or"||this.operatorName=="and"}get conjunction(){return this.isConjunction?this.operatorName:""}get operator(){return this.operatorName}get leftOperand(){return this.left}get rightOperand(){return this.right}isContentEqual(e){const t=e;return t.operator===this.operator&&this.areOperatorsEquals(this.left,t.left)&&this.areOperatorsEquals(this.right,t.right)}evaluateParam(e,t){return e==null?null:e.evaluate(t)}evaluate(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"("+at.safeToString(this.left,e)+" "+at.operatorToString(this.operatorName)+" "+at.safeToString(this.right,e)+")"}setVariables(e){this.left!=null&&this.left.setVariables(e),this.right!=null&&this.right.setVariables(e)}hasFunction(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()}addChildrenToList(e){this.left&&this.left.addOperandsToList(e),this.right&&this.right.addOperandsToList(e)}hasAsyncFunction(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()}addToAsyncList(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)}}class Gw extends bo{constructor(e,t){super(),this.expressionValue=e,this.operatorName=t,this.consumer=at.unaryFunctions[t],this.consumer==null&&at.throwInvalidOperatorError(t)}get operator(){return this.operatorName}get expression(){return this.expressionValue}getType(){return"unary"}toString(e=void 0){if(e){var t=e(this);if(t)return t}const s=at.operatorToString(this.operator),i=this.expression.toString(e);return this.isRigtOperator?i+" "+s:s+" "+i}get isRigtOperator(){const e=this.operatorName.toLowerCase();return e==="notempty"||e==="empty"}isContentEqual(e){const t=e;return t.operator==this.operator&&this.areOperatorsEquals(this.expression,t.expression)}hasFunction(){return this.expression.hasFunction()}addChildrenToList(e){this.expression.addOperandsToList(e)}hasAsyncFunction(){return this.expression.hasAsyncFunction()}addToAsyncList(e){this.expression.addToAsyncList(e)}evaluate(e){let t=this.expression.evaluate(e);return this.consumer.call(this,t)}setVariables(e){this.expression.setVariables(e)}}class Wv extends bo{constructor(e){super(),this.values=e}getType(){return"array"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"["+this.values.map(function(s){return s.toString(e)}).join(", ")+"]"}evaluate(e){return this.values.map(function(t){return t.evaluate(e)})}setVariables(e){this.values.forEach(t=>{t.setVariables(e)})}hasFunction(){return this.values.some(e=>e.hasFunction())}addChildrenToList(e){this.values.forEach(t=>{t.addOperandsToList(e)})}hasAsyncFunction(){return this.values.some(e=>e.hasAsyncFunction())}addToAsyncList(e){this.values.forEach(t=>t.addToAsyncList(e))}isContentEqual(e){const t=e;if(t.values.length!==this.values.length)return!1;for(var s=0;s<this.values.length;s++)if(!t.values[s].isEqual(this.values[s]))return!1;return!0}}class sI extends bo{constructor(e){super(),this.value=e}getType(){return"const"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.value.toString()}get correctValue(){return this.getCorrectValue(this.value)}get requireStrictCompare(){return!1}evaluate(){return this.getCorrectValue(this.value)}setVariables(e){}getCorrectValue(e){if(!e||typeof e!="string")return e;if(at.isBooleanValue(e))return e.toLowerCase()==="true";if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(Y.isNumber(e)){if(e[0]==="0"&&e.indexOf("0x")!=0){const t=e.length,s=t>1&&(e[1]==="."||e[1]===",");if(!s&&t>1||s&&t<2)return e}return Y.getNumber(e)}return e}isContentEqual(e){return e.value==this.value}isQuote(e){return e=="'"||e=='"'}}class Vp extends sI{static get DisableConversionChar(){return re.expressionDisableConversionChar}static set DisableConversionChar(e){re.expressionDisableConversionChar=e}constructor(e){super(e),this.variableName=e,this.valueInfo={},this.useValueAsItIs=!1,this.variableName&&this.variableName.length>1&&this.variableName[0]===Vp.DisableConversionChar&&(this.variableName=this.variableName.substring(1),this.useValueAsItIs=!0)}get requireStrictCompare(){return this.valueInfo.strictCompare===!0}getType(){return"variable"}toString(e=void 0){if(e){var t=e(this);if(t)return t}var s=this.useValueAsItIs?Vp.DisableConversionChar:"";return"{"+s+this.variableName+"}"}get variable(){return this.variableName}evaluate(e){if(this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),!this.valueInfo.hasValue)return null;let t=this.valueInfo.value;return this.valueInfo.onProcessValue&&(t=this.valueInfo.onProcessValue(t)),this.getCorrectValue(t)}setVariables(e){e.push(this.variableName)}getCorrectValue(e){return this.useValueAsItIs?e:super.getCorrectValue(e)}isContentEqual(e){return e.variable==this.variable}}class qO extends bo{constructor(e,t){super(),this.originalValue=e,this.parameters=t,Array.isArray(t)&&t.length===0&&(this.parameters=new Wv([]))}getType(){return"function"}evaluate(e){const t=this.getAsynValue(e);return t?t.value:this.evaluateCore(e)}evaluateCore(e){let t=e.properties;if(this.isAsyncFunction){t=Y.createCopy(e.properties);const s=this.id,i=e.asyncValues,n=e.onCompleteAsyncFunc,o=this;t.returnResult=l=>{i[s]={value:l},n(o)}}return ct.Instance.run(this.originalValue,this.parameters.evaluate(e),t,this.parameters.values)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.originalValue+"("+this.parameters.toString(e)+")"}setVariables(e){this.parameters.setVariables(e)}isReady(e){return!!this.getAsynValue(e)}addChildrenToList(e){this.parameters.addOperandsToList(e)}getAsynValue(e){return e.asyncValues[this.id]}hasFunction(){return!0}hasAsyncFunction(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()}isAsyncFunction(){return ct.Instance.isAsyncFunction(this.originalValue)}addToAsyncList(e){let t;if(this.isAsyncFunction()&&(t={operand:this}),this.parameters.hasAsyncFunction()){const s=new Array;this.parameters.addToAsyncList(s),s.forEach(i=>i.parent=t),t||(t={}),t.children=s}t&&e.push(t)}isContentEqual(e){const t=e;return t.originalValue==this.originalValue&&this.areOperatorsEquals(t.parameters,this.parameters)}}class at{static throwInvalidOperatorError(e){throw new Error("Invalid operator: '"+e+"'")}static safeToString(e,t){return e==null?"":e.toString(t)}static toOperandString(e){return e&&!Y.isNumber(e)&&!at.isBooleanValue(e)&&(e="'"+e+"'"),e}static isBooleanValue(e){return!!e&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")}static countDecimals(e){if(Y.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static plusMinus(e,t,s){const i=at.countDecimals(e),n=at.countDecimals(t);if(i>0||n>0){const o=Math.max(i,n);s=parseFloat(s.toFixed(o))}return s}static isTwoValueEquals(e,t,s=!0){return e==="undefined"&&(e=void 0),t==="undefined"&&(t=void 0),Y.isTwoValueEquals(e,t,s)}static operatorToString(e){let t=at.signs[e];return t??e}static convertValForDateCompare(e,t){if(t instanceof Date&&typeof e=="string"){let s=Vs("expression-operand",e);return s.setHours(0,0,0),s}return e}}at.unaryFunctions={empty:function(r){return Y.isValueEmpty(r)},notempty:function(r){return!at.unaryFunctions.empty(r)},negate:function(r){return!r}};at.binaryFunctions={arithmeticOp(r){const e=(t,s)=>Y.isValueEmpty(t)?typeof s=="number"?0:typeof t=="string"?t:typeof s=="string"?"":Array.isArray(s)?[]:0:t;return function(t,s){t=e(t,s),s=e(s,t);let i=at.binaryFunctions[r];return i==null?null:i.call(this,t,s)}},and:function(r,e){return r&&e},or:function(r,e){return r||e},plus:function(r,e){return Y.sumAnyValues(r,e)},minus:function(r,e){return Y.correctAfterPlusMinis(r,e,r-e)},mul:function(r,e){return Y.correctAfterMultiple(r,e,r*e)},div:function(r,e){return e?r/e:null},mod:function(r,e){return e?r%e:null},power:function(r,e){return Math.pow(r,e)},greater:function(r,e){return r==null||e==null?!1:(r=at.convertValForDateCompare(r,e),e=at.convertValForDateCompare(e,r),r>e)},less:function(r,e){return r==null||e==null?!1:(r=at.convertValForDateCompare(r,e),e=at.convertValForDateCompare(e,r),r<e)},greaterorequal:function(r,e){return at.binaryFunctions.equal(r,e)?!0:at.binaryFunctions.greater(r,e)},lessorequal:function(r,e){return at.binaryFunctions.equal(r,e)?!0:at.binaryFunctions.less(r,e)},equal:function(r,e,t){return r=at.convertValForDateCompare(r,e),e=at.convertValForDateCompare(e,r),at.isTwoValueEquals(r,e,t!==!0)},notequal:function(r,e,t){return!at.binaryFunctions.equal(r,e,t)},contains:function(r,e){return at.binaryFunctions.containsCore(r,e,!0)},notcontains:function(r,e){return!r&&!Y.isValueEmpty(e)?!0:at.binaryFunctions.containsCore(r,e,!1)},anyof:function(r,e){if(Y.isValueEmpty(r)&&Y.isValueEmpty(e))return!0;if(Y.isValueEmpty(r)||!Array.isArray(r)&&r.length===0)return!1;if(Y.isValueEmpty(e))return!0;if(!Array.isArray(r))return at.binaryFunctions.contains(e,r);if(!Array.isArray(e))return at.binaryFunctions.contains(r,e);for(var t=0;t<e.length;t++)if(at.binaryFunctions.contains(r,e[t]))return!0;return!1},allof:function(r,e){if(!r&&!Y.isValueEmpty(e))return!1;if(!Array.isArray(e))return at.binaryFunctions.contains(r,e);for(var t=0;t<e.length;t++)if(!at.binaryFunctions.contains(r,e[t]))return!1;return!0},containsCore:function(r,e,t){if(!r&&r!==0&&r!==!1)return!1;if(r.length||(r=r.toString(),(typeof e=="string"||e instanceof String)&&(r=r.toUpperCase(),e=e.toUpperCase())),typeof r=="string"||r instanceof String){if(!e)return!1;e=e.toString();var s=r.indexOf(e)>-1;return t?s:!s}for(var i=Array.isArray(e)?e:[e],n=0;n<i.length;n++){var o=0;for(e=i[n];o<r.length&&!at.isTwoValueEquals(r[o],e);o++);if(o==r.length)return!t}return t}};at.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"};class kd extends Error{static buildMessage(e,t){function s(c){return c.charCodeAt(0).toString(16).toUpperCase()}function i(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,h=>"\\x0"+s(h)).replace(/[\x10-\x1F\x7F-\x9F]/g,h=>"\\x"+s(h))}function n(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,h=>"\\x0"+s(h)).replace(/[\x10-\x1F\x7F-\x9F]/g,h=>"\\x"+s(h))}function o(c){switch(c.type){case"literal":return'"'+i(c.text)+'"';case"class":const h=c.parts.map(p=>Array.isArray(p)?n(p[0])+"-"+n(p[1]):n(p));return"["+(c.inverted?"^":"")+h+"]";case"any":return"any character";case"end":return"end of input";case"other":return c.description}}function l(c){const h=c.map(o);let p,m;if(h.sort(),h.length>0){for(p=1,m=1;p<h.length;p++)h[p-1]!==h[p]&&(h[m]=h[p],m++);h.length=m}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function u(c){return c?'"'+i(c)+'"':"end of input"}return"Expected "+l(e)+" but "+u(t)+" found."}constructor(e,t,s,i){super(),this.message=e,this.expected=t,this.found=s,this.location=i,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,kd)}}function zO(r,e){e=e!==void 0?e:{};const t={},s={Expression:Vo};let i=Vo;const n=function(T,A){return H1(T,A,!0)},o="||",l=Ge("||",!1),u="or",c=Ge("or",!0),h=function(){return"or"},p="&&",m=Ge("&&",!1),v="and",f=Ge("and",!0),b=function(){return"and"},x=function(T,A){return H1(T,A)},g="<=",y=Ge("<=",!1),w="lessorequal",S=Ge("lessorequal",!0),P=function(){return"lessorequal"},V=">=",I=Ge(">=",!1),E="greaterorequal",R=Ge("greaterorequal",!0),C=function(){return"greaterorequal"},k="==",L=Ge("==",!1),D="equal",q=Ge("equal",!0),U=function(){return"equal"},$="=",K=Ge("=",!1),M="!=",j=Ge("!=",!1),B="notequal",Q=Ge("notequal",!0),G=function(){return"notequal"},X="<",de=Ge("<",!1),se="less",fe=Ge("less",!0),oe=function(){return"less"},ie=">",_=Ge(">",!1),O="greater",Z=Ge("greater",!0),le=function(){return"greater"},te="+",W=Ge("+",!1),he=function(){return"plus"},me="-",Ve=Ge("-",!1),Me=function(){return"minus"},Le="*",ze=Ge("*",!1),et=function(){return"mul"},nt="/",Bt=Ge("/",!1),Fs=function(){return"div"},Rr="%",hr=Ge("%",!1),Zr=function(){return"mod"},rt="^",ye=Ge("^",!1),Ue="power",Je=Ge("power",!0),Xe=function(){return"power"},xe="*=",Pe=Ge("*=",!1),je="contains",Ae=Ge("contains",!0),vt="contain",qt=Ge("contain",!0),xs=function(){return"contains"},Jr="notcontains",Sn=Ge("notcontains",!0),wo="notcontain",va=Ge("notcontain",!0),ne=function(){return"notcontains"},Se="anyof",ve=Ge("anyof",!0),$e=function(){return"anyof"},At="allof",ls=Ge("allof",!0),Ut=function(){return"allof"},pr="(",Kr=Ge("(",!1),mr=")",Gs=Ge(")",!1),Kl=function(T){return T},So=function(T,A){return new qO(T,A)},C3="!",w3=Ge("!",!1),S3="negate",E3=Ge("negate",!0),V3=function(T){return new Gw(T,"negate")},P3=function(T,A){return new Gw(T,A)},I3="empty",T3=Ge("empty",!0),k3=function(){return"empty"},N3="notempty",R3=Ge("notempty",!0),L3=function(){return"notempty"},i1="undefined",A3=Ge("undefined",!1),n1="null",D3=Ge("null",!1),M3=function(){return null},j3=function(T){return new sI(T)},_3="{",O3=Ge("{",!1),F3="}",B3=Ge("}",!1),q3=function(T){return new Vp(T)},Om=function(T){return T},o1="''",z3=Ge("''",!1),a1=function(){return""},l1='""',H3=Ge('""',!1),u1="'",d1=Ge("'",!1),c1=function(T){return"'"+T+"'"},h1='"',p1=Ge('"',!1),Q3="[",W3=Ge("[",!1),U3="]",$3=Ge("]",!1),G3=function(T){return T},m1=",",g1=Ge(",",!1),Z3=function(T,A){if(T==null)return new Wv([]);var ae=[T];if(Array.isArray(A))for(var H=jT(A),ue=3;ue<H.length;ue+=4)ae.push(H[ue]);return new Wv(ae)},J3="true",K3=Ge("true",!0),Y3=function(){return!0},X3="false",eT=Ge("false",!0),tT=function(){return!1},f1="0x",sT=Ge("0x",!1),rT=function(){return parseInt(pc(),16)},iT=/^[\-]/,nT=Eo(["-"],!1,!1),oT=function(T,A){return T==null?A:-A},aT=".",lT=Ge(".",!1),uT=function(){return parseFloat(pc())},dT=function(){return parseInt(pc(),10)},cT="0",hT=Ge("0",!1),pT=function(){return 0},v1=function(T){return T.join("")},y1="\\'",mT=Ge("\\'",!1),gT=function(){return"'"},x1='\\"',fT=Ge('\\"',!1),vT=function(){return'"'},yT=/^[^"']/,xT=Eo(['"',"'"],!0,!1),Fm=function(){return pc()},bT=/^[^{}]/,CT=Eo(["{","}"],!0,!1),b1=/^[0-9]/,C1=Eo([["0","9"]],!1,!1),w1=/^[1-9]/,S1=Eo([["1","9"]],!1,!1),E1=/^[a-zA-Z_]/,V1=Eo([["a","z"],["A","Z"],"_"],!1,!1),wT=ET("whitespace"),P1=/^[ \t\n\r]/,I1=Eo([" ","	",`
`,"\r"],!1,!1);let N=0,Qe=0;const cc=[{line:1,column:1}];let Pi=0,Bm=[],Te=0;const De={};let hc;if(e.startRule!==void 0){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=s[e.startRule]}function pc(){return r.substring(Qe,N)}function Ge(T,A){return{type:"literal",text:T,ignoreCase:A}}function Eo(T,A,ae){return{type:"class",parts:T,inverted:A,ignoreCase:ae}}function ST(){return{type:"end"}}function ET(T){return{type:"other",description:T}}function T1(T){let A=cc[T],ae;if(A)return A;for(ae=T-1;!cc[ae];)ae--;for(A=cc[ae],A={line:A.line,column:A.column};ae<T;)r.charCodeAt(ae)===10?(A.line++,A.column=1):A.column++,ae++;return cc[T]=A,A}function k1(T,A){const ae=T1(T),H=T1(A);return{start:{offset:T,line:ae.line,column:ae.column},end:{offset:A,line:H.line,column:H.column}}}function Ne(T){N<Pi||(N>Pi&&(Pi=N,Bm=[]),Bm.push(T))}function VT(T,A,ae){return new kd(kd.buildMessage(T,A),T,A,ae)}function Vo(){let T,A,ae,H,ue,we,ke,_e,wt;const St=N*34+0,Gm=De[St];if(Gm)return N=Gm.nextPos,Gm.result;if(T=N,A=ot(),A!==t)if(ae=qm(),ae!==t){for(H=[],ue=N,we=ot(),we!==t?(ke=N1(),ke!==t?(_e=ot(),_e!==t?(wt=qm(),wt!==t?(we=[we,ke,_e,wt],ue=we):(N=ue,ue=t)):(N=ue,ue=t)):(N=ue,ue=t)):(N=ue,ue=t);ue!==t;)H.push(ue),ue=N,we=ot(),we!==t?(ke=N1(),ke!==t?(_e=ot(),_e!==t?(wt=qm(),wt!==t?(we=[we,ke,_e,wt],ue=we):(N=ue,ue=t)):(N=ue,ue=t)):(N=ue,ue=t)):(N=ue,ue=t);H!==t?(ue=ot(),ue!==t?(Qe=T,A=n(ae,H),T=A):(N=T,T=t)):(N=T,T=t)}else N=T,T=t;else N=T,T=t;return De[St]={nextPos:N,result:T},T}function N1(){let T,A;const ae=N*34+1,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,2)===o?(A=o,N+=2):(A=t,Te===0&&Ne(l)),A===t&&(r.substr(N,2).toLowerCase()===u?(A=r.substr(N,2),N+=2):(A=t,Te===0&&Ne(c))),A!==t&&(Qe=T,A=h()),T=A,De[ae]={nextPos:N,result:T},T)}function qm(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+2,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=zm(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=R1(),we!==t?(ke=ot(),ke!==t?(_e=zm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=R1(),we!==t?(ke=ot(),ke!==t?(_e=zm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=n(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function R1(){let T,A;const ae=N*34+3,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,2)===p?(A=p,N+=2):(A=t,Te===0&&Ne(m)),A===t&&(r.substr(N,3).toLowerCase()===v?(A=r.substr(N,3),N+=3):(A=t,Te===0&&Ne(f))),A!==t&&(Qe=T,A=b()),T=A,De[ae]={nextPos:N,result:T},T)}function zm(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+4,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=Hm(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=L1(),we!==t?(ke=ot(),ke!==t?(_e=Hm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=L1(),we!==t?(ke=ot(),ke!==t?(_e=Hm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=x(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function L1(){let T,A;const ae=N*34+5,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,2)===g?(A=g,N+=2):(A=t,Te===0&&Ne(y)),A===t&&(r.substr(N,11).toLowerCase()===w?(A=r.substr(N,11),N+=11):(A=t,Te===0&&Ne(S))),A!==t&&(Qe=T,A=P()),T=A,T===t&&(T=N,r.substr(N,2)===V?(A=V,N+=2):(A=t,Te===0&&Ne(I)),A===t&&(r.substr(N,14).toLowerCase()===E?(A=r.substr(N,14),N+=14):(A=t,Te===0&&Ne(R))),A!==t&&(Qe=T,A=C()),T=A,T===t&&(T=N,r.substr(N,2)===k?(A=k,N+=2):(A=t,Te===0&&Ne(L)),A===t&&(r.substr(N,5).toLowerCase()===D?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(q))),A!==t&&(Qe=T,A=U()),T=A,T===t&&(T=N,r.charCodeAt(N)===61?(A=$,N++):(A=t,Te===0&&Ne(K)),A===t&&(r.substr(N,5).toLowerCase()===D?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(q))),A!==t&&(Qe=T,A=U()),T=A,T===t&&(T=N,r.substr(N,2)===M?(A=M,N+=2):(A=t,Te===0&&Ne(j)),A===t&&(r.substr(N,8).toLowerCase()===B?(A=r.substr(N,8),N+=8):(A=t,Te===0&&Ne(Q))),A!==t&&(Qe=T,A=G()),T=A,T===t&&(T=N,r.charCodeAt(N)===60?(A=X,N++):(A=t,Te===0&&Ne(de)),A===t&&(r.substr(N,4).toLowerCase()===se?(A=r.substr(N,4),N+=4):(A=t,Te===0&&Ne(fe))),A!==t&&(Qe=T,A=oe()),T=A,T===t&&(T=N,r.charCodeAt(N)===62?(A=ie,N++):(A=t,Te===0&&Ne(_)),A===t&&(r.substr(N,7).toLowerCase()===O?(A=r.substr(N,7),N+=7):(A=t,Te===0&&Ne(Z))),A!==t&&(Qe=T,A=le()),T=A)))))),De[ae]={nextPos:N,result:T},T)}function Hm(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+6,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=Qm(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=A1(),we!==t?(ke=ot(),ke!==t?(_e=Qm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=A1(),we!==t?(ke=ot(),ke!==t?(_e=Qm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=n(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function A1(){let T,A;const ae=N*34+7,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.charCodeAt(N)===43?(A=te,N++):(A=t,Te===0&&Ne(W)),A!==t&&(Qe=T,A=he()),T=A,T===t&&(T=N,r.charCodeAt(N)===45?(A=me,N++):(A=t,Te===0&&Ne(Ve)),A!==t&&(Qe=T,A=Me()),T=A),De[ae]={nextPos:N,result:T},T)}function Qm(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+8,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=Wm(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=D1(),we!==t?(ke=ot(),ke!==t?(_e=Wm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=D1(),we!==t?(ke=ot(),ke!==t?(_e=Wm(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=n(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function D1(){let T,A;const ae=N*34+9,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.charCodeAt(N)===42?(A=Le,N++):(A=t,Te===0&&Ne(ze)),A!==t&&(Qe=T,A=et()),T=A,T===t&&(T=N,r.charCodeAt(N)===47?(A=nt,N++):(A=t,Te===0&&Ne(Bt)),A!==t&&(Qe=T,A=Fs()),T=A,T===t&&(T=N,r.charCodeAt(N)===37?(A=Rr,N++):(A=t,Te===0&&Ne(hr)),A!==t&&(Qe=T,A=Zr()),T=A)),De[ae]={nextPos:N,result:T},T)}function Wm(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+10,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=Um(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=M1(),we!==t?(ke=ot(),ke!==t?(_e=Um(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=M1(),we!==t?(ke=ot(),ke!==t?(_e=Um(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=n(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function M1(){let T,A;const ae=N*34+11,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.charCodeAt(N)===94?(A=rt,N++):(A=t,Te===0&&Ne(ye)),A===t&&(r.substr(N,5).toLowerCase()===Ue?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(Je))),A!==t&&(Qe=T,A=Xe()),T=A,De[ae]={nextPos:N,result:T},T)}function Um(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+12,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=$m(),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(we=j1(),we!==t?(ke=ot(),ke!==t?(_e=$m(),_e===t&&(_e=null),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(we=j1(),we!==t?(ke=ot(),ke!==t?(_e=$m(),_e===t&&(_e=null),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=x(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function j1(){let T,A;const ae=N*34+13,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,2)===xe?(A=xe,N+=2):(A=t,Te===0&&Ne(Pe)),A===t&&(r.substr(N,8).toLowerCase()===je?(A=r.substr(N,8),N+=8):(A=t,Te===0&&Ne(Ae)),A===t&&(r.substr(N,7).toLowerCase()===vt?(A=r.substr(N,7),N+=7):(A=t,Te===0&&Ne(qt)))),A!==t&&(Qe=T,A=xs()),T=A,T===t&&(T=N,r.substr(N,11).toLowerCase()===Jr?(A=r.substr(N,11),N+=11):(A=t,Te===0&&Ne(Sn)),A===t&&(r.substr(N,10).toLowerCase()===wo?(A=r.substr(N,10),N+=10):(A=t,Te===0&&Ne(va))),A!==t&&(Qe=T,A=ne()),T=A,T===t&&(T=N,r.substr(N,5).toLowerCase()===Se?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(ve)),A!==t&&(Qe=T,A=$e()),T=A,T===t&&(T=N,r.substr(N,5).toLowerCase()===At?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(ls)),A!==t&&(Qe=T,A=Ut()),T=A))),De[ae]={nextPos:N,result:T},T)}function $m(){let T,A,ae,H,ue,we;const ke=N*34+14,_e=De[ke];return _e?(N=_e.nextPos,_e.result):(T=N,r.charCodeAt(N)===40?(A=pr,N++):(A=t,Te===0&&Ne(Kr)),A!==t?(ae=ot(),ae!==t?(H=Vo(),H!==t?(ue=ot(),ue!==t?(r.charCodeAt(N)===41?(we=mr,N++):(we=t,Te===0&&Ne(Gs)),we===t&&(we=null),we!==t?(Qe=T,A=Kl(H),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),T===t&&(T=PT(),T===t&&(T=IT(),T===t&&(T=_1(),T===t&&(T=NT())))),De[ke]={nextPos:N,result:T},T)}function PT(){let T,A,ae,H,ue;const we=N*34+15,ke=De[we];return ke?(N=ke.nextPos,ke.result):(T=N,A=z1(),A!==t?(r.charCodeAt(N)===40?(ae=pr,N++):(ae=t,Te===0&&Ne(Kr)),ae!==t?(H=O1(),H!==t?(r.charCodeAt(N)===41?(ue=mr,N++):(ue=t,Te===0&&Ne(Gs)),ue===t&&(ue=null),ue!==t?(Qe=T,A=So(A,H),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),De[we]={nextPos:N,result:T},T)}function IT(){let T,A,ae,H;const ue=N*34+16,we=De[ue];return we?(N=we.nextPos,we.result):(T=N,r.charCodeAt(N)===33?(A=C3,N++):(A=t,Te===0&&Ne(w3)),A===t&&(r.substr(N,6).toLowerCase()===S3?(A=r.substr(N,6),N+=6):(A=t,Te===0&&Ne(E3))),A!==t?(ae=ot(),ae!==t?(H=Vo(),H!==t?(Qe=T,A=V3(H),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,A=_1(),A!==t?(ae=ot(),ae!==t?(H=TT(),H!==t?(Qe=T,A=P3(A,H),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t)),De[ue]={nextPos:N,result:T},T)}function TT(){let T,A;const ae=N*34+17,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,5).toLowerCase()===I3?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(T3)),A!==t&&(Qe=T,A=k3()),T=A,T===t&&(T=N,r.substr(N,8).toLowerCase()===N3?(A=r.substr(N,8),N+=8):(A=t,Te===0&&Ne(R3)),A!==t&&(Qe=T,A=L3()),T=A),De[ae]={nextPos:N,result:T},T)}function _1(){let T,A,ae,H,ue;const we=N*34+18,ke=De[we];return ke?(N=ke.nextPos,ke.result):(T=N,A=ot(),A!==t?(r.substr(N,9)===i1?(ae=i1,N+=9):(ae=t,Te===0&&Ne(A3)),ae===t&&(r.substr(N,4)===n1?(ae=n1,N+=4):(ae=t,Te===0&&Ne(D3))),ae!==t?(Qe=T,A=M3(),T=A):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,A=ot(),A!==t?(ae=kT(),ae!==t?(Qe=T,A=j3(ae),T=A):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,A=ot(),A!==t?(r.charCodeAt(N)===123?(ae=_3,N++):(ae=t,Te===0&&Ne(O3)),ae!==t?(H=DT(),H!==t?(r.charCodeAt(N)===125?(ue=F3,N++):(ue=t,Te===0&&Ne(B3)),ue!==t?(Qe=T,A=q3(H),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t)):(N=T,T=t))),De[we]={nextPos:N,result:T},T)}function kT(){let T,A,ae,H;const ue=N*34+19,we=De[ue];return we?(N=we.nextPos,we.result):(T=N,A=RT(),A!==t&&(Qe=T,A=Om(A)),T=A,T===t&&(T=N,A=LT(),A!==t&&(Qe=T,A=Om(A)),T=A,T===t&&(T=N,A=z1(),A!==t&&(Qe=T,A=Om(A)),T=A,T===t&&(T=N,r.substr(N,2)===o1?(A=o1,N+=2):(A=t,Te===0&&Ne(z3)),A!==t&&(Qe=T,A=a1()),T=A,T===t&&(T=N,r.substr(N,2)===l1?(A=l1,N+=2):(A=t,Te===0&&Ne(H3)),A!==t&&(Qe=T,A=a1()),T=A,T===t&&(T=N,r.charCodeAt(N)===39?(A=u1,N++):(A=t,Te===0&&Ne(d1)),A!==t?(ae=F1(),ae!==t?(r.charCodeAt(N)===39?(H=u1,N++):(H=t,Te===0&&Ne(d1)),H!==t?(Qe=T,A=c1(ae),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,r.charCodeAt(N)===34?(A=h1,N++):(A=t,Te===0&&Ne(p1)),A!==t?(ae=F1(),ae!==t?(r.charCodeAt(N)===34?(H=h1,N++):(H=t,Te===0&&Ne(p1)),H!==t?(Qe=T,A=c1(ae),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t))))))),De[ue]={nextPos:N,result:T},T)}function NT(){let T,A,ae,H;const ue=N*34+20,we=De[ue];return we?(N=we.nextPos,we.result):(T=N,r.charCodeAt(N)===91?(A=Q3,N++):(A=t,Te===0&&Ne(W3)),A!==t?(ae=O1(),ae!==t?(r.charCodeAt(N)===93?(H=U3,N++):(H=t,Te===0&&Ne($3)),H!==t?(Qe=T,A=G3(ae),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),De[ue]={nextPos:N,result:T},T)}function O1(){let T,A,ae,H,ue,we,ke,_e;const wt=N*34+21,St=De[wt];if(St)return N=St.nextPos,St.result;if(T=N,A=Vo(),A===t&&(A=null),A!==t){for(ae=[],H=N,ue=ot(),ue!==t?(r.charCodeAt(N)===44?(we=m1,N++):(we=t,Te===0&&Ne(g1)),we!==t?(ke=ot(),ke!==t?(_e=Vo(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);H!==t;)ae.push(H),H=N,ue=ot(),ue!==t?(r.charCodeAt(N)===44?(we=m1,N++):(we=t,Te===0&&Ne(g1)),we!==t?(ke=ot(),ke!==t?(_e=Vo(),_e!==t?(ue=[ue,we,ke,_e],H=ue):(N=H,H=t)):(N=H,H=t)):(N=H,H=t)):(N=H,H=t);ae!==t?(Qe=T,A=Z3(A,ae),T=A):(N=T,T=t)}else N=T,T=t;return De[wt]={nextPos:N,result:T},T}function RT(){let T,A;const ae=N*34+22,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,4).toLowerCase()===J3?(A=r.substr(N,4),N+=4):(A=t,Te===0&&Ne(K3)),A!==t&&(Qe=T,A=Y3()),T=A,T===t&&(T=N,r.substr(N,5).toLowerCase()===X3?(A=r.substr(N,5),N+=5):(A=t,Te===0&&Ne(eT)),A!==t&&(Qe=T,A=tT()),T=A),De[ae]={nextPos:N,result:T},T)}function LT(){let T,A,ae;const H=N*34+23,ue=De[H];return ue?(N=ue.nextPos,ue.result):(T=N,r.substr(N,2)===f1?(A=f1,N+=2):(A=t,Te===0&&Ne(sT)),A!==t?(ae=ya(),ae!==t?(Qe=T,A=rT(),T=A):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,iT.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(nT)),A===t&&(A=null),A!==t?(ae=AT(),ae!==t?(Qe=T,A=oT(A,ae),T=A):(N=T,T=t)):(N=T,T=t)),De[H]={nextPos:N,result:T},T)}function AT(){let T,A,ae,H;const ue=N*34+24,we=De[ue];return we?(N=we.nextPos,we.result):(T=N,A=ya(),A!==t?(r.charCodeAt(N)===46?(ae=aT,N++):(ae=t,Te===0&&Ne(lT)),ae!==t?(H=ya(),H!==t?(Qe=T,A=uT(),T=A):(N=T,T=t)):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,A=MT(),A!==t?(ae=ya(),ae===t&&(ae=null),ae!==t?(Qe=T,A=dT(),T=A):(N=T,T=t)):(N=T,T=t),T===t&&(T=N,r.charCodeAt(N)===48?(A=cT,N++):(A=t,Te===0&&Ne(hT)),A!==t&&(Qe=T,A=pT()),T=A)),De[ue]={nextPos:N,result:T},T)}function DT(){let T,A,ae;const H=N*34+25,ue=De[H];if(ue)return N=ue.nextPos,ue.result;if(T=N,A=[],ae=q1(),ae!==t)for(;ae!==t;)A.push(ae),ae=q1();else A=t;return A!==t&&(Qe=T,A=v1(A)),T=A,De[H]={nextPos:N,result:T},T}function F1(){let T,A,ae;const H=N*34+26,ue=De[H];if(ue)return N=ue.nextPos,ue.result;if(T=N,A=[],ae=B1(),ae!==t)for(;ae!==t;)A.push(ae),ae=B1();else A=t;return A!==t&&(Qe=T,A=v1(A)),T=A,De[H]={nextPos:N,result:T},T}function B1(){let T,A;const ae=N*34+27,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,r.substr(N,2)===y1?(A=y1,N+=2):(A=t,Te===0&&Ne(mT)),A!==t&&(Qe=T,A=gT()),T=A,T===t&&(T=N,r.substr(N,2)===x1?(A=x1,N+=2):(A=t,Te===0&&Ne(fT)),A!==t&&(Qe=T,A=vT()),T=A,T===t&&(T=N,yT.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(xT)),A!==t&&(Qe=T,A=Fm()),T=A)),De[ae]={nextPos:N,result:T},T)}function q1(){let T,A;const ae=N*34+28,H=De[ae];return H?(N=H.nextPos,H.result):(T=N,bT.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(CT)),A!==t&&(Qe=T,A=Fm()),T=A,De[ae]={nextPos:N,result:T},T)}function z1(){let T,A,ae,H,ue,we,ke;const _e=N*34+29,wt=De[_e];if(wt)return N=wt.nextPos,wt.result;if(T=N,A=Yl(),A!==t){if(ae=[],H=N,ue=ya(),ue!==t){for(we=[],ke=Yl();ke!==t;)we.push(ke),ke=Yl();we!==t?(ue=[ue,we],H=ue):(N=H,H=t)}else N=H,H=t;for(;H!==t;)if(ae.push(H),H=N,ue=ya(),ue!==t){for(we=[],ke=Yl();ke!==t;)we.push(ke),ke=Yl();we!==t?(ue=[ue,we],H=ue):(N=H,H=t)}else N=H,H=t;ae!==t?(Qe=T,A=Fm(),T=A):(N=T,T=t)}else N=T,T=t;return De[_e]={nextPos:N,result:T},T}function ya(){let T,A;const ae=N*34+30,H=De[ae];if(H)return N=H.nextPos,H.result;if(T=[],b1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(C1)),A!==t)for(;A!==t;)T.push(A),b1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(C1));else T=t;return De[ae]={nextPos:N,result:T},T}function MT(){let T,A;const ae=N*34+31,H=De[ae];if(H)return N=H.nextPos,H.result;if(T=[],w1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(S1)),A!==t)for(;A!==t;)T.push(A),w1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(S1));else T=t;return De[ae]={nextPos:N,result:T},T}function Yl(){let T,A;const ae=N*34+32,H=De[ae];if(H)return N=H.nextPos,H.result;if(T=[],E1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(V1)),A!==t)for(;A!==t;)T.push(A),E1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(V1));else T=t;return De[ae]={nextPos:N,result:T},T}function ot(){let T,A;const ae=N*34+33,H=De[ae];if(H)return N=H.nextPos,H.result;for(Te++,T=[],P1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(I1));A!==t;)T.push(A),P1.test(r.charAt(N))?(A=r.charAt(N),N++):(A=t,Te===0&&Ne(I1));return Te--,T===t&&(A=t,Te===0&&Ne(wT)),De[ae]={nextPos:N,result:T},T}function H1(T,A,ae=!1){return A.reduce(function(H,ue){return new BO(ue[1],H,ue[3],ae)},T)}function jT(T){return[].concat.apply([],T)}if(hc=i(),hc!==t&&N===r.length)return hc;throw hc!==t&&N<r.length&&Ne(ST()),VT(Bm,Pi<r.length?r.charAt(Pi):null,Pi<r.length?k1(Pi,Pi+1):k1(Pi,Pi))}const HO=zO;class QO{constructor(e,t){this.at=e,this.code=t}}class WO{patchExpression(e){return e.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")}createCondition(e){return this.parseExpression(e)}parseExpression(e){try{return HO(this.patchExpression(e))}catch(t){t instanceof kd&&(this.conditionError=new QO(t.location.start.offset,t.message))}}get error(){return this.conditionError}}class UO{constructor(e,t,s,i,n){this.operand=e,this.id=t,this.onComplete=s,this.processValue=new uO(n),this.processValue.properties=i}run(e){if(!e)return this.runValues();this.processValue.onCompleteAsyncFunc=s=>{const i=this.getAsyncItemByOperand(s,this.asyncFuncList);i&&this.doAsyncFunctionReady(i)},this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var t=0;t<this.asyncFuncList.length;t++)this.runAsyncItem(this.asyncFuncList[t]);return!1}getAsyncItemByOperand(e,t){if(!Array.isArray(t))return null;for(let s=0;s<t.length;s++){if(t[s].operand===e)return t[s];const i=this.getAsyncItemByOperand(e,t[s].children);if(i)return i}return null}runAsyncItem(e){e.children?e.children.forEach(t=>this.runAsyncItem(t)):this.runAsyncItemCore(e)}runAsyncItemCore(e){e.operand?e.operand.evaluate(this.processValue):this.doAsyncFunctionReady(e)}doAsyncFunctionReady(e){if(e.parent&&this.isAsyncChildrenReady(e)){this.runAsyncItemCore(e.parent);return}for(var t=0;t<this.asyncFuncList.length;t++)if(!this.isAsyncFuncReady(this.asyncFuncList[t]))return;this.runValues()}isAsyncFuncReady(e){return e.operand&&!e.operand.isReady(this.processValue)?!1:this.isAsyncChildrenReady(e)}isAsyncChildrenReady(e){if(e.children){for(let t=0;t<e.children.length;t++)if(!this.isAsyncFuncReady(e.children[t]))return!1}return!0}runValues(){var e=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(e,this.id),e}}class bl{static getQuestionErrorText(e){if(e){const t=e.question;if(t&&t.name)return" It is used in the question: '"+t.name+"'."}return""}constructor(e){this.parser=new WO,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(e)}get expression(){return this.expressionValue}setExpression(e){this.expression!==e&&(this.expressionValue=e,this.operand=this.parser.parseExpression(e),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)}getVariables(){if(!this.operand)return[];var e=[];return this.operand.setVariables(e),e}hasFunction(){return this.hasFunctionValue}get isAsync(){return this.isAsyncValue}canRun(){return!!this.operand}run(e,t,s){return this.runContext(new Vx(e,t==null?void 0:t.context),t,s)}runContext(e,t=null,s){return this.operand?new UO(this.operand,s,this.onComplete,t,e).run(this.isAsync):(this.expression&&Ur.warn("Invalid expression: '"+this.expression+"'."+bl.getQuestionErrorText(t)),null)}}bl.createExpressionExecutor=r=>new bl(r);class sc{constructor(e){this.expression=e}get expression(){return this.expressionExecutor?this.expressionExecutor.expression:""}set expression(e){this.expressionExecutor&&e===this.expression||(this.expressionExecutor=bl.createExpressionExecutor(e),this.expressionExecutor.onComplete=(t,s)=>{this.doOnComplete(t,s)},this.variables=void 0,this.containsFunc=void 0)}getVariables(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables}hasFunction(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc}get isAsync(){return this.expressionExecutor.isAsync}canRun(){return this.expressionExecutor.canRun()}runContextCore(e,t){const s=sc.IdRunnerCounter++;return this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(s),this.expressionExecutor.runContext(e,t,s)}doOnComplete(e,t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(t)}}sc.IdRunnerCounter=1;class Ci extends sc{runValues(e,t){return this.runContext(new Vx(e,t==null?void 0:t.context),t)}runContext(e,t){return this.runContextCore(e,t)==!0}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e==!0),super.doOnComplete(e,t)}}class $O extends sc{runValues(e,t){return this.runContext(new Vx(e,t==null?void 0:t.context),t)}runContext(e,t){return this.runContextCore(e,t)}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e),super.doOnComplete(e,t)}}class GO{constructor(e){this.obj=e,this.properties=null,this.values=null}getType(){return"bindings"}get isSurveyObj(){return!0}getNames(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)this.properties[t].isVisible("",this.obj)&&e.push(this.properties[t].name);return e}getProperties(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)e.push(this.properties[t]);return e}setBinding(e,t){this.values||(this.values={});const s=this.getJson();s!==t&&(t?this.values[e]=t:(delete this.values[e],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(s))}clearBinding(e){this.setBinding(e,"")}isEmpty(){if(!this.values)return!0;for(var e in this.values)return!1;return!0}getValueNameByPropertyName(e){if(this.values)return this.values[e]}getPropertiesByValueName(e){if(!this.values)return[];var t=[];for(var s in this.values)this.values[s]==e&&t.push(s);return t}getJson(){if(this.isEmpty())return;const e={};return this.getNames().forEach(t=>{this.values[t]!==void 0&&(e[t]=this.values[t])}),e}setJson(e,t){const s=this.getJson();this.values=null,e&&this.getNames().forEach(i=>{e[i]!==void 0&&(this.values||(this.values={}),this.values[i]=e[i])}),!t&&!Y.isTwoValueEquals(s,this.values)&&this.onChangedJSON(s)}fillProperties(){if(this.properties===null){this.properties=[];for(var e=ce.getPropertiesByObj(this.obj),t=0;t<e.length;t++)e[t].isBindable&&this.properties.push(e[t])}}onChangedJSON(e){this.obj&&this.obj.onBindingChanged(e,this.getJson())}}class gm{constructor(e,t,s){this.currentDependency=e,this.target=t,this.property=s,this.dependencies=[],this.id=""+ ++gm.DependenciesCount}addDependency(e,t){this.target===e&&this.property===t||this.dependencies.some(s=>s.obj===e&&s.prop===t)||(this.dependencies.push({obj:e,prop:t,id:this.id}),e.registerPropertyChangedHandlers([t],this.currentDependency,this.id))}dispose(){this.dependencies.forEach(e=>{e.obj.unregisterPropertyChangedHandlers([e.prop],e.id)})}}gm.DependenciesCount=0;class yt{constructor(e){this._updater=e,this.dependencies=void 0,this.type=yt.ComputedUpdaterType}get updater(){return this._updater}setDependencies(e){this.clearDependencies(),this.dependencies=e}getDependencies(){return this.dependencies}clearDependencies(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)}dispose(){this.clearDependencies(),this._updater=void 0}}yt.ComputedUpdaterType="__dependency_computed";class He{static finishCollectDependencies(){const e=He.currentDependencis;return He.currentDependencis=void 0,e}static startCollectDependencies(e,t,s){if(He.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");He.currentDependencis=new gm(e,t,s)}static collectDependency(e,t){He.currentDependencis!==void 0&&He.currentDependencis.addDependency(e,t)}static get commentSuffix(){return re.commentSuffix}static set commentSuffix(e){re.commentSuffix=e}static get commentPrefix(){return He.commentSuffix}static set commentPrefix(e){He.commentSuffix=e}isValueEmpty(e,t=!0){return t&&(e=this.trimValue(e)),Y.isValueEmpty(e)}equals(e){return!e||this.isDisposed||e.isDisposed||this.getType()!=e.getType()?!1:this.equalsCore(e)}equalsCore(e){return this.name!==e.name?!1:Y.isTwoValueEquals(this.toJSON(),e.toJSON(),!1,!0,!1)}trimValue(e){return e&&(typeof e=="string"||e instanceof String)?e.trim():e}static createPropertiesHash(){return{}}constructor(){this.dependencies={},this.propertyHash=He.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onNestedPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new li,Mt.createProperties(this),this.onBaseCreating(),this.isCreating=!1}dispose(){for(var e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(t=>this.dependencies[t].dispose()),Object.keys(this.propertyHash).forEach(t=>{const s=this.getPropertyValueCore(this.propertyHash,t);s&&s.type==yt.ComputedUpdaterType&&s.dispose()})}get isDisposed(){return this.isDisposedValue===!0}get isSurveyObj(){return!0}addEvent(){const e=new li;return this.eventList.push(e),e}onBaseCreating(){}getType(){return"base"}isDescendantOf(e){return ce.isDescendantOf(this.getType(),e)}getSurvey(e=!1){return null}getValueGetterContext(){const e=this.getSurvey();return e?e.getValueGetterContext():new bi({})}get isDesignMode(){const e=this.getSurvey();return!!e&&e.isDesignMode}get inSurvey(){return!!this.getSurvey(!0)}get bindings(){return this.bindingsValue||(this.bindingsValue=new GO(this)),this.bindingsValue}isBindingEmpty(){return!this.bindingsValue||this.bindingsValue.isEmpty()}checkBindings(e,t){}updateBindings(e,t){if(this.bindingsValue){var s=this.bindings.getValueNameByPropertyName(e);s&&this.updateBindingValue(s,t)}}updateBindingValue(e,t){}getTemplate(){return this.getType()}get isLoadingFromJson(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()}getIsLoadingFromJson(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue}startLoadingFromJson(e){this.isLoadingFromJsonValue=!0,this.jsonObj=e}endLoadingFromJson(){this.isLoadingFromJsonValue=!1}toJSON(e){return new _t().toJsonObject(this,e)}fromJSON(e,t){new _t().toObject(e,this,t),this.onSurveyLoad()}onSurveyLoad(){}clone(){var e=ce.createClass(this.getType());return e.fromJSON(this.toJSON()),e}getPropertyByName(e){const t=this.getType();return(!this.classMetaData||this.classMetaData.name!==t)&&(this.classMetaData=ce.findClass(t)),this.classMetaData?this.classMetaData.findProperty(e):null}isPropertyVisible(e){const t=this.getPropertyByName(e);return t?t.isVisible("",this):!1}static createProgressInfo(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}}getProgressInfo(){return He.createProgressInfo()}localeChanged(){}locStrsChanged(){if(this.arraysInfo)for(let t in this.arraysInfo){let s=this.arraysInfo[t];if(s&&s.isItemValues){var e=this.getPropertyValue(t);e&&He.itemValueLocStrChanged&&He.itemValueLocStrChanged(e)}}if(this.localizableStrings)for(let t in this.localizableStrings){let s=this.getLocalizableString(t);s&&s.strChanged()}}getPropertyValue(e,t,s){const i=this.getPropertyValueWithoutDefault(e);if(s&&Array.isArray(i)&&i.length===0&&i.isReset===!0)return delete i.isReset,this.setArrayPropertyDirectly(e,s(),!1),i;if(this.isValueUndefined(i)){const n=this.localizableStrings?this.localizableStrings[e]:void 0;if(n)return n.text;if(!this.isValueUndefined(t))return t;if(s){const l=s();if(l!==void 0)if(Array.isArray(l)){const u=this.createNewArray(e);return u.splice(0,0,...l),u}else return this.setPropertyValueDirectly(e,l),l}const o=this.getDefaultPropertyValue(e);if(o!==void 0)return o}return i}isValueUndefined(e){return Y.isValueUndefined(e)}getDefaultPropertyValue(e){const t=this.getPropertyByName(e);if(!t||t.isCustom&&this.isCreating)return;if(t.defaultValueFunc)return t.defaultValueFunc(this);const s=t.getDefaultValue(this);if(!this.isValueUndefined(s)&&!Array.isArray(s))return s;const i=this.localizableStrings?this.localizableStrings[e]:void 0;if(i&&i.localizationName)return this.getLocalizationString(i.localizationName);if(t.type=="boolean"||t.type=="switch")return!1;if(t.isCustom&&t.onGetValue)return t.onGetValue(this)}hasDefaultPropertyValue(e){return this.getDefaultPropertyValue(e)!==void 0}resetPropertyValue(e){const t=this.localizableStrings?this.localizableStrings[e]:void 0;t?(this.setLocalizableStringText(e,void 0),t.clear()):this.setPropertyValue(e,void 0)}getPropertyValueWithoutDefault(e){return this.getPropertyValueCore(this.propertyHash,e)}getPropertyValueCore(e,t){return this.isLoadingFromJson||He.collectDependency(this,t),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(e,t):e[t]}geValueFromHash(){return this.propertyHash.value}setPropertyValueCore(e,t,s){this.setPropertyValueCoreHandler?this.isDisposedValue?Ur.disposedObjectChangedProperty(t,this.getType()):this.setPropertyValueCoreHandler(e,t,s):e[t]=s}get isEditingSurveyElement(){var e=this.getSurvey();return!!e&&e.isEditingSurveyElement}iteratePropertiesHash(e){var t=[];for(var s in this.propertyHash)s==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||t.push(s);t.forEach(i=>e(this.propertyHash,i))}setPropertyValue(e,t){if(!this.isDisposedValue){if(!this.isLoadingFromJson){const i=this.getPropertyByName(e);i&&(t=i.settingValue(this,t))}var s=this.getPropertyValue(e);s&&Array.isArray(s)&&this.arraysInfo&&(!t||Array.isArray(t))?this.isTwoValueEquals(s,t)||this.setArrayPropertyDirectly(e,t):t!==s&&(this.setPropertyValueDirectly(e,t),this.isTwoValueEquals(s,t)||this.propertyValueChanged(e,s,t))}}setArrayPropertyDirectly(e,t,s=!0){var i=this.arraysInfo[e];this.setArray(e,this.getPropertyValue(e),t,i?i.isItemValues:!1,i?s&&i.onPush:null)}setPropertyValueDirectly(e,t){this.setPropertyValueCore(this.propertyHash,e,t)}clearPropertyValue(e){this.setPropertyValueCore(this.propertyHash,e,null),delete this.propertyHash[e]}onPropertyValueChangedCallback(e,t,s,i,n){}itemValuePropertyChanged(e,t,s,i){this.onItemValuePropertyChanged.fire(this,{obj:e,name:t,oldValue:s,newValue:i,propertyName:e.ownerPropertyName})}onPropertyValueChanged(e,t,s){}propertyValueChanged(e,t,s,i,n){if(!this.isLoadingFromJson&&(this.updateBindings(e,s),this.onPropertyValueChanged(e,t,s),this.onPropertyChanged.fire(this,{name:e,oldValue:t,newValue:s,arrayChanges:i,target:n}),this.doPropertyValueChangedCallback(e,t,s,i,this),this.checkConditionPropertyChanged(e),!!this.onPropChangeFunctions))for(var o=0;o<this.onPropChangeFunctions.length;o++)this.onPropChangeFunctions[o].name==e&&this.onPropChangeFunctions[o].func(s,i)}onBindingChanged(e,t){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",e,t)}get isInternal(){return!1}doPropertyValueChangedCallback(e,t,s,i,n){const o=u=>{u&&u.onPropertyValueChangedCallback&&u.onPropertyValueChangedCallback(e,t,s,n,i)};if(this.isInternal){o(this);return}n||(n=this);var l=this.getSurvey();l||(l=this),o(l),l!==this&&o(this)}addExpressionProperty(e,t,s){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[e]={onExecute:t,canRun:s}}getDataFilteredProperties(){return{}}runConditionCore(e){if(this.expressionInfo)for(var t in this.expressionInfo)this.runConditionItemCore(t,e)}canRunConditions(){return!this.isDesignMode}checkConditionPropertyChanged(e){!this.expressionInfo||!this.expressionInfo[e]||this.canRunConditions()&&this.runConditionItemCore(e,this.getDataFilteredProperties())}runConditionItemCore(e,t){const s=this.expressionInfo[e];this.getPropertyValue(e)&&(s.canRun&&!s.canRun(this)||this.runExpressionByProperty(e,t,n=>{s.onExecute(this,n)}))}doBeforeAsynRun(e){this.asynExpressionHash||(this.asynExpressionHash={});const t=!this.isAsyncExpressionRunning;this.asynExpressionHash[e]=!0,t&&this.onAsyncRunningChanged()}doAfterAsynRun(e){this.asynExpressionHash&&(delete this.asynExpressionHash[e],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())}onAsyncRunningChanged(){}get isAsyncExpressionRunning(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0}createExpressionRunner(e){const t=new $O(e);return t.onBeforeAsyncRun=s=>{this.doBeforeAsynRun(s)},t.onAfterAsyncRun=s=>{this.doAfterAsynRun(s)},t}getExpressionFromSurvey(e){let t=this[e];if(!t)return"";const s=this.getSurvey();return s?s.beforeExpressionRunning(this,e,t):t}runExpressionByProperty(e,t,s,i){if(!this[e])return!1;const n=this.getExpressionFromSurvey(e);if(n){const o=this.getExpressionInfoByProperty(e,n),l=o.runner;!o.isRunning&&(!i||i(l))&&(o.isRunning=!0,l.onRunComplete=u=>{s(u),o.isRunning=!1},l.runContext(this.getValueGetterContext(),this.getPropertiesCopy(t,e)))}return!0}getPropertiesCopy(e,t){const s={};for(const i in e)s[i]=e[i];return t&&(s.propertyName=t),s}getExpressionByProperty(e){const t=this.getExpressionFromSurvey(e);return t?this.getExpressionInfoByProperty(e,t).runner:null}getExpressionInfoByProperty(e,t){this.runExpressionHash||(this.runExpressionHash={});let s=this.runExpressionHash[e];return s?s.runner.expression=t:(s={runner:this.createExpressionRunner(t)},this.runExpressionHash[e]=s),s}registerPropertyChangedHandlers(e,t,s=null){for(var i=0;i<e.length;i++)this.registerFunctionOnPropertyValueChanged(e[i],t,s)}unregisterPropertyChangedHandlers(e,t=null){for(var s=0;s<e.length;s++)this.unRegisterFunctionOnPropertyValueChanged(e[s],t)}registerFunctionOnPropertyValueChanged(e,t,s=null){if(this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),s)for(var i=0;i<this.onPropChangeFunctions.length;i++){var n=this.onPropChangeFunctions[i];if(n.name==e&&n.key==s){n.func=t;return}}this.onPropChangeFunctions.push({name:e,func:t,key:s})}registerFunctionOnPropertiesValueChanged(e,t,s=null){this.registerPropertyChangedHandlers(e,t,s)}unRegisterFunctionOnPropertyValueChanged(e,t=null){if(this.onPropChangeFunctions)for(var s=0;s<this.onPropChangeFunctions.length;s++){var i=this.onPropChangeFunctions[s];if(i.name==e&&i.key==t)return this.onPropChangeFunctions.splice(s,1)}}unRegisterFunctionOnPropertiesValueChanged(e,t=null){this.unregisterPropertyChangedHandlers(e,t)}createCustomLocalizableObj(e){const t=this.getLocalizableString(e);return t||this.createLocalizableString(e,this,!1,!0)}getLocale(){const e=this.getSurvey();return e?e.getLocale():""}getLocalizationString(e){return os(e,this.getLocale())}getLocalizationFormatString(e,...t){const s=this.getLocalizationString(e);return!s||!s.format?"":s.format(...t)}createLocalizableString(e,t,s=!1,i=!1){let n;i&&(n=i===!0?e:i);const o=new as(t,s,e,n);o.onStrChanged=(u,c)=>{this.propertyValueChanged(e,u,c)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[e]=o;const l=this.getPropertyByName(e);return o.disableLocalization=l&&l.isLocalizable===!1,o}removeLocalizableString(e){this.localizableStrings&&delete this.localizableStrings[e]}getLocalizableString(e){return this.localizableStrings?this.localizableStrings[e]:null}getLocalizableStringText(e,t=""){He.collectDependency(this,e);var s=this.getLocalizableString(e);if(!s)return"";var i=s.text;return i||t}setLocalizableStringText(e,t){let s=this.getLocalizableString(e);if(!s)return;s.text!=t&&(s.text=t)}addUsedLocales(e){if(this.localizableStrings)for(let t in this.localizableStrings){let s=this.getLocalizableString(t);s&&this.AddLocStringToUsedLocales(s,e)}if(this.arraysInfo)for(let t in this.arraysInfo){const s=this.getPropertyByName(t);if(!s||!s.isPropertySerializable(this))continue;let i=this.getPropertyValue(t);if(!(!i||!i.length))for(let n=0;n<i.length;n++){let o=i[n];o&&o.addUsedLocales&&o.addUsedLocales(e)}}}searchText(e,t){var s=[];this.getSearchableLocalizedStrings(s);for(var i=0;i<s.length;i++)s[i].setFindText(e)&&t.push({element:this,str:s[i]})}getSearchableLocalizedStrings(e){if(this.localizableStrings){let o=[];this.getSearchableLocKeys(o);for(var t=0;t<o.length;t++){let l=this.getLocalizableString(o[t]);l&&e.push(l)}}if(!this.arraysInfo)return;let s=[];this.getSearchableItemValueKeys(s);for(var t=0;t<s.length;t++){var i=this.getPropertyValue(s[t]);if(i)for(var n=0;n<i.length;n++)e.push(i[n].locText)}}getSearchableLocKeys(e){}getSearchableItemValueKeys(e){}AddLocStringToUsedLocales(e,t){for(var s=e.getLocales(),i=0;i<s.length;i++)t.indexOf(s[i])<0&&t.push(s[i])}createItemValues(e){var t=this,s=this.createNewArray(e,function(i){if(i.locOwner=t,i.ownerPropertyName=e,typeof i.getSurvey=="function"){const n=i.getSurvey();n&&typeof n.makeReactive=="function"&&n.makeReactive(i)}});return this.arraysInfo[e].isItemValues=!0,s}notifyArrayChanged(e,t){e.onArrayChanged&&e.onArrayChanged(t)}createNewArrayCore(e){var t=null;return this.createArrayCoreHandler&&(t=this.createArrayCoreHandler(this.propertyHash,e)),t||(t=new Array,this.setPropertyValueCore(this.propertyHash,e,t)),t}ensureArray(e,t=null,s=null){if(!(this.arraysInfo&&this.arraysInfo[e]))return this.createNewArray(e,t,s)}createNewArray(e,t=null,s=null){var i=this.createNewArrayCore(e);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[e]={onPush:t,isItemValues:!1};var n=this;return i.push=function(o){var l=Object.getPrototypeOf(i).push.call(i,o);if(!n.isDisposedValue){t&&t(o,i.length-1);const u=new Va(i.length-1,0,[o],[]);n.propertyValueChanged(e,i,i,u),n.notifyArrayChanged(i,u)}return l},i.shift=function(){var o=Object.getPrototypeOf(i).shift.call(i);if(!n.isDisposedValue&&o){s&&s(o);const l=new Va(i.length-1,1,[],[]);n.propertyValueChanged(e,i,i,l),n.notifyArrayChanged(i,l)}return o},i.unshift=function(o){var l=Object.getPrototypeOf(i).unshift.call(i,o);if(!n.isDisposedValue){t&&t(o,i.length-1);const u=new Va(0,0,[o],[]);n.propertyValueChanged(e,i,i,u),n.notifyArrayChanged(i,u)}return l},i.pop=function(){var o=Object.getPrototypeOf(i).pop.call(i);if(!n.isDisposedValue){s&&s(o);const l=new Va(i.length-1,1,[],[]);n.propertyValueChanged(e,i,i,l),n.notifyArrayChanged(i,l)}return o},i.splice=function(o,l,...u){o||(o=0),l||(l=0);var c=Object.getPrototypeOf(i).splice.call(i,o,l,...u);if(u||(u=[]),!n.isDisposedValue){if(s&&c)for(var h=0;h<c.length;h++)s(c[h]);if(t)for(var h=0;h<u.length;h++)t(u[h],o+h);const p=new Va(o,l,u,c);n.propertyValueChanged(e,i,i,p),n.notifyArrayChanged(i,p)}return c},i}getItemValueType(){}setArray(e,t,s,i,n){var o=[].concat(t);if(Object.getPrototypeOf(t).splice.call(t,0,t.length),s){for(var l=0;l<s.length;l++){var u=s[l];i&&He.createItemValue&&(u=He.createItemValue(u,this.getItemValueType())),Object.getPrototypeOf(t).push.call(t,u),n&&n(t[l])}delete t.isReset}else t.isReset=!0;const c=new Va(0,o.length,t,o);this.propertyValueChanged(e,o,t,c),this.notifyArrayChanged(t,c)}isTwoValueEquals(e,t,s=!1,i=!1){return Y.checkIfValuesEqual(e,t,{ignoreOrder:!1,caseSensitive:!s,trimStrings:i,doNotConvertNumbers:!0})}static copyObject(e,t){for(var s in t){var i=t[s];typeof i=="object"&&(i={},this.copyObject(i,t[s])),e[s]=i}}copyCssClasses(e,t){t&&(typeof t=="string"||t instanceof String?e.root=t:He.copyObject(e,t))}getValueInLowCase(e){return e&&typeof e=="string"?e.toLowerCase():e}getElementsInDesign(e=!1){return[]}get animationAllowed(){return this.getIsAnimationAllowed()}getIsAnimationAllowed(){return re.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)}blockAnimations(){this.animationAllowedLock--}releaseAnimations(){this.animationAllowedLock++}enableOnElementRerenderedEvent(){this.onElementRerenderedEventEnabled=!0}disableOnElementRerenderedEvent(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1}get onElementRerendered(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0}afterRerender(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!1})}}He.currentDependencis=void 0;class Va{constructor(e,t,s,i){this.index=e,this.deleteCount=t,this.itemsToAdd=s,this.deletedItems=i}}let rI=class{get isEmpty(){return this.length===0}get length(){return this.callbacks?this.callbacks.length:0}fireByCreatingOptions(e,t){if(this.callbacks){for(var s=0;s<this.callbacks.length;s++)if(this.callbacks[s](e,t()),!this.callbacks)return}}fire(e,t){if(!this.callbacks)return;const s=[].concat(this.callbacks);for(var i=0;i<s.length;i++)if(s[i](e,t),!this.callbacks)return}clear(){this.callbacks=void 0}add(e){this.hasFunc(e)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(e),this.fireCallbackChanged())}remove(e){if(this.hasFunc(e)){var t=this.callbacks.indexOf(e,0);this.callbacks.splice(t,1),this.fireCallbackChanged()}}hasFunc(e){return this.callbacks==null?!1:this.callbacks.indexOf(e,0)>-1}fireCallbackChanged(){this.onCallbacksChanged&&this.onCallbacksChanged()}};class li extends rI{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function F(r,e,t,s){var i=arguments.length,n=i<3?e:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,s);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(i<3?o(n):i>3?o(e,t,n):o(e,t))||n);return i>3&&n&&Object.defineProperty(e,t,n),n}class ZO{constructor(e,t,s){this.container=e,this.model=t,this.afterInitializeCallback=s,this.resizeObserver=void 0,this.isInitialized=!1,this.isResizeObserverStarted=!1,this.getComputedStyle=i=>Re.getComputedStyle(i),this.isDisposed=!1,typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{qe.requestAnimationFrame(()=>{this.isResizeObserverStarted=!0,this.process()})}),this.resizeObserver.observe(this.container.parentElement))}getDimensions(e){return{scroll:e.scrollWidth,offset:e.offsetWidth}}getAvailableSpace(){const e=this.getComputedStyle(this.container);let t=this.container.offsetWidth;return e.boxSizing==="border-box"&&(t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)),t}getGap(){const e=this.getComputedStyle(this.container);if(e.display=="flex"){const t=parseFloat(e.rowGap);return isNaN(t)?0:t}return 0}calcItemSize(e){return e.offsetWidth||e.getBoundingClientRect().width}updateItemsDimensions(e){if(!this.container)return;const t=this.isInitialized?this.model.renderedActions.filter(n=>n.needUpdateMaxDimension||n.needUpdateMinDimension):this.model.renderedActions;let s=t.length;s==0&&e();const i=()=>{--s<=0&&e()};t.forEach(n=>{const o=!this.isInitialized||n.needUpdateMaxDimension,u=!this.isInitialized||n.needUpdateMinDimension?o?void 0:"small":"large";n.updateDimensions(c=>this.calcItemSize(c),()=>{n.needUpdateMaxDimension=!1,n.needUpdateMinDimension=!1,i()},u)})}get isContainerVisible(){return!!this.container&&Nx(this.container)}shouldProcessResponsiveness(){return this.isContainerVisible&&!this.model.isResponsivenessDisabled&&!this.isDisposed}process(){this.shouldProcessResponsiveness()&&this.updateItemsDimensions(()=>{this.shouldProcessResponsiveness()&&this.model.fit({availableSpace:this.getAvailableSpace(),gap:this.getGap()}),this.isInitialized||(this.isInitialized=!0,this.afterInitializeCallback&&this.afterInitializeCallback())})}update(e){this.isResizeObserverStarted&&(this.model.isResponsivenessDisabled||(e&&(this.isInitialized=!1),this.process()))}dispose(){this.isDisposed=!0,this.resizeObserver&&this.resizeObserver.disconnect(),this.isResizeObserverStarted=!1,this.resizeObserver=void 0,this.container=void 0}}class ge{constructor(){this.classes=[]}isEmpty(){return this.toString()===""}append(e,t=!0){return e&&t&&(typeof e=="string"&&(e=e.trim()),this.classes.push(e)),this}toString(){return this.classes.join(" ")}}function iI(r){let e=!1,t=!1,s;const i=()=>{t=!0,s=void 0};return{run:(...n)=>{t=!1,s=n,e||(e=!0,queueMicrotask(()=>{t||r.apply(this,s),s=void 0,t=!1,e=!1}))},cancel:i,getLastArguments:()=>s,flushSync:()=>{!t&&e&&(r.apply(this,s),i())}}}let fi={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"};class cs extends He{constructor(){super(...arguments),this.id=cs.ContainerID++,this.visibleActions=[],this.sizeMode="default",this.raiseUpdateCallback=iI(e=>{this.update(e)}),this.onActionPropertyChangedCallback=this.onActionPropertyChanged.bind(this)}getMarkdownHtml(e,t,s){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getRenderedActions(){return this.visibleActions}locStrsChanged(){super.locStrsChanged(),this.actions.forEach(e=>{e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})}flushUpdates(){this.raiseUpdateCallback.flushSync()}raiseUpdate(e){var t;const s=this.raiseUpdateCallback.getLastArguments(),i=(t=s&&s[0])!==null&&t!==void 0?t:{};this.raiseUpdateCallback.run(this.mergeUpdateOptions(e,i))}mergeUpdateOptions(e,t){const s=Object.assign({},e);return s.needUpdateActions=!!s.needUpdateActions||!!t.needUpdateActions,s.needUpdateIsEmpty=!!s.needUpdateIsEmpty||!!t.needUpdateIsEmpty,s}update(e){e!=null&&e.needUpdateActions&&this.updateVisibleActions(),e!=null&&e.needUpdateIsEmpty&&this.updateIsEmpty()}updateVisibleActions(){this.visibleActions=this.getVisibleActions()}updateIsEmpty(){this.isEmpty=this.getIsEmpty()}getIsEmpty(){return this.visibleActions.length<=0}getVisibleActions(){return this.actions.filter(e=>e.visible!==!1)}onSet(){this.actions.forEach(e=>{this.patchAction(e)})}onPush(e){this.patchAction(e),this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}onRemove(e){this.unPatchAction(e),this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}onActionPropertyChanged(e,t){t.name=="_visible"&&this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}patchAction(e){this.setActionCssClasses(e),e.owner=this,e.onPropertyChanged.add(this.onActionPropertyChangedCallback)}unPatchAction(e){e.owner=null,e.onPropertyChanged.remove(this.onActionPropertyChangedCallback)}setActionCssClasses(e){e.cssClasses=this.cssClasses}get hasActions(){return(this.actions||[]).length>0}get hasVisibleActions(){return!this.isEmpty}get renderedActions(){return this.getRenderedActions()}getRootStyle(){}getRootCss(){const e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new ge().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()}getDefaultCssClasses(){return fi}getAllActions(){return this.actions}setCssClasses(e,t=!0){this.cssClassesValue={},t&&this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Nd(e,this.cssClasses),this.getAllActions().forEach(s=>{this.setActionCssClasses(s)})}set cssClasses(e){this.setCssClasses(e)}get cssClasses(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue}createAction(e){return e instanceof Pt?e:new Ke(e)}addAction(e,t=!0){const s=this.createAction(e);if(t&&!this.isActionVisible(s))return s;const i=[].concat(this.actions,s);return this.sortItems(i),this.actions=i,s}setItems(e,t=!0){const s=[];e.forEach(i=>{(!t||this.isActionVisible(i))&&s.push(this.createAction(i))}),t&&this.sortItems(s),this.actions=s}sortItems(e){this.hasSetVisibleIndex(e)&&e.sort(this.compareByVisibleIndex)}hasSetVisibleIndex(e){for(let t=0;t<e.length;t++){const s=e[t].visibleIndex;if(s!==void 0&&s>=0)return!0}return!1}compareByVisibleIndex(e,t){return e.visibleIndex-t.visibleIndex}isActionVisible(e){return e.visibleIndex>=0||e.visibleIndex===void 0}popupAfterShowCallback(e){}mouseOverHandler(e){e.isHovered=!0;let t=!1,s=!1;if(this.actions.forEach(i=>{i===e&&e.popupModel&&(t=!0),i.popupModel&&i.popupModel.isVisible&&(s=!0)}),t){const i=s?Math.max(this.subItemsShowDelay,this.subItemsHideDelay):this.subItemsShowDelay;e.showPopupDelayed(i),this.popupAfterShowCallback(e)}}initResponsivityManager(e,t){}resetResponsivityManager(){}getActionById(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].id===e)return this.actions[t];return null}dispose(){super.dispose(),this.resetResponsivityManager(),this.actions.forEach(e=>e.dispose()),this.actions.length=0}}cs.ContainerID=1;F([_s({})],cs.prototype,"visibleActions",void 0);F([_s({onSet:(r,e)=>{e.onSet()},onPush:(r,e,t)=>{t.onPush(r)},onRemove:(r,e,t)=>{t.onRemove(r)}})],cs.prototype,"actions",void 0);F([z({})],cs.prototype,"containerCss",void 0);F([z({defaultValue:!0})],cs.prototype,"isEmpty",void 0);F([z({defaultValue:300})],cs.prototype,"subItemsShowDelay",void 0);F([z({defaultValue:300})],cs.prototype,"subItemsHideDelay",void 0);class Pa{static focusElement(e){e&&e.focus()}static visibility(e){var t=Re.getComputedStyle(e);return t.display==="none"||t.visibility==="hidden"?!1:e.parentElement?this.visibility(e.parentElement):!0}static getNextElementPreorder(e){const t=e.nextElementSibling?e.nextElementSibling:e.parentElement.firstElementChild;return this.visibility(t)?t:this.getNextElementPreorder(t)}static getNextElementPostorder(e){const t=e.previousElementSibling?e.previousElementSibling:e.parentElement.lastElementChild;return this.visibility(t)?t:this.getNextElementPostorder(t)}static hasHorizontalScroller(e){return e?e.scrollWidth>e.offsetWidth:!1}static hasVerticalScroller(e){return e?e.scrollHeight>e.offsetHeight:!1}}let Uv=!1,nI=null;typeof navigator<"u"&&navigator&&qe.isAvailable()&&(nI=navigator.userAgent||navigator.vendor||qe.hasOwn("opera"));(function(r){r&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substring(0,4)))&&(Uv=!0)})(nI);let JO=!1;const Px=Uv||JO;var oI={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return qe.isAvailable()&&(qe.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0};const KO=qe.matchMedia;oI.hasMouse=XO(KO);let ss=oI.isTouch;function YO(r,e,t=600){const s=r||qe.getInnerWidth(),i=e||qe.getInnerHeight();return Math.min(s,i)>=t}function XO(r){if(!r||Px)return!1;const e=r("(pointer:fine)"),t=r("(any-hover:hover)");return!!e&&e.matches||!!t&&t.matches}let eF={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemGroupSelected:"sv-list__item--group-selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"};class Qt extends cs{hasText(e,t){if(!t)return!0;const s=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,t);let i=s.toLocaleLowerCase();return i=re.comparator.normalizeTextCallback(i,"filter"),i.indexOf(t.toLocaleLowerCase())>-1}isItemVisible(e){return e.id===this.loadingIndicator.id||this.disableSearch?e.visible:e.visible&&this.hasText(e,this.filterString)}getRenderedActions(){let e=super.getRenderedActions();if(this.filterString){let t=[];return e.forEach(s=>{t.push(s),s.items&&s.items.forEach(i=>{const n=new Ke(i);n.iconName||(n.iconName=s.iconName),t.push(n)})}),t}return e}get visibleItems(){return this.actions.filter(e=>this.isItemVisible(e))}onFilterStringChanged(e){this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.raiseUpdate({needUpdateIsEmpty:!0})}getIsEmpty(){return!this.renderedActions.some(e=>this.isItemVisible(e))}scrollToItem(e,t=0){setTimeout(()=>{if(!this.listContainerHtmlElement)return;const s=this.listContainerHtmlElement.querySelector(Cr(e));s&&setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},t)},t)}constructor(e,t,s,i,n){if(super(),this.onSelectionChanged=t,this.allowSelection=s,this.elementId=n,this.onItemClick=o=>{if(this.isItemDisabled(o))return;this.isExpanded=!1,this.allowSelection&&(this.selectedItem=o),this.onSelectionChanged&&this.onSelectionChanged(o);const l=o.action;l&&l(o)},this.onItemHover=o=>{this.mouseOverHandler(o)},this.isItemDisabled=o=>o.enabled!==void 0&&!o.enabled,this.getA11yItemAriaSelected=o=>{if(this.listItemRole=="option")return this.isItemSelected(o)?"true":"false"},this.getA11yItemAriaChecked=o=>{if(this.listItemRole=="menuitemradio")return this.isItemSelected(o)?"true":"false"},this.isItemSelected=o=>this.areSameItems(this.selectedItem,o),this.isItemFocused=o=>this.areSameItems(this.focusedItem,o),this.getListClass=()=>new ge().append(this.cssClasses.itemsContainer).append(this.cssClasses.itemsContainerFiltering,!!this.filterString&&this.visibleActions.length!==this.visibleItems.length).toString(),this.getItemClass=o=>{const l=this.isItemSelected(o);return new ge().append(this.cssClasses.item).append(this.cssClasses.itemWithIcon,!!o.iconName).append(this.cssClasses.itemDisabled,this.isItemDisabled(o)).append(this.cssClasses.itemFocused,this.isItemFocused(o)).append(this.cssClasses.itemSelected,!o.hasSubItems&&l).append(this.cssClasses.itemGroup,o.hasSubItems).append(this.cssClasses.itemGroupSelected,o.hasSubItems&&l).append(this.cssClasses.itemHovered,o.isHovered).append(this.cssClasses.itemTextWrap,this.textWrapEnabled).append(o.css).toString()},this.getItemStyle=o=>({"--sjs-list-item-level":(o.level||0)+1}),Object.keys(e).indexOf("items")!==-1){const o=e;Object.keys(o).forEach(l=>{switch(l){case"items":this.setItems(o.items);break;case"onFilterStringChangedCallback":this.setOnFilterStringChangedCallback(o.onFilterStringChangedCallback);break;case"onTextSearchCallback":this.setOnTextSearchCallback(o.onTextSearchCallback);break;default:this[l]=o[l]}}),this.updateActionsIds()}else this.setItems(e),this.selectedItem=i}setOnFilterStringChangedCallback(e){this.onFilterStringChangedCallback=e}setOnTextSearchCallback(e){this.onTextSearchCallback=e}setItems(e,t=!0){super.setItems(e,t),this.updateActionsIds(),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)}updateActionsIds(){this.elementId&&this.actions.forEach(e=>{e.elementId=this.elementId+e.id})}setSearchEnabled(e){this.searchEnabled=e,this.showSearchClearButton=e}onSet(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>Qt.MINELEMENTCOUNT),super.onSet()}getDefaultCssClasses(){return eF}popupAfterShowCallback(e){this.addScrollEventListener(()=>{e.hidePopup()})}onItemLeave(e){e.hidePopupDelayed(this.subItemsHideDelay)}areSameItems(e,t){return this.areSameItemsCallback?this.areSameItemsCallback(e,t):!!e&&!!t&&e.id==t.id}get a11ya11y_input_ariaLabel(){return this.listAriaLabel}get filterStringPlaceholder(){return this.getLocalizationString("filterStringPlaceholder")}get emptyMessage(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.getLocalizationString("loadingData")}get scrollableContainer(){return this.listContainerHtmlElement.querySelector(Cr(this.cssClasses.itemsContainer))}get loadingIndicator(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new Ke({id:"loadingIndicator",title:this.getLocalizationString("loadingPage"),action:()=>{},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue}goToItems(e){if(e.key==="ArrowDown"||e.keyCode===40){const s=e.target.parentElement.parentElement.querySelector("ul"),i=yF(s);s&&i&&(Pa.focusElement(i),e.preventDefault())}}onMouseMove(e){this.resetFocusedItem()}onKeyDown(e){const t=e.target;e.key==="ArrowDown"||e.keyCode===40?(Pa.focusElement(Pa.getNextElementPreorder(t)),e.preventDefault()):(e.key==="ArrowUp"||e.keyCode===38)&&(Pa.focusElement(Pa.getNextElementPostorder(t)),e.preventDefault())}onPointerDown(e,t){}refresh(){this.filterString==""&&this.raiseUpdate({needUpdateIsEmpty:!0}),this.resetFocusedItem()}onClickSearchClearButton(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()}resetFocusedItem(){this.focusedItem=void 0}focusFirstVisibleItem(){ss||(this.focusedItem=this.visibleItems[0])}focusLastVisibleItem(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]}initFocusedItem(){this.focusedItem=this.visibleItems.filter(e=>e.visible&&this.isItemSelected(e))[0],this.focusedItem||this.focusFirstVisibleItem()}focusNextVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),s=e[t+1];s?this.focusedItem=s:this.focusFirstVisibleItem()}}focusPrevVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),s=e[t-1];s?this.focusedItem=s:this.focusLastVisibleItem()}}selectFocusedItem(){this.focusedItem&&this.onItemClick(this.focusedItem)}initListContainerHtmlElement(e){this.listContainerHtmlElement=e}onLastItemRended(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=Pa.hasVerticalScroller(this.scrollableContainer))}scrollToFocusedItem(){this.scrollToItem(this.cssClasses.itemFocused)}scrollToSelectedItem(){this.selectedItem&&this.selectedItem.items&&this.selectedItem.items.length>0?this.scrollToItem(this.cssClasses.itemGroupSelected,110):this.scrollToItem(this.cssClasses.itemSelected,110)}addScrollEventListener(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)}dispose(){super.dispose(),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0}}Qt.INDENT=16;Qt.MINELEMENTCOUNT=10;F([z({defaultValue:!0,onSet:(r,e)=>{e.onSet()}})],Qt.prototype,"searchEnabled",void 0);F([z({defaultValue:!1})],Qt.prototype,"showFilter",void 0);F([z({defaultValue:!1})],Qt.prototype,"forceShowFilter",void 0);F([z({defaultValue:!1})],Qt.prototype,"isExpanded",void 0);F([z({})],Qt.prototype,"selectedItem",void 0);F([z()],Qt.prototype,"focusedItem",void 0);F([z({onSet:(r,e)=>{e.onFilterStringChanged(e.filterString)}})],Qt.prototype,"filterString",void 0);F([z({defaultValue:!1})],Qt.prototype,"hasVerticalScroller",void 0);F([z({defaultValue:!0})],Qt.prototype,"isAllDataLoaded",void 0);F([z({defaultValue:!1})],Qt.prototype,"showSearchClearButton",void 0);F([z({defaultValue:!0})],Qt.prototype,"renderElements",void 0);F([z({defaultValue:!1})],Qt.prototype,"textWrapEnabled",void 0);F([z({defaultValue:"sv-list-item-content"})],Qt.prototype,"itemComponent",void 0);F([z({defaultValue:"listbox"})],Qt.prototype,"listRole",void 0);F([z({defaultValue:"option"})],Qt.prototype,"listItemRole",void 0);F([z()],Qt.prototype,"listAriaLabel",void 0);F([z({defaultValue:!1})],Qt.prototype,"disableSearch",void 0);class Ps extends He{refreshInnerModel(){const e=this.contentComponentData.model;e&&e.refresh&&e.refresh()}constructor(e,t,s){if(super(),this.focusFirstInputSelector="",this.onCancel=()=>{},this.onApply=()=>!0,this.onHide=()=>{},this.onShow=()=>{},this.onBlur=()=>{},this.onDispose=()=>{},this.onVisibilityChanged=this.addEvent(),this.onFooterActionsCreated=this.addEvent(),this.onRecalculatePosition=this.addEvent(),this.contentComponentName=e,this.contentComponentData=t,s)for(var i in s)this[i]=s[i]}get isVisible(){return this.getPropertyValue("isVisible",!1)}set isVisible(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))}toggleVisibility(){this.isVisible=!this.isVisible}show(){this.isVisible||(this.isVisible=!0)}hide(){this.isVisible&&(this.isVisible=!1)}recalculatePosition(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})}updateFooterActions(e){const t={actions:e};return this.onFooterActionsCreated.fire(this,t),t.actions}getDisplayMode(){if(this.isModal)return this.displayMode==="popup"?"modal-popup":"modal-overlay";if(this.displayMode==="popup")return"menu-popup";{let e;switch(this.overlayDisplayMode){case"plain":{e="menu-popup";break}case"dropdown-overlay":{e="menu-overlay";break}case"tablet-dropdown-overlay":{e="menu-popup-overlay";break}case"auto":{ss?e="menu-popup-overlay":e="menu-popup";break}}return e}}updateDisplayMode(e){let t,s;switch(e){case"dropdown":{t="popup",s="auto";break}case"popup":{t="overlay",s="tablet-dropdown-overlay";break}case"overlay":{t="overlay",s="dropdown-overlay";break}}if(this.displayMode!==t){const i=e==="dropdown";this.setWidthByTarget=i,this.isFocusedContent=!i}return this.displayMode!==t||this.overlayDisplayMode!==s?(this.displayMode=t,this.overlayDisplayMode=s,!0):!1}onHiding(){this.refreshInnerModel(),this.onHide()}dispose(){super.dispose(),this.onDispose()}}F([z()],Ps.prototype,"contentComponentName",void 0);F([z()],Ps.prototype,"contentComponentData",void 0);F([z({defaultValue:"bottom"})],Ps.prototype,"verticalPosition",void 0);F([z({defaultValue:"left"})],Ps.prototype,"horizontalPosition",void 0);F([z({defaultValue:!0})],Ps.prototype,"showPointer",void 0);F([z({defaultValue:!1})],Ps.prototype,"isModal",void 0);F([z({defaultValue:!0})],Ps.prototype,"canShrink",void 0);F([z({defaultValue:!0})],Ps.prototype,"isFocusedContent",void 0);F([z({defaultValue:!0})],Ps.prototype,"isFocusedContainer",void 0);F([z({defaultValue:""})],Ps.prototype,"cssClass",void 0);F([z({defaultValue:""})],Ps.prototype,"title",void 0);F([z({defaultValue:"auto"})],Ps.prototype,"overlayDisplayMode",void 0);F([z({defaultValue:"popup"})],Ps.prototype,"displayMode",void 0);F([z({defaultValue:"flex"})],Ps.prototype,"positionMode",void 0);function tF(r,e,t){var s;const i=e.onSelectionChanged;e.onSelectionChanged=(u,...c)=>{l.hasTitle&&(l.title=u.title),i&&i(u,c)};const n=aI(e,t);n.getTargetCallback=sF;const o=Object.assign({},r,{component:"sv-action-bar-item-dropdown",popupModel:n,action:(u,c)=>{r.action&&r.action(),n.isFocusedContent=n.isFocusedContent||!c,n.show()}}),l=new Ke(o);return l.data=(s=n.contentComponentData)===null||s===void 0?void 0:s.model,l}function aI(r,e){r.listRole||(r.listRole="menu"),r.listItemRole||(r.listItemRole=r.allowSelection?"menuitemradio":"menuitem");const t=new Qt(r);t.onSelectionChanged=n=>{r.onSelectionChanged&&r.onSelectionChanged(n),i.hide()};const s=e||{};s.onDispose=()=>{t.dispose()};const i=new Ps("sv-list",{model:t},s);return i.isFocusedContent=t.showFilter,i.onShow=()=>{s.onShow&&s.onShow(),t.scrollToSelectedItem()},i.onHide=()=>{s.onHide&&s.onHide(),t.filterString=""},i}function sF(r){return r==null?void 0:r.previousElementSibling}class Pt extends He{constructor(){super(...arguments),this.rendredIdValue=Pt.getNextRendredId()}static getNextRendredId(){return Pt.renderedId++}get data(){return this._data}set data(e){this._data=e}addVisibilityChangedCallback(e){}removeVisibilityChangedCallback(e){}get renderedId(){return this.rendredIdValue}get owner(){return this.ownerValue}set owner(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())}get visible(){return this.getVisible()}set visible(e){this.setVisible(e)}get enabled(){return this.getEnabled()}set enabled(e){this.setEnabled(e)}get component(){return this.getComponent()}set component(e){this.setComponent(e)}get locTitle(){return this.getLocTitle()}set locTitle(e){this.setLocTitle(e)}get title(){return this.getTitle()}set title(e){this.setTitle(e)}set cssClasses(e){this.cssClassesValue=e}get cssClasses(){return this.cssClassesValue||fi}get isVisible(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"}get disabled(){return this.enabled!==void 0&&!this.enabled}get canShrink(){return!this.disableShrink&&!!this.iconName}get hasTitle(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title}get hasSubItems(){return!!this.items&&this.items.length>0}getActionBarItemTitleCss(){return new ge().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()}getActionBarItemCss(){const e=this.hasTitle;return new ge().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,e).append(this.cssClasses.itemAsIcon,!e).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()}getActionRootCss(){return new ge().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()}getTooltip(){return this.tooltip||this.title}getIsTrusted(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted}showPopup(){this.popupModel&&this.popupModel.show()}hidePopup(){this.popupModel&&this.popupModel.hide()}clearPopupTimeouts(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)}showPopupDelayed(e){this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.showPopup()},e)}hidePopupDelayed(e){var t;!((t=this.popupModel)===null||t===void 0)&&t.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.hidePopup(),this.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)}}Pt.renderedId=1;F([z()],Pt.prototype,"tooltip",void 0);F([z()],Pt.prototype,"showTitle",void 0);F([z()],Pt.prototype,"innerCss",void 0);F([z()],Pt.prototype,"active",void 0);F([z()],Pt.prototype,"pressed",void 0);F([z()],Pt.prototype,"popupModel",void 0);F([z()],Pt.prototype,"needSeparator",void 0);F([z()],Pt.prototype,"template",void 0);F([z({defaultValue:"large"})],Pt.prototype,"mode",void 0);F([z()],Pt.prototype,"visibleIndex",void 0);F([z()],Pt.prototype,"disableTabStop",void 0);F([z()],Pt.prototype,"disableShrink",void 0);F([z()],Pt.prototype,"disableHide",void 0);F([z({defaultValue:!1})],Pt.prototype,"needSpace",void 0);F([z()],Pt.prototype,"ariaChecked",void 0);F([z()],Pt.prototype,"ariaExpanded",void 0);F([z({defaultValue:"button"})],Pt.prototype,"ariaRole",void 0);F([z()],Pt.prototype,"iconName",void 0);F([z({defaultValue:24})],Pt.prototype,"iconSize",void 0);F([z()],Pt.prototype,"markerIconName",void 0);F([z()],Pt.prototype,"css",void 0);F([z({defaultValue:!1})],Pt.prototype,"isPressed",void 0);F([z({defaultValue:!1})],Pt.prototype,"isHovered",void 0);class Ke extends Pt{constructor(e){super(),this.locTitleChanged=()=>{const i=this.locTitle.renderedHtml;this.setPropertyValue("_title",i||void 0)},this.needUpdateMaxDimension=!1,this.needUpdateMinDimension=!1;const t=e instanceof Ke?e.innerItem:e;if(this.innerItem=t,this.locTitle=t?t.locTitle:null,t)for(var s in t)s==="locTitle"||s==="title"&&this.locTitle&&this.title||(this[s]=t[s]);this.locTitleName&&this.locTitleChanged(),this.locStrChangedInPopupModel()}createLocTitle(){return this.createLocalizableString("title",this,!0)}setSubItems(e){this.markerIconName="icon-next_16x16",this.component=this.getGroupComponentName(),this.items=[...e.items],this.popupModel?this.popupModel.contentComponentData.model.setItems(this.items):this.createPopupForSubitems(e)}createPopupForSubitems(e){const t=Object.assign({},e);t.searchEnabled=!1;const s=aI(t,{horizontalPosition:"right",showPointer:!1,canShrink:!1});s.cssClass="sv-popup-inner",this.popupModel=s}getLocTitle(){return this.locTitleValue}setLocTitle(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()}getTitle(){return this._title}setTitle(e){this._title=e}get locTitleName(){return this.locTitle.localizationName}set locTitleName(e){this.locTitle.localizationName=e}locStrsChanged(){super.locStrsChanged(),this.locTooltipChanged(),this.locStrChangedInPopupModel()}doAction(e){const t=e.originalEvent?e.originalEvent:e;return this.action(this,t.isTrusted),t.preventDefault(),t.stopPropagation(),!0}doMouseDown(e){this.isMouseDown=!0}doFocus(e){if(this.onFocus){const t=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,t)}this.isMouseDown=!1}locStrChangedInPopupModel(){if(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)return;const e=this.popupModel.contentComponentData.model;Array.isArray(e.actions)&&e.actions.forEach(s=>{s.locStrsChanged&&s.locStrsChanged()})}locTooltipChanged(){this.locTooltipName&&(this.tooltip=os(this.locTooltipName,this.locTitle.locale))}getLocale(){return this.owner?this.owner.getLocale():""}getMarkdownHtml(e,t,s){return this.owner?this.owner.getMarkdownHtml(e,t,s):void 0}getProcessedText(e){return this.owner?this.owner.getProcessedText(e):e}getRenderer(e){return this.owner?this.owner.getRenderer(e):null}getRendererContext(e){return this.owner?this.owner.getRendererContext(e):e}setVisible(e){this.visible!==e&&(this._visible=e)}getVisible(){return this._visible}setEnabled(e){this._enabled=e}getEnabled(){return this.enabledIf?this.enabledIf():this._enabled}setComponent(e){this._component=e}getComponent(){return this._component}getGroupComponentName(){return"sv-list-item-group"}dispose(){this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0,this.action=void 0,super.dispose(),this.popupModel&&this.popupModel.dispose()}updateDimension(e,t,s){const i=e=="small"?"minDimension":"maxDimension";if(t){const n=t;n.classList.contains("sv-action--hidden")?(n.classList.remove("sv-action--hidden"),this[i]=s(t),n.classList.add("sv-action--hidden")):this[i]=s(t)}}afterRender(){this.afterRenderCallback&&this.afterRenderCallback()}updateMode(e,t){this.updateModeCallback?this.updateModeCallback(e,t):this.afterRenderCallback=()=>{this.updateModeCallback(e,t),this.afterRenderCallback=void 0}}updateDimensions(e,t,s){const i=!s||s=="large"&&this.mode!=="small"?this.mode:s;this.updateMode(i,(n,o)=>{this.updateDimension(n,o,e),s?t():this.updateMode(n!=="small"?"small":"large",(l,u)=>{this.updateDimension(l,u,e),t()})})}}F([z()],Ke.prototype,"id",void 0);F([z({defaultValue:!0})],Ke.prototype,"_visible",void 0);F([z({onSet:(r,e)=>{e.locTooltipChanged()}})],Ke.prototype,"locTooltipName",void 0);F([z()],Ke.prototype,"_enabled",void 0);F([z()],Ke.prototype,"action",void 0);F([z()],Ke.prototype,"onFocus",void 0);F([z()],Ke.prototype,"_component",void 0);F([z()],Ke.prototype,"items",void 0);F([z({onSet:(r,e)=>{e.locTitleValue.text!==r&&(e.locTitleValue.text=r)}})],Ke.prototype,"_title",void 0);class rF{constructor(e){this.item=e,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}setupPopupCallbacks(){const e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],()=>{e.isVisible?this.item.pressed=!0:this.item.pressed=!1},this.funcKey)}removePopupCallbacks(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)}dispose(){this.removePopupCallbacks()}}var Fn;(function(r){r[r.None=0]="None",r[r.Light=1]="Light",r[r.Hard=3]="Hard"})(Fn||(Fn={}));class fm extends cs{hideItemsGreaterN(e){const t=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-t.length));const s=[];t.forEach(i=>{e<=0&&(i.mode="popup",s.push(i.innerItem)),e--}),this.hiddenItemsListModel.setItems(s)}getActionsToHide(){return this.visibleActions.filter(e=>!e.disableHide)}updateItemMode(e,t){const s=this.visibleActions;for(let i=s.length-1;i>=0;i--)t>e&&!s[i].disableShrink?(t-=s[i].maxDimension-s[i].minDimension,s[i].mode="small"):s[i].mode="large"}constructor(){super(),this.minVisibleItemsCount=0,this.isResponsivenessDisabled=!1,this.isInitialized=!1,this.dotsItem=tF({id:"dotsItem-id"+this.id++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:os("more")},{items:[],allowSelection:!1})}get hiddenItemsListModel(){return this.dotsItem.data}onSet(){super.onSet(),this.raiseUpdate({updateResponsivenessMode:Fn.Hard})}onPush(e){super.onPush(e),this.raiseUpdate({updateResponsivenessMode:Fn.Hard})}onRemove(e){super.onRemove(e),this.raiseUpdate({updateResponsivenessMode:Fn.Hard})}onActionPropertyChanged(e,t){super.onActionPropertyChanged(e,t),(t.name=="_visible"||t.name=="_title")&&(e.needUpdateMaxDimension=e.visible,e.needUpdateMinDimension=e.visible,this.raiseUpdate({updateResponsivenessMode:Fn.Light})),t.name=="disableHide"&&t.newValue&&e.mode=="popup"&&this.raiseUpdate({updateResponsivenessMode:Fn.Light})}getRenderedActions(){const e=super.getRenderedActions();return e.length==0||e.length===1&&e[0].iconName?e:e.concat([this.dotsItem])}getAllActions(){return this.actions.concat(this.dotsItem)}getActionMinDimension(e){return e.disableShrink?e.maxDimension:e.minDimension}getVisibleItemsCount(e){let{availableSpace:t,gap:s}=e;t-=this.dotsItem.minDimension+s;let i=0;this.visibleActions[0].disableHide?t+=s:i-=s,this.visibleActions.filter(o=>o.disableHide).forEach(o=>t-=this.getActionMinDimension(o)+s);const n=this.getActionsToHide();if(n.length===1&&n[0].iconName)return 1;for(let o=0;o<n.length;o++)if(i+=this.getActionMinDimension(n[o])+s,i>t)return o}fit(e){var t;if(e.availableSpace<=0)return;e.gap=(t=e.gap)!==null&&t!==void 0?t:0;const{availableSpace:s,gap:i}=e;this.dotsItem.visible=!1;const n=this.visibleActions;let o=-1*e.gap,l=-1*e.gap;n.forEach(u=>{o+=this.getActionMinDimension(u)+i,l+=u.maxDimension+i}),s>=l?this.setActionsMode("large"):s<o?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e.availableSpace,l)}createResponsivityManager(e){return new ZO(e,this)}mergeUpdateOptions(e,t){const s=super.mergeUpdateOptions(e,t);return s.updateResponsivenessMode=s.updateResponsivenessMode|t.updateResponsivenessMode,s}raiseUpdate(e){super.raiseUpdate(e)}update(e){var t;super.update(e),e.updateResponsivenessMode&&((t=this.responsivityManager)===null||t===void 0||t.update(e.updateResponsivenessMode==Fn.Hard))}initResponsivityManager(e){if(this.responsivityManager){if(this.responsivityManager.container==e)return;this.responsivityManager.dispose()}this.isInitialized=!1,this.responsivityManager=this.createResponsivityManager(e),this.responsivityManager.afterInitializeCallback=()=>{this.isInitialized=!0}}resetResponsivityManager(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)}getRootStyle(){if(!this.isInitialized&&!this.isResponsivenessDisabled)return{opacity:0}}setActionsMode(e){this.actions.forEach(t=>{e=="small"&&t.disableShrink?t.mode="large":t.mode=e})}dispose(){super.dispose(),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()}}F([z()],fm.prototype,"isInitialized",void 0);class lI{constructor(){this.cancelQueue=[]}getMsFromRule(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}reflow(e){return e.offsetHeight}getAnimationsCount(e){let t="";return getComputedStyle&&(t=getComputedStyle(e).animationName),t&&t!="none"?t.split(", ").length:0}getAnimationDuration(e){const t=getComputedStyle(e),s=t.animationDelay.split(", "),i=t.animationDuration.split(", ");let n=0;for(let o=0;o<Math.max(i.length,s.length);o++)n=Math.max(n,this.getMsFromRule(i[o%i.length])+this.getMsFromRule(s[o%s.length]));return n}addCancelCallback(e){this.cancelQueue.push(e)}removeCancelCallback(e){this.cancelQueue.indexOf(e)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(e),1)}onAnimationEnd(e,t,s){let i,n=this.getAnimationsCount(e);const o=(u=!0)=>{t(u),clearTimeout(i),this.removeCancelCallback(o),e.removeEventListener("animationend",l)},l=u=>{u.target==u.currentTarget&&--n<=0&&o(!1)};n>0?(e.addEventListener("animationend",l),this.addCancelCallback(o),i=setTimeout(()=>{o(!1)},this.getAnimationDuration(e)+10)):t(!0)}afterAnimationRun(e,t){e&&t&&t.onAfterRunAnimation&&t.onAfterRunAnimation(e)}beforeAnimationRun(e,t){e&&t&&t.onBeforeRunAnimation&&t.onBeforeRunAnimation(e)}getCssClasses(e){return e.cssClass.replace(/\s+$/,"").split(/\s+/)}runAnimation(e,t,s){e&&(t!=null&&t.cssClass)?(this.reflow(e),this.getCssClasses(t).forEach(i=>{e.classList.add(i)}),this.onAnimationEnd(e,s,t)):s(!0)}clearHtmlElement(e,t){e&&t.cssClass&&this.getCssClasses(t).forEach(s=>{e.classList.remove(s)}),this.afterAnimationRun(e,t)}onNextRender(e,t=!1){if(!t&&qe.isAvailable()){let s;const i=()=>{e(!0),cancelAnimationFrame(s)};s=qe.requestAnimationFrame(()=>{s=qe.requestAnimationFrame(()=>{e(!1),this.removeCancelCallback(i)})}),this.addCancelCallback(i)}else e(!0)}cancel(){[].concat(this.cancelQueue).forEach(t=>t()),this.cancelQueue=[]}}class iF extends lI{onEnter(e){const t=e.getAnimatedElement(),s=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(t,s),this.runAnimation(t,s,()=>{this.clearHtmlElement(t,s)})}onLeave(e,t){const s=e.getAnimatedElement(),i=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(s,i),this.runAnimation(s,i,n=>{t(),this.onNextRender(()=>{this.clearHtmlElement(s,i)},n)})}}class uI extends lI{runGroupAnimation(e,t,s,i,n){const o={isAddingRunning:t.length>0,isDeletingRunning:s.length>0,isReorderingRunning:i.length>0},l=t.map(b=>e.getAnimatedElement(b)),u=t.map(b=>e.getEnterOptions?e.getEnterOptions(b,o):{}),c=s.map(b=>e.getAnimatedElement(b)),h=s.map(b=>e.getLeaveOptions?e.getLeaveOptions(b,o):{}),p=i.map(b=>e.getAnimatedElement(b.item)),m=i.map(b=>e.getReorderOptions?e.getReorderOptions(b.item,b.movedForward,o):{});t.forEach((b,x)=>{this.beforeAnimationRun(l[x],u[x])}),s.forEach((b,x)=>{this.beforeAnimationRun(c[x],h[x])}),i.forEach((b,x)=>{this.beforeAnimationRun(p[x],m[x])});let v=t.length+s.length+p.length;const f=b=>{--v<=0&&(n&&n(),this.onNextRender(()=>{t.forEach((x,g)=>{this.clearHtmlElement(l[g],u[g])}),s.forEach((x,g)=>{this.clearHtmlElement(c[g],h[g])}),i.forEach((x,g)=>{this.clearHtmlElement(p[g],m[g])})},b))};t.forEach((b,x)=>{this.runAnimation(l[x],u[x],f)}),s.forEach((b,x)=>{this.runAnimation(c[x],h[x],f)}),i.forEach((b,x)=>{this.runAnimation(p[x],m[x],f)})}}class Ix{constructor(e,t,s){this.animationOptions=e,this.update=t,this.getCurrentValue=s,this._debouncedSync=iI(i=>{this.cancelAnimations();try{this._sync(i)}catch{this.update(i)}})}onNextRender(e,t){const s=this.animationOptions.getRerenderEvent();if(s){const i=()=>{s.remove(n),this.cancelCallback=void 0},n=(o,l)=>{l.isCancel?t&&t():e(),i()};this.cancelCallback=()=>{t&&t(),i()},s.add(n)}else if(qe.isAvailable()){const i=qe.requestAnimationFrame(()=>{e(),this.cancelCallback=void 0});this.cancelCallback=()=>{t&&t(),cancelAnimationFrame(i),this.cancelCallback=void 0}}else throw new Error("Can't get next render")}sync(e){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(e):(this.cancel(),this.update(e))}cancel(){this._debouncedSync.cancel(),this.cancelAnimations()}cancelAnimations(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()}}class dI extends Ix{constructor(){super(...arguments),this.animation=new iF}_sync(e){e!==this.getCurrentValue()?e?(this.onNextRender(()=>{this.animation.onEnter(this.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,()=>{this.update(e)}):this.update(e)}}class ra extends Ix{constructor(){super(...arguments),this.animation=new uI}_sync(e){var t,s;e=[].concat(e);const i=[].concat(this.getCurrentValue()),n=(t=this.animationOptions.allowSyncRemovalAddition)!==null&&t!==void 0?t:!0;let o=CF(i,e,(s=this.animationOptions.getKey)!==null&&s!==void 0?s:m=>m);!n&&(o.reorderedItems.length>0||o.addedItems.length>0)&&(o.deletedItems=[],o.mergedItems=e),this.animationOptions.onCompareArrays&&this.animationOptions.onCompareArrays(o);let{addedItems:l,reorderedItems:u,deletedItems:c,mergedItems:h}=o;const p=()=>{this.animation.runGroupAnimation(this.animationOptions,l,c,u,()=>{c.length>0&&this.update(e)})};[l,c,u].some(m=>m.length>0)?c.length<=0||u.length>0||l.length>0?(this.onNextRender(p,()=>{this.update(e)}),this.update(h)):p():this.update(e)}}class cI extends Ix{constructor(e,t,s,i){super(e,t,s),this.mergeValues=i,this.animation=new uI}_sync(e){const t=[].concat(this.getCurrentValue());if(t[0]!==e[0]){const s=this.mergeValues?this.mergeValues(e,t):[].concat(t,e);this.onNextRender(()=>{this.animation.runGroupAnimation(this.animationOptions,e,t,[],()=>{this.update(e)})},()=>this.update(e)),this.update(s,!0)}else this.update(e)}}class vm extends He{constructor(){super(),this.createLocTitleProperty()}createLocTitleProperty(){return this.createLocalizableString("title",this,!0)}get isPage(){return!1}get isPanel(){return!1}get isQuestion(){return!1}get isSurvey(){return!1}get title(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())}set title(e){this.setTitleValue(e)}get locTitle(){return this.getLocalizableString("title")}get locRenderedTitle(){return this.locTitle}getDefaultTitleValue(){}setTitleValue(e){this.setLocalizableStringText("title",e)}get hasDescription(){return this.getPropertyValue("hasDescription",void 0,()=>this.calcDescriptionVisibility())}set hasDescription(e){this.setPropertyValue("hasDescription",e)}calcDescriptionVisibility(){const e=this.description;let t=!1;if(this.isDesignMode){const s=ce.findProperty(this.getType(),"description");t=!!(s!=null&&s.placeholder)}return!!e||t&&this.isDesignMode}resetDescriptionVisibility(){this.resetPropertyValue("hasDescription")}get locDescription(){return this.getLocalizableString("description")}get titleTagName(){let e=this.getDefaultTitleTagName();const t=this.getSurvey();return t?t.getElementTitleTagName(this,e):e}getDefaultTitleTagName(){return re.titleTags[this.getType()]}get hasTitle(){return this.title.length>0}get hasTitleActions(){return!1}get hasTitleEvents(){return this.hasTitleActions}getTitleToolbar(){return null}getTitleOwner(){}get isTitleOwner(){return!!this.getTitleOwner()}get isTitleRenderedAsString(){return this.getIsTitleRenderedAsString()}toggleState(){}get cssClasses(){return{}}get cssTitle(){return""}get ariaTitleId(){}get ariaDescriptionId(){}get titleTabIndex(){}get titleAriaExpanded(){}get titleAriaRole(){}get ariaLabel(){return this.locTitle.renderedHtml}get titleAriaLabel(){return this.ariaLabel}getIsTitleRenderedAsString(){return!this.isTitleOwner}}F([z({localizable:!0,onSet:(r,e)=>{e.resetDescriptionVisibility()}})],vm.prototype,"description",void 0);class Vt extends vm{static getProgressInfoByElements(e,t){const s=He.createProgressInfo();for(let i=0;i<e.length;i++){if(!e[i].isVisible)continue;const n=e[i].getProgressInfo();s.questionCount+=n.questionCount,s.answeredQuestionCount+=n.answeredQuestionCount,s.requiredQuestionCount+=n.requiredQuestionCount,s.requiredAnsweredQuestionCount+=n.requiredAnsweredQuestionCount}return t&&s.questionCount>0&&(s.requiredQuestionCount==0&&(s.requiredQuestionCount=1),s.answeredQuestionCount>0&&(s.requiredAnsweredQuestionCount=1)),s}static IsNeedScrollIntoView(e,t,s){const i=s?-1:e.getBoundingClientRect().top;let n=i<0,o=-1;if(!n&&t&&(o=e.getBoundingClientRect().left,n=o<0),!n&&qe.isAvailable()){const l=qe.getInnerHeight();if(n=l>0&&l<i,!n&&t){const u=qe.getInnerWidth();n=u>0&&u<o}}return n}static ScrollIntoView(e,t,s){if(e.scrollIntoView(t),typeof s=="function"){let i=null,n=0;const o=()=>{const l=e.getBoundingClientRect().top;if(l===i){if(n++>2){s();return}}else i=l,n=0;requestAnimationFrame(o)};qe.requestAnimationFrame(o)}}static ScrollElementToTop(e,t,s,i){return Vt.ScrollElementToViewCore(e,!1,t,s,i)}static ScrollElementToViewCore(e,t,s,i,n){if(!e||!e.scrollIntoView)return n&&n(),!1;const o=Vt.IsNeedScrollIntoView(e,t,s);return o?Vt.ScrollIntoView(e,i,n):n&&n(),o}static GetFirstNonTextElement(e,t=!1){if(!e||!e.length||e.length==0)return null;if(t){let s=e[0];s.nodeName==="#text"&&(s.data=""),s=e[e.length-1],s.nodeName==="#text"&&(s.data="")}for(let s=0;s<e.length;s++)if(e[s].nodeName!="#text"&&e[s].nodeName!="#comment")return e[s];return null}static FocusElement(e,t,s){if(!e||!Re.isAvailable())return!1;const i=t?!1:Vt.focusElementCore(e,s);return i||setTimeout(()=>{Vt.focusElementCore(e,s)},t?100:10),i}static focusElementCore(e,t){const{root:s}=re.environment;if(!s&&!t)return!1;const i=t?t.querySelector(`#${CSS.escape(e)}`):s.getElementById(e);return i&&!i.disabled&&i.style.display!=="none"&&i.offsetParent!==null?(Vt.ScrollElementToViewCore(i,!0,!1),i.focus(),!0):!1}get effectiveColSpan(){const e=this.getPropertyValueWithoutDefault("effectiveColSpan");return e!==void 0?e:(this.setRootStyle(),this.getPropertyValue("effectiveColSpan"))}get colSpan(){return this.getPropertyValue("colSpan",1)}set colSpan(e){this.setPropertyValue("colSpan",e)}constructor(e){super(),this.selectedElementInDesignValue=this,this.disableDesignActions=Vt.CreateDisabledDesignElements,this.parentQuestionValue=null,this.isContentElement=!1,this.isEditableTemplateElement=!1,this.isInteractiveDesignElement=!0,this.isSingleInRow=!0,this._renderedIsExpanded=!0,this._isAnimatingCollapseExpand=!1,this.animationCollapsed=new dI(this.getExpandCollapseAnimationOptions(),t=>{this._renderedIsExpanded=t,this.animationAllowed&&(t?this.isAnimatingCollapseExpand=!0:this.updateElementCss(!1))},()=>this.renderedIsExpanded),this.onAfterRenderElement=this.addEvent(),this.setPropertyValueDirectly("name",this.getValidName(e)),this.createNewArray("errors"),this.createNewArray("titleActions"),this.registerPropertyChangedHandlers(["isReadOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["errors"],()=>{this.updateVisibleErrors()}),this.registerPropertyChangedHandlers(["isSingleInRow"],()=>{this.updateElementCss(!1)}),this.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],()=>{this.updateRootStyle()}),this.registerPropertyChangedHandlers(["effectiveColSpan"],t=>{this.colSpan=t})}onPropertyValueChanged(e,t,s){super.onPropertyValueChanged(e,t,s),e==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(t),this.stateChangedCallback&&this.stateChangedCallback())}getSkeletonComponentNameCore(){return this.survey?this.survey.getSkeletonComponentName(this):"sv-skeleton"}canUpdateValueOnVisibleChanged(){return!this.isLoadingFromJson&&!!this.survey&&!this.survey.isSettingData()}get parentQuestion(){return this.parentQuestionValue}setParentQuestion(e){this.parentQuestionValue=e,this.onParentQuestionChanged()}onParentQuestionChanged(){}updateElementVisibility(){this.setPropertyValue("isVisible",this.isVisible)}get skeletonComponentName(){return this.getSkeletonComponentNameCore()}get state(){return this.getPropertyValue("state")}set state(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!this.isCollapsed}notifyStateChanged(e){this.survey&&this.survey.elementContentVisibilityChanged(this)}get isCollapsed(){return this.state==="collapsed"&&!this.isDesignMode}get isExpanded(){return this.state==="expanded"}collapse(){this.isDesignMode||(this.state="collapsed")}expand(){this.state="expanded"}toggleState(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0}get hasStateButton(){return this.isExpanded||this.isCollapsed}get shortcutText(){return this.title||this.name}getTitleToolbar(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.locOwner=this,this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions()),this.titleToolbarValue.flushUpdates()),this.titleToolbarValue}createActionContainer(e){const t=e?new fm:new cs;return this.survey&&this.survey.getCss().actionBar&&(t.cssClasses=this.survey.getCss().actionBar),t}get titleActions(){return this.getPropertyValue("titleActions")}getTitleActions(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions}getDefaultTitleActions(){return[]}updateTitleActions(){let e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)}locStrsChanged(){super.locStrsChanged(),this.titleToolbarValue&&this.titleToolbarValue.locStrsChanged()}get hasTitleActions(){return this.getTitleActions().length>0}get hasTitleEvents(){return this.state!==void 0&&this.state!=="default"}get titleTabIndex(){return!this.isPage&&this.state!=="default"?0:void 0}get titleAriaExpanded(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"}get titleAriaRole(){if(!(this.isPage||this.state==="default"))return"button"}setSurveyImpl(e,t){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.createTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null,this.textProcessorValue=null),this.survey&&(this.resetDescriptionVisibility(),this.clearCssClasses()),this.blockAnimations(),this.renderedIsExpanded=!this.isCollapsed,this.releaseAnimations()}getValueGetterContext(){const e=this.data;return e?e.getValueGetterContext():super.getValueGetterContext()}createTextProcessor(){return this.surveyImplValue.getTextProcessor()}canRunConditions(){return super.canRunConditions()&&!!this.data}getDataFilteredProperties(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e}get surveyImpl(){return this.surveyImplValue}__setData(e){this.surveyDataValue=e}get data(){return this.surveyDataValue}get survey(){return this.getSurvey()}getSurvey(e=!1){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)}setSurveyCore(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()}get skeletonHeight(){let e;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e}get isInternal(){return this.isContentElement}get areInvisibleElementsShowing(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement}get isVisible(){return!0}get isReadOnly(){return this.readOnly}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))}onReadOnlyChanged(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()}get css(){return this.survey?this.survey.getCss():{}}get cssClassesValue(){let e=this.getPropertyValueWithoutDefault("cssClassesValue");return!e&&!this.isCssValueCalculating&&(this.isCssValueCalculating=!0,e=this.createCssClassesValue(),this.isCssValueCalculating=!1),e}createCssClassesValue(){const e=this.calcCssClasses(this.css);return this.setPropertyValue("cssClassesValue",e),this.onCalcCssClasses(e),this.updateElementCssCore(this.cssClassesValue),e}onCalcCssClasses(e){}get cssClasses(){return this.cssClassesValue,this.survey?(this.cssClassesValue||this.createCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)}get cssTitleNumber(){const e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0}get cssRequiredMark(){const e=this.cssClasses;return e.requiredMark||e.panel&&e.panel.requiredMark}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.titleExpandableSvg}calcCssClasses(e){}updateElementCssCore(e){}get cssError(){return""}updateElementCss(e){this.clearCssClasses()}clearCssClasses(){this.resetPropertyValue("cssClassesValue")}getIsLoadingFromJson(){return super.getIsLoadingFromJson()?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1}get name(){return this.getPropertyValue("name","")}set name(e){var t=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&t&&this.onNameChanged(t)}getValidName(e){return e}onNameChanged(e){}updateBindingValue(e,t){this.data&&!this.isTwoValueEquals(t,this.data.getValue(e))&&this.data.setValue(e,t,!1)}get errors(){return this.getPropertyValue("errors")}set errors(e){this.setPropertyValue("errors",e)}updateVisibleErrors(){for(var e=0,t=0;t<this.errors.length;t++)this.errors[t].visible&&e++;this.hasVisibleErrors=e>0}get containsErrors(){return this.getPropertyValue("containsErrors",!1)}updateContainsErrors(){this.setPropertyValue("containsErrors",this.getContainsErrors())}getContainsErrors(){return this.errors.length>0}get selectedElementInDesign(){return this.selectedElementInDesignValue}set selectedElementInDesign(e){this.selectedElementInDesignValue=e}updateCustomWidgets(){}onSurveyLoad(){}get wasRendered(){return!!this.wasRenderedValue}resetWasRendered(){this.wasRenderedValue=!1}onFirstRendering(){this.wasRendered||(this.wasRenderedValue=!0,this.onFirstRenderingCore())}onFirstRenderingCore(){}endLoadingFromJson(){super.endLoadingFromJson(),this.survey||this.onSurveyLoad()}setVisibleIndex(e){return 0}delete(e){}getLocale(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,s){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t,s):this.locOwner?this.locOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e,t){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,e,t):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(e):null}getRendererContext(e,t){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,e,t):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e}getUseDisplayValuesInDynamicTexts(){return!0}removeSelfFromList(e){if(!e||!Array.isArray(e))return;const t=e.indexOf(this);t>-1&&e.splice(t,1)}get textProcessor(){return this.textProcessorValue}getProcessedHtml(e){return!e||!this.textProcessor?e:this.textProcessor.processText(e,!0)}onSetData(){}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}getPage(e){for(;e&&e.parent;)e=e.parent;return e&&e.isPage?e:null}moveToBase(e,t,s=null){if(!t)return!1;e.removeElement(this);let i=-1;return Y.isNumber(s)&&(i=parseInt(s)),i==-1&&s&&s.getType&&(i=t.indexOf(s)),t.addElement(this,i),!0}setPage(e,t){const s=this.getPage(e);this.prevSurvey=this.survey,typeof t=="string"&&this.getSurvey().pages.forEach(n=>{t===n.name&&(t=n)}),s!==t&&(e&&e.removeElement(this),t&&t.addElement(this,-1),this.prevSurvey=void 0)}getSearchableLocKeys(e){e.push("title"),e.push("description")}get hasParent(){return this.parent&&!this.parent.isPage||this.parent===void 0}shouldAddRunnerStyles(){return!this.isDesignMode}get isCompact(){return this.survey&&this.survey.isCompact}canHaveFrameStyles(){var e;return((e=this.survey)===null||e===void 0?void 0:e.currentSingleElement)===this?!0:this.parent!==void 0&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)}getHasFrameV2(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()}getIsNested(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()}getCssRoot(e){const t=!!this.isCollapsed||!!this.isExpanded;return new ge().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,t&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,t).append(e.nested,this.getIsNested()).toString()}get width(){return this.getPropertyValue("width","")}set width(e){this.setPropertyValue("width",e)}get minWidth(){return this.getPropertyValue("minWidth")}set minWidth(e){this.setPropertyValue("minWidth",e)}get maxWidth(){return this.getPropertyValue("maxWidth")}set maxWidth(e){this.setPropertyValue("maxWidth",e)}get renderWidth(){return this.getPropertyValue("renderWidth","")}set renderWidth(e){this.setPropertyValue("renderWidth",e)}get indent(){return this.getPropertyValue("indent")}set indent(e){this.setPropertyValue("indent",e)}get rightIndent(){return this.getPropertyValue("rightIndent",0)}set rightIndent(e){this.setPropertyValue("rightIndent",e)}getRootStyle(){const e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e}get paddingLeft(){return this.getPropertyValue("paddingLeft",void 0,()=>this.calcPaddingLeft())}calcPaddingLeft(){return""}get paddingRight(){return this.getPropertyValue("paddingRight",void 0,()=>this.calcPaddingRight())}set paddingRight(e){this.setPropertyValue("paddingRight",e)}calcPaddingRight(){return""}resetIndents(){this.resetPropertyValue("paddingLeft"),this.resetPropertyValue("paddingRight")}get rootStyle(){return this.getPropertyValue("rootStyle",void 0,()=>this.calcRootStyle())}set rootStyle(e){this.setPropertyValue("rootStyle",e)}updateRootStyle(){this.getPropertyValueWithoutDefault("rootStyle")?this.setRootStyle():this.resetPropertyValue("effectiveColSpan")}setRootStyle(){this.rootStyle=this.calcRootStyle()}calcRootStyle(){const e={};let t;if(this.parent&&(t=this.parent.getColumsForElement(this).reduce((i,n)=>n.effectiveWidth+i,0),t&&t!==100&&(e.flexGrow=1,e.flexShrink=0,e.flexBasis=t+"%",e.minWidth=void 0,e.maxWidth=this.maxWidth)),Object.keys(e).length==0){let s=""+this.minWidth;if(s&&s!="auto"){if(s.indexOf("px")!=-1&&this.survey){s=s.replace("px","");let i=parseFloat(s);isNaN(i)||(s=i*this.survey.widthScale/100,s=""+s+"px")}s="min(100%, "+s+")"}this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=s,e.maxWidth=this.maxWidth)}return e}isContainsSelection(e){let t;const s=Re.getDocument();if(Re.isAvailable()&&s&&s.selection)t=s.selection.createRange().parentElement();else{var i=qe.getSelection();if(i&&i.rangeCount>0){const n=i.getRangeAt(0);n.startOffset!==n.endOffset&&(t=n.startContainer.parentNode)}}return t==e}get clickTitleFunction(){if(this.needClickTitleFunction())return e=>{if(!(e&&this.isContainsSelection(e.target)))return this.processTitleClick()}}needClickTitleFunction(){return this.state!=="default"}processTitleClick(){this.state!=="default"&&this.toggleState()}get hasAdditionalTitleToolbar(){return!1}get additionalTitleToolbar(){return this.getAdditionalTitleToolbar()}getAdditionalTitleToolbar(){return null}getCssTitle(e){if(!e)return"";const t=this.state!=="default";return new ge().append(e.title).append(e.titleNumInline,(this.no||"").length>4||t).append(e.titleExpandable,t).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()}get isDisabledStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[1]}get isReadOnlyStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[0]}getIsDisableAndReadOnlyStyles(e){const t=this.isPreviewStyle;return[(e||this.isReadOnly)&&!t,!1]}get isPreviewStyle(){return!!this.survey&&this.survey.state==="preview"}localeChanged(){super.localeChanged(),this.resetDescriptionVisibility(),this.errors.length>0&&this.errors.forEach(e=>{e.updateText()})}setWrapperElement(e){this.wrapperElement=e}getWrapperElement(){return this.wrapperElement}set isAnimatingCollapseExpand(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))}get isAnimatingCollapseExpand(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded}onElementExpanded(e){}getExpandCollapseAnimationOptions(){const e=s=>{this.isAnimatingCollapseExpand=!0,pn(s)},t=s=>{this.isAnimatingCollapseExpand=!1,Br(s)};return{getRerenderEvent:()=>this.onElementRerendered,getEnterOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentEnter,onBeforeRunAnimation:e,onAfterRunAnimation:i=>{t(i),this.onElementExpanded(!0)}}),getLeaveOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getAnimatedElement:()=>{var s;const i=this.isPanel?this.cssClasses.panel:this.cssClasses;if(i.content){const n=Cr(i.content);if(n)return(s=this.getWrapperElement())===null||s===void 0?void 0:s.querySelector(`:scope ${n}`)}},isAnimationEnabled:()=>this.isExpandCollapseAnimationEnabled}}get isExpandCollapseAnimationEnabled(){return this.animationAllowed&&!this.isDesignMode}set renderedIsExpanded(e){const t=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!t&&this.renderedIsExpanded&&this.onElementExpanded(!1)}get renderedIsExpanded(){return!!this._renderedIsExpanded}getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&!!this.survey&&!this.survey.isEndLoadingFromJson}afterRenderCore(e){this.onAfterRenderElement.fire(this,{htmlElement:e})}dispose(){super.dispose(),this.titleToolbarValue&&this.titleToolbarValue.dispose()}}Vt.CreateDisabledDesignElements=!1;F([z({defaultValue:!1})],Vt.prototype,"hasVisibleErrors",void 0);F([z({defaultValue:!0})],Vt.prototype,"isSingleInRow",void 0);F([z({defaultValue:!0})],Vt.prototype,"allowRootStyle",void 0);F([z()],Vt.prototype,"_renderedIsExpanded",void 0);class nF{constructor(e,t,s=100){this._elements=e,this._renderedHandler=t,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=(i,n)=>{var o;(o=i.onAfterRenderElement)===null||o===void 0||o.remove(this._elementRenderedHandler),this._elementsToRenderCount--,this._elementsToRenderCount<=0&&this.visibleElementsRendered()},this._elements.forEach(i=>{i.onAfterRenderElement&&(i.onAfterRenderElement.add(this._elementRenderedHandler),this._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(()=>{this._elementsToRenderCount>0&&this.visibleElementsRendered()},s):this.visibleElementsRendered()}stopWaitingForElementsRendering(){this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(e=>{var t;(t=e.onAfterRenderElement)===null||t===void 0||t.remove(this._elementRenderedHandler)}),this._elementsToRenderCount=0}visibleElementsRendered(){const e=this._renderedHandler;this.dispose(),typeof e=="function"&&e()}dispose(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0}}class as{static get defaultLocale(){return re.localization.defaultLocaleName}static set defaultLocale(e){re.localization.defaultLocaleName=e}get localizationName(){return this._localizationName}set localizationName(e){this._localizationName!=e&&(this._localizationName=e,this.strChanged())}get allowLineBreaks(){var e;return this._allowLineBreaks===void 0&&(this._allowLineBreaks=!1,this.name&&this.owner instanceof vm&&(this._allowLineBreaks=((e=ce.findProperty(this.owner.getType(),this.name))===null||e===void 0?void 0:e.type)=="text")),this._allowLineBreaks}constructor(e,t=!1,s,i){this.owner=e,this.useMarkdown=t,this.name=s,this.values={},this.htmlValues={},this.onStringChanged=new li,this._localizationName=i,this.onCreating()}getIsMultiple(){return!1}get locale(){if(this.owner&&this.owner.getLocale){const e=this.owner.getLocale();if(e||!this.sharedData)return e}return this.sharedData?this.sharedData.locale:""}get isDefautlLocale(){const e=this.locale;return!e||e===re.defaultLocaleName}strChanged(){this.isTextRequested&&(this.searchableText=void 0,!(this.renderedText===void 0&&this.isEmpty&&!this.onGetTextCallback&&!this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{})))}get text(){return this.pureText}set text(e){this.setLocaleText(this.locale,e)}get calculatedText(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText}getPlaceholder(){let e="";if(!this.isDefautlLocale){const t=this.getRootDialect(this.locale);e=this.getLocaleText(t||re.defaultLocaleName)}return!e&&this.onGetTextCallback&&(e=this.onGetTextCallback("","")),e}calcText(){const e=this.pureText;let t=e;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t,e)),t}get pureText(){this.isTextRequested=!0;var e=this.locale;e||(e=this.defaultLoc);var t=this.getValue(e);if(this.isValueEmpty(t)&&e===this.defaultLoc&&(t=this.getValue(vr.defaultLocale)),this.isValueEmpty(t)){const s=this.getRootDialect(e);s&&(t=this.getValue(s))}return this.isValueEmpty(t)&&e!==this.defaultLoc&&(t=this.getValue(this.defaultLoc)),this.isValueEmpty(t)&&this.getLocalizationName()&&(t=this.getLocalizationStr()),t||(t=this.defaultValue||""),t}getRootDialect(e){if(!e)return e;const t=e.indexOf("-");return t>-1?e.substring(0,t):""}getLocalizationName(){return this.sharedData?this.sharedData.localizationName:this.localizationName}getLocalizationStr(){const e=this.getLocalizationName();return e?os(e,this.locale):""}get hasHtml(){return this.hasHtmlValue()}get html(){return this.hasHtml?this.getHtmlValue():""}get isEmpty(){return this.getValuesKeys().length==0}get textOrHtml(){return this.hasHtml?this.getHtmlValue():this.calculatedText}get renderedHtml(){return this.textOrHtml}getLocaleText(e){const t=this.getLocaleTextCore(e);return t||""}getLocaleTextCore(e){return e||(e=this.defaultLoc),this.getValue(e)}isLocaleTextEqualsWithDefault(e,t){let s=this.getLocaleTextCore(e);return s===t?!0:this.isValueEmpty(s)&&this.isValueEmpty(t)}clear(){this.setJson(void 0)}clearLocale(e){this.setLocaleText(e,void 0)}setLocaleText(e,t){if(e=this.getValueLoc(e),this.lastChangedLoc=e,e&&t===void 0){const n=this.getValue(e);n!==void 0&&(this.deleteValue(e),this.fireStrChanged(e,n));return}if(!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(e,t)){if(!this.isValueEmpty(t)||e&&e!==this.defaultLoc)return;let n=vr.defaultLocale,o=this.getValue(n);n&&!this.isValueEmpty(o)&&(this.setValue(n,t),this.fireStrChanged(n,o));return}if(!(!re.localization.storeDuplicatedTranslations&&!this.isValueEmpty(t)&&e&&e!=this.defaultLoc&&!this.getValue(e)&&t==this.getLocaleText(this.defaultLoc))){var s=this.curLocale;e||(e=this.defaultLoc);var i=this.onStrChanged&&e===s?this.pureText:void 0;delete this.htmlValues[e],this.isValueEmpty(t)?this.deleteValue(e):typeof t=="string"&&(this.canRemoveLocValue(e,t)?this.setLocaleText(e,null):(this.setValue(e,t),e==this.defaultLoc&&this.deleteValuesEqualsToDefault(t))),this.fireStrChanged(e,i)}}isValueEmpty(e){return e==null?!0:this.localizationName?!1:e===""}get curLocale(){return this.locale?this.locale:this.defaultLoc}canRemoveLocValue(e,t){if(re.localization.storeDuplicatedTranslations||e===this.defaultLoc)return!1;const s=this.getRootDialect(e);if(s){const i=this.getLocaleText(s);return i?i==t:this.canRemoveLocValue(s,t)}else return t==this.getLocaleText(this.defaultLoc)}fireStrChanged(e,t){if(this.strChanged(),!this.onStrChanged)return;const s=this.pureText;(e!==this.curLocale||t!==s)&&this.onStrChanged(t,s)}hasNonDefaultText(){var e=this.getValuesKeys();return e.length==0?!1:e.length>1||e[0]!=this.defaultLoc}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){if(this.sharedData)return this.sharedData.getJson();const e=this.getValuesKeys();if(e.length==0){if(this.serializeCallBackText){const s=this.calcText();if(s)return s}return null}if(e.length==1&&e[0]==re.localization.defaultLocaleName&&!re.serialization.localizableStringSerializeAsObject)return this.values[e[0]];const t={};for(let s in this.values)t[s]=this.values[s];return t}setJson(e,t){if(this.sharedData){this.sharedData.setJson(e,t);return}if(this.lastChangedLoc=void 0,this.values={},this.htmlValues={},e!=null)if(t)typeof e=="string"?this.values[re.defaultLocaleName]=e:(this.values=e,delete this.values.pos);else{if(typeof e=="string")this.setLocaleText(null,e);else for(var s in e)this.setLocaleText(s,e[s]);this.strChanged()}}get renderAs(){return!this.owner||typeof this.owner.getRenderer!="function"?as.defaultRenderer:this.owner.getRenderer(this.name)||as.defaultRenderer}get renderAsData(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this}equals(e){return this.sharedData?this.sharedData.equals(e):!e||!e.values?!1:Y.isTwoValueEquals(this.values,e.values,!1,!0,!1)}setFindText(e){if(this.searchText!=e){if(this.searchText=e,!this.searchableText){let i=this.textOrHtml;this.searchableText=i?i.toLowerCase():""}var t=this.searchableText,s=t&&e?t.indexOf(e):void 0;return s<0&&(s=void 0),(s!=null||this.searchIndex!=s)&&(this.searchIndex=s,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}}onChanged(){}onCreating(){}hasHtmlValue(){if(!this.owner||!this.useMarkdown)return!1;let e=this.locale;if(e||(e=this.defaultLoc),this.htmlValues[e]!==void 0)return!!this.htmlValues[e];let t=this.calculatedText;if(!t)return this.setHtmlValue(e,""),!1;if(this.getLocalizationName()&&t===this.getLocalizationStr())return this.setHtmlValue(e,""),!1;const s=this.owner.getMarkdownHtml(t,this.name);return this.setHtmlValue(e,s),!!s}setHtmlValue(e,t){this.htmlValues[e]=t}getHtmlValue(){var e=this.locale;return e||(e=this.defaultLoc),this.htmlValues[e]}deleteValuesEqualsToDefault(e){if(!re.localization.storeDuplicatedTranslations)for(var t=this.getValuesKeys(),s=0;s<t.length;s++)t[s]!=this.defaultLoc&&this.getValue(t[s])==e&&this.deleteValue(t[s])}getValue(e){return this.sharedData?this.sharedData.getValue(e):this.values[this.getValueLoc(e)]}setValue(e,t){this.sharedData?this.sharedData.setValue(e,t):this.values[this.getValueLoc(e)]=t}deleteValue(e){this.sharedData?this.sharedData.deleteValue(e):delete this.values[this.getValueLoc(e)]}getValueLoc(e){return this.disableLocalization?re.localization.defaultLocaleName:e}getValuesKeys(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)}get defaultLoc(){return re.localization.defaultLocaleName}}as.SerializeAsObject=!1;as.defaultRenderer="sv-string-viewer";as.editableRenderer="sv-string-editor";class oF{constructor(e){this.owner=e,this.values={}}getIsMultiple(){return!0}get locale(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""}get value(){return this.getValue("")}set value(e){this.setValue("",e)}get text(){return Array.isArray(this.value)?this.value.join(`
`):""}set text(e){this.value=e?e.split(`
`):[]}getLocaleText(e){var t=this.getValueCore(e,!e||e===this.locale);return!t||!Array.isArray(t)||t.length==0?"":t.join(`
`)}setLocaleText(e,t){var s=t?t.split(`
`):null;this.setValue(e,s)}getValue(e){return this.getValueCore(e)}getValueCore(e,t=!0){if(e=this.getLocale(e),this.values[e])return this.values[e];if(t){var s=re.localization.defaultLocaleName;if(e!==s&&this.values[s])return this.values[s]}return[]}setValue(e,t){e=this.getLocale(e);const s=Y.createCopy(this.values);!t||t.length==0?delete this.values[e]:this.values[e]=t,this.onValueChanged&&this.onValueChanged(s,this.values)}hasValue(e=""){return!this.isEmpty&&this.getValue(e).length>0}get isEmpty(){return this.getValuesKeys().length==0}getLocale(e){return e||(e=this.locale,e||re.localization.defaultLocaleName)}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){var e=this.getValuesKeys();return e.length==0?null:e.length==1&&e[0]==re.localization.defaultLocaleName&&!re.serialization.localizableStringSerializeAsObject?this.values[e[0]]:Y.createCopy(this.values)}setJson(e){if(this.values={},!!e)if(Array.isArray(e))this.setValue(null,e);else for(var t in e)this.setValue(t,e[t])}getValuesKeys(){return Object.keys(this.values)}}function aF(r){return re&&re.confirmActionFunc?re.confirmActionFunc(r):confirm(r)}function Pp(r){const e=t=>{t?r.funcOnYes():r.funcOnNo&&r.funcOnNo()};if(re&&re.confirmActionFunc){e(aF(r.message));return}re&&re.confirmActionAsync?re.confirmActionAsync(r.message,e,r):mI(r.message,e,r)}function Nh(){if(typeof Nh.isIEOrEdge>"u"){const r=navigator.userAgent,e=r.indexOf("MSIE "),t=r.indexOf("Trident/"),s=r.indexOf("Edge/");Nh.isIEOrEdge=s>0||t>0||e>0}return Nh.isIEOrEdge}function lF(r,e){try{const t=atob(r.split(",")[1]),s=r.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),n=new Uint8Array(i);for(let l=0;l<t.length;l++)n[l]=t.charCodeAt(l);const o=new Blob([i],{type:s});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(o,e)}catch{}}const Ip=r=>!!r&&!!("host"in r&&r.host),uF=r=>{const{root:e}=re.environment;return typeof r=="string"?e.getElementById(r):r};function dF(r,e=0){if(typeof re.environment>"u"||!r.offsetHeight)return!1;const{root:t}=re.environment,s=Ip(t)?t.host.clientHeight:t.documentElement.clientHeight,i=r.getBoundingClientRect(),n=Math.max(s,qe.getInnerHeight()),o=-e,l=n+e,u=i.top,c=i.bottom,h=Math.max(o,u),p=Math.min(l,c);return h<=p}function ym(r){if(!r)return Re.isAvailable()?Re.getDocument().documentElement:void 0;if(r.scrollHeight>r.clientHeight&&(getComputedStyle(r).overflowY==="scroll"||getComputedStyle(r).overflowY==="auto")||r.scrollWidth>r.clientWidth&&(getComputedStyle(r).overflowX==="scroll"||getComputedStyle(r).overflowX==="auto"))return r;if(!r.parentElement){const e=r.getRootNode();if(e instanceof Document||e instanceof ShadowRoot)return Ip(e)?e.host:e.documentElement}return ym(r.parentElement)}function Wg(r){if(!r)return;const e=ym(r);e&&setTimeout(()=>e.dispatchEvent(new CustomEvent("scroll")),10)}function cF(r){const e=qe.getLocation();!r||!e||(e.href=fF(r))}function Tx(r){return r?["url(",r,")"].join(""):""}function hF(r){return typeof r=="string"?/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[^;]+?)*),(.+)$/.test(r):null}const hI={changecamera:"flip-24x24",clear:"clear-24x24",cancel:"cancel-24x24",closecamera:"close-24x24",defaultfile:"file-72x72",choosefile:"folder-24x24",file:"toolbox-file-24x24",left:"chevronleft-16x16",modernbooleancheckchecked:"plus-32x32",modernbooleancheckunchecked:"minus-32x32",more:"more-24x24",navmenu_24x24:"navmenu-24x24",removefile:"error-24x24",takepicture:"camera-32x32",takepicture_24x24:"camera-24x24",v2check:"check-16x16",checked:"check-16x16",v2check_24x24:"check-24x24","back-to-panel_16x16":"restoredown-16x16",clear_16x16:"clear-16x16",close_16x16:"close-16x16",collapsedetail:"collapsedetails-16x16",expanddetail:"expanddetails-16x16","full-screen_16x16":"maximize-16x16",loading:"loading-48x48",minimize_16x16:"minimize-16x16",next_16x16:"chevronright-16x16",previous_16x16:"chevronleft-16x16","no-image":"noimage-48x48","ranking-dash":"rankingundefined-16x16","drag-n-drop":"drag-24x24","ranking-arrows":"reorder-24x24",restore_16x16:"fullsize-16x16",reset:"restore-24x24",search:"search-24x24",average:"smiley-rate5-24x24",excellent:"smiley-rate9-24x24",good:"smiley-rate7-24x24",normal:"smiley-rate6-24x24","not-good":"smiley-rate4-24x24",perfect:"smiley-rate10-24x24",poor:"smiley-rate3-24x24",terrible:"smiley-rate1-24x24","very-good":"smiley-rate8-24x24","very-poor":"smiley-rate2-24x24",add_16x16:"add-16x16",add_24x24:"add-24x24",alert_24x24:"warning-24x24",apply:"apply-24x24","arrow-down":"arrowdown-24x24","arrow-left":"arrowleft-24x24","arrow-left_16x16":"arrowleft-16x16",arrowleft:"arrowleft-16x16","arrow-right":"arrowright-24x24","arrow-right_16x16":"arrowright-16x16",arrowright:"arrowright-16x16","arrow-up":"arrowup-24x24",boolean:"toolbox-boolean-24x24","change-question-type_16x16":"speechbubble-16x16",checkbox:"toolbox-checkbox-24x24","collapse-detail_16x16":"minusbox-16x16","collapse-panel":"collapse-pg-24x24",collapse_16x16:"collapse-16x16","color-picker":"dropper-16x16",comment:"toolbox-longtext-24x24",config:"wrench-24x24",copy:"copy-24x24",default:"toolbox-customquestion-24x24",delete_16x16:"delete-16x16",delete_24x24:"delete-24x24",delete:"delete-24x24","description-hide":"hidehint-16x16",description:"hint-16x16","device-desktop":"desktop-24x24","device-phone":"phone-24x24","device-rotate":"rotate-24x24","device-tablet":"tablet-24x24",download:"download-24x24","drag-area-indicator":"drag-24x24","drag-area-indicator_24x16":"draghorizontal-24x16",v2dragelement_16x16:"draghorizontal-24x16","drop-down-arrow":"chevrondown-24x24","drop-down-arrow_16x16":"chevrondown-16x16",chevron_16x16:"chevrondown-16x16",dropdown:"toolbox-dropdown-24x24",duplicate_16x16:"copy-16x16",edit:"edit-24x24",edit_16x16:"edit-16x16","editing-finish":"finishedit-24x24",error:"error-16x16","expand-detail_16x16":"plusbox-16x16","expand-panel":"expand-pg-24x24",expand_16x16:"expand-16x16",expression:"toolbox-expression-24x24","fast-entry":"textedit-24x24",fix:"fix-24x24",html:"toolbox-html-24x24",image:"toolbox-image-24x24",imagepicker:"toolbox-imagepicker-24x24",import:"import-24x24","invisible-items":"invisible-24x24",language:"language-24x24",load:"import-24x24","logic-collapse":"collapse-24x24","logic-expand":"expand-24x24",logo:"image-48x48",matrix:"toolbox-matrix-24x24",matrixdropdown:"toolbox-multimatrix-24x24",matrixdynamic:"toolbox-dynamicmatrix-24x24",multipletext:"toolbox-multipletext-24x24",panel:"toolbox-panel-24x24",paneldynamic:"toolbox-dynamicpanel-24x24",preview:"preview-24x24",radiogroup:"toolbox-radiogroup-24x24",ranking:"toolbox-ranking-24x24",rating:"toolbox-rating-24x24",slider:"toolbox-slider-24x24",redo:"redo-24x24",remove_16x16:"remove-16x16",required:"required-16x16",save:"save-24x24","select-page":"selectpage-24x24",settings:"settings-24x24",settings_16x16:"settings-16x16",signaturepad:"toolbox-signature-24x24","switch-active_16x16":"switchon-16x16","switch-inactive_16x16":"switchoff-16x16",tagbox:"toolbox-tagbox-24x24",text:"toolbox-singleline-24x24",theme:"theme-24x24",toolbox:"toolbox-24x24",undo:"undo-24x24",visible:"visible-24x24",wizard:"wand-24x24",searchclear:"clear-16x16","chevron-16x16":"chevrondown-16x16",chevron:"chevrondown-24x24",progressbuttonv2:"arrowleft-16x16",right:"chevronright-16x16","add-lg":"add-24x24",add:"add-24x24"};function pF(r){return mF(r)||$v(r)}function $v(r){const e="icon-",t=r.replace(e,""),s=hI[t]||t;return e+s}function mF(r){let e=re.customIcons[r];return e?$v(e):(r=$v(r),e=re.customIcons[r],e||null)}function gF(r,e,t,s,i,n){if(!i)return;r!=="auto"&&(i.style.width=(r||e||16)+"px",i.style.height=(r||t||16)+"px");const o=i.childNodes[0],l=pF(s);o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+l);let u=i.getElementsByTagName("title")[0];if(n)u||(u=Re.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),i.appendChild(u));else{u&&i.removeChild(u);return}u.textContent=n}function fF(r){return r&&(r.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(r):r)}function ia(r){if(typeof r=="string")if(isNaN(Number(r))){if(r.includes("px"))return parseFloat(r)}else return Number(r);if(typeof r=="number")return r}function Tp(r){if(ia(r)===void 0)return r}const Gv="sv-focused--by-key";function pI(r){const e=r.target;!e||!e.classList||e.classList.remove(Gv)}function kx(r,e){if(r.target&&r.target.contentEditable==="true")return;const t=r.target;if(!t)return;const s=r.which||r.keyCode;if(s===9){t.classList&&!t.classList.contains(Gv)&&t.classList.add(Gv);return}if(e){if(!e.__keyDownReceived)return;e.__keyDownReceived=!1}s===13||s===32?t.click&&t.click():(!e||e.processEsc)&&s===27&&t.blur&&t.blur()}function vF(r,e={processEsc:!0}){if(e&&(e.__keyDownReceived=!0),r.target&&r.target.contentEditable==="true")return;var t=r.which||r.keyCode;const s=[13,32];e.processEsc&&s.push(27),s.indexOf(t)!==-1&&r.preventDefault()}function Zw(r,e){if(!r)return;e||(e=o=>Re.getComputedStyle(o));const t=parseFloat(r.getAttribute("rows")||"2"),s=e(r),i=s.overflowY,n=parseFloat(s.lineHeight);if(r.scrollHeight){const o=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)+parseFloat(s.paddingBottom)+parseFloat(s.paddingTop);let l=(r.scrollHeight-o)/n;const u=c=>{r.style.height=c*n+o+"px"};for(u(l),r.style.overflowY="hidden";r.scrollHeight<=r.offsetHeight&&l>t;)l--,u(l);r.style.overflowY=i,r.scrollHeight>r.offsetHeight&&(l++,u(l))}else r.style.height="auto"}function Jw(r){r.preventDefault(),r.stopPropagation()}function Cr(r){if(!r)return r;const e=/\s*?([\w-]+)\s*?/g;return r.replace(e,".$1")}function Zv(r){return getComputedStyle?Number.parseFloat(getComputedStyle(r).width):r.offsetWidth}function Nx(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)}function yF(r){let e;for(let t=0;t<r.children.length;t++)!e&&getComputedStyle(r.children[t]).display!=="none"&&(e=r.children[t]);return e}function Nd(r,e){if(!(!e||!r)&&typeof e=="object")for(var t in r){var s=r[t];!Array.isArray(s)&&s&&typeof s=="object"?((!e[t]||typeof e[t]!="object")&&(e[t]={}),Nd(s,e[t])):e[t]=s}}function xm(r,e){const t={};Nd(e.list,t),Nd(r.list,t),r.list=t}function mI(r,e,t={}){const s=new as(void 0,!1);s.defaultValue=r||t.message;const i=re.showDialog({componentName:"sv-string-viewer",data:{locStr:s,locString:s,model:s},onApply:()=>(e(!0),!0),onCancel:()=>(e(!1),!1),displayMode:"popup",isFocusedContent:!1,cssClass:t.cssClass||"sv-popup--confirm"},t.rootElement),n=i.footerToolbar,o=n.getActionById("apply"),l=n.getActionById("cancel");return l.title=os("cancel",t.locale),o.title=t.applyTitle||os("ok",t.locale),o.innerCss="sd-btn--danger",xF(i),!0}function xF(r){r.width="min-content"}function bF(r,e){qe.isFileReaderAvailable()&&(r.value="",r.onchange=t=>{if(!qe.isFileReaderAvailable()||!r||!r.files||r.files.length<1)return;let s=[];for(let i=0;i<r.files.length;i++)s.push(r.files[i]);e(s)},r.click())}function CF(r,e,t){const s=new Map,i=new Map,n=new Map,o=new Map;r.forEach(x=>{const g=t(x);if(!s.has(g))s.set(t(x),x);else throw new Error("keys must be unique")}),e.forEach(x=>{const g=t(x);if(!i.has(g))i.set(g,x);else throw new Error("keys must be unique")});const l=[],u=[];i.forEach((x,g)=>{s.has(g)?n.set(g,n.size):l.push(x)}),s.forEach((x,g)=>{i.has(g)?o.set(g,o.size):u.push(x)});const c=[];n.forEach((x,g)=>{const y=o.get(g),w=i.get(g);y!==x&&c.push({item:w,movedForward:y<x})});const h=new Array(r.length);let p=0;const m=Array.from(n.keys());r.forEach((x,g)=>{n.has(t(x))?(h[g]=i.get(m[p]),p++):h[g]=x});const v=new Map;let f=[];h.forEach(x=>{const g=t(x);i.has(g)?f.length>0&&(v.set(g,f),f=[]):f.push(x)});const b=new Array;return i.forEach((x,g)=>{v.has(g)&&v.get(g).forEach(y=>{b.push(y)}),b.push(x)}),f.forEach(x=>{b.push(x)}),{reorderedItems:c,deletedItems:u,addedItems:l,mergedItems:b}}function wF(r){if(Re.isAvailable()){const{paddingTop:e,paddingBottom:t,borderTopWidth:s,borderBottomWidth:i,marginTop:n,marginBottom:o,boxSizing:l}=Re.getComputedStyle(r);let u=r.offsetHeight+"px";if(l=="content-box"){let c=r.offsetHeight;[i,s,t,e].forEach(h=>{c-=parseFloat(h)}),u=c+"px"}return{paddingTop:e,paddingBottom:t,borderTopWidth:s,borderBottomWidth:i,marginTop:n,marginBottom:o,heightFrom:"0px",heightTo:u}}else return}function Rd(r,e,t="--animation-"){var s;r.__sv_created_properties=(s=r.__sv_created_properties)!==null&&s!==void 0?s:[],Object.keys(e).forEach(i=>{const n=`${t}${i.split(/\.?(?=[A-Z])/).join("-").toLowerCase()}`;r.style.setProperty(n,e[i]),r.__sv_created_properties.push(n)})}function pn(r){Rd(r,wF(r))}function Br(r){Array.isArray(r.__sv_created_properties)&&(r.__sv_created_properties.forEach(e=>{r.style.removeProperty(e)}),delete r.__sv_created_properties)}function SF(r){return Math.floor(r*100)/100}const Yc=typeof globalThis<"u"?globalThis.document:(void 0).document,EF=Yc?{root:Yc,_rootElement:Re.getBody(),get rootElement(){var r;return(r=this._rootElement)!==null&&r!==void 0?r:Re.getBody()},set rootElement(r){this._rootElement=r},_popupMountContainer:Re.getBody(),get popupMountContainer(){var r;return(r=this._popupMountContainer)!==null&&r!==void 0?r:Re.getBody()},set popupMountContainer(r){this._popupMountContainer=r},svgMountContainer:Yc.head,stylesSheetsMountContainer:Yc.head}:void 0,VF={file:{minWidth:"240px"},comment:{minWidth:"200px"}};var re={version:"",designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(r){this.designMode.showEmptyDescriptions=r},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(r){this.designMode.showEmptyTitles=r},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(r){this.localization.useLocalTimeZone=r},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(r){this.localization.storeDuplicatedTranslations=r},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(r){this.localization.defaultLocaleName=r},web:{onBeforeRequestChoices:(r,e)=>{},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(r){this.web.encodeUrlParams=r},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(r){this.web.cacheLoadedChoices=r},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(r){this.web.cacheLoadedChoices=r},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(r){this.web.disableQuestionWhileLoadingChoices=r},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(r){this.triggers.executeCompleteOnValueChanged=r},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(r){this.triggers.changeNavigationButtonsOnComplete=r},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(r){this.triggers.executeSkipOnValueChanged=r},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1,matrixDropdownColumnSerializeTitle:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(r){this.serialization.itemValueSerializeAsObject=r},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(r){this.serialization.itemValueSerializeDisplayText=r},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(r){this.serialization.localizableStringSerializeAsObject=r},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(r){this.lazyRender.enabled=r},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(r){this.lazyRender.firstBatchSize=r},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:VF,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(r){this.matrix.defaultRowName=r},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(r){this.matrix.defaultCellType=r},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(r){this.matrix.totalsSuffix=r},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(r){this.matrix.maxRowCount=r},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(r){this.matrix.maxRowCountInCondition=r},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(r){this.matrix.renderRemoveAsIcon=r},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(r){this.panel.maxPanelCountInCondition=r},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(r){this.panel.maxPanelCount=r},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(r){this.readOnly.commentRenderMode=r},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(r){this.readOnly.textRenderMode=r},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(r){this.numbering.includeQuestionsWithHiddenTitle=r},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(r){this.numbering.includeQuestionsWithHiddenNumber=r},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:(r,e)=>r},expressionDisableConversionChar:"#",get commentPrefix(){return re.commentSuffix},set commentPrefix(r){re.commentSuffix=r},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:void 0,confirmActionAsync:(r,e,t)=>{mI(r,e,t)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,itemFlowDirection:"column",get showItemsInOrder(){return re.itemFlowDirection},set showItemsInOrder(r){re.itemFlowDirection=r},noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},expressionVariables:{question:"self",matrix:"matrix",composite:"composite",item:"item",choice:"choice",row:"row",totalRow:"totalRow",rowIndex:"rowIndex",visibleRowIndex:"visibleRowIndex",rowValue:"rowValue",rowName:"rowName",rowTitle:"rowTitle",panel:"panel",parentPanel:"parentPanel",panelIndex:"panelIndex",visiblePanelIndex:"visiblePanelIndex",unwrapPostfix:"-unwrapped"},minDate:"",maxDate:"",showDialog:void 0,showDefaultItemsInCreator:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:EF,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"div",page:"div",panel:"div",question:"div"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,onDateCreated:(r,e,t)=>r,parseNumber:(r,e)=>e};class kr{constructor(e=null,t=null){this.text=e,this.errorOwner=t,this.visible=!0,this.onUpdateErrorTextCallback=void 0}equals(e){return!e||!e.getErrorType||this.getErrorType()!==e.getErrorType()?!1:this.text===e.text&&this.visible===e.visible}get locText(){return this.locTextValue||(this.locTextValue=new as(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue}getText(){var e=this.text;return e||(e=this.getDefaultText()),this.errorOwner&&(e=this.errorOwner.getErrorCustomText(e,this)),e}getErrorType(){return"base"}getDefaultText(){return""}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getLocalizationString(e){return os(e,this.getLocale())}updateText(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()}}class PF extends kr{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"required"}getDefaultText(){return this.getLocalizationString("requiredError")}}class IF extends kr{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requireoneanswer"}getDefaultText(){return this.getLocalizationString("requiredErrorInPanel")}}class TF extends kr{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requirenumeric"}getDefaultText(){return this.getLocalizationString("numericError")}}class kF extends kr{constructor(e,t=null){super(null,t),this.maxSize=e,this.locText.text=this.getText()}getErrorType(){return"exceedsize"}getDefaultText(){return this.getLocalizationString("exceedMaxSize").format(this.getTextSize())}getTextSize(){var e=["Bytes","KB","MB","GB","TB"],t=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var s=Math.floor(Math.log(this.maxSize)/Math.log(1024)),i=this.maxSize/Math.pow(1024,s);return i.toFixed(t[s])+" "+e[s]}}class Kw extends kr{constructor(e,t,s=null){super(null,s),this.status=e,this.response=t}getErrorType(){return"webrequest"}getDefaultText(){const e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""}}class NF extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"webrequestempty"}getDefaultText(){return this.getLocalizationString("urlGetChoicesError")}}class RF extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"otherempty"}getDefaultText(){return this.getLocalizationString("otherRequiredError")}}class Xc extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"uploadingfile"}getDefaultText(){return this.getLocalizationString("uploadingFile")}}class LF extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"requiredinallrowserror"}getDefaultText(){return this.getLocalizationString("requiredInAllRowsError")}}class AF extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"eachrowuniqueeerror"}getDefaultText(){return this.getLocalizationString("eachRowUniqueError")}}class DF extends kr{constructor(e,t=null){super(null,t),this.minRowCount=e}getErrorType(){return"minrowcounterror"}getDefaultText(){return this.getLocalizationString("minRowCountError").format(this.minRowCount)}}class gI extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"keyduplicationerror"}getDefaultText(){return this.getLocalizationString("keyDuplicationError")}}class qr extends kr{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"custom"}}class fI{constructor(e){this.onCompleted=e,this.asyncElements={},this.isRunningValue=!0}addElement(e){this.asyncElements[e]=!0}removeElement(e){delete this.asyncElements[e],this.tryComplete()}finish(){this.isRunningValue=!1,this.tryComplete()}get isRunning(){return this.isRunningValue||Object.keys(this.asyncElements).length>0}doCompleted(){this.onCompleted&&this.onCompleted()}tryComplete(){this.isRunning||this.doCompleted()}}class Fi{constructor(e,t=null){this.value=e,this.error=t}}class xn extends He{constructor(){super(),this.idValue="svd"+xn.idCounter++,this.createLocalizableString("text",this,!0)}get id(){return this.idValue}get isValidator(){return!0}getSurvey(e=!1){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null}get text(){return this.getLocalizableStringText("text")}set text(e){this.setLocalizableStringText("text",e)}get isValidateAllValues(){return!1}get locText(){return this.getLocalizableString("text")}getErrorText(e){return this.text?this.text:this.getDefaultErrorText(e)}getDefaultErrorText(e){return""}validateOnCallback(e,t,s,i){const n=this.validate(e,s,i);return n!==void 0&&t&&t(n),n}validate(e,t,s){return null}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getMarkdownHtml(e,t,s){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.errorOwner?this.errorOwner.getRenderer(e):null}getRendererContext(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e}getProcessedText(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e}createCustomError(e){const t=new qr(this.getErrorText(e),this.errorOwner);return t.onUpdateErrorTextCallback=s=>s.text=this.getErrorText(e),t}toString(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e}}xn.idCounter=0;class MF{run(e){const t=e.getValidators(),s=new Array,i=new fI(()=>{this.onAsyncCompleted&&this.onAsyncCompleted(s)});if(t.length>0){const o=e.getDataFilteredProperties(),l=e.validatedValue,u=e.getValidatorTitle();t.forEach(c=>{i.addElement(c.id),c.validateOnCallback(l,h=>{h&&h.error&&s.push(h.error),i.removeElement(c.id)},u,o)})}const n=[].concat(...s);return s.length=0,i.finish(),n}}class jF extends xn{constructor(e=null,t=null){super(),this.minValue=e,this.maxValue=t}getType(){return"numericvalidator"}validate(e,t,s){if(this.isValueEmpty(e))return null;if(!Y.isNumber(e))return new Fi(null,new TF(this.text,this.errorOwner));const i=new Fi(Y.getNumber(e));return this.minValue!==null&&this.minValue>i.value?(i.error=this.createCustomError(t),i):this.maxValue!==null&&this.maxValue<i.value?(i.error=this.createCustomError(t),i):typeof e=="number"?null:i}getDefaultErrorText(e){var t=e||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",t,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",t,this.minValue):this.getLocalizationFormatString("numericMax",t,this.maxValue)}get minValue(){return this.getPropertyValue("minValue")}set minValue(e){this.setPropertyValue("minValue",e)}get maxValue(){return this.getPropertyValue("maxValue")}set maxValue(e){this.setPropertyValue("maxValue",e)}}class _F extends xn{constructor(){super()}getType(){return"textvalidator"}validate(e,t,s){if(this.isValueEmpty(e))return null;if(!this.allowDigits){var i=/\d+$/;if(i.test(e))return new Fi(null,this.createCustomError("textNoDigitsAllow"))}return this.minLength>0&&e.length<this.minLength?new Fi(null,this.createCustomError(t)):this.maxLength>0&&e.length>this.maxLength?new Fi(null,this.createCustomError(t)):null}getDefaultErrorText(e){return e==="textNoDigitsAllow"?this.getLocalizationString(e):this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)}get minLength(){return this.getPropertyValue("minLength")}set minLength(e){this.setPropertyValue("minLength",e)}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e)}get allowDigits(){return this.getPropertyValue("allowDigits")}set allowDigits(e){this.setPropertyValue("allowDigits",e)}}class OF extends xn{constructor(e=null,t=null){super(),this.minCount=e,this.maxCount=t}getType(){return"answercountvalidator"}validate(e,t,s){if(e==null||e.constructor!=Array)return null;var i=e.length;return i==0?null:this.minCount&&i<this.minCount?new Fi(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&i>this.maxCount?new Fi(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null}getDefaultErrorText(e){return e}get minCount(){return this.getPropertyValue("minCount")}set minCount(e){this.setPropertyValue("minCount",e)}get maxCount(){return this.getPropertyValue("maxCount")}set maxCount(e){this.setPropertyValue("maxCount",e)}}class FF extends xn{constructor(e=null){super(),this.regex=e}getType(){return"regexvalidator"}validate(e,t,s){if(!this.regex||this.isValueEmpty(e))return null;const i=this.createRegExp();if(Array.isArray(e))for(let n=0;n<e.length;n++){const o=this.hasError(i,e[n],t);if(o)return o}return this.hasError(i,e,t)}hasError(e,t,s){return e.test(t)?null:new Fi(t,this.createCustomError(s))}get regex(){return this.getPropertyValue("regex")}set regex(e){this.setPropertyValue("regex",e)}get caseInsensitive(){return this.getPropertyValue("caseInsensitive")}set caseInsensitive(e){this.setPropertyValue("caseInsensitive",e)}get insensitive(){return this.caseInsensitive}set insensitive(e){this.caseInsensitive=e}createRegExp(){return new RegExp(this.regex,this.caseInsensitive?"i":"")}}class vI extends xn{constructor(){super(),this.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i}getType(){return"emailvalidator"}validate(e,t,s){return!e||this.re.test(e)?null:new Fi(e,this.createCustomError(t))}getDefaultErrorText(e){return this.getLocalizationString("invalidEmail")}}class BF extends xn{constructor(e=null){super(),this.conditionRunner=null,this.expression=e}getType(){return"expressionvalidator"}get isValidateAllValues(){return!0}validateOnCallback(e,t,s,i){if(this.conditionRunner&&(this.conditionRunner.onRunComplete=null),!this.ensureConditionRunner())return null;let n=null;const o=u=>{n=this.generateError(u,e,s),t&&t(n)};if(this.conditionRunner.onRunComplete=u=>{o(u)},!this.conditionRunner.canRun())return o(l),n;var l=this.conditionRunner.runContext(this.getValueGetterContext(),this.getPropertiesCopy(i,"expression"));return n||this.generateError(l,e,s)}generateError(e,t,s){return e?null:new Fi(t,this.createCustomError(s))}getDefaultErrorText(e){return this.getLocalizationFormatString("invalidExpression",this.expression)}ensureConditionRunner(){const e=this.getExpressionFromSurvey("expression");return e?(this.conditionRunner=new Ci(e),!0):!1}get expression(){return this.getPropertyValue("expression")}set expression(e){this.setPropertyValue("expression",e)}getValueGetterContext(){const e=this.errorOwner;return e&&e.getValueGetterContext?e.getValueGetterContext():super.getValueGetterContext()}}ce.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]);ce.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new jF},"surveyvalidator");ce.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new _F},"surveyvalidator");ce.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new OF},"surveyvalidator");ce.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new FF},"surveyvalidator");ce.addClass("emailvalidator",[],function(){return new vI},"surveyvalidator");ce.addClass("expressionvalidator",["expression:condition"],function(){return new BF},"surveyvalidator");class qF{constructor(e,t){this.name=e,this.widgetJson=t,this.htmlTemplate=t.htmlTemplate?t.htmlTemplate:""}afterRender(e,t){this.widgetJson.afterRender&&(e.localeChangedCallback=()=>{this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t),this.widgetJson.afterRender(e,t)},this.widgetJson.afterRender(e,t))}willUnmount(e,t){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t)}getDisplayValue(e,t=void 0){return this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(e,t):null}validate(e){if(this.widgetJson.validate)return this.widgetJson.validate(e)}isFit(e){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(e):!1}get canShowInToolbox(){return this.widgetJson.showInToolbox===!1||kp.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()}get showInToolbox(){return this.widgetJson.showInToolbox!==!1}set showInToolbox(e){this.widgetJson.showInToolbox=e}init(){this.widgetJson.init&&this.widgetJson.init()}activatedByChanged(e){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(e)}isLibraryLoaded(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0}get isDefaultRender(){return this.widgetJson.isDefaultRender}get pdfQuestionType(){return this.widgetJson.pdfQuestionType}get pdfRender(){return this.widgetJson.pdfRender}}class kp{constructor(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new rI}get widgets(){return this.widgetsValues}add(e,t="property"){this.addCustomWidget(e,t)}addCustomWidget(e,t="property"){var s=e.name;s||(s="widget_"+this.widgets.length+1);var i=new qF(s,e);return this.widgetsValues.push(i),i.init(),this.widgetsActivatedBy[s]=t,i.activatedByChanged(t),this.onCustomWidgetAdded.fire(i,null),i}getActivatedBy(e){var t=this.widgetsActivatedBy[e];return t||"property"}setActivatedBy(e,t){if(!(!e||!t)){var s=this.getCustomWidgetByName(e);s&&(this.widgetsActivatedBy[e]=t,s.activatedByChanged(t))}}clear(){this.widgetsValues=[]}getCustomWidgetByName(e){for(var t=0;t<this.widgets.length;t++)if(this.widgets[t].name==e)return this.widgets[t];return null}getCustomWidget(e){for(var t=0;t<this.widgetsValues.length;t++)if(this.widgetsValues[t].isFit(e))return this.widgetsValues[t];return null}}kp.Instance=new kp;class mn{constructor(){this.renderersHash={},this.defaultHash={}}unregisterRenderer(e,t){delete this.renderersHash[e][t],this.defaultHash[e]===t&&delete this.defaultHash[e]}registerRenderer(e,t,s,i=!1){this.renderersHash[e]||(this.renderersHash[e]={}),this.renderersHash[e][t]=s,i&&(this.defaultHash[e]=t)}getRenderer(e,t){const s=this.renderersHash[e];if(s){if(t&&s[t])return s[t];const i=this.defaultHash[e];if(i&&s[i])return s[i]}return"default"}getRendererByQuestion(e){return this.getRenderer(e.getType(),e.renderAs)}clear(){this.renderersHash={}}}mn.Instance=new mn;class Rx{updateElement(){this.element&&this.autoGrow&&setTimeout(()=>Zw(this.element),1)}constructor(e){this.options=e,this.onPropertyChangedCallback=()=>{this.element&&(this.element.value=this.getTextValue(),this.updateElement())},this.question.registerFunctionOnPropertiesValueChanged(this.options.propertyNames,this.onPropertyChangedCallback,"__textarea")}setElement(e){e&&(this.element=e,this.updateElement())}resetElement(){this.element=void 0}getTextValue(){return this.options.getTextValue&&this.options.getTextValue()||""}onTextAreaChange(e){this.options.onTextAreaChange&&this.options.onTextAreaChange(e)}onTextAreaInput(e){this.options.onTextAreaInput&&this.options.onTextAreaInput(e),this.element&&this.autoGrow&&Zw(this.element)}onTextAreaKeyDown(e){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(e)}onTextAreaBlur(e){this.onTextAreaChange(e),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(e)}onTextAreaFocus(e){var t;this.options.onTextAreaFocus&&this.options.onTextAreaFocus(e),this.isReadOnlyAttr&&((t=e==null?void 0:e.target)===null||t===void 0||t.select())}get question(){return this.options.question}get id(){return this.options.id()}get placeholder(){return this.options.placeholder()}get className(){return this.options.className()}get maxLength(){if(this.options.maxLength)return this.options.maxLength()}get autoGrow(){if(this.options.autoGrow)return this.options.autoGrow()}get rows(){if(this.options.rows)return this.options.rows()}get cols(){if(this.options.cols)return this.options.cols()}get isDisabledAttr(){return this.options.isDisabledAttr()}get isReadOnlyAttr(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()}get ariaRequired(){if(this.options.ariaRequired)return this.options.ariaRequired()}get ariaLabel(){if(this.options.ariaLabel)return this.options.ariaLabel()}get ariaInvalid(){if(this.options.ariaInvalid)return this.options.ariaInvalid()}get ariaLabelledBy(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()}get ariaDescribedBy(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()}get ariaErrormessage(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()}dispose(){this.question&&this.question.unRegisterFunctionOnPropertiesValueChanged(this.options.propertyNames,"__textarea"),this.resetElement()}}class bm{constructor(e,t){this.question=e,this.isUnwrapped=t}getValue(e,t,s,i){const n=re.expressionVariables;if(e.length===0||e.length===1&&e[0].name===n.question)return this.getQuestionValue(s);if(e.length>1&&e[0].name===n.panel){const o=this.question.parent;if(o&&o.isPanel)return e.shift(),new Lx(o.questions).getValue(e,!1,s,i)}if(!this.question.isEmpty()){let o=this.question.value;if(s>=0){if(!Array.isArray(o||s>=o.length))return;o=o[s]}return new bi(o).getValue(e,!1,s,i)}}getTextValue(e,t,s){return s?this.question.getDisplayValue(!0,t):t}getRootObj(){return this.question.data}getQuestion(){return this.question}getSurveyValue(e,t){const s=this.question.getSurvey();if(s)return s.getValueGetterContext().getValue(e,!1,t,!1)}getQuestionValue(e){const t=this.question;let s=t.getFilteredValue(this.isUnwrapped);return e>-1&&Array.isArray(s)&&(s=e<s.length?s[e]:void 0),{isFound:!0,context:this,value:s,requireStrictCompare:t.requireStrictCompare}}}class yI extends ma{getValueFromBindedQuestions(e,t){typeof t!="object"&&(t=void 0);const s=e.length===1?e[0].name:"",i=this.getQuestionsBySameValueNames();for(let n=0;n<i.length;n++){const o=i[n];if(s&&o.valuePropertyName===s&&t&&t.hasOwnProperty(s))return{isFound:!0,value:t[s],context:o.getValueGetterContext()};const l=o.getValueGetterContext().getValue(e,!1,this.getIndex(),!1);if(l&&l.isFound)return l}}getQuestionsBySameValueNames(){const e=new Array,t=this.getQuestionData();return!t||!t.isQuestion||(t.parent&&t.parent.isPanel&&this.fillQuestions(t.parent.getQuestionsByValueName(t.getValueName()),t,e),e.length===0&&t.survey&&this.fillQuestions(t.survey.getQuestionsByValueName(t.getValueName()),t,e)),e}fillQuestions(e,t,s){Array.isArray(e)&&e.forEach(i=>{i!==t&&s.push(i)})}getRootObj(){return this.getQuestionData()}}class Lx extends ma{constructor(e){super(),this.questions=e}updateValueByItem(e,t){const s=e.toLocaleLowerCase(),i=re.expressionVariables.unwrapPostfix;for(let n=0;n<this.questions.length;n++){const o=this.questions[n],l=o.getFilteredName().toLocaleLowerCase();if(l.toLocaleLowerCase()===s){t.isFound=!0,t.context=o.getValueGetterContext(l.endsWith(i));break}}}}class Cl extends fI{constructor(e){super(()=>{this.setCallbackResult()}),this.res=!0,this.errorCountValue=0,e||(e={fireCallback:!0}),this.fireCallbackValue=e.fireCallback||!1,this.isOnValueChangedValue=e.isOnValueChanged||!1,this.focusOnFirstErrorValue=e.focusOnFirstError||!1,this.callbackResult=e.callbackResult||null,this.changeCurrentPage=e.changeCurrentPage||!1}get fireCallback(){return this.fireCallbackValue}get isOnValueChanged(){return this.isOnValueChangedValue}get focusOnFirstError(){return this.focusOnFirstErrorValue}get result(){return this.res}get runningResult(){return!this.res||!this.isRunning||!this.callbackResult?this.res:void 0}setError(e){this.errorCountValue++,this.res=!1,e&&(e.isQuestion?this.setQuestionError(e):e.isCollapsed&&e.expand())}get firstErrorQuestion(){return this.firstErrorQuestionValue}get errorCount(){return this.errorCountValue}setCallbackResult(){this.callbackResult&&!this.isCallbackFired&&(this.isCallbackFired=!0,this.callbackResult(this.res,this.firstErrorQuestion))}setQuestionError(e){if(e.expandAllParents(),!this.firstErrorQuestionValue){if(this.firstErrorQuestionValue=e,this.focusOnFirstError||this.changeCurrentPage)if(this.focusOnFirstError)e.focus(!0);else{const t=e.getSurvey();t&&e.page&&(t.currentPage=e.page)}this.setCallbackResult()}}}class rs extends Vt{static getQuestionId(){return"sq_"+rs.questionCounter++}isReadOnlyRenderDiv(){return this.isReadOnly&&re.readOnly.commentRenderMode==="div"}allowMobileInDesignMode(){return!1}updateIsMobileFromSurvey(){this.setIsMobile(this.survey._isMobile)}setIsMobile(e){const t=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=t}getIsMobile(){return this._isMobile}get isMobile(){return this.getIsMobile()}set isMobile(e){this._isMobile=e}themeChanged(e){}get _isMobile(){return this.getPropertyValue("_isMobile",!1)}set _isMobile(e){this.setPropertyValue("_isMobile",e)}get forceIsInputReadOnly(){return this.getPropertyValue("forceIsInputReadOnly")}set forceIsInputReadOnly(e){this.setPropertyValue("forceIsInputReadOnly",e)}get ariaExpanded(){return this.isNewA11yStructure?null:this.getPropertyValue("ariaExpanded")}set ariaExpanded(e){this.setPropertyValue("ariaExpanded",e)}constructor(e){super(e),this.customWidgetData={isNeedRender:!0},this.hasCssErrorCallback=()=>!1,this.triggersInfo=[],this.isReadyValue=!0,this.dependedQuestions=[],this.onReadyChanged=this.addEvent(),this.isValueChangedInSurvey=!1,this.allowNotifyValueChanged=!0,this._syncPropertiesChanging=!1,this.setPropertyValueDirectly("id",rs.getQuestionId()),this.onCreating(),this.createNewArray("validators",t=>{t.errorOwner=this}),this.addExpressionProperty("visibleIf",(t,s)=>{this.visible=s===!0}),this.addExpressionProperty("enableIf",(t,s)=>{this.readOnly=s===!1}),this.addExpressionProperty("requiredIf",(t,s)=>{this.isRequired=s===!0}),this.createLocalizableString("commentText",this,!0,!0),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("commentPlaceholder",this),this.createLocalizableString("defaultDisplayValue",this),this.addTriggersInfo(),this.registerPropertyChangedHandlers(["width"],()=>{this.updateQuestionCss(),this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["isRequired"],()=>{!this.isRequired&&this.errors.length>0&&this.validate(),this.locTitle.strChanged(),this.clearCssClasses()}),this.registerPropertyChangedHandlers(["indent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],()=>{this.initCommentFromSurvey()}),this.registerPropertyChangedHandlers(["commentPlaceholder"],()=>{this.resetRenderedCommentPlaceholder()}),this.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],()=>{this.updateQuestionCss()}),this.registerPropertyChangedHandlers(["_isMobile"],()=>{this.onMobileChanged()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var t;(t=this.parent)===null||t===void 0||t.updateColumns()})}getDefaultTitle(){return this.name}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.storeDefaultText=!0,e.onGetTextCallback=(t,s)=>(!t&&!s&&(t=this.getDefaultTitle()),this.survey?this.survey.getUpdatedQuestionTitle(this,t):t),this.locProcessedTitle=new as(this,!0),this.locProcessedTitle.sharedData=e,e}get locRenderedTitle(){return this.isSingleInputActive&&this.singleInputLocTitle?this.singleInputLocTitle:this.locTitle}get commentTextAreaModel(){return this.commentTextAreaModelValue||(this.commentTextAreaModelValue=new Rx(this.getCommentTextAreaOptions())),this.commentTextAreaModelValue}getCommentTextAreaOptions(){return{question:this,id:()=>this.commentId,propertyNames:["comment"],className:()=>this.cssClasses.comment,placeholder:()=>this.renderedCommentPlaceholder,isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,autoGrow:()=>this.autoGrowComment,maxLength:()=>this.getOthersMaxLength(),ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,getTextValue:()=>this.comment,onTextAreaChange:t=>{this.onCommentChange(t)},onTextAreaInput:t=>{this.onCommentInput(t)}}}getSurvey(e=!1){return e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():super.getSurvey()}getValueName(){return this.valueName?this.valueName.toString():this.name}get valueName(){return this.getPropertyValue("valueName","")}set valueName(e){var t=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(t)}onValueNameChanged(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())}onNameChanged(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)}get isReady(){return this.isReadyValue}onAsyncRunningChanged(){this.updateIsReady()}ensureQuestionIsReady(){this.displayValue}waitForQuestionIsReady(e){return new Promise(t=>{if(this.ensureQuestionIsReady(),this.isReady)t(),e&&e();else{const s=(i,n)=>{n.isReady&&(this.onReadyChanged.remove(s),t(),e&&e())};this.onReadyChanged.add(s)}})}updateIsReady(){let e=this.getIsQuestionReady();if(e){const t=this.getIsReadyDependsOn();for(let s=0;s<t.length;s++)if(!t[s].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)}getIsQuestionReady(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()}getAreNestedQuestionsReady(){const e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(let t=0;t<e.length;t++)if(!e[t].isReady)return!1;return!0}getIsReadyNestedQuestions(){return this.getNestedQuestions()}setIsReady(e){const t=this.isReadyValue;this.isReadyValue=e,t!=e&&(this.getIsReadyDependends().forEach(s=>s.updateIsReady()),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:t}))}getIsReadyDependsOn(){return this.getIsReadyDependendCore(!0)}getIsReadyDependends(){return this.getIsReadyDependendCore(!1)}getDependedQuestionsByValueName(e){return this.survey.questionsByValueName(this.getValueName())}getIsReadyDependendCore(e){if(!this.survey)return[];const t=this.getDependedQuestionsByValueName(e),s=new Array;return t.forEach(i=>{i!==this&&s.push(i)}),e||(this.parentQuestion&&s.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(i=>s.push(i))),s}choicesLoaded(){}get page(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}getPanel(){return null}delete(e=!0){this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}addDependedQuestion(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)}removeDependedQuestion(e){if(e){var t=this.dependedQuestions.indexOf(e);t>-1&&this.dependedQuestions.splice(t,1)}}updateDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()}updateDependedQuestion(){}resetDependedQuestion(){}get isFlowLayout(){return this.getLayoutType()==="flow"}getLayoutType(){return this.parent?this.parent.getChildrenLayoutType():"row"}isLayoutTypeSupported(e){return e!=="flow"}get visible(){return this.getPropertyValue("visible")}set visible(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChangedCore(),this.notifySurveyVisibilityChanged())}onVisibleChanged(){const e=this.getPropertyValue("isVisible");this.onVisibleChangedCore();const t=this.getPropertyValue("isVisible");e!==void 0&&e!==t&&this.notifySurveyVisibilityChanged()}onVisibleChangedCore(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.onHidingContent()}updateElementVisibility(){this.updateIsVisibleProp()}updateIsVisibleProp(){const e=this.getPropertyValue("isVisible"),t=this.isVisible;e!==t&&(this.setPropertyValue("isVisible",t),t||this.onHidingContent()),t!==this.visible&&this.areInvisibleElementsShowing&&this.updateQuestionCss(!0)}get useDisplayValuesInDynamicTexts(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")}set useDisplayValuesInDynamicTexts(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)}getUseDisplayValuesInDynamicTexts(){return this.useDisplayValuesInDynamicTexts}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get isVisible(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()}get isVisibleInSurvey(){return this.isVisible&&this.isParentVisible}isVisibleCore(){return this.visible}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}onHidingContent(){}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyVisibilityChanged()}get hideNumber(){return!this.showNumber}set hideNumber(e){this.showNumber=!e}get isAllowTitleLeft(){return!0}getType(){return"question"}get isQuestion(){return!0}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}getProgressInfo(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:super.getProgressInfo()}runTriggerInfo(e,t,s){this.runExpressionByProperty(e.name,s,i=>{e.doComplete(i,s)},i=>e.canRun()?!t||this.canExecuteTriggerByKeys(t,i,this.getExpressionByProperty(e.secondName)):!1)}canExecuteTriggerByKeys(e,t,s){!t&&s&&(t=s,s=void 0);const i=this.canExecuteTriggerByKeysCore(e,t);return i==="var"?!0:s?this.canExecuteTriggerByKeysCore(e,s)!=="":i==="func"||i==="const"}canExecuteTriggerByKeysCore(e,t){if(!t.expression)return"";const s=t.getVariables();return!Array.isArray(s)||s.length===0?t.hasFunction()?"func":"const":new Zn().isAnyKeyChanged(e,s)?"var":""}getValueGetterContext(e){return new bm(this,e)}addTriggersInfo(){this.addTriggerInfo({name:"resetValueIf",canRun:()=>!this.isEmpty(),doComplete:(e,t)=>{e===!0&&(this.startSetValueOnExpression(),this.updateValueWithDefaultsOrClear(),this.finishSetValueOnExpression())}}),this.addTriggerInfo({name:"setValueIf",secondName:"setValueExpression",canRun:()=>!0,doComplete:(e,t)=>{if(e)if(!this.setValueExpression)this.clearValue();else{const s={name:"setValueExpression",canRun:()=>!0,doComplete:(i,n)=>this.runExpressionSetValue(i)};this.runTriggerInfo(s,void 0,t)}}}),this.addTriggerInfo({name:"setValueExpression",canRun:()=>!this.setValueIf,doComplete:(e,t)=>this.runExpressionSetValue(e)})}addTriggerInfo(e){this.triggersInfo.push(e)}runTriggers(e,t,s){if(this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e)return;s||(s={},s[e]=t);const i=this.getDataFilteredProperties();this.triggersInfo.forEach(n=>{this.runTriggerInfo(n,s,i)})}runConditions(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredProperties()),this.locStrsChanged())}setSurveyImpl(e,t){super.setSurveyImpl(e),this.survey&&(this.survey.questionCreated(this),t!==!0&&this.runConditions(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),e&&this.updateQuestionCss(),this.onParentChanged())}onParentChanged(){}calculateSingleInputQuestion(){if(!this.isSingleInputActive)return;const e=this.getSingleInputQuestions();if(Array.isArray(e)&&e.length>0){const t=e[0];return this.onBeforeSetSingleInputQuestion(t),t}}get singleInputQuestion(){const e=this.survey;if(!(!e||!e.isSingleVisibleInput))return this.getPropertyValue("singleInputQuestion",void 0,()=>this.calculateSingleInputQuestion())}get currentSingleInputQuestion(){let e=this.singleInputQuestion;for(;e&&e.singleInputQuestion&&e.singleInputQuestion!==e;)e=e.singleInputQuestion;return e}get currentSingleInputParentQuestion(){const e=this.currentSingleInputQuestion;return e?e.singleInputQuestion===e?e:e.parentQuestion||this:this}get singleInputSummary(){return this.getPropertyValue("singleInputSummary",void 0,()=>{if(!this.supportNestedSingleInput())return;const e=this.singleInputQuestion;if(!e||e!==this)return;const t=this.createSingleInputSummary();return t&&(this.calcSingleInputActions(),this.resetPropertyValue("singleInputLocTitle")),t})}createSingleInputSummary(){}get rootParentQuestion(){let e=this;for(;e.parentQuestion;)e=e.parentQuestion;return e}getParentQuestions(){const e=new Array;let t=this;for(;t.parentQuestion;)e.push(t.parentQuestion),t=t.parentQuestion;return e}resetSingleInput(){this.resetSingleInputCore()}resetSingleInputCore(){const e=this.getPropertyValue("singleInputQuestion");this.resetPropertyValue("singleInputQuestion"),e&&this.onSingleInputChanged()}onSingleInputChanged(e=!0){var t,s;e&&this.resetSingleInputSummary(),(t=this.singleInputLocTitle)===null||t===void 0||t.strChanged(),this.resetPropertyValue("singleInputLocTitle"),this.calcSingleInputActions(),(s=this.survey)===null||s===void 0||s.updateNavigationElements()}resetSingleInputSummary(){var e;(e=this.singleInputSummary)===null||e===void 0||e.dispose(),this.resetPropertyValue("singleInputSummary")}validateSingleInput(){const e=this.currentSingleInputQuestion;return e?e.validate(!0,!0):!0}getSingleInputElementPos(){if(this.singleInputQuestion===this)return 0;const e=this.currentSingleInputParentQuestion;if(e!==this&&e.getSingleInputElementPos()===2)return 2;const t=this.singleInputQuestion,s=this.getSingleInputQuestions();if(s.length<2)return 0;let i=s.indexOf(t);return i===0?-1:i>=s.length-1?1:2}get isSingleInputActive(){const e=this.survey;if(!e||!e.isSingleVisibleInput)return!1;const t=e.currentSingleQuestion;return!!t&&t===this.rootParentQuestion}singleInputOnAddItem(e){this.isSingleInputActive&&(e&&this.singleInputSummary?this.resetSingleInputSummary():this.setSingleQuestionOnChange(Number.MAX_VALUE))}singleInputOnRemoveItem(e){this.isSingleInputActive&&(this.singleInputSummary?this.onSingleInputChanged():this.setSingleQuestionOnChange(e))}getSingleQuestionOnChange(e){return null}setSingleQuestionOnChange(e){const t=this.getSingleQuestionOnChange(e);t?this.setSingleInputQuestion(t):this.resetSingleInput()}onSetAsSingleInput(){this.isSingleInputSummaryShown=!1;const e=!this.wasRendered||this.singleInputSummary;this.onFirstRendering(),e&&(this.resetSingleInputSummary(),this.resetPropertyValue("singleInputQuestion"),this.resetPropertyValue("singleInputLocTitle"))}nextSingleInput(){return this.nextPrevSingleInput(1)}prevSingleInput(){return this.nextPrevSingleInput(-1)}getSingleInputAddText(){const e=this.currentSingleInputQuestion;return e&&e.singleInputSummary?e.getSingleInputAddTextCore():void 0}singleInputAddItem(e){(!e||this.validateSingleInput())&&this.currentSingleInputQuestion.singleInputAddItemCore()}singleInputRemoveItem(){const e=this.singleInputQuestion;e&&e!==this.singleInputParentQuestion&&this.singleInputRemoveItemCore(e)}get singleInputLocTitle(){return this.getPropertyValue("singleInputLocTitle",void 0,()=>this.getSingleQuestionLocTitle())}get singleInputActions(){return this.getPropertyValue("singleInputActions",void 0,()=>this.createSingleInputActions())}get singleInputHasActions(){return this.getPropertyValue("singleInputHasActions",void 0,()=>this.createSingleInputActions())}get singleInputHideHeader(){var e;return!!((e=this.singleInputQuestion)===null||e===void 0?void 0:e.singleInputQuestion)&&this.singleInputQuestion!==this}set sinleInputHasActions(e){this.setPropertyValue("singleInputHasActions",e)}get singleInputParentQuestion(){var e;return((e=this.singleInputQuestion)===null||e===void 0?void 0:e.parentQuestion)||this}createSingleInputActions(){var e;if(((e=this.survey)===null||e===void 0?void 0:e.currentSingleQuestion)!==this)return;const t=new cs;return t.actions=this.getSingleQuestionActions(),t}calcSingleInputActions(){if(this.parentQuestion)this.parentQuestion.calcSingleInputActions();else{const e=this.getSingleQuestionActions();this.singleInputActions&&(this.singleInputActions.actions=e),this.sinleInputHasActions=e.length>0?!0:void 0}}getSingleQuestionActions(){const e=new Array,t=this.currentSingleInputParentQuestion;if(!t||t===this)return e;const s=t.getSingleInputQuestions(),i=new Array;let n;s.length>1&&s[0]===t&&(n=t,i.push(t));let o=t.parentQuestion;for(;o;)i.push(o),o=o.parentQuestion;for(let l=i.length-1;l>=0;l--){const u=i[l];if(u!==n){const c=u.singleInputLocTitle,h=new Ke({id:"single-action"+u.id,locTitle:c,css:this.cssClasses.breadcrumbsItem,innerCss:this.cssClasses.breadcrumbsItemButton,action:()=>{u.singleInputMoveToFirst()}});h.cssClasses={},e.push(h)}}return e}singleInputMoveToFirst(){const e=this.singleInputQuestion;e&&e!==this&&e.singleInputMoveToFirst(),this.singleInputMoveToFirstCore()}singleInputMoveToFirstCore(){}getSingleQuestionLocTitle(){return this.singleInputSummary?void 0:this.getSingleQuestionLocTitleCore()}getSingleQuestionLocTitleCore(){}supportNestedSingleInput(){var e;return(e=this.survey)===null||e===void 0?void 0:e.supportsNestedSingleInput(this)}getSingleInputQuestions(){if(!this.supportNestedSingleInput())return[];const e=this.getPropertyValue("singleInputQuestion");if(e===this)return[this];const t=this.getSingleInputQuestionsCore(e,!e||!this.isSingleInputSummaryShown);return t.forEach(s=>{s!==this&&this.onSingleInputQuestionAdded(s)}),t}getSingleInputQuestionsCore(e,t){return this.getNestedQuestions(!0,!1)}onSingleInputQuestionAdded(e){}fillSingleInputQuestionsInContainer(e,t){}getSingleInputQuestionsForDynamic(e,t){const s=new Array;return e&&e!==this&&t.indexOf(e)<0&&this.fillSingleInputQuestionsInContainer(s,e),t.forEach(i=>s.push(i)),this.isSingleInputSummaryShown&&s.length>0&&s.unshift(this),s.push(this),s}getSingleInputAddTextCore(){}singleInputAddItemCore(){}singleInputRemoveItemCore(e){}setSingleInputQuestionCore(e){this.onBeforeSetSingleInputQuestion(e),this.setPropertyValue("singleInputQuestion",e)}onBeforeSetSingleInputQuestion(e){e.onFirstRendering(),e===this&&(this.isSingleInputSummaryShown=!0)}setSingleInputQuestion(e,t){this.singleInputQuestion!==e&&(this.setSingleInputQuestionCore(e),this.onSingleInputChanged(!t||e!==this))}nextPrevSingleInput(e){let t=this.currentSingleInputParentQuestion;for(;t&&t!==this;){if(t.nextPrevSingleInput(e))return!0;t=t.parentQuestion}const s=this.singleInputQuestion;if(!s)return!1;const i=this.getSingleInputQuestions();let n=i.indexOf(s);if(n<0){if(i.length===0)return!1;n=0,e=0}return n+=e,n<0||n>=i.length?!1:(this.setSingleInputQuestion(i[n],e<0),!0)}get hasTitle(){return this.getTitleLocation()!=="hidden"}get titleLocation(){return this.getPropertyValue("titleLocation")}set titleLocation(e){var t=this.titleLocation=="hidden"||e=="hidden";this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),t&&this.notifySurveyVisibilityChanged()}get showTitle(){return this.getTitleLocation()!=="hidden"}set showTitle(e){this.titleLocation=e?"default":"hidden"}getTitleOwner(){return this}getIsTitleRenderedAsString(){return this.titleLocation==="hidden"}notifySurveyOnChildrenVisibilityChanged(){return!1}notifySurveyVisibilityChanged(){if(!this.canUpdateValueOnVisibleChanged())return;this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());const e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}clearValueOnHidding(e){e&&this.clearValueIfInvisible()}get titleWidth(){if(this.parent&&this.getTitleLocation()==="left"){const e=this.parent.getColumsForElement(this),t=e.length;if(t!==0&&e[0].questionTitleWidth)return e[0].questionTitleWidth;const s=this.getQuestionParentTitleWidth(),i=this.getPercentQuestionTitleWidth(s);if(!i&&this.parent){let n=s;return n&&!isNaN(n)&&(n=n+"px"),n}return i/(t||1)+"%"}}getQuestionParentTitleWidth(){if(!this.parent)return;const e=this.parent.getQuestionTitleWidth();return!e&&this.parentQuestion?this.parentQuestion.getQuestionParentTitleWidth():e}getPercentQuestionTitleWidth(e){if(e&&e[e.length-1]==="%")return parseInt(e)}getTitleLocation(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return e==="left"&&!this.isAllowTitleLeft&&(e="top"),e}getTitleLocationCore(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}get hasTitleOnLeft(){return this.hasTitle&&this.getTitleLocation()==="left"}get hasTitleOnTop(){return this.hasTitle&&this.getTitleLocation()==="top"}get hasTitleOnBottom(){return this.hasTitle&&this.getTitleLocation()==="bottom"}get hasTitleOnLeftTop(){if(!this.hasTitle)return!1;const e=this.getTitleLocation();return e==="left"||e==="top"}get errorLocation(){return this.getPropertyValue("errorLocation")}set errorLocation(e){this.setPropertyValue("errorLocation",e)}getErrorLocation(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getChildErrorLocation(e){return this.getErrorLocation()}get hasInput(){return!0}get hasSingleInput(){return this.hasInput}get inputId(){return this.id+"i"}getDefaultTitleValue(){return this.name}getDefaultTitleTagName(){return re.titleTags.question}get descriptionLocation(){return this.getPropertyValue("descriptionLocation")}set descriptionLocation(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()}get hasDescriptionUnderTitle(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription}get hasDescriptionUnderInput(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription}getDescriptionLocation(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"}needClickTitleFunction(){return super.needClickTitleFunction()||this.hasInput}processTitleClick(){if(super.processTitleClick(),!this.isCollapsed)return setTimeout(()=>{this.focus()},1),!0}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get commentText(){return this.getLocalizableStringText("commentText")}set commentText(e){this.setLocalizableStringText("commentText",e)}get locCommentText(){return this.getLocalizableString("commentText")}get commentPlaceholder(){return this.getLocalizableStringText("commentPlaceholder")}set commentPlaceholder(e){this.setLocalizableStringText("commentPlaceholder",e)}get locCommentPlaceholder(){return this.getLocalizableString("commentPlaceholder")}get commentPlaceHolder(){return this.commentPlaceholder}set commentPlaceHolder(e){this.commentPlaceholder=e}get renderedCommentPlaceholder(){var e;return(e=this.getPropertyValue("renderedCommentPlaceholder"))!==null&&e!==void 0?e:this.isReadOnly?void 0:this.commentPlaceHolder}resetRenderedCommentPlaceholder(){this.resetPropertyValue("renderedCommentPlaceholder")}get defaultDisplayValue(){return this.getLocalizableStringText("defaultDisplayValue")}set defaultDisplayValue(e){this.setLocalizableStringText("defaultDisplayValue",e)}get locDefaultDisplayValue(){return this.getLocalizableString("defaultDisplayValue")}getAllErrors(){return this.errors.slice()}getErrorByType(e){for(let t=0;t<this.errors.length;t++)if(this.errors[t].getErrorType()===e)return this.errors[t];return null}get customWidget(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue}updateCustomWidget(){this.customWidgetValue=kp.Instance.getCustomWidget(this)}localeChanged(){super.localeChanged(),this.resetRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()}get isCompositeQuestion(){return!1}get isContainer(){return!1}onCommentInput(e){this.isInputTextUpdate&&e.target&&(this.comment=e.target.value)}onCommentChange(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)}afterRenderQuestionElement(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)}afterRender(e){this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(t=>{const s=e==null?void 0:e.querySelector(`#${t}`);s&&this.commentElements.push(s)})),this.checkForResponsiveness(e))}afterRenderCore(e){super.afterRenderCore(e)}getCommentElementsId(){return[this.commentId]}beforeDestroyQuestionElement(e){this.commentElements=void 0}get processedTitle(){var e=this.locProcessedTitle.textOrHtml;return e||this.name}get fullTitle(){return this.locTitle.renderedHtml}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredMark!==""}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredMark!==""}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)}calcCssClasses(e){const t={error:{}};return this.copyCssClasses(t,e.question),this.copyCssClasses(t.error,e.error),this.updateCssClasses(t,e),t}onCalcCssClasses(e){super.onCalcCssClasses(e),this.survey&&this.survey.updateQuestionCssClasses(this,e),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(e)}get cssRoot(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")}setCssRoot(e){this.setPropertyValue("cssRoot",e)}getCssRoot(e){const t=this.hasCssError();return new ge().append(super.getCssRoot(e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,t).append(e.hasErrorTop,t&&this.getErrorLocation()=="top").append(e.hasErrorBottom,t&&this.getErrorLocation()=="bottom").append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()}get cssHeader(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")}setCssHeader(e){this.setPropertyValue("cssHeader",e)}getCssHeader(e){return new ge().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()}supportContainerQueries(){return!1}get cssContent(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")}setCssContent(e){this.setPropertyValue("cssContent",e)}getCssContent(e){return new ge().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()}get cssTitle(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")}setCssTitle(e){this.setPropertyValue("cssTitle",e)}getCssTitle(e){return new ge().append(super.getCssTitle(e)).append(e.singleInputTitle,!!this.singleInputQuestion).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()}get cssDescription(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")}setCssDescription(e){this.setPropertyValue("cssDescription",e)}getCssDescription(e){return new ge().append(e.description).append(e.descriptionUnderInput,this.getDescriptionLocation()=="underInput").toString()}get showErrorsAboveQuestion(){return this.getErrorLocation()==="top"}get showErrorsBelowQuestion(){return this.getErrorLocation()==="bottom"}get cssError(){return this.ensureElementCss(),this.getPropertyValue("cssError","")}setCssError(e){this.setPropertyValue("cssError",e)}getCssError(e){return new ge().append(e.error.root).append(e.errorsContainer).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).toString()}hasCssError(){return this.errors.length>0||this.hasCssErrorCallback()}get isSingleInputQuestionMode(){var e;return!!this.parentQuestion&&((e=this.survey)===null||e===void 0?void 0:e.isSingleVisibleInput)}getIsNested(){return this.isSingleInputQuestionMode?!1:super.getIsNested()}getHasFrameV2(){return this.isSingleInputQuestionMode?!0:super.getHasFrameV2()}getRootCss(){return new ge().append(this.cssRoot,!this.singleInputQuestion).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getQuestionRootCss(){return new ge().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()}updateElementCss(e){this.wasRendered?(super.updateElementCss(e),e&&this.updateQuestionCss(!0)):this.clearCssClasses(),this.resetIndents()}updateQuestionCss(e){this.isLoadingFromJson||!this.survey||(this.wasRendered?this.updateElementCssCore(this.cssClasses):this.isRequireUpdateElements=!0)}ensureElementCss(){this.cssClassesValue||this.updateQuestionCss(!0)}updateElementCssCore(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))}updateCssClasses(e,t){if(!t.question)return;const s=t[this.getCssType()],i=new ge().append(e.title).append(t.question.titleRequired,this.isRequired);e.title=i.toString();const n=new ge().append(e.root).append(s,this.isRequired&&!!t.question.required);if(s==null)e.root=n.toString();else if(typeof s=="string"||s instanceof String)e.root=n.append(s.toString()).toString();else{e.root=n.toString();for(const o in s)e[o]=s[o]}}getCssType(){return this.getType()}get renderCssRoot(){return this.cssClasses.root||void 0}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}getIndentSize(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"}focus(e=!1,t){if(this.isDesignMode||!this.isVisible||!this.survey)return;let s=this.page;const i=!!s&&this.survey.activePage!==s,n=this.survey.isSingleVisibleInput;if(i&&!n)this.survey.focusQuestionByInstance(this,e);else if(n){this.survey.currentSingleQuestion=this.rootParentQuestion;const o=this.getParentQuestions();for(let l=o.length-1;l>=1;l--)l===o.length-1&&o[l].setSingleInputQuestion(o[l-1]);o.length>0&&o[0].setSingleInputQuestion(this),this.focusInputElement(e)}else{this.expandAllParents();const o=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,t,o,void 0,()=>{this.focusInputElement(e)})}}focusInputElement(e){var t;const s=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),i=(t=this.survey)===null||t===void 0?void 0:t.rootElement;Vt.FocusElement(s,!1,i)&&this.fireCallback(this.focusCallback)}get isValidateVisitedEmptyFields(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()}supportEmptyValidation(){return!1}onBlur(e){this.onBlurCore(e)}onFocus(e){this.onFocusCore(e)}onBlurCore(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)}onFocusCore(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields}expandAllParents(){this.expandAllParentsCore(this)}expandAllParentsCore(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))}focusIn(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)}fireCallback(e){e&&e()}getOthersMaxLength(){return this.survey&&this.survey.maxCommentLength>0?this.survey.maxCommentLength:null}onCreating(){}getFirstQuestionToFocus(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.inputId}getFirstErrorInputElementId(){return this.getFirstInputElementId()}supportComment(){const e=this.getPropertyByName("showCommentArea");return!e||e.visible}supportOther(){return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}get showCommentArea(){return this.getPropertyValue("showCommentArea",!1)}set showCommentArea(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)}get hasComment(){return this.showCommentArea}set hasComment(e){this.showCommentArea=e}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaDescriptionId(){return this.id+"_ariaDescription"}get commentId(){return this.id+"_comment"}get requireUpdateCommentValue(){return this.hasComment}get isReadOnly(){const e=!!this.parent&&this.parent.isReadOnly,t=!!this.parentQuestion&&this.parentQuestion.isReadOnly,s=!!this.survey&&this.survey.isDisplayMode,i=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||s||t||i}get isInputReadOnly(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignMode}get renderedInputReadOnly(){return this.isInputReadOnly?"":void 0}get renderedInputDisabled(){return this.isInputReadOnly?"":void 0}get isReadOnlyAttr(){return this.isReadOnly}get isDisabledAttr(){return this.isDesignMode||!!this.readOnlyCallback&&this.readOnlyCallback()}onReadOnlyChanged(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),super.onReadOnlyChanged(),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.resetRenderedCommentPlaceholder()}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}surveyChoiceItemVisibilityChange(){}runCondition(e){this.isDesignMode||(e||(e={}),e.question=this,this.runConditionCore(e),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&this.runDefaultValueExpression(e))}get isInDesignMode(){return!this.isContentElement&&this.isDesignMode}get no(){return this.getPropertyValue("no")}calcNo(){if(!this.hasTitle||!this.showNumber)return"";let e;this.parent&&(e=this.parent.visibleIndex);let t=Y.getNumberByIndex(this.visibleIndex,this.getStartIndex(),e);return this.parent&&(t=this.parent.addNoFromChild(t)),this.survey&&(t=this.survey.getUpdatedQuestionNo(this,t)),t}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}onSurveyLoad(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()}onSetData(){super.onSetData(),!this.isDesignMode&&this.survey&&!this.isLoadingFromJson&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateIsAnswered())}initDataFromSurvey(){if(this.data){const e=this.data.getValue(this.getValueName());(!Y.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}}initCommentFromSurvey(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")}runExpression(e){if(!(!this.survey||!e))return this.survey.runExpression(e)}get commentAreaRows(){return this.survey&&this.survey.commentAreaRows}get autoGrowComment(){return this.survey&&this.survey.autoGrowComment}get allowResizeComment(){return this.survey&&this.survey.allowResizeComment}get questionValue(){return this.getPropertyValueWithoutDefault("value")}set questionValue(e){this.setPropertyValue("value",e)}get questionComment(){return this.getPropertyValueWithoutDefault("comment")}set questionComment(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)}get isValueArray(){return!1}get value(){return this.getValueCore()}set value(e){this.setNewValue(e)}getStructuredValue(e=-1){return this.value}get hasFilteredValue(){return!1}getFilteredValue(e){return this.value}getFilteredName(){return this.getValueName()}get valueForSurvey(){return this.valueForSurveyCore(this.value)}valueForSurveyCore(e){return this.valueToDataCallback?this.valueToDataCallback(e):e}valueFromDataCore(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e}clearValue(e){this.value!==void 0&&(this.value=void 0),this.comment&&e!==!0&&(this.comment=void 0),this.setValueChangedDirectly(!1)}clearValueOnly(){this.clearValue(!0)}unbindValue(){this.clearValue()}createValueCopy(){return this.getUnbindValue(this.value)}initDataUI(){}getUnbindValue(e){return this.isValueSurveyElement(e)?e:Y.getUnbindValue(e)}isValueSurveyElement(e){return e?Array.isArray(e)?e.length>0?this.isValueSurveyElement(e[0]):!1:e.isSurveyObj===!0:!1}canClearValueAsInvisible(e){return e==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this):!0}get isParentVisible(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0}clearValueIfInvisible(e="onHidden"){const t=this.getClearIfInvisible();t!=="none"&&(e==="onHidden"&&t==="onComplete"||e==="onHiddenContainer"&&t!==e||this.clearValueIfInvisibleCore(e))}clearValueIfInvisibleCore(e){this.canClearValueAsInvisible(e)&&this.clearValue()}get clearIfInvisible(){return this.getPropertyValue("clearIfInvisible")}set clearIfInvisible(e){this.setPropertyValue("clearIfInvisible",e)}getClearIfInvisible(){const e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):e!=="default"?e:"onComplete"}get displayValue(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)}getDisplayValue(e,t=void 0){var s=this.calcDisplayValue(e,t);return this.survey&&(s=this.survey.getQuestionDisplayValue(this,s)),this.displayValueCallback?this.displayValueCallback(s):s}calcDisplayValue(e,t=void 0){if(this.customWidget){var s=this.customWidget.getDisplayValue(this,t);if(s)return s}return t=t??this.createValueCopy(),this.isValueEmpty(t)&&!this.locDefaultDisplayValue.isEmpty&&(t=this.defaultDisplayValue),this.isValueEmpty(t,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,t)}getDisplayValueCore(e,t){return t}getDisplayValueEmpty(){return""}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.valueToData(e)),this.updateValueWithDefaults()}get defaultValueExpression(){return this.getPropertyValue("defaultValueExpression")}set defaultValueExpression(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()}get resetValueIf(){return this.getPropertyValue("resetValueIf")}set resetValueIf(e){this.setPropertyValue("resetValueIf",e)}get setValueIf(){return this.getPropertyValue("setValueIf")}set setValueIf(e){this.setPropertyValue("setValueIf",e)}get setValueExpression(){return this.getPropertyValue("setValueExpression")}set setValueExpression(e){this.setPropertyValue("setValueExpression",e)}get resizeStyle(){return this.allowResizeComment?"both":"none"}getPlainData(e){if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var t={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:s=>typeof s=="object"?JSON.stringify(s):s};return e.includeQuestionTypes===!0&&(t.questionType=this.getType()),(e.calculations||[]).forEach(s=>{t[s.propertyName]=this.getPlainDataCalculatedValue(s.propertyName)}),this.hasComment&&(t.isNode=!0,t.data=[{name:0,isComment:!0,title:"Comment",value:re.commentSuffix,displayValue:this.comment,getString:s=>typeof s=="object"?JSON.stringify(s):s,isNode:!1}]),t}}getPlainDataCalculatedValue(e){return this[e]}get correctAnswer(){return this.getPropertyValue("correctAnswer")}set correctAnswer(e){this.setPropertyValue("correctAnswer",this.valueToData(e))}get quizQuestionCount(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0}get correctAnswerCount(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0}getQuizQuestionCount(){return 1}getCorrectAnswerCount(){return this.checkIfAnswerCorrect()?1:0}checkIfAnswerCorrect(){const e=Y.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),re.comparator.caseSensitive,!0),t=e?1:0,s=this.quizQuestionCount-t,i={result:e,correctAnswers:t,correctAnswerCount:t,incorrectAnswers:s,incorrectAnswerCount:s};return this.survey&&this.survey.onCorrectQuestionAnswer(this,i),i.result}getAnswerCorrectIgnoreOrder(){return!1}isAnswerCorrect(){return this.correctAnswerCount==this.quizQuestionCount}updateValueWithDefaults(){if(this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty())return;const e=this.isEmpty();!this.isDesignMode&&!e||e&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()}get isValueDefault(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)}get isClearValueOnHidden(){const e=this.getClearIfInvisible();return e==="none"||e==="onComplete"?!1:e==="onHidden"||e==="onHiddenContainer"}getQuestionFromArray(e,t){return null}getDefaultValue(){return this.defaultValue}isDefaultValueEmpty(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)}setDefaultValue(){this.setDefaultValueCore(e=>{e=this.convertToCorrectValue(e),this.isTwoValueEquals(this.value,e)||this.setDefaultIntoValue(e)})}setDefaultIntoValue(e){this.value=e}setDefaultValueCore(e){const t=s=>{this.runExpressionSetValueCore(s,e)};this.runDefaultValueExpression(void 0,t)||t(this.getUnbindValue(this.defaultValue))}updateValueWithDefaultsOrClear(){this.isDesignMode||this.isLoadingFromJson||(this.isDefaultValueEmpty()?this.clearValue():this.setDefaultValue())}isValueExpression(e){return!!e&&typeof e=="string"&&e.length>0&&e[0]=="="}convertFuncValuetoQuestionValue(e){return Y.convertValToQuestionVal(e)}runExpressionSetValueCore(e,t){t(this.convertFuncValuetoQuestionValue(e))}runExpressionSetValue(e){this.runExpressionSetValueCore(e,t=>{this.isTwoValueEquals(this.value,t)||(this.startSetValueOnExpression(),this.value=t,this.finishSetValueOnExpression())})}startSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.startSetValueOnExpression()}finishSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.finishSetValueOnExpression()}runDefaultValueExpression(e=null,t){return this.data?(t||(t=s=>{this.runExpressionSetValue(s)}),e||(e=this.defaultValueExpression?this.data.getFilteredProperties():{},e.question=this),this.runExpressionByProperty("defaultValueExpression",e,s=>{s==null&&(s=this.defaultValue),this.isChangingViaDefaultValue=!0,t(s),this.isChangingViaDefaultValue=!1})):!1}get comment(){return this.getQuestionComment()}set comment(e){if(e){const t=e.toString().trim();t!==e&&(e=t,e===this.comment&&this.setPropertyValueDirectly("comment",e))}this.comment!=e&&this.setNewComment(e)}getCommentAreaCss(e=!1){return new ge().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).append(this.cssClasses.otherArea,e).toString()}getQuestionComment(){return this.questionComment}isEmpty(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)}get isAnswered(){return this.getPropertyValue("isAnswered")||!1}set isAnswered(e){this.setPropertyValue("isAnswered",e)}updateIsAnswered(){const e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()}getIsAnswered(){return!this.isEmpty()}get validators(){return this.getPropertyValue("validators")}set validators(e){this.setPropertyValue("validators",e)}getValidators(){return this.validators}getSupportedValidators(){for(var e=[],t=this.getType();t;){var s=re.supportedValidators[t];if(s)for(var i=s.length-1;i>=0;i--)e.splice(0,0,s[i]);var n=ce.findClass(t);t=n.parentName}return e}addConditionObjectsByContext(e,t){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})}getNestedQuestions(e=!1,t=!0,s=!1){const i=[];return this.collectNestedQuestions(i,e,t,s),!s&&i.length===1&&i[0]===this?[]:i}collectNestedQuestions(e,t=!1,s=!0,i=!1){t&&!this.isVisible||this.collectNestedQuestionsCore(e,t,s,i)}collectNestedQuestionsCore(e,t,s,i){e.push(this)}addNestedQuestion(e,t,s,i){s?this.collectNestedQuestions(e,t,s,i):(!t||this.isVisible)&&e.push(this)}getConditionJson(e=null,t=null){const s=new _t().toJsonObject(this);return s.type=this.getType(),s}hasErrors(e=!0,t=!1){return!this.validateCore(e,!1,t)}validate(e=!0,t=!1,s=!1,i){return this.validateCore(e,!0,t,s,i)}validateCore(e,t,s=!1,i=!1,n){t&&i&&this.parent&&this.parent.validateContainerOnly();const o=new Cl({isOnValueChanged:i,focusOnFirstError:s,fireCallback:e,callbackResult:n});return this.validateElement(o),o.finish(),o.runningResult}validateElement(e){return this.validateElementCore(e)}validateElementCore(e){const t=this.checkForErrors(e);return e.fireCallback&&(this.errors=t,this.errors!==t&&this.errors.forEach(s=>s.locText.strChanged())),t.length>0&&e.setError(this),this.updateContainsErrors(),this.isCollapsed&&e.fireCallback&&t.length>0&&this.expand(),t.length===0}get currentErrorCount(){return this.errors.length}get requiredMark(){return this.survey!=null&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}addError(e){if(!e)return;let t=null;typeof e=="string"||e instanceof String?t=this.addCustomError(e):t=e,this.errors.push(t)}addCustomError(e){return new qr(e,this.survey)}removeError(e){if(!e)return!1;const t=this.errors,s=t.indexOf(e);return s!==-1&&t.splice(s,1),s!==-1}checkForErrors(e){var t=new Array;if(this.isVisible&&this.canCollectErrors()&&this.collectErrors(t,e),this.survey){if(this.validateValueCallback&&t.length===0){const s=this.validateValueCallback();s&&t.push(s)}this.survey.validateQuestion(this,t,e.fireCallback)}return t}canCollectErrors(){return!this.isReadOnly||re.readOnly.enableValidation}collectErrors(e,t){if(this.onCheckForErrors(e,t.isOnValueChanged,t.fireCallback),e.length>0||!this.canRunValidators(t.isOnValueChanged))return;const s=this.runValidators(t);if(s.length>0){e.length=0;for(var i=0;i<s.length;i++)e.push(s[i])}}canRunValidators(e){return!0}onCheckForErrors(e,t,s){if((!t||this.isOldAnswered)&&this.hasRequiredError()){const i=new PF(this.requiredErrorText,this);i.onUpdateErrorTextCallback=n=>{n.text=this.requiredErrorText},e.push(i)}if(!this.isEmpty()&&this.customWidget){const i=this.customWidget.validate(this);i&&e.push(this.addCustomError(i))}}hasRequiredError(){return this.isRequired&&this.isEmpty()}get isRunningValidators(){return this.getIsRunningValidators()}getIsRunningValidators(){return!!this.validatorRunner}runValidators(e){return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new MF,this.validatorRunner.onAsyncCompleted=t=>{this.doOnAsyncCompleted(e.fireCallback,t),t.length>0&&e.setError(this),e.removeElement(this.id)},e.addElement(this.id),this.validatorRunner.run(this)}doOnAsyncCompleted(e,t){e&&t.forEach(s=>{this.errors.indexOf(s)<0&&this.errors.push(s)}),this.validatorRunner=null}setNewValue(e){if(this.survey&&(e=this.survey.questionValueChanging(this,e)),this.isNewValueEqualsToValue(e)||!this.checkIsValueCorrect(e))return;const t=this.getUnbindValue(this.value);this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this),this.survey&&this.survey.questionValueChanged(this,t)}getValueChangingOptions(e){}checkIsValueCorrect(e){const t=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return t||Ur.inCorrectQuestionValue(this.name,e),t}isNewValueCorrect(e){return!0}isNewValueEqualsToValue(e){const t=this.value;return this.isTwoValueEquals(e,t,!1,!1)?!(e===t&&!!t&&(Array.isArray(t)||typeof t=="object")):!1}isTextValue(){return!1}getIsInputTextUpdate(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1}get requireStrictCompare(){return!1}getExpressionValue(e){return e}getDataLocNotification(){return this.isInputTextUpdate?"text":!1}get isInputTextUpdate(){return this.getIsInputTextUpdate()&&this.isTextValue()}setNewValueInData(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)}getValueCore(){return this.questionValue}setValueCore(e){this.setQuestionValue(e),this.data!=null&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1}canSetValueToSurvey(){return!0}valueFromData(e){return e}valueToData(e){return e}convertToCorrectValue(e){return e}onValueChanged(){}onMouseDown(){this.isMouseDown=!0}setNewComment(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))}setCommentIntoData(e){this.data!=null&&this.data.setComment(this.getValueName(),e,this.getIsInputTextUpdate()?"text":!1)}getValidName(e){return Jv(e)}updateValueFromSurvey(e,t=!1){if(e=this.getUnbindValue(e),e=this.valueFromDataCore(e),!this.checkIsValueCorrect(e))return;const s=this.isValueEmpty(e);!s&&this.defaultValueExpression?this.setDefaultValueCore(i=>{this.updateValueFromSurveyCore(e,this.isTwoValueEquals(e,i))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),t&&s&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}updateValueFromSurveyCore(e,t){this.isChangingViaDefaultValue=t,e=this.valueFromData(e);const s=this.isTwoValueEquals(this.questionValue,this.convertToCorrectValue(e));this.setQuestionValue(e),s||this.resetSingleInput(),this.isChangingViaDefaultValue=!1}updateCommentFromSurvey(e){this.questionComment=e}onChangeQuestionValue(e){}setValueChangedDirectly(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)}setQuestionValue(e,t=!0){e=this.convertToCorrectValue(e);const s=this.isTwoValueEquals(this.questionValue,e);!s&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,s||this.onChangeQuestionValue(e),!s&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),t&&this.updateIsAnswered()}get isParentChangingViaDefaultValue(){var e;return((e=this.data)===null||e===void 0?void 0:e.isChangingViaDefaultValue)===!0}onSurveyValueChanged(e){}setVisibleIndex(e){return e>-1&&(!this.isVisible||!this.hasTitle&&!re.numbering.includeQuestionsWithHiddenTitle||!this.showNumber&&!re.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1}removeElement(e){return!1}supportGoNextPageAutomatic(){return this.supportAutoAdvance()}supportAutoAdvance(){return!1}supportGoNextPageError(){return!0}clearIncorrectValues(){}clearOnDeletingContainer(){}clearErrors(){this.errors=[]}clearUnusedValues(){}onAnyValueChanged(e,t){}checkBindings(e,t){if(!(this.bindings.isEmpty()||!this.data))for(var s=this.bindings.getPropertiesByValueName(e),i=0;i<s.length;i++){const n=s[i];this.isValueEmpty(t)&&Y.isNumber(this[n])&&(t=0),this.updateBindingProp(n,t)}}updateBindingProp(e,t){this[e]=t}getComponentName(){return mn.Instance.getRendererByQuestion(this)}isDefaultRendering(){return!!this.customWidget||this.getComponentName()==="default"}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e)}get inMatrixMode(){return this.getPropertyValue("inMatrixMode",!1)}set inMatrixMode(e){this.setPropertyValue("inMatrixMode",e)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}getValidatorTitle(){return null}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getAllValues(){return this.data?this.data.getAllValues():null}processPopupVisiblilityChanged(e,t){this.survey.processPopupVisiblityChanged(this,e,t)}processOpenDropdownMenu(e){this.survey.processOpenDropdownMenu(this,e)}onTextKeyDownHandler(e){e.keyCode===13&&this.survey.questionEditFinishCallback(this,e)}transformToMobileView(){}transformToDesktopView(){}needResponsiveWidth(){return!1}supportResponsiveness(){return!1}needResponsiveness(){return this.supportResponsiveness()&&!this.isDesignMode}checkForResponsiveness(e){if(this.needResponsiveness())if(this.isCollapsed){const t=()=>{this.isExpanded&&(this.initResponsiveness(e),this.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],t,"for-responsiveness")}else this.initResponsiveness(e)}getObservedElementSelector(){return".sd-scrollable-container"}onMobileChanged(){this.onMobileChangedCallback&&this.onMobileChangedCallback()}triggerResponsiveness(e=!0){this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)}initResponsiveness(e){if(Re.isAvailable()&&(this.destroyResizeObserver(),e&&this.isDefaultRendering())){const t=this.getObservedElementSelector();if(!t||!e.querySelector(t))return;let i=!1,n;this.triggerResponsivenessCallback=o=>{o&&(n=void 0,this.renderAs="default",i=!1);const l=()=>{const u=e.querySelector(t);if(this.isDefaultRendering()&&(n=u.scrollWidth),i||!Nx(u))i=!1;else{const c=Zv(u);i=this.processResponsiveness(n,c)}};o?setTimeout(l,1):l()},this.resizeObserver=new ResizeObserver(o=>{qe.requestAnimationFrame(()=>{this.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=()=>{setTimeout(()=>{const o=e.querySelector(t);this.processResponsiveness(n,Zv(o))},0)},this.resizeObserver.observe(e)}}getCompactRenderAs(){return"default"}getDesktopRenderAs(){return"default"}onBeforeSetCompactRenderer(){}onBeforeSetDesktopRenderer(){}processResponsiveness(e,t){if(t=Math.round(t),Math.abs(e-t)>2){const s=this.renderAs;return e>t?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),s!==this.renderAs}return!1}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())}dispose(){super.dispose(),this.resetDependedQuestions(),this.destroyResizeObserver()}resetDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()}get isNewA11yStructure(){return!1}get ariaLabel(){return this.isNewA11yStructure||this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get ariaRole(){return this.isNewA11yStructure?null:"textbox"}get ariaRequired(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"}get ariaInvalid(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"}get ariaLabelledBy(){return this.isNewA11yStructure||!this.hasTitle||this.parentQuestion?null:this.ariaTitleId}get ariaDescribedBy(){return this.isNewA11yStructure?null:this.hasTitle&&this.hasDescription?this.ariaDescriptionId:null}getContentAriaHidden(){return null}get contentAriaHidden(){return this.getContentAriaHidden()}get ariaErrormessage(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null}get a11y_input_ariaRole(){return null}get a11y_input_ariaRequired(){return this.isRequired?"true":"false"}get a11y_input_ariaInvalid(){return this.hasCssError()?"true":"false"}get a11y_input_ariaLabel(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null}get a11y_input_ariaDescribedBy(){let e=null;return this.hasCssError()?e=this.id+"_errors":this.hasTitle&&!this.parentQuestion&&this.hasDescription&&this.descriptionLocation!=="hidden"&&(e=this.ariaDescriptionId),e}get a11y_input_ariaErrormessage(){return null}get a11y_input_ariaExpanded(){return this.getPropertyValue("ariaExpanded")}registerSychProperties(e,t){this.registerFunctionOnPropertiesValueChanged(e,()=>{this._syncPropertiesChanging||(this._syncPropertiesChanging=!0,t(),this._syncPropertiesChanging=!1)})}}rs.questionCounter=100;function Jv(r){if(!r)return r;for(r=r.trim().replace(/[\{\}]+/g,"");r&&r[0]===re.expressionDisableConversionChar;)r=r.substring(1);return r}ce.addClass("question",[{name:"!name",onSettingValue:(r,e)=>Jv(e)},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:()=>re.minWidth},{name:"maxWidth",defaultFunc:()=>re.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:r=>r.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(r){var e=r?r.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(r){var e=r?r.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(r,e){r&&e&&(e.placeholder=r.locTitle.getPlaceholder())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"showTitle:boolean",isSerializable:!1,dependsOn:"titleLocation"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"showNumber:boolean",dependsOn:"titleLocation",default:!0,visibleIf:function(r){if(!r)return!0;if(r.titleLocation==="hidden")return!1;var e=r?r.parent:null,t=!e||e.showQuestionNumbers!=="off";if(!t)return!1;var s=r?r.survey:null;return!s||s.showQuestionNumbers!=="off"||!!e&&e.showQuestionNumbers==="onpanel"}},{name:"hideNumber:boolean",visible:!1,isSerializable:!1},{name:"valueName",onSettingValue:(r,e)=>Jv(e)},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",isSerializableFunc:r=>!r.isBindingEmpty(),visibleIf:function(r){return r.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea:switch",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(r){return r.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(r){return r.hasComment}},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}]);ce.addAlterNativeClassName("question","questionbase");class zF{constructor(e){this.item=e}getValue(e,t,s,i){if(e.length===1){const o=e[0].name;if(o==="item"||o==="choice")return{isFound:!0,value:this.item.value,context:this}}const n=this.item.locOwner;if(n&&n.getValueGetterContext)return n.getValueGetterContext().getValue(e,t,s,i)}getRootObj(){const e=this.item.locOwner;return e&&e.getValueGetterContext?e:this.item.getSurvey()}getTextValue(e,t,s){return s&&t===this.item.value?this.item.textOrHtml:t!=null?t.toString():""}}class Ze extends Pt{getMarkdownHtml(e,t,s){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,s||this):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e,this):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e,this):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}static get Separator(){return re.itemValueSeparator}static set Separator(e){re.itemValueSeparator=e}static setData(e,t,s){e.length=0;for(let i=0;i<t.length;i++){const n=t[i],o=n&&typeof n.getType=="function"?n.getType():s??"itemvalue",l=ce.createClass(o);l.setData(n),n.originalItem&&(l.originalItem=n.originalItem),n.data&&(l.data=n.data),e.push(l)}}static getData(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].getData());return t}static getItemByValue(e,t){if(!Array.isArray(e))return null;const s=Y.isValueEmpty(t);for(var i=0;i<e.length;i++)if(s&&Y.isValueEmpty(e[i].value)||Y.isTwoValueEquals(e[i].value,t,!1,!0,!1))return e[i];return null}static getTextOrHtmlByValue(e,t){var s=Ze.getItemByValue(e,t);return s!==null?s.textOrHtml:""}static locStrsChanged(e){for(var t=0;t<e.length;t++)e[t].locStrsChanged()}static runConditionsForItems(e,t,s,i,n=!0,o){return Ze.runConditionsForItemsCore(e,t,s,i,!0,n,o)}static runEnabledConditionsForItems(e,t,s,i){return Ze.runConditionsForItemsCore(e,null,t,s,!1,!0,i)}static runConditionsForItemsCore(e,t,s,i,n,o=!0,l){for(var u=!1,c=0;c<e.length;c++){var h=e[c],p=o&&h.getConditionRunner?h.getConditionRunner(n):!1;p||(p=s);var m=!0;p&&(m=p.runContext(h.getValueGetterContext(),i)),l&&(m=l(h,m)),t&&m&&t.push(h);var v=n?h.isVisible:h.isEnabled;m!=v&&(u=!0,n?h.setIsVisible&&h.setIsVisible(m):h.setIsEnabled&&h.setIsEnabled(m))}return u}constructor(e,t,s){super(),this.typeName=s,this.ownerPropertyName="",t&&(this.locText.text=t),e&&typeof e=="object"?this.setData(e,!0):this.setValue(e,!0),this.getType()!=this.getBaseType()&&Mt.createProperties(this),this.onCreating()}onCreating(){}getType(){return this.typeName||this.getBaseType()}getBaseType(){return"itemvalue"}getSurvey(e=!1){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null}getLocale(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""}getLocalizableString(e){return e==="text"?this.locText:super.getLocalizableString(e)}getValueGetterContext(){return new zF(this)}get isInternal(){return this.isGhost===!0}createLocText(){const e=new as(this,!0,"text");return e.onStrChanged=(t,s)=>{this.propertyValueChanged("text",t,s)},e.onGetTextCallback=t=>this.onGetText(t),e}onGetText(e){return e||this.getValueText()}getValueText(){const e=this.value;return Y.isValueEmpty(e)?null:e.toString()}get locText(){return this.locTextValue||(this.locTextValue=this.createLocText()),this.locTextValue}setLocText(e){this.locTextValue=e}get locOwner(){return this._locOwner}set locOwner(e){this._locOwner=e,this.onLocOwnerChanged()}onLocOwnerChanged(){}get value(){return this.getPropertyValue("value")}set value(e){this.setValue(e,!1)}setValue(e,t){let s;if(e=this.getCorrectValue(e),!Y.isValueEmpty(e)){var i=e.toString(),n=i.indexOf(re.itemValueSeparator);n>-1&&(e=i.slice(0,n),s=i.slice(n+1))}t?this.setPropertyValueDirectly("value",e):this.setPropertyValue("value",e),s&&(this.text=s),this.id=this.value}getCorrectValue(e){return e}get normalizedId(){return(Y.isValueEmpty(this.value)?"":this.value.toString()).replace(/[^a-zA-Z0-9_]/g,"_")}get hasText(){return!!this.pureText}get pureText(){var e;return((e=this.locTextValue)===null||e===void 0?void 0:e.pureText)||""}set pureText(e){this.text=e}get text(){return this.calculatedText}set text(e){this.locText.text=e}get textOrHtml(){return this.locTextValue?this.locText.textOrHtml:this.getValueText()}get calculatedText(){return this.locTextValue?this.locText.calculatedText:this.getValueText()}get shortcutText(){return this.text}canSerializeValue(){const e=this.value;return e==null?!1:!Array.isArray(e)&&typeof e!="object"}getData(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,Y.isValueEmpty(e.value))return e;const t=this.canSerializeValue();return(!t||!re.serialization.itemValueSerializeAsObject&&!re.serialization.itemValueSerializeDisplayText)&&Object.keys(e).length==1?this.value:(re.serialization.itemValueSerializeDisplayText&&e.text===void 0&&t&&(e.text=this.value.toString()),e)}toJSON(){var e={},t=ce.getProperties(this.getType());(!t||t.length==0)&&(t=ce.getProperties(this.getBaseType()));for(var s=new _t,i=0;i<t.length;i++){const n=t[i];this.canAddPpropertyToJSON(n)&&s.valueToJson(this,e,n)}return e}canAddPpropertyToJSON(e){return!(e.name==="text"&&(!this.locTextValue||!this.locTextValue.hasNonDefaultText()&&Y.isTwoValueEquals(this.value,this.locTextValue.getLocaleText(""),!1,!0,!1)))}setData(e,t){var s;if(!Y.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&Object.keys(e).length===1&&(e.value=e.text),typeof e.value<"u"){let i;typeof e.toJSON=="function"?i=e.toJSON():i=e,new _t().toObject(i,this)}else this.setValue(e,t);t||(s=this.locTextValue)===null||s===void 0||s.strChanged()}}get visibleIf(){return this.getPropertyValueWithoutDefault("visibleIf")||""}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get enableIf(){return this.getPropertyValueWithoutDefault("enableIf")||""}set enableIf(e){this.setPropertyValue("enableIf",e)}get isVisible(){const e=this.getPropertyValueWithoutDefault("isVisible");return e!==void 0?e:!0}setIsVisible(e){this.setPropertyValue("isVisible",e)}get isEnabled(){const e=this.getPropertyValueWithoutDefault("isEnabled");return e!==void 0?e:!0}setIsEnabled(e){this.setPropertyValue("isEnabled",e)}addUsedLocales(e){this.locTextValue&&this.AddLocStringToUsedLocales(this.locTextValue,e)}locStrsChanged(){var e;super.locStrsChanged(),(e=this.locTextValue)===null||e===void 0||e.strChanged()}onPropertyValueChanged(e,t,s){var i;e==="value"&&!this.hasText&&((i=this.locTextValue)===null||i===void 0||i.strChanged());var n="itemValuePropertyChanged";!this.locOwner||!this.locOwner[n]||this.locOwner[n](this,e,t,s)}getConditionRunner(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()}getVisibleConditionRunner(){const e=this.getExpressionFromSurvey("visibleIf");return e?(this.visibleConditionRunner||(this.visibleConditionRunner=new Ci(e)),this.visibleConditionRunner.expression=e,this.visibleConditionRunner):null}getEnableConditionRunner(){const e=this.getExpressionFromSurvey("enableIf");return e?(this.enableConditionRunner||(this.enableConditionRunner=new Ci(e)),this.enableConditionRunner.expression=e,this.enableConditionRunner):null}get selected(){const e=this._locOwner;return e instanceof rs&&e.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new yt(()=>e.isItemSelected(this))),this.selectedValue}getComponent(){return this._locOwner instanceof rs?this.componentValue||this._locOwner.itemComponent:this.componentValue}setComponent(e){this.componentValue=e}setRootElement(e){this._htmlElement=e}getRootElement(){return this._htmlElement}getEnabled(){return this.isEnabled}setEnabled(e){this.setIsEnabled(e)}getVisible(){const e=this.isVisible===void 0?!0:this.isVisible,t=this._visible===void 0?!0:this._visible;return e&&t}setVisible(e){this.visible!==e&&(this._visible=e)}get _visible(){return this.getPropertyValue("visible",!0)}set _visible(e){this.setPropertyValue("visible",e)}getLocTitle(){return this.locText}getTitle(){return this.text}setLocTitle(e){}setTitle(e){}get icon(){return this.getPropertyValue("icon","")}set icon(e){this.setPropertyValue("icon",e)}}F([z()],Ze.prototype,"selectedValue",void 0);He.createItemValue=function(r,e){var t=null;return e?t=_t.metaData.createClass(e,{}):typeof r.getType=="function"?t=new Ze(null,void 0,r.getType()):t=new Ze(null),t.setData(r),t};He.itemValueLocStrChanged=function(r){Ze.locStrsChanged(r)};Mi.getItemValuesDefaultValue=(r,e)=>{const t=new Array;return Ze.setData(t,Array.isArray(r)?r:[],e),t};ce.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",locationInTable:"detail"},{name:"enableIf:condition",locationInTable:"detail",visibleIf:r=>!r||r.ownerPropertyName!=="rateValues"}],r=>new Ze(r));class HF extends He{constructor(e=null,t=null){super(),this.expressionIsRunning=!1,this.isCalculated=!1,e&&(this.name=e),t&&(this.expression=t)}setOwner(e){this.data=e,this.rerunExpression()}getType(){return"calculatedvalue"}getSurvey(e=!1){return this.data&&this.data.getSurvey?this.data.getSurvey():null}get owner(){return this.data}get name(){return this.getPropertyValue("name")||""}set name(e){this.setPropertyValue("name",e)}get includeIntoResult(){return this.getPropertyValue("includeIntoResult")}set includeIntoResult(e){this.setPropertyValue("includeIntoResult",e)}get expression(){return this.getPropertyValue("expression")||""}set expression(e){this.setPropertyValue("expression",e),this.rerunExpression()}locCalculation(){this.expressionIsRunning=!0}unlocCalculation(){this.expressionIsRunning=!1}resetCalculation(){this.isCalculated=!1}doCalculation(e,t){this.isCalculated||(this.runExpressionCore(e,t),this.isCalculated=!0)}runExpression(e){this.runExpressionCore(null,e)}get value(){if(this.data)return this.data.getVariable(this.name)}setValue(e){this.data&&this.data.setVariable(this.name,e)}get canRunExpression(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name}rerunExpression(){this.canRunExpression&&this.runExpression(this.data.getFilteredProperties())}runExpressionCore(e,t){!this.canRunExpression||!this.ensureExpression()||(this.locCalculation(),e&&this.runDependentExpressions(e,t),this.expressionRunner.runContext(this.getValueGetterContext(),this.getPropertiesCopy(t,"expression")))}runDependentExpressions(e,t){var s=this.expressionRunner.getVariables();if(s)for(var i=0;i<e.length;i++){var n=e[i];n===this||s.indexOf(n.name)<0||n.doCalculation(e,t)}}ensureExpression(){const e=this.getExpressionFromSurvey("expression");return e?(this.expressionRunner?this.expressionRunner.expression=e:(this.expressionRunner=this.createExpressionRunner(e),this.expressionRunner.onRunComplete=t=>{Y.isTwoValueEquals(t,this.value,!1,!0,!1)||this.setValue(t),this.unlocCalculation()}),!0):!1}}ce.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new HF},"base");class Ax extends He{constructor(e=null){super(),this.expression=e}getType(){return"expressionitem"}runCondition(e){let t=!1;return this.runExpressionByProperty("expression",e,s=>{t=s===!0}),t}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}get locHtml(){return this.getLocalizableString("html")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,s){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getSurvey(e=!1){return this.locOwner}}class QF extends Ax{constructor(e=null,t=null){super(e),this.createLocalizableString("html",this),this.html=t}getType(){return"htmlconditionitem"}get html(){return this.getLocalizableStringText("html")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}}class WF extends Ax{constructor(e=null,t=null){super(e),this.createLocalizableString("url",this),this.url=t}getType(){return"urlconditionitem"}get url(){return this.getLocalizableStringText("url")}set url(e){this.setLocalizableStringText("url",e)}get locUrl(){return this.getLocalizableString("url")}}ce.addClass("expressionitem",["expression:condition"],function(){return new Ax},"base");ce.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new QF},"expressionitem");ce.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new WF},"expressionitem");class UF{constructor(){this.parser=new DOMParser}assignValue(e,t,s){Array.isArray(e[t])?e[t].push(s):e[t]!==void 0?e[t]=[e[t]].concat(s):typeof s=="object"&&Object.keys(s).length===1&&Object.keys(s)[0]===t?e[t]=s[t]:e[t]=s}xml2Json(e,t){if(e.children&&e.children.length>0)for(let s=0;s<e.children.length;s++){let i=e.children[s],n={};this.xml2Json(i,n),this.assignValue(t,i.nodeName,n)}else this.assignValue(t,e.nodeName,e.textContent)}parseXmlString(e){let t=this.parser.parseFromString(e,"text/xml"),s={};return this.xml2Json(t,s),s}}class Zt extends He{static get EncodeParameters(){return re.web.encodeUrlParams}static set EncodeParameters(e){re.web.encodeUrlParams=e}static clearCache(){Zt.itemsResult={},Zt.sendingSameRequests={}}static addSameRequest(e){if(!e.isUsingCache)return!1;var t=e.objHash,s=Zt.sendingSameRequests[t];return s?(s.push(e),e.isRunningValue=!0,!0):(Zt.sendingSameRequests[e.objHash]=[],!1)}static unregisterSameRequests(e,t){if(e.isUsingCache){var s=Zt.sendingSameRequests[e.objHash];if(delete Zt.sendingSameRequests[e.objHash],!!s)for(var i=0;i<s.length;i++)s[i].isRunningValue=!1,s[i].getResultCallback&&s[i].getResultCallback(t)}}static get onBeforeSendRequest(){return re.web.onBeforeRequestChoices}static set onBeforeSendRequest(e){re.web.onBeforeRequestChoices=e}static getCachedItemsResult(e){var t=e.objHash,s=Zt.itemsResult[t];return s?(e.getResultCallback&&e.getResultCallback(s),!0):!1}constructor(){super(),this.lastObjHash="",this.isRunningValue=!1,this.processedUrl="",this.processedPath="",this.isUsingCacheFromUrl=void 0,this.error=null,this.createItemValue=e=>new Ze(e),this.registerPropertyChangedHandlers(["url"],()=>{this.owner&&this.owner.setPropertyValue("isUsingRestful",!!this.url)})}getSurvey(e=!1){return this.owner?this.owner.survey:null}run(e=null){if(!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(Zt.addSameRequest(this)||this.sendRequest()))}}get isUsingCache(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:re.web.cacheLoadedChoices}get isRunning(){return this.getIsRunning()}getIsRunning(){return this.isRunningValue}get isWaitingForParameters(){return this.url&&!this.processedUrl}useChangedItemsResults(){return Zt.getCachedItemsResult(this)}doEmptyResultCallback(e){var t=[];this.updateResultCallback&&(t=this.updateResultCallback(t,e)),this.getResultCallback(t)}processedText(e){var t=this.url;if(t&&(t=t.replace(Zt.cacheText,"").replace(Zt.noCacheText,"")),e){var s=e.processTextEx({text:t,runAtDesign:!0}),i=e.processTextEx({text:this.path,runAtDesign:!0});!s.hasAllValuesOnLastRun||!i.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=s.text,this.processedPath=i.text)}else this.processedUrl=t,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)}parseResponse(e){let t;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var s=new UF;t=s.parseXmlString(e)}else try{t=JSON.parse(e)}catch{t=(e||"").split(`
`).map(n=>n.trim(" ")).filter(n=>!!n)}return t}sendRequest(){typeof XMLHttpRequest<"u"?this.sendXmlHttpRequest():typeof fetch<"u"?this.sendFetchRequest():(this.error=new Kw("The browser does not support XMLHttpRequest or fetch API","",this.owner),this.doEmptyResultCallback(""))}sendXmlHttpRequest(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=this,s=this.objHash;e.onload=function(){t.beforeLoadRequest(),e.status===200?t.onLoad(t.parseResponse(e.response),s):t.onError(e.statusText,e.responseText)};var i={url:this.processedUrl,request:e};re.web.onBeforeRequestChoices&&re.web.onBeforeRequestChoices(this,i),this.beforeSendRequest(),i.request.send()}sendFetchRequest(){const e=this,t=this.objHash,n={url:this.processedUrl,fetchOptions:{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}};re.web.onBeforeRequestChoices&&re.web.onBeforeRequestChoices(this,n),this.beforeSendRequest(),fetch(n.url,n.fetchOptions).then(o=>(e.beforeLoadRequest(),o.status===200?o.text().then(l=>{e.onLoad(e.parseResponse(l),t)}):o.text().then(l=>{e.onError(o.statusText,l)}))).catch(o=>{e.onError(o.message,"")})}getType(){return"choicesByUrl"}get isEmpty(){return!this.url&&!this.path}getCustomPropertiesNames(){for(var e=this.getCustomProperties(),t=new Array,s=0;s<e.length;s++)t.push(this.getCustomPropertyName(e[s].name));return t}getCustomPropertyName(e){return e+"Name"}getCustomProperties(){for(var e=ce.getProperties(this.itemValueType),t=[],s=0;s<e.length;s++)e[s].name==="value"||e[s].name==="text"||e[s].name==="visibleIf"||e[s].name==="enableIf"||t.push(e[s]);return t}getAllPropertiesNames(){const e=new Array;return ce.getPropertiesByObj(this).forEach(t=>e.push(t.name)),this.getCustomPropertiesNames().forEach(t=>e.push(t)),e}setData(e){e||(e={}),this.getAllPropertiesNames().forEach(t=>{this[t]=e[t]}),e.attachOriginalItems&&(this.attachData=e.attachOriginalItems)}getData(){const e={};let t=!1;return this.getAllPropertiesNames().forEach(s=>{const i=this[s];!this.isValueEmpty(i)&&i!==this.getDefaultPropertyValue(s)&&(e[s]=i,t=!0)}),t?e:null}get url(){return this.getPropertyValue("url")||""}set url(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(Zt.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(Zt.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))}get path(){return this.getPropertyValue("path")||""}set path(e){this.setPropertyValue("path",e)}get valueName(){return this.getPropertyValue("valueName")||""}set valueName(e){this.setPropertyValue("valueName",e)}get titleName(){return this.getPropertyValue("titleName")||""}set titleName(e){this.setPropertyValue("titleName",e)}get imageLinkName(){return this.getPropertyValue("imageLinkName")||""}set imageLinkName(e){this.setPropertyValue("imageLinkName",e)}get allowEmptyResponse(){return this.getPropertyValue("allowEmptyResponse")}set allowEmptyResponse(e){this.setPropertyValue("allowEmptyResponse",e)}get attachOriginalItems(){return this.attachData}set attachOriginalItems(e){this.attachData=e}get attachData(){return this.getPropertyValue("attachData")}set attachData(e){this.setPropertyValue("attachData",e)}get itemValueType(){if(!this.owner)return"itemvalue";var e=ce.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type}clear(){this.setData(void 0)}beforeSendRequest(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()}beforeLoadRequest(){this.isRunningValue=!1}onLoad(e,t=null){t||(t=this.objHash);var s=new Array,i=this.getResultAfterPath(e);if(i&&i.length)for(var n=0;n<i.length;n++){var o=i[n];if(o){var l=this.getItemValueCallback?this.getItemValueCallback(o):this.getValue(o),u=this.createItemValue(l);this.setTitle(u,o),this.setCustomProperties(u,o),this.attachData&&(u.originalItem=o,u.data=o);var c=this.getImageLink(o);c&&(u.imageLink=c),s.push(u)}}else this.allowEmptyResponse||(this.error=new NF(null,this.owner));this.updateResultCallback&&(s=this.updateResultCallback(s,e)),this.isUsingCache&&(Zt.itemsResult[t]=s),this.callResultCallback(s,t),Zt.unregisterSameRequests(this,s)}callResultCallback(e,t){t==this.objHash&&this.getResultCallback(e)}setCustomProperties(e,t){for(var s=this.getCustomProperties(),i=0;i<s.length;i++){var n=s[i],o=this.getValueCore(t,this.getPropertyBinding(n.name));this.isValueEmpty(o)||(e[n.name]=o)}}getPropertyBinding(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e}onError(e,t){this.error=new Kw(e,t,this.owner),this.doEmptyResultCallback(t),Zt.unregisterSameRequests(this,[])}getResultAfterPath(e){if(!e||!this.processedPath)return e;for(var t=this.getPathes(),s=0;s<t.length;s++)if(e=e[t[s]],!e)return null;return e}getPathes(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):this.processedPath.indexOf(",")>-1?e=this.processedPath.split(","):e=this.processedPath.split("."),e.length==0&&e.push(this.processedPath),e}getValue(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var t=Object.keys(e).length;return t<1?null:e[Object.keys(e)[0]]}setTitle(e,t){var s=this.titleName?this.titleName:"title",i=this.getValueCore(t,s);i&&(typeof i=="string"?e.text=i:e.locText.setJson(i))}getImageLink(e){var t=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,t)}getValueCore(e,t){if(!e)return null;if(t.indexOf(".")<0)return e[t];for(var s=t.split("."),i=0;i<s.length;i++)if(e=e[s[i]],!e)return null;return e}get objHash(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName}}Zt.cacheText="{CACHE}";Zt.noCacheText="{NOCACHE}";Zt.itemsResult={};Zt.sendingSameRequests={};ce.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(r){return!!r&&!!r.owner&&r.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachData:boolean",alternativeName:"attachOriginalItems",visible:!1}],function(){return new Zt});class Cm extends rs{createColumnValues(){return this.createItemValues("columns")}constructor(e){super(e),this.generatedVisibleRows=null,this.generatedTotalRow=null,this.columns=this.createColumnValues(),this.rows=this.createItemValues("rows")}getType(){return"matrixbase"}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibilityBasedOnRows()}get isCompositeQuestion(){return!0}get showHeader(){return this.getPropertyValue("showHeader")}set showHeader(e){this.setPropertyValue("showHeader",e)}get columns(){return this.getPropertyValue("columns")}set columns(e){this.setPropertyValue("columns",e)}get visibleColumns(){const e=[];return this.columns.forEach(t=>{this.isColumnVisible(t)&&e.push(t)}),e}isColumnVisible(e){return e.isVisible}get rows(){return this.getPropertyValue("rows")}set rows(e){var t=this.processRowsOnSet(e);this.setPropertyValue("rows",t)}processRowsOnSet(e){return e}getVisibleRows(){return[]}get visibleRows(){return this.getVisibleRows()}get rowsVisibleIf(){return this.getPropertyValue("rowsVisibleIf","")}set rowsVisibleIf(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredProperties())}get columnsVisibleIf(){return this.getPropertyValue("columnsVisibleIf","")}set columnsVisibleIf(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredProperties())}runConditionCore(e){super.runConditionCore(e),this.runItemsCondition(e)}onColumnsChanged(){}onRowsChanged(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)}updateVisibilityBasedOnRows(){this.hideIfRowsEmpty&&this.onVisibleChanged()}isVisibleCore(){var e;const t=super.isVisibleCore();return!t||!this.hideIfRowsEmpty?t:((e=this.visibleRows)===null||e===void 0?void 0:e.length)>0}shouldRunColumnExpression(){return!this.survey||!this.survey.areInvisibleElementsShowing}hasRowsAsItems(){return!0}runItemsCondition(e){let t=this.hasRowsAsItems()&&this.runConditionsForRows(e);const s=this.runConditionsForColumns(e);t=s||t,t&&(this.isClearValueOnHidden&&s&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),s&&this.onColumnsChanged(),this.onRowsChanged())}clearGeneratedRows(){this.generatedVisibleRows=null}createRowsVisibleIfRunner(){return null}runConditionsForRows(e){const t=!!this.survey&&this.survey.areInvisibleElementsShowing,s=t?null:this.createRowsVisibleIfRunner(),i=Ze.runConditionsForItems(this.rows,void 0,s,e,!t);return Ze.runEnabledConditionsForItems(this.rows,void 0,e),i}runConditionsForColumns(e){const t=!!this.survey&&!this.survey.areInvisibleElementsShowing,s=this.getExpressionFromSurvey("columnsVisibleIf"),i=t&&s?new Ci(s):null;return Ze.runConditionsForItems(this.columns,void 0,i,e,this.shouldRunColumnExpression())}clearInvisibleColumnValues(){}clearInvisibleValuesInRows(){}needResponsiveWidth(){return!0}get columnsAutoWidth(){return!this.isMobile&&!this.columns.some(e=>!!e.width)}getTableCss(){var e;return new ge().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()}get columnMinWidth(){return this.getPropertyValue("columnMinWidth")||""}set columnMinWidth(e){this.setPropertyValue("columnMinWidth",e)}get rowTitleWidth(){return this.getPropertyValue("rowTitleWidth")||""}set rowTitleWidth(e){this.setPropertyValue("rowTitleWidth",e)}set displayMode(e){this.setPropertyValue("displayMode",e)}get displayMode(){return this.getPropertyValue("displayMode")}getCellAriaLabel(e,t,s){let i=e.locText&&e.locText.renderedHtml?e.locText.renderedHtml:"";s&&(i=s);const n=t.locTitle&&t.locTitle.renderedHtml?t.locTitle.renderedHtml:"",o=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),l=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return`${o} ${i}, ${l} ${n}`}get isNewA11yStructure(){return!0}getIsMobile(){return this.displayMode=="auto"?super.getIsMobile():this.displayMode==="list"}}F([z()],Cm.prototype,"verticalAlign",void 0);F([z()],Cm.prototype,"alternateRows",void 0);ce.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");class $F{}class Yw{constructor(e,t){this.name=e,this.returnDisplayValue=t,this.isExists=!1}}class xI{constructor(){this._unObservableValues=[void 0]}get hasAllValuesOnLastRunValue(){return this._unObservableValues[0]}set hasAllValuesOnLastRunValue(e){this._unObservableValues[0]=e}process(e,t,s,i){if(this.hasAllValuesOnLastRunValue=!0,!e||!this.onProcess)return e;const n=this.getItems(e);for(let l=n.length-1;l>=0;l--){const u=n[l],c=this.getName(e.substring(u.start+1,u.end));if(c){const h=new Yw(c,t===!0);if(this.onProcess(h),h.isExists||(this.hasAllValuesOnLastRunValue=!1),h.isExists||i){Y.isValueEmpty(h.value)&&(this.hasAllValuesOnLastRunValue=!1);var o=Y.isValueEmpty(h.value)?"":h.value;s&&(o=encodeURIComponent(o)),e=e.substring(0,u.start)+o+e.substring(u.end+1)}}}return e}processValue(e,t){var s=new Yw(e,t);return this.onProcess&&this.onProcess(s),s}get hasAllValuesOnLastRun(){return!!this.hasAllValuesOnLastRunValue}processText(e,t){return this.process(e,t)}processTextEx(e){const t={hasAllValuesOnLastRun:!0,text:e.text};return t.text=this.process(e.text,e.returnDisplayValue,e.doEncoding,e.replaceUndefinedValues),t.hasAllValuesOnLastRun=this.hasAllValuesOnLastRun,t}getItems(e){for(var t=[],s=e.length,i=-1,n="",o=0;o<s;o++)if(n=e[o],n=="{"&&(i=o),n=="}"){if(i>-1){var l=new $F;l.start=i,l.end=o,this.isValidItemName(e.substring(i+1,o))&&t.push(l)}i=-1}return t}isValidItemName(e){return!!e&&e.indexOf(":")<0}getName(e){if(e)return e.trim()}}class wm{constructor(e){this.obj=e,this.textPreProcessor=new xI,this.textPreProcessor.onProcess=t=>{this.getProcessedTextValue(t)}}processText(e,t){const s={text:e,returnDisplayValue:t};return this.processTextEx(s).text}processTextEx(e){var t;return!e.runAtDesign&&(!((t=this.survey)===null||t===void 0)&&t.isDesignMode)?{hasAllValuesOnLastRun:!0,text:e.text}:this.textPreProcessor.processTextEx(e)}get survey(){const e=this.obj;return e.getSurvey?e.getSurvey():null}getProcessedTextValue(e){const t=e.name.toLocaleLowerCase(),s=new Zn().getValueInfo({name:t,context:this.obj.getValueGetterContext(),isText:!0,isDisplayValue:e.returnDisplayValue});s.isFound&&(e.isExists=s.isFound,e.value=s.value)}}class GF{constructor(e,t){this.name=e,this.json=t;var s=this;ce.addClass(e,[],function(i){return Ld.Instance.createQuestion(i?i.name:"",s)},"question"),this.onInit()}onInit(){this.json.onInit&&this.json.onInit()}onCreated(e){this.json.onCreated&&this.json.onCreated(e)}onLoaded(e){this.json.onLoaded&&this.json.onLoaded(e)}onAfterRender(e,t){this.json.onAfterRender&&this.json.onAfterRender(e,t)}onAfterRenderContentElement(e,t,s){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(e,t,s)}onUpdateQuestionCssClasses(e,t,s){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(e,t,s)}onSetQuestionValue(e,t){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(e,t),this.json.onValueSet&&this.json.onValueSet(e,t)}onPropertyChanged(e,t,s){this.json.onPropertyChanged&&this.json.onPropertyChanged(e,t,s)}onValueChanged(e,t,s){this.json.onValueChanged&&this.json.onValueChanged(e,t,s)}onValueChanging(e,t,s){return this.json.onValueChanging?this.json.onValueChanging(e,t,s):s}onGetErrorText(e){if(this.json.getErrorText)return this.json.getErrorText(e)}onItemValuePropertyChanged(e,t,s,i,n){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(e,{obj:t,propertyName:s,name:i,newValue:n})}getDisplayValue(e,t,s){return this.json.getDisplayValue?this.json.getDisplayValue(s):s.getDisplayValue(e,t)}get defaultQuestionTitle(){return this.json.defaultQuestionTitle}setValueToQuestion(e){const t=this.json.valueToQuestion||this.json.setValue;return t?t(e):e}getValueFromQuestion(e){const t=this.json.valueFromQuestion||this.json.getValue;return t?t(e):e}get isComposite(){return!!this.json.elementsJSON||!!this.json.createElements}getDynamicProperties(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties}calcDynamicProperties(){const e=this.json.inheritBaseProps;if(!e||!this.json.questionJSON)return[];const t=this.json.questionJSON.type;if(!t)return[];if(Array.isArray(e)){const i=[];return e.forEach(n=>{const o=ce.findProperty(t,n);o&&i.push(o)}),i}const s=[];for(let i in this.json.questionJSON)s.push(i);return ce.getDynamicPropertiesByTypes(this.name,t,s)}}class Ld{constructor(){this.customQuestionValues=[]}add(e){if(!e)return;let t=e.name;if(!t)throw"Attribute name is missed";if(t=t.toLowerCase(),this.getCustomQuestionByName(t))throw"There is already registered custom question with name '"+t+"'";if(ce.findClass(t))throw"There is already class with name '"+t+"'";var s=new GF(t,e);this.onAddingJson&&this.onAddingJson(t,s.isComposite),this.customQuestionValues.push(s)}remove(e){if(!e)return!1;const t=this.getCustomQuestionIndex(e.toLowerCase());return t<0?!1:(this.removeByIndex(t),!0)}get items(){return this.customQuestionValues}getCustomQuestionByName(e){const t=this.getCustomQuestionIndex(e);return t>=0?this.customQuestionValues[t]:void 0}getCustomQuestionIndex(e){for(var t=0;t<this.customQuestionValues.length;t++)if(this.customQuestionValues[t].name===e)return t;return-1}removeByIndex(e){ce.removeClass(this.customQuestionValues[e].name),this.customQuestionValues.splice(e,1)}clear(e){for(let t=this.customQuestionValues.length-1;t>=0;t--)(e||!this.customQuestionValues[t].json.internal)&&this.removeByIndex(t)}createQuestion(e,t){return t.isComposite?this.createCompositeModel(e,t):this.createCustomModel(e,t)}createCompositeModel(e,t){return this.onCreateComposite?this.onCreateComposite(e,t):new KF(e,t)}createCustomModel(e,t){return this.onCreateCustom?this.onCreateCustom(e,t):new ZF(e,t)}}Ld.Instance=new Ld;class bI extends rs{constructor(e,t){super(e),this.customQuestion=t,Mt.createProperties(this),Vt.CreateDisabledDesignElements=!0,this.locQuestionTitle=this.createLocalizableString("questionTitle",this),this.locQuestionTitle.setJson(this.customQuestion.defaultQuestionTitle),this.createWrapper(),Vt.CreateDisabledDesignElements=!1,this.customQuestion&&this.customQuestion.onCreated(this)}getType(){return this.customQuestion?this.customQuestion.name:"custom"}locStrsChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().locStrsChanged()}localeChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().localeChanged()}getDefaultTitle(){return this.locQuestionTitle.isEmpty?super.getDefaultTitle():this.getProcessedText(this.locQuestionTitle.textOrHtml)}addUsedLocales(e){super.addUsedLocales(e),this.getElement()&&this.getElement().addUsedLocales(e)}needResponsiveWidth(){const e=this.getElement();return e?e.needResponsiveWidth():!1}createWrapper(){}onPropertyValueChanged(e,t,s){super.onPropertyValueChanged(e,t,s),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,s)}itemValuePropertyChanged(e,t,s,i){super.itemValuePropertyChanged(e,t,s,i),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,t,i)}onFirstRenderingCore(){super.onFirstRenderingCore();const e=this.getElement();e&&e.onFirstRendering()}onHidingContent(){super.onHidingContent();const e=this.getElement();e&&e.onHidingContent()}getProgressInfo(){let e=super.getProgressInfo();return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&e.requiredQuestionCount==0&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e}initElement(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)}setSurveyImpl(e,t){this.isSettingValOnLoading=!0,super.setSurveyImpl(e,t),this.initElement(this.getElement()),this.isSettingValOnLoading=!1}onCustomQuestionLoaded(){!this.isLoadedCalled&&this.customQuestion&&this.survey&&(this.customQuestion.onLoaded(this),this.isLoadedCalled=!0)}onSurveyLoad(){super.onSurveyLoad(),this.isLoadedCalled=!1,this.getElement()&&this.getElement().onSurveyLoad(),this.onCustomQuestionLoaded()}setSurveyCore(e){super.setSurveyCore(e),this.isLoadedCalled===!1&&e&&this.onCustomQuestionLoaded()}afterRenderQuestionElement(e){}afterRenderCore(e){super.afterRenderCore(e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)}onUpdateQuestionCssClasses(e,t){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,t)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)}setNewValue(e){super.setNewValue(e),this.updateElementCss()}onCheckForErrors(e,t,s){if(super.onCheckForErrors(e,t,s),this.customQuestion){const i=this.customQuestion.onGetErrorText(this);i&&e.push(new qr(i,this))}}getSurveyData(){return this}getTextProcessor(){return this.textProcessor}getValue(e){return this.value}setValue(e,t,s,i){if(!this.data)return;this.customQuestion&&this.customQuestion.onValueChanged(this,e,t);var n=this.convertDataName(e);let o=this.convertDataValue(e,t);this.valueToDataCallback&&(o=this.valueToDataCallback(o)),this.data.setValue(n,o,s,i),this.updateIsAnswered(),this.updateElementCss()}getQuestionByName(e){}isValueChanging(e,t){if(this.customQuestion){const s=t;if(t=this.customQuestion.onValueChanging(this,e,t),!Y.isTwoValueEquals(t,s)){const i=this.getQuestionByName(e);if(i)return i.value=t,!0}}return!1}convertDataName(e){return this.getValueName()}convertDataValue(e,t){return t}getVariable(e){return this.data?this.data.getVariable(e):null}setVariable(e,t){this.data&&this.data.setVariable(e,t)}getComment(e){return this.data?this.data.getComment(this.getValueName()):""}setComment(e,t,s){this.data&&this.data.setComment(this.getValueName(),t,s)}getAllValues(){return this.data?this.data.getAllValues():{}}getFilteredProperties(){return this.data?this.data.getFilteredProperties():{}}findQuestionByName(e){return this.data?this.data.findQuestionByName(e):null}getEditingSurveyElement(){}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getQuestionErrorLocation(){return this.getErrorLocation()}getContentAriaHidden(){return this.isDesignMode||super.getContentAriaHidden()}getContentDisplayValueCore(e,t,s){return s?this.customQuestion.getDisplayValue(e,t,s):super.getDisplayValueCore(e,t)}}class ZF extends bI{getTemplate(){return"custom"}getDynamicProperties(){return this.customQuestion.getDynamicProperties()||[]}getDynamicType(){return this.questionWrapper?this.questionWrapper.getType():"question"}getOriginalObj(){return this.questionWrapper}createWrapper(){this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=(e,t,s,i,n)=>{this.getDynamicProperty(e)&&this.propertyValueChanged(e,t,s,n)})}getDynamicProperty(e){const t=this.getDynamicProperties();for(let s=0;s<t.length;s++)if(t[s].name===e)return t[s];return null}getElement(){return this.contentQuestion}supportAutoAdvance(){return!!this.contentQuestion&&this.contentQuestion.supportAutoAdvance()}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,t)}getQuestionByName(e){return this.contentQuestion}getDefaultTitle(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):super.getDefaultTitle()}setValue(e,t,s,i){this.isValueChanging(e,t)||super.setValue(e,t,s,i)}updateCommentFromSurvey(e){super.updateCommentFromSurvey(e);const t=this.contentQuestion;t&&t.updateCommentFromSurvey(e)}get requireUpdateCommentValue(){var e;return(e=this.contentQuestion)===null||e===void 0?void 0:e.requireUpdateCommentValue}onSetData(){super.onSetData(),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)}validateElementCore(e){if(!this.contentQuestion)return!0;var t=this.contentQuestion.validateElement(e);this.errors=[];for(var s=0;s<this.contentQuestion.errors.length;s++)this.errors.push(this.contentQuestion.errors[s]);return t=t&&super.validateElementCore(e),this.updateElementCss(),t}focus(e=!1){this.contentQuestion?this.contentQuestion.focus(e):super.focus(e)}afterRenderCore(e){super.afterRenderCore(e),this.contentQuestion&&this.contentQuestion.afterRender(e)}get contentQuestion(){return this.questionWrapper}createQuestion(){var e=this.customQuestion.json,t=null;if(e.questionJSON){this.hasJSONTitle=!!e.questionJSON.title;let s=e.questionJSON.type;if(!s||!ce.findClass(s))throw"type attribute in questionJSON is empty or incorrect";t=ce.createClass(s),t.fromJSON(e.questionJSON),t=this.checkCreatedQuestion(t)}else e.createQuestion&&(t=this.checkCreatedQuestion(e.createQuestion()));return this.initElement(t),t&&(t.isContentElement=!0,t.name||(t.name="question"),t.onUpdateCssClassesCallback=s=>{this.onUpdateQuestionCssClasses(t,s)},t.hasCssErrorCallback=()=>this.errors.length>0,t.setValueChangedDirectlyCallback=s=>{this.setValueChangedDirectly(s)}),t}checkCreatedQuestion(e){return e&&(e.isQuestion||(Array.isArray(e.questions)&&e.questions.length>0?e=e.questions[0]:e=ce.createClass("text"),Ur.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)}onSurveyLoad(){super.onSurveyLoad(),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())}runConditionCore(e){super.runConditionCore(e),this.contentQuestion&&this.contentQuestion.runCondition(e)}convertDataName(e){const t=this.contentQuestion;if(!t||e===this.getValueName())return super.convertDataName(e);var s=e.replace(t.getValueName(),this.getValueName());return s.indexOf(this.getValueName())==0?s:super.convertDataName(e)}convertDataValue(e,t){return this.convertDataName(e)==super.convertDataName(e)?this.getContentQuestionValue():t}getContentQuestionValue(){if(!this.contentQuestion)return;let e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}setContentQuestionValue(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)}canSetValueToSurvey(){return!1}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)}getValueCore(){return this.contentQuestion?this.getContentQuestionValue():super.getValueCore()}setValueChangedDirectly(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,super.setValueChangedDirectly(e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)}createDynamicProperties(e){if(!e)return;const t=this.getDynamicProperties();Array.isArray(t)&&ce.addDynamicPropertiesIntoObj(this,e,t)}initElement(e){super.initElement(e),e&&(e.parent=this,e.afterRenderQuestionCallback=(t,s)=>{this.customQuestion&&this.customQuestion.onAfterRenderContentElement(this,t,s)})}updateElementCss(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),super.updateElementCss(e)}setIsMobile(e){super.setIsMobile(e),this.contentQuestion&&this.contentQuestion.setIsMobile(e)}updateElementCssCore(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),super.updateElementCssCore(e)}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentQuestion)}}class JF extends bm{constructor(e){super(e),this.question=e}getValue(e,t,s,i){const n=this.question;return e.length>0&&(e.length>1||!t)?(e[0].name===re.expressionVariables.composite&&e.shift(),new Lx(n.contentPanel.questions).getValue(e,!1,s,i)):{isFound:!1}}}class KF extends bI{constructor(e,t){super(e,t),this.customQuestion=t,this.settingNewValue=!1,this.textProcessing=new wm(this)}createWrapper(){this.panelWrapper=this.createPanel()}getTemplate(){return"composite"}getElement(){return this.contentPanel}getCssRoot(e){return new ge().append(super.getCssRoot(e)).append(e.composite).toString()}get contentPanel(){return this.panelWrapper}validateElementCore(e){const t=super.validateElementCore(e),s=this.contentPanel;return s?s.validateElement(e)&&t:t}updateElementCss(e){super.updateElementCss(e),this.contentPanel&&this.contentPanel.updateElementCss(e)}dispose(){this.unConnectEditingObj(),super.dispose()}updateEditingObj(){var e;const t=(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement();if(!t)return;let s=t[this.getValueName()];return s&&!s.onPropertyChanged&&(s=void 0),s!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=s,s&&(this.onEditingObjPropertyChanged=(i,n)=>{this.setNewValueIntoQuestion(n.name,this.editingObjValue[n.name])},s.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}unConnectEditingObj(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}getEditingSurveyElement(){return this.editingObjValue}getTextProcessor(){return this.textProcessing}findQuestionByName(e){const t=this.getQuestionByName(e);return t||super.findQuestionByName(e)}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e);const t=this.contentPanel.questions;for(var s=0;s<t.length;s++)t[s].clearValueIfInvisible(e)}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t);for(var s=this.contentPanel.questions,i=0;i<s.length;i++)s[i].onAnyValueChanged(e,t)}get hasSingleInput(){return!1}get isContainer(){return!0}createPanel(){var e=ce.createClass("panel");e.showQuestionNumbers="off",e.renderWidth="100%";var t=this.customQuestion.json;return t.elementsJSON&&e.fromJSON({elements:t.elementsJSON}),t.createElements&&t.createElements(e,this),this.initElement(e),this.setIsContentElement(e),e.readOnly=this.isReadOnly,e.onGetNoCallback=s=>this.no,e.questions.forEach(s=>{s.setParentQuestion(this),s.onUpdateCssClassesCallback=i=>{this.onUpdateQuestionCssClasses(s,i)}}),this.setAfterRenderCallbacks(e),e}onReadOnlyChanged(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),super.onReadOnlyChanged()}updateValueFromSurvey(e,t=!1){this.updateEditingObj(),super.updateValueFromSurvey(e,t)}onSurveyLoad(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),super.onSurveyLoad(),this.contentPanel){const e=this.getContentPanelValue();Y.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1}setIsContentElement(e){e.isContentElement=!0;for(var t=e.elements,s=0;s<t.length;s++){var i=t[s];i.isPanel?this.setIsContentElement(i):i.isContentElement=!0}}setVisibleIndex(e){var t=super.setVisibleIndex(e);return this.isVisible&&this.contentPanel&&(t+=this.contentPanel.setVisibleIndex(e+1)),t}runConditionCore(e){super.runConditionCore(e),this.contentPanel&&this.contentPanel.runCondition(e)}onSurveyValueChanged(e){super.onSurveyValueChanged(e);const t=e||{};this.contentPanel&&this.contentPanel.questions.forEach(s=>{s.onSurveyValueChanged(t[s.getValueName()])})}getValue(e){var t=this.value;return t?t[e]:null}getQuestionByName(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0}setValue(e,t,s,i){if(this.settingNewValue){this.setNewValueIntoQuestion(e,t);return}if(!this.isValueChanging(e,t)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel){let n=0;const o=this.contentPanel.questions.length+1;for(;n<o&&this.updateValueCoreWithPanelValue();)n++}this.setNewValueIntoQuestion(e,t),super.setValue(e,t,s,i),this.settingNewValue=!1,this.runPanelTriggers(re.expressionVariables.composite+"."+e,t),this.isEditingSurveyElement&&this.runCondition(this.getFilteredProperties())}}setComment(e,t,s){let i=this.getUnbindValue(this.value);const n=this.getCommentName(e);if(!i&&!t||t&&i&&i[n]===t)return;t?(i||(i={}),i[n]=t):delete i[n];const o=this.getQuestionByName(e);o&&o.comment!==t&&(o.comment=t),this.settingNewValue||(this.value=i)}getComment(e){const t=this.getQuestionByName(e);if(t)return t.comment;const s=this.value;return!!s&&s[this.getCommentName(e)]||""}getCommentName(e){return e+re.commentSuffix}runPanelTriggers(e,t){this.contentPanel&&this.contentPanel.questions.forEach(s=>{s.runTriggers(e,t)})}updateValueCoreWithPanelValue(){const e=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),e)?!1:(this.setValueCore(e),!0)}getContentPanelValue(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)}getValueForContentPanel(e){return this.customQuestion.getValueFromQuestion(e)}setNewValueIntoQuestion(e,t){var s=this.getQuestionByName(e);s&&!this.isTwoValueEquals(t,s.value)&&(s.value=t)}addConditionObjectsByContext(e,t){if(this.contentPanel)for(var s=this.contentPanel.questions,i=this.name,n=this.title,o=0;o<s.length;o++)e.push({name:i+"."+s[o].name,text:n+"."+s[o].title,question:s[o]})}collectNestedQuestionsCore(e,t,s,i){this.contentPanel&&(i&&e.push(this),this.contentPanel.questions.forEach(n=>n.addNestedQuestion(e,t,s,i)))}convertDataValue(e,t){var s=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return s||(s={}),s.getType||(s=Y.getUnbindValue(s)),this.isValueEmpty(t)&&!this.isEditingSurveyElement?delete s[e]:s[e]=t,this.getContentPanelValue(s)}setQuestionValue(e,t=!0){this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),super.setQuestionValue(e,t)}setValuesIntoQuestions(e){if(!this.contentPanel||this.settingNewValue)return;e=this.getValueForContentPanel(e);const t=this.settingNewValue;this.settingNewValue=!0;const s=this.contentPanel.questions;for(var i=0;i<s.length;i++){const n=s[i],o=n.getValueName(),l=this.getCommentName(o),u=e?e[o]:void 0,c=!!e&&e[l]||"";!this.isTwoValueEquals(n.value,u)&&(u!==void 0||!n.isEmpty())&&(n.value=u),n.comment!==c&&(n.comment=c)}this.settingNewValue=t}getValueGetterContext(){return new JF(this)}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentPanel)}setAfterRenderCallbacks(e){if(!(!e||!this.customQuestion))for(var t=e.questions,s=0;s<t.length;s++)t[s].afterRenderQuestionCallback=(i,n)=>{this.customQuestion.onAfterRenderContentElement(this,i,n)}}get ariaRole(){return"group"}setIsMobile(e){super.setIsMobile(e),this.contentPanel&&this.contentPanel.questions.forEach(t=>{t.setIsMobile(e)})}}class gt{static get DefaultChoices(){const e=os("choices_Item");return[e+"1",e+"2",e+"3"]}static get DefaultColums(){var e=os("matrix_column")+" ";return[e+"1",e+"2",e+"3"]}static get DefaultRows(){var e=os("matrix_row")+" ";return[e+"1",e+"2"]}static get DefaultMutlipleTextItems(){var e=os("multipletext_itemname");return[e+"1",e+"2"]}registerQuestion(e,t,s=!0){en.Instance.registerElement(e,t,s)}registerCustomQuestion(e){en.Instance.registerCustomQuestion(e)}unregisterElement(e,t=!1){en.Instance.unregisterElement(e,t)}clear(){en.Instance.clear()}getAllTypes(){return en.Instance.getAllTypes()}createQuestion(e,t){return en.Instance.createElement(e,t)}}gt.Instance=new gt;class en{constructor(){this.creatorHash={},this.registerCustomQuestion=(e,t=!0)=>{const s=i=>{const n=ce.createClass(e);return n&&(n.name=i),n};this.registerElement(e,s,t)}}registerElement(e,t,s=!0){this.creatorHash[e]={showInToolbox:s,creator:t}}clear(){this.creatorHash={}}unregisterElement(e,t=!1){delete this.creatorHash[e],t&&ce.removeClass(e)}getAllToolboxTypes(){return this.getAllTypesCore(!0)}getAllTypes(){return this.getAllTypesCore(!1)}createElement(e,t){var s=this.creatorHash[e];if(s&&s.creator)return s.creator(t);const i=Ld.Instance.getCustomQuestionByName(e);return i?Ld.Instance.createQuestion(t,i):null}getAllTypesCore(e){var t=new Array;for(var s in this.creatorHash)(!e||this.creatorHash[s].showInToolbox)&&t.push(s);return t.sort()}}en.Instance=new en;class CI extends rs{constructor(e){super(e),this.createLocalizableString("format",this),this.registerPropertyChangedHandlers(["format","currency","displayStyle"],()=>{this.updateFormatedValue()})}getType(){return"expression"}get hasInput(){return!1}get format(){return this.getLocalizableStringText("format","")}set format(e){this.setLocalizableStringText("format",e)}get locFormat(){return this.getLocalizableString("format")}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}locCalculation(){this.isExecutionLocked=!0}unlocCalculation(){this.isExecutionLocked=!1}runConditionCore(e){super.runConditionCore(e),!(this.isExecutionLocked||!this.runIfReadOnly&&this.isReadOnly)&&this.runExpressionByProperty("expression",e,t=>{this.value=this.roundValue(t)})}canCollectErrors(){return!0}hasRequiredError(){return!1}get maximumFractionDigits(){return this.getPropertyValue("maximumFractionDigits")}set maximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)}get minimumFractionDigits(){return this.getPropertyValue("minimumFractionDigits")}set minimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)}get runIfReadOnly(){return this.runIfReadOnlyValue===!0}set runIfReadOnly(e){this.runIfReadOnlyValue=e}get formatedValue(){return this.getPropertyValue("formatedValue","")}updateFormatedValue(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))}onValueChanged(){this.updateFormatedValue()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.updateFormatedValue()}getDisplayValueCore(e,t){var s=t??this.defaultValue,i="";if(!this.isValueEmpty(s)){var n=this.getValueAsStr(s);i=this.format?this.format.format(n):n}return this.survey&&(i=this.survey.getExpressionDisplayValue(this,s,i)),i}get displayStyle(){return this.getPropertyValue("displayStyle")}set displayStyle(e){this.setPropertyValue("displayStyle",e)}get currency(){return this.getPropertyValue("currency")}set currency(e){Sm().indexOf(e)<0||this.setPropertyValue("currency",e)}get useGrouping(){return this.getPropertyValue("useGrouping")}set useGrouping(e){this.setPropertyValue("useGrouping",e)}get precision(){return this.getPropertyValue("precision")}set precision(e){this.setPropertyValue("precision",e)}roundValue(e){if(e!==1/0)return this.precision<0||!Y.isNumber(e)?e:parseFloat(e.toFixed(this.precision))}getValueAsStr(e){if(this.displayStyle=="date"){const i=Vs("question-expression",e);if(i&&i.toLocaleDateString)return i.toLocaleDateString()}if(this.displayStyle!="none"&&Y.isNumber(e)){var t=this.getLocale();t||(t="en");var s={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(s.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(s.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(t,s)}return e.toString()}get ariaRole(){return"presentation"}}function Sm(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}function Xw(r,e,t){let s=t?e:r;return r==-1||e==-1?s:r>e?t?r:e:s}ce.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:()=>Sm(),default:"USD",visibleIf:r=>r.displayStyle==="currency"},{name:"maximumFractionDigits:number",onSettingValue:(r,e)=>Xw(r.minimumFractionDigits,e,!0),default:-1},{name:"minimumFractionDigits:number",onSettingValue:(r,e)=>Xw(e,r.maximumFractionDigits,!1),default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1,isSerializable:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"readOnly",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1,isSerializable:!1},{name:"resetValueIf",visible:!1,isSerializable:!1},{name:"setValueIf",visible:!1,isSerializable:!1},{name:"setValueExpression",visible:!1,isSerializable:!1},{name:"defaultValueExpression",visible:!1,isSerializable:!1},{name:"defaultValue",visible:!1,isSerializable:!1},{name:"correctAnswer",visible:!1,isSerializable:!1},{name:"requiredIf",visible:!1,isSerializable:!1}],function(){return new CI("")},"question");gt.Instance.registerQuestion("expression",r=>new CI(r));class YF{constructor(e){this.column=e}getValue(e,t,s,i){if(e.length===1&&["name","item"].indexOf(e[0].name)>-1)return{isFound:!0,value:this.column.name}}getRootObj(){return this.column.colOwner}}function Rh(r,e,t,s){r.storeOthersAsComment=t?t.storeOthersAsComment:!1,(!r.choices||r.choices.length==0)&&r.choicesByUrl.isEmpty&&(r.choices=t.choices),r.choicesByUrl.isEmpty||r.choicesByUrl.run(s.getTextProcessor())}function XF(r,e,t,s){Rh(r,e,t,s),r.locPlaceholder&&r.locPlaceholder.isEmpty&&!t.locPlaceholder.isEmpty&&(r.optionsCaption=t.optionsCaption)}var e2={dropdown:{onCellQuestionUpdate:(r,e,t,s)=>{XF(r,e,t,s)}},checkbox:{onCellQuestionUpdate:(r,e,t,s)=>{Rh(r,e,t,s),r.colCount=e.colCount>-1?e.colCount:t.columnColCount}},radiogroup:{onCellQuestionUpdate:(r,e,t,s)=>{Rh(r,e,t,s),r.colCount=e.colCount>-1?e.colCount:t.columnColCount}},tagbox:{onCellQuestionUpdate:(r,e,t,s)=>{Rh(r,e,t,s)}},text:{},comment:{},boolean:{onCellQuestionUpdate:(r,e,t,s)=>{r.renderAs=e.renderAs}},expression:{},rating:{},slider:{}};class Np extends He{static getColumnTypes(){var e=[];for(var t in e2)e.push(t);return e}constructor(e,t,s){super(),this.indexValue=-1,this._hasVisibleCell=!0,this.isColumnsVisibleIf=!0,this.previousChoicesId=void 0,this.colOwnerValue=s,this.createLocalizableString("totalFormat",this),this.createLocalizableString("cellHint",this),this.registerPropertyChangedHandlers(["showInMultipleColumns"],()=>{this.doShowInMultipleColumnsChanged()}),this.registerPropertyChangedHandlers(["visible"],()=>{this.doColumnVisibilityChanged()}),this.updateTemplateQuestion(void 0,e,t)}getOriginalObj(){return this.templateQuestion}getClassNameProperty(){return"cellType"}getSurvey(e=!1){return this.colOwner?this.colOwner.survey:null}endLoadingFromJson(){super.endLoadingFromJson(),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=()=>this.getSurvey()}getDynamicPropertyName(){return"cellType"}getDynamicType(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)}get colOwner(){return this.colOwnerValue}set colOwner(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))}getValueGetterContext(){return new YF(this)}locStrsChanged(){super.locStrsChanged(),this.locTitle.strChanged()}addUsedLocales(e){super.addUsedLocales(e),this.templateQuestion.addUsedLocales(e)}get index(){return this.indexValue}setIndex(e){this.indexValue=e}getType(){return"matrixdropdowncolumn"}get cellType(){return this.getPropertyValue("cellType")}set cellType(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)}get templateQuestion(){return this.templateQuestionValue}get value(){return this.templateQuestion.name}get isVisible(){return!0}get isColumnVisible(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell}get visible(){return this.templateQuestion.visible}set visible(e){this.templateQuestion.visible=e}get hasVisibleCell(){return this._hasVisibleCell}set hasVisibleCell(e){this._hasVisibleCell=e}getVisibleMultipleChoices(){const e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;const t=new Array;for(let s=0;s<e.length;s++){const i=e[s];this._visiblechoices.indexOf(i.value)>-1&&t.push(i)}return t}get getVisibleChoicesInCell(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;const e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]}setVisibleChoicesInCell(e){this._visiblechoices=e}get isFilteredMultipleColumns(){if(!this.showInMultipleColumns)return!1;const e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(e[t].visibleIf)return!0;return!1}get name(){return this.templateQuestion.name}set name(e){this.templateQuestion.name=e}get title(){return this.templateQuestion.title}set title(e){this.templateQuestion.title=e}get locTitle(){return this.templateQuestion.locTitle}get fullTitle(){return this.locTitle.textOrHtml}get defaultDisplayValue(){return this.templateQuestion.defaultDisplayValue}set defaultDisplayValue(e){this.templateQuestion.defaultDisplayValue=e}get locDefaultDisplayValue(){return this.templateQuestion.locDefaultDisplayValue}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e),this.templateQuestion.isRequired=e}get isRenderedRequired(){return this.getPropertyValue("isRenderedRequired",this.isRequired)}set isRenderedRequired(e){this.setPropertyValue("isRenderedRequired",e)}updateIsRenderedRequired(e){this.isRenderedRequired=e||this.isRequired}get requiredMark(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredMark:this.templateQuestion.requiredMark}get requiredErrorText(){return this.templateQuestion.requiredErrorText}set requiredErrorText(e){this.templateQuestion.requiredErrorText=e}get locRequiredErrorText(){return this.templateQuestion.locRequiredErrorText}get readOnly(){return this.templateQuestion.readOnly}set readOnly(e){this.templateQuestion.readOnly=e}get hasOther(){return this.templateQuestion.showOtherItem}set hasOther(e){this.templateQuestion.showOtherItem=e}get visibleIf(){return this.templateQuestion.visibleIf}set visibleIf(e){this.templateQuestion.visibleIf=e}get enableIf(){return this.templateQuestion.enableIf}set enableIf(e){this.templateQuestion.enableIf=e}get requiredIf(){return this.templateQuestion.requiredIf}set requiredIf(e){this.templateQuestion.requiredIf=e}get resetValueIf(){return this.templateQuestion.resetValueIf}set resetValueIf(e){this.templateQuestion.resetValueIf=e}get defaultValueExpression(){return this.templateQuestion.defaultValueExpression}set defaultValueExpression(e){this.templateQuestion.defaultValueExpression=e}get setValueIf(){return this.templateQuestion.setValueIf}set setValueIf(e){this.templateQuestion.setValueIf=e}get setValueExpression(){return this.templateQuestion.setValueExpression}set setValueExpression(e){this.templateQuestion.setValueExpression=e}get isUnique(){return this.getPropertyValue("isUnique")}set isUnique(e){this.setPropertyValue("isUnique",e)}get showInMultipleColumns(){return this.getPropertyValue("showInMultipleColumns")}set showInMultipleColumns(e){this.setPropertyValue("showInMultipleColumns",e)}get isSupportMultipleColumns(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1}get isShowInMultipleColumns(){return this.showInMultipleColumns&&this.isSupportMultipleColumns}get validators(){return this.templateQuestion.validators}set validators(e){this.templateQuestion.validators=e}get totalType(){return this.getPropertyValue("totalType")}set totalType(e){this.setPropertyValue("totalType",e)}get totalExpression(){return this.getPropertyValue("totalExpression")}set totalExpression(e){this.setPropertyValue("totalExpression",e)}get hasTotal(){return this.totalType!="none"||!!this.totalExpression}get totalFormat(){return this.getLocalizableStringText("totalFormat","")}set totalFormat(e){this.setLocalizableStringText("totalFormat",e)}get locTotalFormat(){return this.getLocalizableString("totalFormat")}get cellHint(){return this.getLocalizableStringText("cellHint","")}set cellHint(e){this.setLocalizableStringText("cellHint",e)}get locCellHint(){return this.getLocalizableString("cellHint")}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)}get totalMaximumFractionDigits(){return this.getPropertyValue("totalMaximumFractionDigits")}set totalMaximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)}get totalMinimumFractionDigits(){return this.getPropertyValue("totalMinimumFractionDigits")}set totalMinimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)}get totalDisplayStyle(){return this.getPropertyValue("totalDisplayStyle")}set totalDisplayStyle(e){this.setPropertyValue("totalDisplayStyle",e)}get totalAlignment(){return this.getPropertyValue("totalAlignment")}set totalAlignment(e){this.setPropertyValue("totalAlignment",e)}get totalCurrency(){return this.getPropertyValue("totalCurrency")}set totalCurrency(e){Sm().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)}get minWidth(){return this.getPropertyValue("minWidth","")}set minWidth(e){this.setPropertyValue("minWidth",e)}get width(){return this.templateQuestion.width}set width(e){this.templateQuestion.width=e}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<-1||e>4||this.setPropertyValue("colCount",e)}getLocale(){return this.colOwner?this.colOwner.getLocale():""}getMarkdownHtml(e,t,s){return this.colOwner?this.colOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.colOwner?this.colOwner.getRenderer(e):null}getRendererContext(e){return this.colOwner?this.colOwner.getRendererContext(e):e}getProcessedText(e){return this.colOwner?this.colOwner.getProcessedText(e):e}createCellQuestion(e){var t=this.calcCellQuestionType(e),s=this.createNewQuestion(t);return this.callOnCellQuestionUpdate(s,e),s}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())}updateCellQuestion(e,t,s=null){this.setQuestionProperties(e,s)}callOnCellQuestionUpdate(e,t){var s=e.getType(),i=e2[s];i&&i.onCellQuestionUpdate&&i.onCellQuestionUpdate(e,this,this.colOwner,t)}defaultCellTypeChanged(){this.updateTemplateQuestion()}calcCellQuestionType(e){let t=this.getDefaultCellQuestionType();return e&&this.colOwner&&(t=this.colOwner.getCustomCellType(this,e,t)),t}getDefaultCellQuestionType(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():re.matrix.defaultCellType}updateTemplateQuestion(e,t,s){const i=this.getDefaultCellQuestionType(e),n=this.templateQuestion?this.templateQuestion.getType():"";i!==n&&(this.templateQuestion&&this.removeProperties(n),this.templateQuestionValue=this.createNewQuestion(i),this.templateQuestion.locOwner=this,this.addProperties(i),t&&(this.name=t),s?this.title=s:this.templateQuestion.locTitle.strChanged(),re.serialization.matrixDropdownColumnSerializeTitle&&(this.templateQuestion.locTitle.serializeCallBackText=!0),this.templateQuestion.onPropertyChanged.add((o,l)=>{this.propertyValueChanged(l.name,l.oldValue,l.newValue,l.arrayChanges,l.target)}),this.templateQuestion.onNestedPropertyChanged.add((o,l)=>{this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnNestedPropertyChanged(this,l.name,l.nestedName,l.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add((o,l)=>{this.doItemValuePropertyChanged(l.propertyName,l.obj,l.name,l.newValue,l.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=()=>this.getSurvey()),this.templateQuestion.locTitle.strChanged())}createNewQuestion(e){var t=ce.createClass(e);return t||(t=ce.createClass("text")),t.loadingOwner=this,t.isEditableTemplateElement=!0,t.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(t),this.setParentQuestionToTemplate(t),t}setParentQuestionToTemplate(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)}setQuestionProperties(e,t=null){if(this.templateQuestion){var s=new _t().toJsonObject(this.templateQuestion,!0);if(t&&t(s),s.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete s.choices,delete s.itemComponent,this.jsonObj&&s.type==="rating"&&this.isLoadingFromJson&&Object.keys(this.jsonObj).forEach(i=>{s[i]=this.jsonObj[i]}),s.choicesOrder==="random"){s.choicesOrder="none";const i=this.templateQuestion.visibleChoices;Array.isArray(i)&&(s.choices=i)}new _t().toObject(s,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=()=>{if(!this.isShowInMultipleColumns||this.previousChoicesId&&this.previousChoicesId!==e.id)return;this.previousChoicesId=e.id;const i=e.visibleChoices;this.templateQuestion.choices=i,this.propertyValueChanged("choices",i,i)}}}propertyValueChanged(e,t,s,i,n){if(super.propertyValueChanged(e,t,s,i,n),e==="isRequired"&&this.updateIsRenderedRequired(s),!(!this.colOwner||this.isLoadingFromJson)){if(this.isShowInMultipleColumns){if(e==="choicesOrder")return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}ce.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,s)}}doItemValuePropertyChanged(e,t,s,i,n){ce.hasOriginalProperty(t,s)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,t,s,i,n)}doShowInMultipleColumnsChanged(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)}doColumnVisibilityChanged(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)}getProperties(e){return ce.getDynamicPropertiesByObj(this,e)}removeProperties(e){for(var t=this.getProperties(e),s=0;s<t.length;s++){var i=t[s];delete this[i.name],i.serializationProperty&&delete this[i.serializationProperty]}}addProperties(e){const t=this.getProperties(e);ce.addDynamicPropertiesIntoObj(this,this.templateQuestion,t)}}ce.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(r,e){r&&e&&(e.placeholder=r.locTitle.getPlaceholder())}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:()=>{var r=Np.getColumnTypes();return r.splice(0,0,"default"),r}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},{name:"isRequired:boolean",defaultFunc:r=>{const e=r==null?void 0:r.templateQuestion;return e&&ce.findProperty(e.getType(),"isRequired").getDefaultValue(e)||!1}},"isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(r,e){r&&e&&(e.value=r.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:r=>r.isSupportMultipleColumns},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:r=>!r.isShowInMultipleColumns,default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:r=>!r.isShowInMultipleColumns},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:r=>r.hasTotal},{name:"totalDisplayStyle",visibleIf:r=>r.hasTotal,default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:r=>r.hasTotal,default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:r=>r.hasTotal,choices:()=>Sm(),default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:r=>r.hasTotal},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:r=>r.hasTotal},{name:"renderAs",default:"default",visible:!1},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}],function(){return new Np("")});function wI(r,e,t){return r+(e?"-error":"")+(t?"-detail":"")}class Ar{constructor(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=Ar.counter++}get requiredMark(){return this.column&&this.column.isRenderedRequired?this.column.requiredMark:void 0}get hasQuestion(){return!!this.question&&!this.isErrorsCell}get hasTitle(){return!!this.locTitle}get hasPanel(){return!!this.panel}get id(){let e=this.question?this.question.id:this.idValue.toString();return this.isChoice&&(e+="-"+(Number.isInteger(this.choiceIndex)?"index"+this.choiceIndex.toString():this.item.id)),wI(e,this.isErrorsCell,this.isDetailRowCell)}get item(){return this.itemValue}set item(e){this.itemValue=e,e&&(e.hideCaption=!0)}get isChoice(){return!!this.item}get isItemChoice(){return this.isChoice&&!this.isOtherChoice}get choiceValue(){return this.isChoice?this.item.value:null}get isCheckbox(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")}get isRadio(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")}get isFirstChoice(){return this.choiceIndex===0}set className(e){this.classNameValue=e}get className(){const e=new ge().append(this.classNameValue);return this.hasQuestion&&e.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),e.toString()}get cellQuestionWrapperClassName(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)}get isVisible(){var e;return!this.hasQuestion&&!this.isErrorsCell||!(!((e=this.matrix)===null||e===void 0)&&e.isMobile)||this.question.isVisible}get showResponsiveTitle(){var e;return this.hasQuestion&&((e=this.matrix)===null||e===void 0?void 0:e.isMobile)}get responsiveTitleCss(){return new ge().append(this.matrix.cssClasses.cellResponsiveTitle).toString()}get responsiveLocTitle(){return this.cell.column.locTitle}get headers(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";let e=this.cell.column.cellHint;return e?e.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""}getTitle(){return this.matrix&&this.matrix.showHeader?this.headers:""}calculateFinalClassName(e){const t=this.cell.question.cssClasses,s=new ge().append(t.itemValue,!!t).append(t.asCell,!!t);return s.append(e.cell,s.isEmpty()&&!!e).append(e.choiceCell,this.isChoice).toString()}focusIn(){this.question&&this.question.focusIn()}}Ar.counter=1;class bn extends He{constructor(e,t=!1){super(),this.cssClasses=e,this.isDetailRow=t,this.hasEndActions=!1,this.isErrorsRow=!1,this.cells=[],this.idValue=bn.counter++}get id(){var e;return wI(((e=this.row)===null||e===void 0?void 0:e.id)||this.idValue.toString(),this.isErrorsRow,this.isDetailRow)}get dropTargetId(){var e;return(e=this.row)===null||e===void 0?void 0:e.id}get attributes(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}}get className(){var e,t;return new ge().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(e=this.row)===null||e===void 0?void 0:e.hasPanel).append(this.cssClasses.expandedRow,((t=this.row)===null||t===void 0?void 0:t.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}focusCell(e){if(this.rootElement){const t=`:scope td:nth-of-type(${e+1}) input, :scope td:nth-of-type(${e+1}) button`,s=this.rootElement.querySelectorAll(t)[0];s&&s.focus()}}}bn.counter=1;F([z({defaultValue:!1})],bn.prototype,"isGhostRow",void 0);F([z({defaultValue:!1})],bn.prototype,"isAdditionalClasses",void 0);F([z({defaultValue:!0})],bn.prototype,"visible",void 0);class eB extends bn{constructor(e){super(e),this.isErrorsRow=!0}get attributes(){return{}}get className(){return new ge().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()}onAfterCreated(){const e=()=>{this.visible=this.cells.some(t=>t.question&&t.question.hasVisibleErrors)};this.cells.forEach(t=>{t.question&&t.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e)}),e()}}class tB extends bn{constructor(e,t){super(e),this.customId=t,this.isErrorsRow=!1}get attributes(){return{}}get dropTargetId(){return this.customId}get className(){return new ge().append(this.cssClasses.row).append(this.cssClasses.rowEmpty).toString()}}class Em extends He{getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&this.matrix.animationAllowed}getRenderedRowsAnimationOptions(){const e=s=>{s.querySelectorAll(":scope > td > *").forEach(i=>{pn(i)})},t=s=>{s.querySelectorAll(":scope > td > *").forEach(i=>{Br(i)})};return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement(s){return s.getRootElement()},getLeaveOptions:()=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getEnterOptions:(s,i)=>({cssClass:this.cssClasses.rowEnter,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getKey:s=>s.id}}updateRenderedRows(){this.renderedRows=this.rows}get renderedRows(){return this._renderedRows}set renderedRows(e){this.renderedRowsAnimation.sync(e)}get wrapperDropTargetId(){var e;return(e=this.renderedRows[this.renderedRows.length-1])===null||e===void 0?void 0:e.dropTargetId}constructor(e){super(),this.matrix=e,this._renderedRows=[],this.renderedRowsAnimation=new ra(this.getRenderedRowsAnimationOptions(),t=>{this._renderedRows=t},()=>this._renderedRows),this.hasActionCellInRowsValues={},this.build()}get showTable(){return this.getPropertyValue("showTable",!0)}get showHeader(){return this.getPropertyValue("showHeader")}get showAddRow(){return this.getPropertyValue("showAddRow",!1)}get showAddRowOnTop(){return this.getPropertyValue("showAddRowOnTop",!1)}get showAddRowOnBottom(){return this.getPropertyValue("showAddRowOnBottom",!1)}get showFooter(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal}get hasFooter(){return!!this.footerRow}get hasRemoveRows(){return this.hasRemoveRowsValue}isRequireReset(){return this.isRequireResetValue||this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal}requireReset(){this.isRequireResetValue=!0}get headerRow(){return this.headerRowValue}get footerRow(){return this.footerRowValue}get isRowsDragAndDrop(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal}get showCellErrorsTop(){return this.matrix.getErrorLocation()==="top"}get showCellErrorsBottom(){return this.matrix.getErrorLocation()==="bottom"}build(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()}updateShowTableAndAddRow(){const e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);const t=this.matrix.isDesignMode,s=!t&&this.matrix.canAddRow&&e;let i=s,n=s;i&&(this.matrix.getAddRowLocation()==="default"?i=!this.matrix.isColumnLayoutHorizontal:i=this.matrix.getAddRowLocation()!=="bottom"),n&&this.matrix.getAddRowLocation()!=="topBottom"&&(n=!i),this.setPropertyValue("showAddRow",!t&&this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",i),this.setPropertyValue("showAddRowOnBottom",n)}onAddedRow(e,t){if(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)return;let s=this.getRenderedRowIndexByIndex(t);this.rowsActions.splice(t,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,s),this.updateShowTableAndAddRow()}getRenderedRowIndexByIndex(e){let t=0,s=0;for(var i=0;i<this.rows.length;i++){if(s===e){(this.rows[i].isErrorsRow||this.rows[i].isDetailRow)&&(t++,i+1<this.rows.length&&this.rows[i+1].isDetailRow&&t++);break}t++,!this.rows[i].isErrorsRow&&!this.rows[i].isDetailRow&&s++}return s<e?this.rows.length:t}getRenderedDataRowCount(){for(var e=0,t=0;t<this.rows.length;t++)!this.rows[t].isErrorsRow&&!this.rows[t].isDetailRow&&e++;return e}onRemovedRow(e){var t=this.getRenderedRowIndex(e);if(!(t<0)){this.rowsActions.splice(t,1);var s=1;t<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[t+1].isErrorsRow&&s++,t<this.rows.length-1&&(this.rows[t+1].isDetailRow||this.showCellErrorsBottom&&t+1<this.rows.length-1&&this.rows[t+2].isDetailRow)&&s++,t>0&&this.showCellErrorsTop&&this.rows[t-1].isErrorsRow&&(t--,s++),this.rows.splice(t,s),this.updateShowTableAndAddRow()}}onDetailPanelChangeVisibility(e,t){const s=this.getRenderedRowIndex(e);if(s<0)return;let i=s;this.showCellErrorsBottom&&i++;var n=i<this.rows.length-1&&this.rows[i+1].isDetailRow?i+1:-1;if(!(t&&n>-1||!t&&n<0))if(t){var o=this.createDetailPanelRow(e,this.rows[s]);this.rows.splice(i+1,0,o)}else this.rows.splice(n,1)}focusActionCell(e,t){let s=this.rows[this.rows.length-1];if(this.matrix.isColumnLayoutHorizontal){const i=this.getRenderedRowIndex(e);s=this.rows[i]}s==null||s.focusCell(t)}getRenderedRowIndex(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].row==e)return t;return-1}buildRowsActions(){this.rowsActions=[];for(var e=this.matrix.visibleRows,t=0;t<e.length;t++)this.rowsActions.push(this.buildRowActions(e[t]))}createRenderedRow(e,t=!1){return new bn(e,t)}createErrorRenderedRow(e){return new eB(e)}createEmptyRenderedRow(e){return new tB(e,this.matrix.id)}buildHeader(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,t=e||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",t),!!t){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action",this.cssClasses.actionsCellDrag)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var s=0;s<this.matrix.columns.length;s++){var i=this.matrix.columns[s];i.isColumnVisible&&(this.matrix.IsMultiplyColumn(i)?this.createMutlipleColumnsHeader(i):this.headerRow.cells.push(this.createHeaderCell(i)))}else{for(var n=this.matrix.visibleRows,s=0;s<n.length;s++){const l=this.createTextCell(n[s].locText);this.setHeaderCellCssClasses(l),l.row=n[s],this.headerRow.cells.push(l)}if(this.matrix.hasFooter){const o=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}}buildFooter(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){const n=this.createTextCell(this.matrix.getFooterText());n.className=new ge().append(n.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(n)}for(var e=this.matrix.visibleTotalRow.cells,t=0;t<e.length;t++){var s=e[t];if(s.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(s.column))this.createMutlipleColumnsFooter(this.footerRow,s);else{var i=this.createEditCell(s);s.column&&this.setCellWidth(s.column,i),i.className=new ge().append(i.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(i)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}}buildRows(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()}hasActionCellInRows(e){return this.hasActionCellInRowsValues[e]===void 0&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]}hasActionsCellInLocaltion(e){return e=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some((t,s)=>!this.isValueEmpty(this.getRowActions(s,e)))}canRemoveRow(e){return this.matrix.canRemoveRow(e)}buildHorizontalRows(){var e=this.matrix.visibleRows,t=[];if(e.length==0&&this.matrix.allowRowReorder&&this.matrix.allowRowDragIn){const i=this.createEmptyRow(),n=this.createTextCell(this.matrix.locNoRowsText);n.colSpans=this.headerRow&&this.headerRow.cells.length||1,i.cells.push(n),t.push(i)}for(var s=0;s<e.length;s++)this.addHorizontalRow(t,e[s]);return t}addHorizontalRow(e,t,s=-1){const i=this.createHorizontalRow(t),n=this.createErrorRow(i);if(i.row=t,s<0&&(s=e.length),this.matrix.isMobile){const o=[];for(let l=0;l<i.cells.length;l++)this.showCellErrorsTop&&!n.cells[l].isEmpty&&o.push(n.cells[l]),o.push(i.cells[l]),this.showCellErrorsBottom&&!n.cells[l].isEmpty&&o.push(n.cells[l]);i.cells=o,e.splice(s,0,i)}else e.splice(s,0,...this.showCellErrorsTop?[n,i]:[i,n]),s++;t.isDetailPanelShowing&&e.splice(s+1,0,this.createDetailPanelRow(t,i))}getRowDragCell(e){const t=new Ar,s=this.matrix.lockedRowCount;return t.isDragHandlerCell=s<1||e>=s,t.isEmpty=!t.isDragHandlerCell,t.className=this.getActionsCellClassName(t),t.row=this.matrix.visibleRows[e],t}getActionsCellClassName(e=null){const t=new ge().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e==null?void 0:e.isDragHandlerCell).append(this.cssClasses.detailRowCell,e==null?void 0:e.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){const s=e.item.value.actions;this.cssClasses.actionsCellPrefix&&s.forEach(i=>{t.append(this.cssClasses.actionsCellPrefix+"--"+i.id)})}return t.toString()}getRowActionsCell(e,t,s=!1){const i=this.getRowActions(e,t);if(!this.isValueEmpty(i)){const n=new Ar,o=this.matrix.allowAdaptiveActions?new fm:new cs;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(o.cssClasses=this.matrix.survey.getCss().actionBar),o.setItems(i);const l=new Ze(o);return n.item=l,n.isActionsCell=!0,n.isDragHandlerCell=!1,n.isDetailRowCell=s,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[e],n}return null}getRowActions(e,t){var s=this.rowsActions[e];return Array.isArray(s)?s.filter(i=>(i.location||(i.location="start"),i.location===t)):[]}buildRowActions(e){var t=[];return this.setDefaultRowActions(e,t),this.matrix.survey&&(t=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,t)),t}get showRemoveButtonAsIcon(){return re.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"}setDefaultRowActions(e,t){const s=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?t.push(new Ke({id:"remove-row",iconName:"icon-delete-24x24",iconSize:"auto",component:"sv-action-bar-item",innerCss:new ge().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:s.removeRowText,enabled:!s.isInputReadOnly,data:{row:e,question:s},action:()=>{s.removeRowUI(e)}})):t.push(new Ke({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?t.unshift(new Ke({id:"show-detail-mobile",title:new yt(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!0,location:"end",action:i=>{e.showHideDetailPanelClick()}})):t.push(new Ke({id:"show-detail",title:new yt(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))}createErrorRow(e){const t=this.createErrorRenderedRow(this.cssClasses);for(let s=0;s<e.cells.length;s++){const i=e.cells[s];i.hasQuestion?this.matrix.IsMultiplyColumn(i.cell.column)?i.isFirstChoice?t.cells.push(this.createErrorCell(i.cell)):t.cells.push(this.createEmptyCell(!0)):t.cells.push(this.createErrorCell(i.cell)):t.cells.push(this.createEmptyCell(!0))}return t.onAfterCreated(),t}createEmptyRow(){return this.createEmptyRenderedRow(this.cssClasses)}createHorizontalRow(e){var t=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var s=this.matrix.visibleRows.indexOf(e);t.cells.push(this.getRowDragCell(s))}if(this.addRowActionsCell(e,t,"start"),this.matrix.hasRowText){var i=this.createTextCell(e.locText);i.row=e,t.cells.push(i),this.setCellWidth(null,i),i.className=new ge().append(i.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var n=0;n<e.cells.length;n++){let o=e.cells[n];if(o.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(o.column))this.createMutlipleEditCells(t,o);else{o.column.isShowInMultipleColumns&&o.question.visibleChoices.map(u=>u.hideCaption=!1);var i=this.createEditCell(o);t.cells.push(i),this.setCellWidth(o.column,i)}}return this.addRowActionsCell(e,t,"end"),t}addRowActionsCell(e,t,s){var i=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(s)){const o=this.getRowActionsCell(i,s,t.isDetailRow);if(o)t.cells.push(o),t.hasEndActions=!0;else{var n=new Ar;n.isEmpty=!0,n.isDetailRowCell=t.isDetailRow,t.cells.push(n)}}}createDetailPanelRow(e,t){const s=this.matrix.isDesignMode;var i=this.createRenderedRow(this.cssClasses,!0);i.row=e;var n=new Ar;this.matrix.hasRowText&&(n.colSpans=2),n.isEmpty=!0,s||i.cells.push(n);var o=null;this.hasActionCellInRows("end")&&(o=new Ar,o.isEmpty=!0);var l=new Ar;return l.panel=e.detailPanel,l.colSpans=t.cells.length-(s?0:n.colSpans)-(o?o.colSpans:0),l.className=this.cssClasses.detailPanelCell,i.cells.push(l),o&&(this.matrix.isMobile?this.addRowActionsCell(e,i,"end"):i.cells.push(o)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(i),i}buildVerticalRows(){for(var e=this.matrix.columns,t=[],s=0;s<e.length;s++){var i=e[s];if(i.isColumnVisible)if(this.matrix.IsMultiplyColumn(i))this.createMutlipleVerticalRows(t,i,s);else{const n=this.createVerticalRow(i,s),o=this.createErrorRow(n);this.showCellErrorsTop?(t.push(o),t.push(n)):(t.push(n),t.push(o))}}return this.hasActionCellInRows("end")&&t.push(this.createEndVerticalActionRow()),t}createMutlipleVerticalRows(e,t,s){var i=this.getMultipleColumnChoices(t);if(i)for(var n=0;n<i.length;n++){const o=this.createVerticalRow(t,s,i[n],n),l=this.createErrorRow(o);this.showCellErrorsTop?(e.push(l),e.push(o)):(e.push(o),e.push(l))}}createVerticalRow(e,t,s=null,i=-1){var n=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var o=s?s.locText:e.locTitle,l=this.createTextCell(o);l.column=e,l.className=new ge().append(l.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),n.cells.push(l)}for(var u=this.matrix.visibleRows,c=0;c<u.length;c++){var h=s,p=i>=0?i:c,m=u[c].cells[t],v=s?m.question.visibleChoices:void 0;v&&p<v.length&&(h=v[p]);var f=this.createEditCell(m,h);f.item=h,f.choiceIndex=p,n.cells.push(f)}return this.matrix.hasTotal&&n.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[t])),n}createEndVerticalActionRow(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var t=this.matrix.visibleRows,s=0;s<t.length;s++)e.cells.push(this.getRowActionsCell(s,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e}createMutlipleEditCells(e,t,s=!1){var i=s?this.getMultipleColumnChoices(t.column):t.question.visibleChoices;if(i)for(var n=0;n<i.length;n++){var o=this.createEditCell(t,s?void 0:i[n]);s||(this.setItemCellCssClasses(o),o.choiceIndex=n),e.cells.push(o)}}setItemCellCssClasses(e){e.className=new ge().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()}createEditCell(e,t=void 0){var s=new Ar;return s.cell=e,s.row=e.row,s.column=e.column,s.question=e.question,s.matrix=this.matrix,s.item=t,s.isOtherChoice=!!t&&!!e.question&&e.question.otherItem===t,s.className=s.calculateFinalClassName(this.cssClasses),s}createErrorCell(e,t=void 0){var s=new Ar;return s.question=e.question,s.row=e.row,s.matrix=this.matrix,s.isErrorsCell=!0,s.className=new ge().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),s}createMutlipleColumnsFooter(e,t){this.createMutlipleEditCells(e,t,!0)}createMutlipleColumnsHeader(e){var t=this.getMultipleColumnChoices(e);if(t)for(var s=0;s<t.length;s++){var i=this.createTextCell(t[s].locText);this.setHeaderCell(e,i),this.setHeaderCellCssClasses(i),this.headerRow.cells.push(i)}}getMultipleColumnChoices(e){var t=e.templateQuestion.choices;return t&&Array.isArray(t)&&t.length==0?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(t=e.getVisibleMultipleChoices(),!t||!Array.isArray(t)?null:t)}setHeaderCellCssClasses(e,t,s){e.className=new ge().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+t,!!t).append(s,!!s).toString()}createHeaderCell(e,t=null,s){let i=e?this.createTextCell(e.locTitle):this.createEmptyCell();return i.column=e,this.setHeaderCell(e,i),t||(t=e&&e.cellType!=="default"?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(i,t,s),i}setHeaderCell(e,t){this.setCellWidth(e,t)}setCellWidth(e,t){t.minWidth=e!=null?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),t.width=e!=null?e.width:this.matrix.getRowTitleWidth()}createTextCell(e){var t=new Ar;return t.locTitle=e,this.cssClasses.cell&&(t.className=this.cssClasses.cell),t}createEmptyCell(e=!1){const t=this.createTextCell(null);return t.isEmpty=!0,t.className=new ge().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),t}}F([_s({onPush:(r,e,t)=>{t.updateRenderedRows()},onRemove:(r,e,t)=>{t.updateRenderedRows()}})],Em.prototype,"rows",void 0);F([_s()],Em.prototype,"_renderedRows",void 0);class SI{constructor(e,t,s){this.column=e,this.row=t,this.data=s,this.questionValue=this.createQuestion(e,t,s),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(t)}updateCellQuestionTitleDueToAccessebility(e){this.questionValue.locTitle.onGetTextCallback=t=>{const s=e==null?void 0:e.getSurvey();if(!s||s.isSingleVisibleInput)return this.questionValue.title;const i=e.getAccessbilityText();return i?this.column.colOwner.getCellAriaLabel(e,this.column,i):this.questionValue.title}}locStrsChanged(){this.question.locStrsChanged()}createQuestion(e,t,s){const i=s.createQuestion(this.row,this.column);return i.readOnlyCallback=()=>!this.row.isRowEnabled(),i.validateValueCallback=function(){return s.validateCell(t,e.name,t.value)},Mt.getProperties(e.getType()).forEach(n=>{let o=n.name;e[o]!==void 0&&(i[o]=e[o])}),i}get question(){return this.questionValue}get value(){return this.question.value}set value(e){this.question.value=e}getQuestionWrapperClassName(e){return e}runCondition(e){this.question.runCondition(e)}}class sB extends SI{constructor(e,t,s){super(e,t,s),this.column=e,this.row=t,this.data=s,this.updateCellQuestion()}createQuestion(e,t,s){var i=ce.createClass("expression");return i.setSurveyImpl(t),i}locStrsChanged(){this.updateCellQuestion(),super.locStrsChanged()}updateCellQuestion(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0}getQuestionWrapperClassName(e){let t=super.getQuestionWrapperClassName(e);if(!t)return t;this.question.expression&&this.question.expression!="''"&&(t+=" "+e+"--expression");let s=this.column.totalAlignment;return s==="auto"&&this.column.cellType==="dropdown"&&(s="left"),t+" "+e+"--"+s}getTotalExpression(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var e=this.column.totalType+"InArray";return ct.Instance.hasFunction(e)?e+"({matrix}, '"+this.column.name+"')":""}}class rB extends yI{constructor(e){super(),this.row=e}getIndex(){return this.row.rowIndex-1}getQuestionData(){return this.row.data}getValue(e,t,s,i){if(e.length===0)return;const n=re.expressionVariables;if(e.length===1){const l=this.getRowValue(e[0].name);if(l!==void 0)return{isFound:!0,value:l};if(e[0].name===n.matrix){const u=this.row.data;return{isFound:!0,context:u.getValueGetterContext(),value:u.getFilteredData()}}}if(e.length>1&&e[0].name===n.totalRow){const l=this.row.data.visibleTotalRow;if(l)return e[0].name="row",l.getValueGetterContext().getValue(e,t,s,i)}const o=e[0].name===n.row;if(o||!t){o&&e.shift();let l=super.getValue(e,t,s,i);if(l&&l.isFound)return l;const u=this.row.getAllValues();return t&&(l=this.getValueFromBindedQuestions(e,u),l)?l:new bi(u).getValue(e,t,s,i)}}getRootObj(){return this.row.data}updateValueByItem(e,t){const s=this.row.getQuestionsByValueName(e,!0);s.length>0&&(t.isFound=!0,t.context=s[0].getValueGetterContext())}getRowValue(e){const t=re.expressionVariables;if(e=e.toLocaleLowerCase(),e===t.rowIndex.toLocaleLowerCase())return this.row.rowIndex;if(e===t.visibleRowIndex.toLocaleLowerCase())return this.getQuestionData().visibleRows.indexOf(this.row)+1;if([t.item,t.rowName.toLocaleLowerCase(),t.rowValue.toLocaleLowerCase()].indexOf(e)>-1)return this.row.rowName;if(e==t.rowTitle.toLocaleLowerCase())return this.row.rowTitle}}class uo{static getId(){return"srow_"+uo.idCounter++}constructor(e,t){this.data=e,this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.visibleIndex=-1,this.isCreatingDetailPanel=!1,this.data=e,this.subscribeToChanges(t),this.textPreProcessor=new wm(this),this.showHideDetailPanelClick=()=>{if(this.getSurvey().isDesignMode)return!0;this.showHideDetailPanel()},this.idValue=uo.getId()}get id(){return this.idValue}get rowName(){return null}get rowTitle(){return this.rowName}get dataName(){return this.rowName}get text(){return this.rowName}getValueGetterContext(){return new rB(this)}isRowEnabled(){return!0}isRowHasEnabledCondition(){return!1}get isVisible(){return this.visible&&this.isItemVisible()}get visible(){return this.visibleValue}set visible(e){var t;this.visible!==e&&(this.visibleValue=e,(t=this.data)===null||t===void 0||t.onRowVisibilityChanged(this))}isItemVisible(){return!0}get value(){return this.getValueCore(!1)}set value(e){this.isSettingValue=!0,this.subscribeToChanges(e);for(var t=this.questions,s=0;s<t.length;s++){var i=t[s],n=this.getCellValue(e,i.getValueName()),o=i.comment,l=e?e[i.getValueName()+He.commentSuffix]:"";l==null&&(l=""),i.updateValueFromSurvey(n),(l||this.isTwoValueEquals(o,i.comment))&&i.updateCommentFromSurvey(l),i.onSurveyValueChanged(n)}this.isSettingValue=!1}get filteredValue(){return this.getValueCore(!0)}getValueCore(e){for(var t={},s=this.questions,i=0;i<s.length;i++){var n=s[i];n.isEmpty()||(t[n.getValueName()]=e?n.getFilteredValue():n.value),n.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(t[n.getValueName()+He.commentSuffix]=n.comment)}return t}get locText(){return null}getAccessbilityText(){return this.locText&&this.locText.renderedHtml}get hasPanel(){return this.data?this.data.hasDetailPanel(this):!1}get detailPanel(){return this.detailPanelValue}get detailPanelId(){return this.detailPanel?this.detailPanel.id:""}get isDetailPanelShowing(){return this.data?this.data.getIsDetailPanelShowing(this):!1}setIsDetailPanelShowing(e){!e&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,e),e&&this.detailPanel&&this.detailPanel.onFirstRendering(),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()}showHideDetailPanel(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()}showDetailPanel(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)}hideDetailPanel(e=!1){this.setIsDetailPanelShowing(!1),e&&(this.detailPanelValue=null)}ensureDetailPanel(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var e=this.detailPanelValue.questions,t=this.getDataRowValue();if(!Y.isValueEmpty(t))for(var s=0;s<e.length;s++){const i=e[s].getValueName(),n=this.editingObj?ce.getObjPropertyValue(this.editingObj,i):t[i];Y.isValueEmpty(n)||(e[s].value=n)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}}getAllValues(){const e=this.value;if(this.data){const s=this.getDataRowValue();if(s)for(var t in s)e[t]===void 0&&(e[t]=s[t])}return e}getFilteredProperties(){return{survey:this.getSurvey(),row:this}}getDataRowValue(){return this.data?this.data.getRowValue(this.data.getRowIndex(this)):null}runCondition(e,t){if(!this.data)return;const s=Y.createCopy(e);s[re.expressionVariables.row]=this,t?this.visible=new Ci(t).runContext(this.getValueGetterContext(),e):this.visible=!0;for(var i=0;i<this.cells.length;i++)this.cells[i].runCondition(s);this.detailPanel&&this.detailPanel.runCondition(s),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}updateElementVisibility(){this.cells.forEach(e=>e.question.updateElementVisibility()),this.detailPanel&&this.detailPanel.updateElementVisibility()}getNamesWithDefaultValues(){const e=[];return this.questions.forEach(t=>{t.isValueDefault&&e.push(t.getValueName())}),e}clearValue(e){for(var t=this.questions,s=0;s<t.length;s++)t[s].clearValue(e)}onAnyValueChanged(e,t){for(var s=this.questions,i=0;i<s.length;i++)s[i].onAnyValueChanged(e,t)}getDataValueCore(e,t){var s=this.getSurvey();return s?s.getDataValueCore(e,t):e[t]}getValue(e){var t=this.getQuestionByName(e);return t?t.value:null}setValue(e,t){this.setValueCore(e,t,!1)}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getQuestionByName(e);return t?t.comment:""}setComment(e,t,s){this.setValueCore(e,t,!0)}findQuestionByName(e){if(!e)return;const t=re.expressionVariables.row+".";if(e.indexOf(t)===0)return this.getQuestionByName(e.substring(t.length));const s=this.getSurvey();return s?s.getQuestionByName(e):null}getEditingSurveyElement(){}setValueCore(e,t,s){if(this.isSettingValue||this.isCreatingDetailPanel)return;this.updateQuestionsValue(e,t,s),s||this.updateSharedQuestionsValue(e,t);var i=this.value,n=s?e+He.commentSuffix:e,o=t,l=this.getQuestionByName(e),u=this.data.onRowChanging(this,n,i);if(l&&!this.isTwoValueEquals(u,o)&&(this.isSettingValue=!0,s?l.comment=u:l.value=u,this.isSettingValue=!1,i=this.value),this.data.isValidateOnValueChanging&&!this.validateCellQuestion(l))return;const c=t==null&&!l||s&&!t&&!!l;this.data.onRowChanged(this,n,i,c);const h=re.expressionVariables.row;if(n){const p=h+"."+n;this.runTriggers(p,i),this.data.runTriggersInRow(this,p,i)}this.onAnyValueChanged(h,"")}updateQuestionsValue(e,t,s){if(this.detailPanel){var i=this.getQuestionByColumnName(e),n=this.detailPanel.getQuestionByName(e);if(!(!i||!n)){var o=this.isTwoValueEquals(t,s?i.comment:i.value),l=o?n:i;this.isSettingValue=!0,s?l.comment=t:l.value=t,this.isSettingValue=!1}}}updateSharedQuestionsValue(e,t){const s=this.getQuestionsByValueName(e);if(s.length>1)for(let i=0;i<s.length;i++)Y.isTwoValueEquals(s[i].value,t)||(this.isSettingValue=!0,s[i].updateValueFromSurvey(t),this.isSettingValue=!1)}runTriggers(e,t,s){!e&&!s||this.questions.forEach(i=>i.runTriggers(e,t,s))}validateCellQuestion(e){if(!e)return!0;if(!e.validateElement(new Cl({fireCallback:!0,isOnValueChanged:!this.data.isValidateOnValueChanging})))return!1;if(e.isEmpty())return!0;var t=this.getCellByColumnName(e.name);return!t||!t.column||!t.column.isUnique?!0:!this.data.checkIfValueInRowDuplicated(this,e)}get isEmpty(){var e=this.value;if(Y.isValueEmpty(e))return!0;for(var t in e)if(e[t]!==void 0&&e[t]!==null)return!1;return!0}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let s=0;s<t.length;s++)if(!t[s].isEmpty())return!0;return!1}getQuestionByColumn(e){var t=this.getCellByColumn(e);return t?t.question:null}getCellByColumn(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column==e)return this.cells[t];return null}getCellByColumnName(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column.name==e)return this.cells[t];return null}getQuestionByColumnName(e){var t=this.getCellByColumnName(e);return t?t.question:null}get questions(){for(var e=[],t=0;t<this.cells.length;t++)e.push(this.cells[t].question);for(var s=this.detailPanel?this.detailPanel.questions:[],t=0;t<s.length;t++)e.push(s[t]);return e}get visibleQuestions(){const e=[];return this.questions.forEach(t=>{t.isVisible&&e.push(t)}),e}getQuestionByName(e){var t=this.getQuestionByColumnName(e);return t||(this.detailPanel?this.detailPanel.getQuestionByName(e):null)}getQuestionsByName(e){let t=[],s=this.getQuestionByColumnName(e);return s&&t.push(s),this.detailPanel&&(s=this.detailPanel.getQuestionByName(e),s&&t.push(s)),t}getQuestionsByValueName(e,t){t&&(e=e.toLocaleLowerCase());let s=[];for(var i=0;i<this.cells.length;i++){const n=this.cells[i],o=n.question;if(!o)continue;let l=o.getValueName();t&&(l=l.toLocaleLowerCase()),l===e&&s.push(n.question)}return this.detailPanel&&(s=s.concat(this.detailPanel.getQuestionsByValueName(e,t))),s}getSharedQuestionByName(e){return this.data?this.data.getSharedQuestionByName(e,this):null}clearIncorrectValues(e){for(var t in e){var s=this.getQuestionByName(t);if(s){var i=s.value;s.clearIncorrectValues(),this.isTwoValueEquals(i,s.value)||this.setValue(t,s.value)}else!this.getSharedQuestionByName(t)&&t.indexOf(re.matrix.totalsSuffix)<0&&this.setValue(t,null)}}getLocale(){return this.data?this.data.getLocale():""}getMarkdownHtml(e,t,s){return this.data?this.data.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.data?this.data.getRenderer(e):null}getRendererContext(e){return this.data?this.data.getRendererContext(e):e}getProcessedText(e){return this.data?this.data.getProcessedText(e):e}locStrsChanged(){for(var e=0;e<this.cells.length;e++)this.cells[e].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()}updateCellQuestionOnColumnChanged(e,t,s){var i=this.getCellByColumn(e);i&&this.updateCellOnColumnChanged(i,t,s)}updateCellQuestionOnColumnItemValueChanged(e,t,s,i,n,o){var l=this.getCellByColumn(e);l&&this.updateCellOnColumnItemValueChanged(l,t,s,i,n,o)}onQuestionReadOnlyChanged(){const e=this.questions;for(var t=0;t<e.length;t++){const s=e[t];s.setPropertyValue("isReadOnly",s.isReadOnly)}if(this.detailPanel){const s=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=s||!this.isRowEnabled()}}validate(e){let t=!0;const s=this.cells;if(!s)return t;for(let i=0;i<s.length;i++){if(!s[i])continue;const n=s[i].question;!n||!n.visible||e&&e.isOnValueChanged===!0&&n.isEmpty()||(t=n.validateElement(e)&&t)}if(this.hasPanel){this.ensureDetailPanel();const i=this.detailPanel.validateElement(e),n=e;!n.hideErroredPanel&&!i&&e.fireCallback&&(n.isSingleDetailPanel&&(n.hideErroredPanel=!0),this.showDetailPanel()),t=i&&t}return t}updateCellOnColumnChanged(e,t,s){t==="choices"&&Array.isArray(s)&&s.length===0&&this.data&&(s=this.data.choices),e.question[t]=s}updateCellOnColumnItemValueChanged(e,t,s,i,n,o){var l=e.question[t];if(Array.isArray(l)){var u=i==="value"?o:s.value,c=Ze.getItemByValue(l,u);c&&(c[i]=n)}}buildCells(e){this.isSettingValue=!0;for(var t=this.data.columns,s=0;s<t.length;s++){var i=t[s],n=this.createCell(i);this.cells.push(n);var o=this.getCellValue(e,i.name);if(!Y.isValueEmpty(o)){n.question.value=o;var l=i.name+He.commentSuffix;e&&!Y.isValueEmpty(e[l])&&(n.question.comment=e[l])}}this.isSettingValue=!1}isTwoValueEquals(e,t){return Y.isTwoValueEquals(e,t,!1,!0,!1)}getCellValue(e,t){return this.editingObj?ce.getObjPropertyValue(this.editingObj,t):e?e[t]:void 0}createCell(e){return new SI(e,this,this.data)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}get rowIndex(){return this.getRowIndex()}getRowIndex(){return this.data?this.data.getRowIndex(this)+1:-1}get editingObj(){return this.editingObjValue}dispose(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)}subscribeToChanges(e){!e||!e.getType||!e.onPropertyChanged||e!==this.editingObj&&(this.editingObjValue=e,this.onEditingObjPropertyChanged=(t,s)=>{this.updateOnSetValue(s.name,s.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}updateOnSetValue(e,t){this.isSettingValue=!0;let s=this.getQuestionsByName(e);for(let i=0;i<s.length;i++)s[i].value=t;this.isSettingValue=!1}}uo.idCounter=1;class Ug extends uo{constructor(e){super(e,null),this.buildCells(null)}createCell(e){return new sB(e,this,this.data)}setValue(e,t){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()}runCondition(e,t){var s=0,i;do i=Y.getUnbindValue(this.value),super.runCondition(e,""),s++;while(!Y.isTwoValueEquals(i,this.value)&&s<3)}updateCellOnColumnChanged(e,t,s){e.updateCellQuestion()}}class EI{constructor(e,t){this.matrix=e,this.row=t}getLocale(){return this.matrix.getLocale()}getMarkdownHtml(e,t,s){return this.matrix.getMarkdownHtml(e,t,s)}getProcessedText(e){return this.matrix.processSingleInputTitle(e,this.row)}getRenderer(e){return this.matrix.getRenderer(e)}getRendererContext(e){return this.matrix.getRendererContext(e)}}class rc extends Cm{static get defaultCellType(){return re.matrix.defaultCellType}static set defaultCellType(e){re.matrix.defaultCellType=e}static addDefaultColumns(e){for(var t=gt.DefaultColums,s=0;s<t.length;s++)e.addColumn(t[s])}createColumnValues(){return this.createNewArray("columns",e=>{e.colOwner=this,this.onAddColumn&&this.onAddColumn(e),this.survey&&this.survey.matrixColumnAdded(this,e)},e=>{e.colOwner=null,this.onRemoveColumn&&this.onRemoveColumn(e)})}constructor(e){super(e),this.isRowChanging=!1,this.lockResetRenderedTable=!1,this.createItemValues("choices"),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("singleInputTitleTemplate",new EI(this),!0,this.getSingleInputTitleTemplate()),this.detailPanelValue=this.createNewDetailPanel(),this.detailPanel.selectedElementInDesign=this,this.detailPanel.renderWidth="100%",this.detailPanel.isInteractiveDesignElement=!1,this.detailPanel.showTitle=!1,this.registerPropertyChangedHandlers(["columns","cellType"],()=>{this.updateColumnsAndRows()}),this.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],()=>{this.clearRowsAndResetRenderedTable()}),this.registerPropertyChangedHandlers(["transposeData","addRowButtonLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],()=>{this.resetRenderedTable()})}getType(){return"matrixdropdownbase"}dispose(){super.dispose(),this.clearGeneratedRows()}get hasSingleInput(){return!1}get isContainer(){return!0}get isRowsDynamic(){return!1}get isUpdateLocked(){return this.isLoadingFromJson||this.isUpdating}beginUpdate(){this.isUpdating=!0}endUpdate(){this.isUpdating=!1,this.updateColumnsAndRows()}updateColumnsAndRows(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()}itemValuePropertyChanged(e,t,s,i){super.itemValuePropertyChanged(e,t,s,i),e.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()}get transposeData(){return this.getPropertyValue("transposeData")}set transposeData(e){this.setPropertyValue("transposeData",e)}get columnLayout(){return this.transposeData?"vertical":"horizontal"}set columnLayout(e){this.transposeData=e==="vertical"}get columnsLocation(){return this.columnLayout}set columnsLocation(e){this.columnLayout=e}get detailErrorLocation(){return this.getPropertyValue("detailErrorLocation")}set detailErrorLocation(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())}get cellErrorLocation(){return this.getPropertyValue("cellErrorLocation")}set cellErrorLocation(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())}getChildErrorLocation(e){const t=e.parent?this.detailErrorLocation:this.cellErrorLocation;return t!=="default"?t:super.getChildErrorLocation(e)}get isColumnLayoutHorizontal(){return this.isMobile?!0:!this.transposeData}get useCaseSensitiveComparison(){return this.useCaseSensitiveComparisonValue!==void 0?this.useCaseSensitiveComparisonValue:re.comparator.caseSensitive}set useCaseSensitiveComparison(e){this.useCaseSensitiveComparisonValue=e}get isUniqueCaseSensitive(){return this.useCaseSensitiveComparison}set isUniqueCaseSensitive(e){this.useCaseSensitiveComparison=e}get detailPanelMode(){return this.getPropertyValue("detailPanelMode")}set detailPanelMode(e){this.setPropertyValue("detailPanelMode",e)}get detailPanel(){return this.detailPanelValue}getPanel(){return this.detailPanel}get detailElements(){return this.detailPanel.elements}createNewDetailPanel(){return ce.createClass("panel")}get hasRowText(){return!0}getFooterText(){return null}get canAddRow(){return!1}get canRemoveRows(){return!1}canRemoveRow(e){return!0}onPointerDown(e,t){}onRowsChanged(){this.clearVisibleRows(),this.resetRenderedTable(),super.onRowsChanged(),this.updateRowsVisibleIndexes()}updateRowsVisibleIndexes(){const e=this.visibleRows;if(!Array.isArray(e))return;const t=re.expressionVariables.visibleRowIndex,s={};s[t]=0;for(let i=0;i<e.length;i++)e[i].visibleIndex=i,s[t]=i+1,e[i].runTriggers(t,i+1,s)}onStartRowAddingRemoving(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)}onEndRowAdding(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{const e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}}onEndRowRemoving(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)}get renderedTableValue(){return this.getPropertyValue("renderedTable",null)}set renderedTableValue(e){this.setPropertyValue("renderedTable",e)}clearRowsAndResetRenderedTable(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)}resetRenderedTable(e){this.renderedTableValue&&(this.lockResetRenderedTable||this.isUpdateLocked?e&&this.renderedTableValue.requireReset():(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback)))}clearGeneratedRows(){if(this.clearVisibleRows(),!!this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();super.clearGeneratedRows()}}get isRendredTableCreated(){return!!this.renderedTableValue}get renderedTable(){return!this.renderedTableValue&&!this.isDisposed&&(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue}createRenderedTable(){return new Em(this)}getRowByQuestion(e){if(e)return e.data}onMatrixRowCreated(e){if(this.survey)for(var t={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},s=0;s<this.columns.length;s++){t.column=this.columns[s],t.columnName=t.column.name;var i=e.cells[s];t.cell=i,t.cellQuestion=i.question,t.value=i.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(t),this.survey.matrixCellCreated(this,t)}}get cellType(){return this.getPropertyValue("cellType",re.matrix.defaultCellType)}set cellType(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)}isSelectCellType(){return ce.isDescendantOf(this.cellType,"selectbase")}updateColumnsCellType(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()}updateColumnsIndexes(e){for(var t=0;t<e.length;t++)e[t].setIndex(t)}get columnColCount(){return this.getPropertyValue("columnColCount")}set columnColCount(e){e<0||e>4||this.setPropertyValue("columnColCount",e)}get horizontalScroll(){return this.getPropertyValue("horizontalScroll")}set horizontalScroll(e){this.setPropertyValue("horizontalScroll",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)}hasChoices(){return this.choices.length>0}onColumnPropertyChanged(e,t,s){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var i=0;i<this.generatedVisibleRows.length;i++)this.generatedVisibleRows[i].updateCellQuestionOnColumnChanged(e,t,s);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,t,s),this.onColumnsChanged(),t=="isRequired"&&this.resetRenderedTable()}}onColumnNestedPropertyChanged(e,t,s,i){if(this.generatedVisibleRows)for(var n=0;n<this.generatedVisibleRows.length;n++){const l=this.generatedVisibleRows[n].getQuestionByColumn(e);l&&l[t]&&(l[t][s]=i)}}onColumnItemValuePropertyChanged(e,t,s,i,n,o){if(this.generatedVisibleRows)for(var l=0;l<this.generatedVisibleRows.length;l++)this.generatedVisibleRows[l].updateCellQuestionOnColumnItemValueChanged(e,t,s,i,n,o)}onShowInMultipleColumnsChanged(e){this.resetTableAndRows()}onColumnVisibilityChanged(e){this.resetTableAndRows()}onColumnCellTypeChanged(e){this.updateDefaultRowValue(e),this.resetTableAndRows()}updateDefaultRowValue(e){let t=this.defaultRowValue;t&&e.cellType==="file"&&t[e.name]&&(delete t[e.name],Object.keys(t).length===0&&(t=void 0),this.defaultRowValue=t)}resetTableAndRows(){this.clearGeneratedRows(),this.resetRenderedTable()}getRowTitleWidth(){return""}get hasFooter(){return this.getPropertyValue("hasFooter",!1)}getAddRowLocation(){return"default"}getShowColumnsIfEmpty(){return!1}updateShowTableAndAddRow(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()}updateHasFooter(){this.setPropertyValue("hasFooter",this.hasTotal)}get hasTotal(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1}getCellType(){return this.cellType}getCustomCellType(e,t,s){if(!this.survey)return s;var i={rowValue:t.value,row:t,column:e,columnName:e.name,cellType:s};return this.survey.matrixCellCreating(this,i),i.cellType}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);let s="";for(let o=t.length-1;o>=0&&t[o]!=".";o--)s=t[o]+s;let i,n=this.getColumnByName(s);return n?i=n.createCellQuestion(null):this.detailPanelMode!=="none"&&(i=this.detailPanel.getQuestionByName(s)),i?i.getConditionJson(e):null}clearIncorrectValues(){if(!Array.isArray(this.visibleRows))return;const e=this.generatedVisibleRows;for(let t=0;t<e.length;t++)e[t].clearIncorrectValues(this.getRowValue(t))}clearErrors(){super.clearErrors(),this.runFuncForCellQuestions(e=>{e.clearErrors()})}localeChanged(){super.localeChanged(),this.runFuncForCellQuestions(e=>{e.localeChanged()})}runFuncForCellQuestions(e){const t=this.generatedVisibleRows;if(t)for(let s=0;s<t.length;s++){const i=t[s];if(i.isVisible)for(let n=0;n<i.cells.length;n++)e(i.cells[n].question)}}runConditionCore(e){super.runConditionCore(e);var t=0,s;do s=Y.getUnbindValue(this.totalValue),this.runCellsCondition(e),this.runTotalsCondition(e),t++;while(!Y.isTwoValueEquals(s,this.totalValue)&&t<3);this.updateVisibilityBasedOnRows()}runTriggers(e,t,s){super.runTriggers(e,t,s),this.runFuncForCellQuestions(i=>{i.runTriggers(e,t,s)})}updateElementVisibility(){super.updateElementVisibility();const e=this.generatedVisibleRows;e&&e.forEach(t=>t.updateElementVisibility()),this.updateShowTableAndAddRow()}shouldRunColumnExpression(){return!1}runCellsCondition(e){if(this.isDesignMode)return;const t=this.getExpressionFromSurvey("rowsVisibleIf"),s=this.generatedVisibleRows;if(s)for(var i=0;i<s.length;i++)s[i].runCondition(e,t);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}runConditionsForColumns(e){const t=this.getExpressionFromSurvey("columnsVisibleIf");return this.columns.forEach(s=>{if(!t)s.isColumnsVisibleIf=!0;else{const i=new Ci(t);s.isColumnsVisibleIf=i.runContext(s.getValueGetterContext(),e)===!0}}),!1}checkColumnsVisibility(){if(!this.isDesignMode){for(var e=!1,t=0;t<this.columns.length;t++){const s=this.columns[t],i=!!s.visibleIf||s.isFilteredMultipleColumns;!i&&!this.columnsVisibleIf&&s.isColumnVisible||(e=this.isColumnVisibilityChanged(s,i)||e)}e&&this.resetRenderedTable(!0)}}checkColumnsRenderedRequired(){const e=this.generatedVisibleRows;if(e)for(var t=0;t<this.columns.length;t++){const i=this.columns[t];if(!i.requiredIf||!i.isColumnVisible)continue;let n=e.length>0;for(var s=0;s<e.length;s++)if(!e[s].cells[t].question.isRequired){n=!1;break}i.updateIsRenderedRequired(n)}}isColumnVisibilityChanged(e,t){const s=e.isColumnVisible;let i=!t;const n=this.generatedVisibleRows,o=t&&n,l=o&&e.isFilteredMultipleColumns,u=l?e.getVisibleChoicesInCell:[],c=new Array;if(o)for(let h=0;h<n.length;h++){const p=n[h].cells[e.index],m=p==null?void 0:p.question;if(m&&m.isVisible)if(i=!0,l)this.updateNewVisibleChoices(m,c);else break}return e.hasVisibleCell=i&&e.isColumnsVisibleIf,l&&(e.setVisibleChoicesInCell(c),!Y.isArraysEqual(u,c,!0,!1,!1))?!0:s!==e.isColumnVisible}updateNewVisibleChoices(e,t){const s=e.visibleChoices;if(Array.isArray(s))for(let i=0;i<s.length;i++){const n=s[i];t.indexOf(n.value)<0&&t.push(n.value)}}runTotalsCondition(e){this.generatedTotalRow&&this.generatedTotalRow.runCondition(e)}IsMultiplyColumn(e){return e.isShowInMultipleColumns&&!this.isMobile}locStrsChanged(){super.locStrsChanged();for(var e=this.columns,t=0;t<e.length;t++)e[t].locStrsChanged();var s=this.generatedVisibleRows;if(s){for(var t=0;t<s.length;t++)s[t].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}}getColumnByName(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t];return null}getColumnName(e){return this.getColumnByName(e)}getColumnWidth(e){var t;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:((t=re.matrix.columnWidthsByType[e.cellType])===null||t===void 0?void 0:t.minWidth)||""}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get singleInputTitleTemplate(){return this.getLocalizableStringText("singleInputTitleTemplate")}set singleInputTitleTemplate(e){this.setLocalizableStringText("singleInputTitleTemplate",e)}get locSingleInputTitleTemplate(){return this.getLocalizableString("singleInputTitleTemplate")}getSingleQuestionLocTitleCore(){return this.locSingleInputTitleTemplate}getSingleInputTitleTemplate(){return""}processSingleInputTitle(e,t){t||(t=this.getRowByQuestion(this.singleInputQuestion));const s=t?t.getTextProcessor():this.textProcessor;return s?s.processText(e,!0):e}singleInputMoveToFirstCore(){var e;const t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.data;this.singleInputEditRow(t)}singleInputEditRow(e){if(!e)return;const t=e.visibleQuestions;Array.isArray(t)&&t.length>0&&this.setSingleInputQuestion(t[0])}get storeOthersAsComment(){return this.survey?this.survey.storeOthersAsComment:!1}addColumn(e,t){var s=new Np(e,t,this);return this.columns.push(s),s}clearVisibleRows(){this.visibleRowsArray=null}isColumnVisible(e){return e.isColumnVisible}getVisibleRows(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:this.visibleRowsArray?this.visibleRowsArray:(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows),this.updateRowsVisibleIndexes(),this.visibleRowsArray)}get allRows(){return this.isGenereatingRows?[]:(this.generateVisibleRowsIfNeeded(),this.generatedVisibleRows)}generateVisibleRowsIfNeeded(){if(!this.isUpdateLocked&&!this.generatedVisibleRows){this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1;for(var e=0;e<this.generatedVisibleRows.length;e++){const t=this.generatedVisibleRows[e];t.visibleIndex=e,this.onMatrixRowCreated(t)}this.data&&(this.runCellsCondition(this.data.getFilteredProperties()),this.isValueChangedWithoutRows&&(this.isValueChangedWithoutRows=!1,this.runTriggersOnNewRows())),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered())}}runTriggersOnNewRows(){const e=this.value;this.generatedVisibleRows.forEach(t=>{const s=this.getRowValueCore(t,e);if(!Y.isValueEmpty(s)){const i=Y.createCopyWithPrefix(s,re.expressionVariables.row+".");t.runTriggers("",void 0,i)}})}getVisibleFromGenerated(e){const t=[];return e?(e.forEach(s=>{s.isVisible&&t.push(s)}),t.length===e.length?e:t):t}updateValueOnRowsGeneration(e){for(var t=this.createNewValue(!0),s=this.createNewValue(),i=0;i<e.length;i++){var n=e[i];if(!n.editingObj){var o=this.getRowValue(i),l=n.value;this.isTwoValueEquals(o,l)||(s=this.getNewValueOnRowChanged(n,"",l,!1,s).value)}}this.isTwoValueEquals(t,s)||(this.isRowChanging=!0,this.setNewValue(s),this.isRowChanging=!1)}get totalValue(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value}getVisibleTotalRow(){return this.isUpdateLocked?null:(this.hasTotal?this.generatedTotalRow||(this.generatedTotalRow=this.generateTotalRow(),this.data&&this.runTotalsCondition({survey:this.survey})):this.generatedTotalRow=null,this.generatedTotalRow)}get visibleTotalRow(){return this.getVisibleTotalRow()}onSurveyLoad(){super.onSurveyLoad(),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()}getRowValue(e){if(e<0||!Array.isArray(this.visibleRows))return null;var t=this.generatedVisibleRows;if(e>=t.length)return null;const s=this.value,i=this.getRowValueCore(t[e],s);return this.isValueSurveyElement(s)?i:Y.getUnbindValue(i)}checkIfValueInRowDuplicated(e,t){return this.generatedVisibleRows?this.isValueInColumnDuplicated(t.name,!0,e):!1}setRowValue(e,t){if(e<0)return null;var s=this.visibleRows;if(e>=s.length)return null;s[e].value=t,this.onRowChanged(s[e],"",t,!1)}generateRows(){return null}generateTotalRow(){return new Ug(this)}createNewValue(e=!1){var t=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(t)?null:t}getRowValueCore(e,t,s=!1){var i=t&&t[e.rowName]?t[e.rowName]:null;return!i&&s&&(i={},t&&(t[e.rowName]=i)),i}getRowObj(e){var t=this.getRowValueCore(e,this.value);return t&&t.getType?t:null}getRowDisplayValue(e,t,s){if(!s||t.editingObj)return s;for(var i=Object.keys(s),n=0;n<i.length;n++){var o=i[n],l=t.getQuestionByName(o);if(l||(l=this.getSharedQuestionByName(o,t)),l){var u=l.getDisplayValue(e,s[o]);e&&l.title&&l.title!==o?(s[l.title]=u,delete s[o]):s[o]=u}}return s}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const s=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.visibleRows.map(i=>{var n={name:i.dataName,title:i.text,value:i.value,displayValue:this.getRowDisplayValue(!1,i,i.value),getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!0,data:i.cells.map(o=>o.question.getPlainData(e)).filter(o=>!!o)};return(e.calculations||[]).forEach(o=>{n[o.propertyName]=i[o.propertyName]}),n}),t.data=t.data.concat(s)}return t}addConditionObjectsByContext(e,t){let s=[].concat(this.columns);this.detailPanelMode!=="none"&&(s=s.concat(this.detailPanel.questions));const i=!!t&&s.indexOf(t)>-1,n=t===!0||i,o=this.getConditionObjectsRowIndeces();n&&o.push(-1);for(var l=0;l<o.length;l++){const c=o[l],h=c>-1?this.getConditionObjectRowName(c):"row";if(!h)continue;const p=c>-1?this.getConditionObjectRowText(c):"row",m=c>-1||t===!0,v=m&&c===-1?".":"",f=(m?this.getValueName():"")+v+h+".",b=(m?this.processedTitle:"")+v+p+".";for(var u=0;u<s.length;u++){const x=s[u];if(c===-1&&t===x)continue;const g={name:f+x.name,text:b+x.fullTitle,question:this};c===-1&&t===!0?g.context=this:i&&f.startsWith("row.")&&(g.context=t),e.push(g)}}}onHidingContent(){if(super.onHidingContent(),!this.generatedVisibleRows)return;const e=[];this.collectNestedQuestions(e,!0),e.forEach(t=>t.onHidingContent())}getIsReadyNestedQuestions(){if(!this.generatedVisibleRows)return[];const e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1,!0,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1,!0,!1),e}collectNestedQuestionsCore(e,t,s,i){i&&e.push(this),this.collectNestedQuestonsInRows(this.visibleRows,e,t,s,i)}collectNestedQuestonsInRows(e,t,s,i,n){Array.isArray(e)&&e.forEach(o=>{o.questions.forEach(l=>l.addNestedQuestion(t,s,i,n))})}getConditionObjectRowName(e){return""}getConditionObjectRowText(e){return this.getConditionObjectRowName(e)}getConditionObjectsRowIndeces(){return[]}getProgressInfo(){if(this.getIsRequireToGenerateRows()&&this.generateVisibleRowsIfNeeded(),this.generatedVisibleRows)return Vt.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);const e=He.createProgressInfo();return this.updateProgressInfoByValues(e),e.requiredQuestionCount===0&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e}getIsRequireToGenerateRows(){return!!this.rowsVisibleIf}updateProgressInfoByValues(e){}updateProgressInfoByRow(e,t){for(var s=0;s<this.columns.length;s++){const i=this.columns[s];if(!i.templateQuestion.hasInput)continue;const n=!Y.isValueEmpty(t[i.name]);!n&&i.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=i.isRequired,e.answeredQuestionCount+=n?1:0,e.requiredAnsweredQuestionCount+=n&&i.isRequired?1:0)}}getCellQuestions(){const e=[];return this.runFuncForCellQuestions(t=>{e.push(t)}),e}onBeforeValueChanged(e){}onSetQuestionValue(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var e=this.createNewValue(),t=0;t<this.generatedVisibleRows.length;t++){var s=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValueCore(s,e)}this.isRowChanging=!1}}setQuestionValue(e){super.setQuestionValue(e,!1),this.onSetQuestionValue(),this.updateIsAnswered()}supportAutoAdvance(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++){var s=this.generatedVisibleRows[t].cells;if(s)for(var i=0;i<s.length;i++){var n=s[i].question;if(n&&(!n.supportAutoAdvance()||!n.value))return!1}}return!0}getContainsErrors(){return super.getContainsErrors()||this.checkForAnswersOrErrors(e=>e.containsErrors,!1)}getIsAnswered(){return super.getIsAnswered()&&this.checkForAnswersOrErrors(e=>e.isAnswered,!0)}checkForAnswersOrErrors(e,t=!1){var s=this.generatedVisibleRows;if(!s)return!1;for(var i=0;i<s.length;i++){var n=s[i].cells;if(n){for(var o=0;o<n.length;o++)if(n[o]){var l=n[o].question;if(l&&l.isVisible){if(e(l)){if(!t)return!0}else if(t)return!1}}}}return!!t}validateElementCore(e){const t=this.validateRows(e),s=this.isValueDuplicated(e);return super.validateElementCore(e)&&t&&!s}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var t=this.generatedVisibleRows[e].cells;if(t){for(var s=0;s<t.length;s++)if(t[s]){var i=t[s].question;if(i&&i.isRunningValidators)return!0}}}return!1}getAllErrors(){var e=super.getAllErrors(),t=this.generatedVisibleRows;if(t===null)return e;for(var s=0;s<t.length;s++)for(var i=t[s],n=0;n<i.cells.length;n++){var o=i.cells[n].question.getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}validateRows(e){let t=this.generatedVisibleRows;t||(t=this.visibleRows);var s=!0;e.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var i=0;i<t.length;i++)t[i].isVisible&&(s=t[i].validate(e)&&s);return s}isValueDuplicated(e){if(!this.generatedVisibleRows)return!1;for(var t=this.getUniqueColumnsNames(),s=!1,i=0;i<t.length;i++){const n=this.getDuplicatedRowAndShowErrors(t[i],!0);n&&n.length>0&&(e.setError(n[0].getQuestionByColumnName(t[i])),s=!0)}return s}getUniqueColumnsNames(){for(var e=new Array,t=0;t<this.columns.length;t++)this.columns[t].isUnique&&e.push(this.columns[t].name);return e}isValueInColumnDuplicated(e,t,s){const i=this.getDuplicatedRowAndShowErrors(e,t,s);return s?i.indexOf(s)>-1:i.length>0}getDuplicatedRowAndShowErrors(e,t,s){const i=this.getDuplicatedRows(e);return t&&this.showDuplicatedErrorsInRows(i,e),this.removeDuplicatedErrorsInRows(i,e),i}getDuplicatedRows(e){const t={},s=[],i=this.generatedVisibleRows;for(var n=0;n<i.length;n++){let o;const l=i[n].getQuestionByName(e);if(l)o=l.value;else{const u=this.getRowValue(n);o=u?u[e]:void 0}this.isValueEmpty(o)||(!this.useCaseSensitiveComparison&&typeof o=="string"&&(o=o.toLocaleLowerCase()),t[o]||(t[o]=[]),t[o].push(i[n]))}for(let o in t)t[o].length>1&&t[o].forEach(l=>s.push(l));return s}showDuplicatedErrorsInRows(e,t){e.forEach(s=>{let i=s.getQuestionByName(t);const n=this.detailPanel.getQuestionByName(t);!i&&n&&(s.showDetailPanel(),s.detailPanel&&(i=s.detailPanel.getQuestionByName(t))),i&&(n&&s.showDetailPanel(),this.addDuplicationError(i))})}removeDuplicatedErrorsInRows(e,t){this.generatedVisibleRows.forEach(s=>{if(e.indexOf(s)<0){const i=s.getQuestionByName(t);i&&this.removeDuplicationError(s,i)}})}getDuplicationError(e){const t=e.errors;for(let s=0;s<t.length;s++)if(t[s].getErrorType()==="keyduplicationerror")return t[s];return null}addDuplicationError(e){this.getDuplicationError(e)||e.addError(new gI(this.keyDuplicationError,this))}removeDuplicationError(e,t){t.removeError(this.getDuplicationError(t))&&t.errors.length===0&&e.editingObj&&(e.editingObj[t.getValueName()]=t.value)}getFirstQuestionToFocus(e){return this.getFirstCellQuestion(e)}getFirstInputElementId(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:super.getFirstInputElementId()}getFirstErrorInputElementId(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:super.getFirstErrorInputElementId()}getFirstCellQuestion(e){if(!this.generatedVisibleRows)return null;for(var t=0;t<this.generatedVisibleRows.length;t++)for(var s=this.generatedVisibleRows[t].cells,i=0;i<s.length;i++)if(!e||s[i].question.currentErrorCount>0)return s[i].question;return null}onReadOnlyChanged(){if(super.onReadOnlyChanged(),!!this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()}createQuestion(e,t){return this.createQuestionCore(e,t)}createQuestionCore(e,t){var s=t.createCellQuestion(e);return s.setSurveyImpl(e),s.setParentQuestion(this),s.inMatrixMode=!0,s}deleteRowValue(e,t){return e&&(delete e[t.rowName],this.isObject(e)&&Object.keys(e).length==0?null:e)}onAnyValueChanged(e,t){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged)){if(!this.generatedVisibleRows){e===this.getValueName()&&(this.isValueChangedWithoutRows=!0);return}this.isDoingonAnyValueChanged=!0;for(var s=this.generatedVisibleRows,i=0;i<s.length;i++)s[i].onAnyValueChanged(e,t);var n=this.visibleTotalRow;n&&n.onAnyValueChanged(e,t),this.isDoingonAnyValueChanged=!1}}isObject(e){return e!==null&&typeof e=="object"}getOnCellValueChangedOptions(e,t,s){const i=n=>e.getQuestionByName(n);return{row:e,columnName:t,rowValue:s,value:s?s[t]:null,getCellQuestion:i,cellQuestion:e.getQuestionByName(t),column:this.getColumnByName(t)}}onCellValueChanged(e,t,s){if(this.survey){var i=this.getOnCellValueChangedOptions(e,t,s);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(i),this.survey.matrixCellValueChanged(this,i)}}validateCell(e,t,s){if(this.survey){var i=this.getOnCellValueChangedOptions(e,t,s);return this.survey.matrixCellValidate(this,i)}}get isValidateOnValueChanging(){return this.survey?this.survey.isValidateOnValueChanging:!1}get hasInvisibleRows(){const e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(!e[t].isVisible)return!0;return!1}getFilteredData(){return this.isEmpty()||!this.generatedVisibleRows||this.isEditingSurveyElement?this.value:this.getFilteredDataCore()}getFilteredDataCore(){return this.value}onRowChanging(e,t,s){if(!this.survey&&!this.cellValueChangingCallback)return s?s[t]:null;var i=this.getOnCellValueChangedOptions(e,t,s),n=this.getRowValueCore(e,this.createNewValue(),!0);return i.oldValue=n?n[t]:null,this.cellValueChangingCallback&&(i.value=this.cellValueChangingCallback(e,t,i.value,i.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,i),i.value}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}onRowChanged(e,t,s,i){var n=t?this.getRowObj(e):null;if(n){var o=null;s&&!i&&(o=s[t]),this.isRowChanging=!0,ce.setObjPropertyValue(n,t,o),this.isRowChanging=!1,this.onCellValueChanged(e,t,n)}else{var l=this.createNewValue(!0),u=this.getNewValueOnRowChanged(e,t,s,i,this.createNewValue());if(this.isTwoValueEquals(l,u.value))return;this.isRowChanging=!0,this.setNewValue(u.value),this.isRowChanging=!1,t&&this.onCellValueChanged(e,t,u.rowValue)}this.getUniqueColumnsNames().indexOf(t)>-1&&this.isValueInColumnDuplicated(t,!!n)}getNewValueOnRowChanged(e,t,s,i,n){const o=this.getRowValueCore(e,n,!0);if(i&&delete o[t],e.questions.forEach(u=>{delete o[u.getValueName()]}),s){s=JSON.parse(JSON.stringify(s));for(var l in s)this.isValueEmpty(s[l])||(o[l]=s[l])}return this.isObject(o)&&Object.keys(o).length===0&&(n=this.deleteRowValue(n,e)),n=this.correctValueForMinMaxRows(n),{value:n,rowValue:o}}correctValueForMinMaxRows(e){return e}getRowIndex(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1}getElementsInDesign(e=!1){let t;return this.detailPanelMode=="none"?t=super.getElementsInDesign(e):t=e?[this.detailPanel]:this.detailElements,this.columns.concat(t)}hasDetailPanel(e){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0}getIsDetailPanelShowing(e){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var t=this.visibleRows.indexOf(e)==0;return t&&(e.detailPanel||e.showDetailPanel()),t}return this.getPropertyValue("isRowShowing"+e.id,!1)}setIsDetailPanelShowing(e,t){if(t!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,t),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,t),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,t),t&&this.detailPanelMode==="underRowSingle"))for(var s=this.visibleRows,i=0;i<s.length;i++)s[i].id!==e.id&&s[i].isDetailPanelShowing&&s[i].hideDetailPanel()}getDetailPanelButtonCss(e){const t=new ge().append(this.getPropertyValue("detailButtonCss"+e.id));return t.append(this.cssClasses.detailButton,t.toString()==="").toString()}getDetailPanelIconCss(e){const t=new ge().append(this.getPropertyValue("detailIconCss"+e.id));return t.append(this.cssClasses.detailIcon,t.toString()==="").toString()}getDetailPanelIconId(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId}updateDetailPanelButtonCss(e){const t=this.cssClasses,s=this.getIsDetailPanelShowing(e),i=new ge().append(t.detailIcon).append(t.detailIconExpanded,s);this.setPropertyValue("detailIconCss"+e.id,i.toString());const n=new ge().append(t.detailButton).append(t.detailButtonExpanded,s);this.setPropertyValue("detailButtonCss"+e.id,n.toString())}createRowDetailPanel(e){if(this.isDesignMode)return this.detailPanel;var t=this.createNewDetailPanel();t.readOnly=this.isReadOnly||!e.isRowEnabled(),t.setSurveyImpl(e);var s=this.detailPanel.toJSON();return new _t().toObject(s,t),t.renderWidth="100%",t.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,t),t.questions.forEach(i=>i.setParentQuestion(this)),t.onSurveyLoad(),t}getSharedQuestionByName(e,t){if(!this.survey||!this.valueName)return null;var s=this.getRowIndex(t);return s<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,s)}runTriggersInRow(e,t,s){if(!(!this.survey||!this.valueName)){var i=this.getRowIndex(e);i<0||this.survey.getQuestionsByValueName(this.valueName).forEach(n=>{const o=n.visibleRows;Array.isArray(o)&&i<o.length&&o[0]instanceof uo&&o[i].runTriggers(t,s)})}}onTotalValueChanged(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+re.matrix.totalsSuffix,this.totalValue,!1)}getParentTextProcessor(){if(!this.parentQuestion||!this.parent)return null;const e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null}isMatrixReadOnly(){return this.isReadOnly}onRowVisibilityChanged(e){this.clearVisibleRows(),this.resetRenderedTable(),this.resetSingleInput()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRows()}clearInvisibleValuesInRows(){var e;if(this.isEmpty()||!this.isRowsFiltered())return;(((e=this.survey)===null||e===void 0?void 0:e.questionsByValueName(this.getValueName()))||[]).length<2&&(this.value=this.getFilteredData())}isRowsFiltered(){return this.visibleRows!==this.generatedVisibleRows}getQuestionFromArray(e,t){return t>=this.visibleRows.length?null:this.visibleRows[t].getQuestionByName(e)}isMatrixValueEmpty(e){if(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(this.isObject(e[t])&&Object.keys(e[t]).length>0)return!1;return!0}return Object.keys(e).length==0}}get SurveyModel(){return this.survey}getCellTemplateData(e){return this.SurveyModel.getMatrixCellTemplateData(e)}getCellWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof Ug?"row-footer":"cell")}getCellWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof Ug?"row-footer":"cell")}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")}onMobileChanged(){super.onMobileChanged(),this.resetRenderedTable()}getRootCss(){return new ge().append(super.getRootCss()).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()}afterRenderQuestionElement(e){super.afterRenderQuestionElement(e),this.setRootElement(e==null?void 0:e.parentElement)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.setRootElement(void 0)}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}ce.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",uniqueProperty:"name",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:r=>!!r&&r.detailPanelMode!="none"},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:r=>r.isSelectCellType()},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"singleInputTitleTemplate",serializationProperty:"locSingleInputTitleTemplate",visibleIf(r){var e;return((e=r.survey)===null||e===void 0?void 0:e.questionsOnPageMode)==="inputPerPage"}},{name:"cellType",default:"dropdown",choices:()=>Np.getColumnTypes()},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new rc("")},"matrixbase");class iB extends ma{constructor(e){super(),this.question=e}getValue(e,t,s,i){if(!i&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(e.length>0){const n=super.getValue(e,t,s,i);if(n&&n.isFound)return n}return new bi(this.question.value).getValue(e,t,s,i)}getRootObj(){return this.question.data}updateValueByItem(e,t){var s;const i=this.question.visibleRows;e=e.toLocaleLowerCase();for(let n=0;n<i.length;n++){const o=i[n];if((((s=o.rowName)===null||s===void 0?void 0:s.toString())||"").toLocaleLowerCase()===e){t.isFound=!0,t.context=o.getValueGetterContext();return}}}}class nB extends uo{constructor(e,t,s,i){super(s,i),this.name=e,this.item=t,this.buildCells(i)}get rowName(){return this.name}get rowTitle(){return this.text}get text(){return this.item.text}get locText(){return this.item.locText}isItemVisible(){return this.item.isVisible}isRowEnabled(){return this.item.isEnabled}isRowHasEnabledCondition(){return!!this.item.enableIf}}class VI extends rc{constructor(e){super(e),this.defaultValuesInRows={},this.createLocalizableString("totalText",this,!0),this.registerPropertyChangedHandlers(["rows"],()=>{this.generatedVisibleRows&&(this.clearGeneratedRows(),this.resetRenderedTable(),this.getVisibleRows(),this.clearIncorrectValues())}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()})}getType(){return"matrixdropdown"}get totalText(){return this.getLocalizableStringText("totalText","")}set totalText(e){this.setLocalizableStringText("totalText",e)}get locTotalText(){return this.getLocalizableString("totalText")}getFooterText(){return this.locTotalText}getRowTitleWidth(){return this.rowTitleWidth}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getSingleInputTitleTemplate(){return"rowNameTemplateTitle"}getValueGetterContext(){return new iB(this)}getDisplayValueCore(e,t){if(!t)return t;var s=this.visibleRows,i={};if(!s)return i;for(var n=0;n<s.length;n++){var o=s[n].rowName,l=t[o];if(l){if(e){var u=Ze.getTextOrHtmlByValue(this.rows,o);u&&(o=u)}i[o]=this.getRowDisplayValue(e,s[n],l)}}return i}getConditionObjectRowName(e){return"."+this.rows[e].value}getConditionObjectRowText(e){return"."+this.rows[e].calculatedText}getConditionObjectsRowIndeces(){const e=[];for(var t=0;t<this.rows.length;t++)e.push(t);return e}isNewValueCorrect(e){return Y.isValueObject(e,!0)}clearIncorrectValues(){if(!this.isEmpty()){this.getVisibleRows();const e={},t=this.value;for(let s in t){const i=this.getRowByKey(s);i&&i.isVisible&&(e[s]=t[s])}this.value=e}super.clearIncorrectValues()}getRowByKey(e){const t=this.generatedVisibleRows;if(!t)return null;for(let s=0;s<t.length;s++)if(t[s].rowName===e)return t[s];return null}clearGeneratedRows(){this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(e=>{this.defaultValuesInRows[e.rowName]=e.getNamesWithDefaultValues()}),super.clearGeneratedRows())}getRowValueForCreation(e,t){const s=e[t];if(!s)return s;const i=this.defaultValuesInRows[t];return!Array.isArray(i)||i.length===0||i.forEach(n=>{delete s[n]}),s}generateRows(){var e=new Array,t=this.rows;if(!t||t.length===0)return e;var s=this.value;s||(s={});for(var i=0;i<t.length;i++){const n=t[i];this.isValueEmpty(n.value)||e.push(this.createMatrixRow(n,this.getRowValueForCreation(s,n.value)))}return e}createMatrixRow(e,t){return new nB(e.value,e,this,t)}getFilteredDataCore(){const e={};return this.generatedVisibleRows.forEach(t=>{t.isVisible&&!t.isEmpty&&(e[t.rowName]=t.filteredValue)}),e}getSearchableItemValueKeys(e){e.push("rows")}getIsRequireToGenerateRows(){if(super.getIsRequireToGenerateRows())return!0;for(let e=0;e<this.rows.length;e++)if(this.rows[e].visibleIf)return!0;return!1}updateProgressInfoByValues(e){let t=this.value;t||(t={});for(var s=0;s<this.rows.length;s++){const i=this.rows[s],n=t[i.value];this.updateProgressInfoByRow(e,n||{})}}}ce.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new VI("")},"matrixdropdownbase");gt.Instance.registerQuestion("matrixdropdown",r=>{var e=new VI(r);return e.choices=[1,2,3,4,5],e.rows=gt.DefaultRows,rc.addDefaultColumns(e),e});typeof window<"u"&&window.addEventListener("touchmove",r=>{wl.PreventScrolling&&r.preventDefault()},{passive:!1});class wl{constructor(e,t=!0,s=!1){this.dd=e,this.longTap=t,this.fitToContainer=s,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=i=>{i.preventDefault(),this.currentX=i.pageX,this.currentY=i.pageY,!this.isMicroMovement&&(this.returnUserSelectBack(),this.stopLongTap())},this.stopLongTap=i=>{clearTimeout(this.timeoutID),this.timeoutID=null,document.removeEventListener("pointerup",this.stopLongTap),document.removeEventListener("pointermove",this.stopLongTapIfMoveEnough)},this.handlePointerCancel=i=>{this.clear()},this.handleEscapeButton=i=>{i.keyCode==27&&this.clear()},this.onContextMenu=i=>{i.preventDefault(),i.stopPropagation()},this.dragOver=i=>{this.moveShortcutElement(i),this.draggedElementShortcut.style.cursor="grabbing",this.dd.dragOver(i)},this.clear=()=>{cancelAnimationFrame(this.scrollIntervalId),document.removeEventListener("pointermove",this.dragOver),document.removeEventListener("pointercancel",this.handlePointerCancel),document.removeEventListener("keydown",this.handleEscapeButton),document.removeEventListener("pointerup",this.drop),this.draggedElementShortcut.removeEventListener("pointerup",this.drop),ss&&this.draggedElementShortcut.removeEventListener("contextmenu",this.onContextMenu),this.draggedElementShortcut.parentElement.removeChild(this.draggedElementShortcut),this.dd.clear(),this.draggedElementShortcut=null,this.scrollIntervalId=null,ss&&(this.savedTargetNode.style.cssText=null,this.savedTargetNode&&this.savedTargetNode.parentElement.removeChild(this.savedTargetNode),this.insertNodeToParentAtIndex(this.savedTargetNodeParent,this.savedTargetNode,this.savedTargetNodeIndex),wl.PreventScrolling=!1),this.savedTargetNode=null,this.savedTargetNodeParent=null,this.savedTargetNodeIndex=null,this.returnUserSelectBack()},this.drop=()=>{this.dd.drop(),this.clear()},this.draggedElementShortcut=null}get documentOrShadowRoot(){const e=this.rootElement.getRootNode();return e instanceof Document||e instanceof ShadowRoot?e:void 0}get rootElement(){return Ip(re.environment.root)?this.rootContainer||re.environment.root:this.rootContainer||re.environment.root.documentElement||document.body}get viewRootElement(){return Ip(this.rootElement)?this.rootElement.host:this.rootElement}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),s=Math.abs(this.currentY-this.startY);return t<5&&s<5}startLongTapProcessing(e,t,s,i,n=!1){this.startX=e.pageX,this.startY=e.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(()=>{this.doStartDrag(e,t,s,i),n||(this.savedTargetNode=e.target,this.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,this.savedTargetNodeParent=this.savedTargetNode.parentElement,this.savedTargetNodeIndex=this.getNodeIndexInParent(this.savedTargetNode),this.rootElement.appendChild(this.savedTargetNode)),this.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)}moveShortcutElement(e){let t=this.viewRootElement.getBoundingClientRect().x,s=this.viewRootElement.getBoundingClientRect().y,i=this.viewRootElement.scrollLeft,n=this.viewRootElement.scrollTop;this.doScroll(e.clientY,e.clientX);const o=this.draggedElementShortcut.offsetHeight,l=this.draggedElementShortcut.offsetWidth;let u=this.draggedElementShortcut.shortcutXOffset||l/2,c=this.draggedElementShortcut.shortcutYOffset||o/2;document.querySelectorAll("[dir='rtl']").length!==0&&(u=l/2,c=o/2);const h=document.documentElement.clientHeight,p=document.documentElement.clientWidth,m=e.pageX,v=e.pageY,f=e.clientX,b=e.clientY;t-=i,s-=n;const x=this.getShortcutBottomCoordinate(b,o,c);if(this.getShortcutRightCoordinate(f,l,u)>=p){this.draggedElementShortcut.style.left=p-l-t+"px",this.draggedElementShortcut.style.top=b-c-s+"px";return}if(f-u<=0){this.draggedElementShortcut.style.left=m-f-t+"px",this.draggedElementShortcut.style.top=b-s-c+"px";return}if(x>=h){this.draggedElementShortcut.style.left=f-u-t+"px",this.draggedElementShortcut.style.top=h-o-s+"px";return}if(b-c<=0){this.draggedElementShortcut.style.left=f-u-t+"px",this.draggedElementShortcut.style.top=v-b-s+"px";return}this.draggedElementShortcut.style.left=f-t-u+"px",this.draggedElementShortcut.style.top=b-s-c+"px"}getShortcutBottomCoordinate(e,t,s){return e+t-s}getShortcutRightCoordinate(e,t,s){return e+t-s}requestAnimationFrame(e){return requestAnimationFrame(e)}scrollByDrag(e,t,s){let n,o,l,u;e.tagName==="HTML"?(n=0,o=document.documentElement.clientHeight,l=0,u=document.documentElement.clientWidth):(n=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,l=e.getBoundingClientRect().left,u=e.getBoundingClientRect().right);const c=()=>{const h=t-n<=100,p=o-t<=100,m=s-l<=100,v=u-s<=100;h&&!m&&!v?e.scrollTop-=15:p&&!m&&!v?e.scrollTop+=15:v&&!h&&!p?e.scrollLeft+=15:m&&!h&&!p&&(e.scrollLeft-=15),this.scrollIntervalId=this.requestAnimationFrame(c)};this.scrollIntervalId=this.requestAnimationFrame(c)}doScroll(e,t){cancelAnimationFrame(this.scrollIntervalId);const s=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";let i=this.documentOrShadowRoot.elementFromPoint(t,e);this.draggedElementShortcut.style.display=s||"block";let n=ym(i);this.scrollByDrag(n,e,t)}doStartDrag(e,t,s,i){ss&&(wl.PreventScrolling=!0),e.which!==3&&(this.dd.dragInit(e,t,s,i),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(e),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),ss?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))}returnUserSelectBack(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")}startDrag(e,t,s,i,n=!1){if(document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),ss){this.startLongTapProcessing(e,t,s,i,n);return}this.doStartDrag(e,t,s,i)}getNodeIndexInParent(e){return[...e.parentElement.childNodes].indexOf(e)}insertNodeToParentAtIndex(e,t,s){e.insertBefore(t,e.childNodes[s])}}wl.PreventScrolling=!1;class PI{get isBottom(){return!!this._isBottom}set isBottom(e){this._isBottom=e,this.ghostPositionChanged()}ghostPositionChanged(){this.onGhostPositionChanged.fire({},{})}get dropTargetDataAttributeName(){return`[data-sv-drop-target-${this.draggedElementType}]`}get survey(){var e;return this.surveyValue||((e=this.creator)===null||e===void 0?void 0:e.survey)}constructor(e,t,s,i){var n;this.surveyValue=e,this.creator=t,this._isBottom=null,this.onGhostPositionChanged=new li,this.onDragStart=new li,this.onDragEnd=new li,this.onDragClear=new li,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=()=>{this.allowDropHere=!1,this.doBanDropHere(),this.dropTarget=null,this.domAdapter.draggedElementShortcut.style.cursor="not-allowed",this.isBottom=null},this.doBanDropHere=()=>{},this.domAdapter=i||new wl(this,s,(n=this.survey)===null||n===void 0?void 0:n.fitToContainer)}startDrag(e,t,s,i,n=!1){this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(e,t,s,i,n)}getRootElement(e,t){return t?t.rootElement:e.rootElement}dragInit(e,t,s,i){this.draggedElement=t,this.parentElement=s;const n=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(n,i,e),this.onStartDrag(e);const o=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:o,draggedElement:this.draggedElement})}onStartDrag(e){}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}getShortcutText(e){return e==null?void 0:e.shortcutText}createDraggedElementShortcut(e,t,s){const i=Re.createElement("div");return i&&(i.innerText=e,i.className=this.getDraggedElementClass()),i}getDraggedElementClass(){return"sv-dragged-element-shortcut"}doDragOver(){}afterDragOver(e){}findDropTargetNodeFromPoint(e,t){const s=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!Re.isAvailable())return null;let i=this.domAdapter.documentOrShadowRoot.elementsFromPoint(e,t);this.domAdapter.draggedElementShortcut.style.display=s||"block";let n=0,o=i[n];for(;o&&o.className&&typeof o.className.indexOf=="function"&&o.className.indexOf("sv-drag-target-skipped")!=-1;)n++,o=i[n];return o?this.findDropTargetNodeByDragOverNode(o):null}getDataAttributeValueByNode(e){let t="svDropTarget";return this.draggedElementType.split("-").forEach(i=>{t+=this.capitalizeFirstLetter(i)}),e.dataset[t]}getDropTargetByNode(e,t){let s=this.getDataAttributeValueByNode(e);return this.getDropTargetByDataAttributeValue(s,e,t)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}calculateVerticalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.y+t.height/2}calculateHorizontalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.x+t.width/2}calculateIsBottom(e,t){return!1}findDropTargetNodeByDragOverNode(e){return e.closest(this.dropTargetDataAttributeName)}dragOver(e){const t=this.findDropTargetNodeFromPoint(e.clientX,e.clientY);if(!t){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(t,e);const s=this.isDropTargetValid(this.dropTarget,t);if(this.doDragOver(),!s){this.banDropHere();return}let i=this.calculateIsBottom(e.clientY,t);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(i)&&(this.isBottom=null,this.isBottom=i,this.draggedElement!=this.dropTarget&&this.afterDragOver(t),this.prevDropTarget=this.dropTarget)}drop(){if(this.allowDropHere){const e=this.draggedElement.parent,t=this.doDrop();this.onDragEnd.fire(this,{fromElement:e,draggedElement:t,toElement:this.dropTarget})}}clear(){const e={draggedElement:this.draggedElement};this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,e)}}class oB extends PI{constructor(){super(...arguments),this.dropIsBanned=!1,this.matrixRowMap={},this.fromIndex=null,this.toIndex=null,this.toMatrix=null,this.doBanDropHere=()=>{this.dropIsBanned||(this.removeGhost(),this.parentElement.renderedTable.rows.splice(this.initialDraggedElementIndex,0,this.draggedRenderedRow),this.dropIsBanned=!0,this.lastDropTargetParentElement=this.parentElement)},this.doDrop=()=>{if(this.parentElement==this.toMatrix)this.fromIndex<this.toIndex&&this.toIndex--,this.parentElement.moveRowByIndex(this.fromIndex,this.toIndex);else if(this.toMatrix){const e=Object.assign({},this.parentElement.value[this.fromIndex]);this.parentElement.removeRowByIndex(this.fromIndex),this.toMatrix.addRowByIndex(e,this.toIndex)}return this.parentElement}}get draggedElementType(){return"matrix-row"}patchUserSelect(){const e=Re.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")}onStartDrag(){this.patchUserSelect();const e=this.parentElement.renderedTable.rows;let t=e.findIndex(n=>n.row===this.draggedElement);t>=0&&(this.draggedRenderedRow=e[t],this.initialDraggedElementIndex=t,this.draggedRenderedRow.isGhostRow=!0,this.lastDropTargetParentElement=this.parentElement);const s=[];function i(n){n.filter(l=>l.isDescendantOf("matrixdynamic")&&l.allowRowReorder).forEach(l=>{s.push(l),l.detailPanelMode!=="none"&&l.visibleRows.forEach(u=>{u.isDetailPanelShowing&&i(u.questions)})})}this.survey.onMatrixRowDragOver.isEmpty?s.push(this.parentElement):i(this.survey.getAllQuestions()),this.matrixRowMap={},s.forEach(n=>{n.visibleRows.forEach(o=>{this.matrixRowMap[o.id]={row:o,matrix:n}}),n.visibleRows.length==0&&(this.matrixRowMap[n.id]={row:n,matrix:n})}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement)}get shortcutClass(){return new ge().append(this.parentElement.cssClasses.draggedRow).toString()}createDraggedElementShortcut(e,t,s){const i=Re.createElement("div");if(!i)return;i.className=this.shortcutClass;const n=!0;if(t){const o=t.closest("[data-sv-drop-target-matrix-row]"),l=o.cloneNode(n);l.style.cssText=`
        width: ${o.offsetWidth}px;
      `,l.classList.remove("sv-matrix__drag-drop--moveup"),l.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,i.appendChild(l);const u=t.getBoundingClientRect();i.shortcutXOffset=s.clientX-u.x,i.shortcutYOffset=s.clientY-u.y}return i}getDropTargetByDataAttributeValue(e){const t=this.matrixRowMap[e];return(t==null?void 0:t.row)||(t==null?void 0:t.matrix)}canInsertIntoThisRow(e){const t=this.parentElement.lockedRowCount;return t<=0||e.rowIndex>t}isDropTargetValid(e,t){return this.canInsertIntoThisRow(e)}calculateIsBottom(e,t){const s=t.getBoundingClientRect();return e>=s.y+s.height/2}removeGhost(){const e=this.lastDropTargetParentElement.renderedTable.rows,t=e.indexOf(this.draggedRenderedRow);t>=0&&e.splice(t,1)}afterDragOver(e){if(!this.dropTarget)return;const t=this.matrixRowMap[this.dropTarget.id].matrix,s=this.matrixRowMap[this.dropTarget.id].row,i=this.isBottom&&!s.isDetailPanelShowing?1:0;let n=0;const o={allow:t==this.parentElement,row:s,fromMatrix:this.parentElement,toMatrix:t};if(this.survey.onMatrixRowDragOver.fire(this.survey,o),!o.allow)return;this.removeGhost(),this.lastDropTargetParentElement=t;const l=t.renderedTable.rows;if(t.visibleRows.length>0){const u=l.findIndex(c=>c.row==this.dropTarget);u>=0&&l.splice(u+i,0,this.draggedRenderedRow),n=t.visibleRows.indexOf(this.dropTarget)+i}else t.renderedTable.headerRow||(l[0].cells[0].colSpans=this.draggedRenderedRow.cells.length),l.splice(0,0,this.draggedRenderedRow);this.toIndex=n,this.toMatrix=t,this.dropIsBanned=!1,super.ghostPositionChanged()}clear(){this.matrixRowMap={},this.parentElement.renderedTable.rows.forEach(s=>{s.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.toMatrix&&this.toMatrix.clearOnDrop(),this.fromIndex=null,this.toIndex=null;const t=Re.getBody();t&&(t.style.userSelect=this.restoreUserSelectValue||"initial"),super.clear()}}class Dx{constructor(e,t=!0){this.dragHandler=e,this.preventOnTouch=t,this.onPointerUp=s=>{this.clearListeners()},this.tryToStartDrag=s=>{if(this.currentX=s.pageX,this.currentY=s.pageY,!this.isMicroMovement)return this.clearListeners(),this.dragHandler(this.pointerDownEvent,this.targets,this.itemModel),!0}}onPointerDown(e,t){if(this.targets={currentTarget:e.currentTarget,target:e.target},ss&&this.preventOnTouch){this.dragHandler(e,this.targets,t);return}this.pointerDownEvent=e,this.startX=e.pageX,this.startY=e.pageY,this.targets.currentTarget.getRootNode().addEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=t}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),s=Math.abs(this.currentY-this.startY);return t<10&&s<10}clearListeners(){this.pointerDownEvent&&(this.targets.currentTarget.getRootNode().removeEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.removeEventListener("pointerup",this.onPointerUp))}}class II{constructor(e,t,s){this.locText=e,this.btnEdit=t,this.btnRemove=s}get showRemove(){return!!this.btnRemove}}class TI{constructor(e,t){this.question=e,this.noEntry=t,this.items=[]}isEmpty(){return this.items.length==0}dispose(){this.items.forEach(e=>{var t,s;(t=e.btnEdit)===null||t===void 0||t.dispose(),(s=e.btnRemove)===null||s===void 0||s.dispose()})}}class aB extends bm{constructor(e){super(e),this.question=e}getValue(e,t,s,i){if(!i&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(s>-1){const o=this.question.allRows;return s>=0&&s<o.length?o[s].getValueGetterContext().getValue(e,!1,s,i):{isFound:!1,value:void 0,context:this}}return super.getValue(e,t,s,i)}}class lB extends uo{constructor(e,t,s){super(t,s),this.index=e,this.buildCells(s)}getRowIndex(){const e=super.getRowIndex();return e>0?e:this.index+1}get rowName(){return this.id}get dataName(){return"row"+(this.index+1)}get text(){return"row "+(this.visibleIndex+1)}getAccessbilityText(){return(this.visibleIndex+1).toString()}get shortcutText(){const t=this.data.visibleRows.indexOf(this)+1,s=this.cells.length>1?this.cells[1].questionValue:void 0,i=this.cells.length>0?this.cells[0].questionValue:void 0;return s&&s.value||i&&i.value||""+t}}class kI extends rc{constructor(e){super(e),this.rowCounter=0,this.setRowCountValueFromData=!1,this.startDragMatrixRow=(s,i)=>{this.dragDropMatrixRows.startDrag(s,this.draggedRow,this,i.target)},this.initialRowCount=this.getDefaultPropertyValue("rowCount"),this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete");var t=this.createLocalizableString("addRowText",this);t.onGetTextCallback=s=>s||this.defaultAddRowText,this.createLocalizableString("removeRowText",this,!1,"removeRow"),this.createLocalizableString("noRowsText",this,!1,!0),this.createLocalizableString("editRowText",this,!1,"editText"),this.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],()=>{this.updateShowTableAndAddRow()}),this.registerPropertyChangedHandlers(["allowRowReorder","isReadOnly","lockedRowCount"],()=>{this.resetRenderedTable()}),this.registerPropertyChangedHandlers(["minRowCount"],()=>{this.onMinRowCountChanged()}),this.registerPropertyChangedHandlers(["maxRowCount"],()=>{this.onMaxRowCountChanged()}),this.dragOrClickHelper=new Dx(this.startDragMatrixRow)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.dragDropMatrixRows=new oB(this.survey,null,!0)}isBanStartDrag(e){const t=e.target;return t.getAttribute("contenteditable")==="true"||t.nodeName==="INPUT"||!this.isDragHandleAreaValid(t)}isDragHandleAreaValid(e){return this.survey.matrixDragHandleArea==="icon"?e.classList.contains(this.cssClasses.dragElementDecorator):!0}onPointerDown(e,t){!t||!this.isRowsDragAndDrop||this.isDesignMode||this.isBanStartDrag(e)||t.isDetailPanelShowing||(this.draggedRow=t,this.dragOrClickHelper.onPointerDown(e))}getType(){return"matrixdynamic"}get isRowsDynamic(){return!0}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get isValueArray(){return!0}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get defaultRowValue(){return this.getPropertyValue("defaultRowValue")}set defaultRowValue(e){this.setPropertyValue("defaultRowValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastRow(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastRow(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultRowValue)}valueFromData(e){return this.minRowCount<1||this.isEmpty()?super.valueFromData(e):this.correctValueForMinMaxRows(e)}correctValueForMinMaxRows(e){Array.isArray(e)||(e=[]);for(var t=e.length;t<this.minRowCount;t++)e.push({});return e}isNewValueCorrect(e){return Array.isArray(e)}setDefaultValue(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.rowCount==0)){for(var e=[],t=0;t<this.rowCount;t++)e.push(this.defaultRowValue);this.value=e}}moveRowByIndex(e,t){const s=this.createNewValue();if(!Array.isArray(s)&&Math.max(e,t)>=s.length)return;const i=s[e];s.splice(e,1),s.splice(t,0,i),this.value=s}addRowByIndex(e,t){const s=this.createNewValue();!Array.isArray(s)&&t>=s.length||(s.splice(t,0,e),this.rowCount++,this.value=s)}removeRowByIndex(e){const t=this.createNewValue();!Array.isArray(t)&&e>=t.length||(t.splice(e,1),this.rowCount--,this.value=t)}clearOnDrop(){this.isEditingSurveyElement||this.resetRenderedTable()}initDataUI(){this.generatedVisibleRows||this.getVisibleRows()}get rowCount(){return this.rowCountValue}set rowCount(e){if(e=Y.getNumber(e),!(e<0||e>re.matrix.maxRowCount||e===this.rowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var s=this.value;s.splice(e),this.value=s}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||t==0){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var i=t;i<e;i++){var n=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(n),this.onMatrixRowCreated(n)}this.runCondition(this.getDataFilteredProperties())}this.onRowsChanged()}}updateBindingProp(e,t){super.updateBindingProp(e,t);const s=this.generatedVisibleRows;if(e!=="rowCount"||!Array.isArray(s))return;const i=this.getUnbindValue(this.value)||[];if(i.length<s.length){let n=!1;for(let o=i.length;o<s.length;o++)n||(n=!s[o].isEmpty),i.push(s[o].value||{});n&&(this.value=i)}}updateProgressInfoByValues(e){let t=this.value;Array.isArray(t)||(t=[]);for(var s=0;s<this.rowCount;s++){const i=s<t.length?t[s]:{};this.updateProgressInfoByRow(e,i)}}getValueForNewRow(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e}get allowRowReorder(){return this.getPropertyValue("allowRowReorder")}set allowRowReorder(e){this.setPropertyValue("allowRowReorder",e)}get allowRowsDragAndDrop(){return this.allowRowReorder}set allowRowsDragAndDrop(e){this.allowRowReorder=e}get allowRowDragIn(){var e,t;return!(!((t=(e=this.survey)===null||e===void 0?void 0:e.onMatrixRowDragOver)===null||t===void 0)&&t.isEmpty)}get isRowsDragAndDrop(){return this.allowRowReorder&&!this.isReadOnly}get lockedRowCount(){return this.getPropertyValue("lockedRowCount",0)}set lockedRowCount(e){this.setPropertyValue("lockedRowCount",e)}get iconDragElement(){return this.cssClasses.iconDragElement}createRenderedTable(){return new uB(this)}get rowCountValue(){return this.getPropertyValue("rowCount")}set rowCountValue(e){this.setPropertyValue("rowCount",e)}get minRowCount(){return this.getPropertyValue("minRowCount")}set minRowCount(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)}onMinRowCountChanged(){const e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)}get maxRowCount(){return this.getPropertyValue("maxRowCount")}set maxRowCount(e){e<=0||(e>re.matrix.maxRowCount&&(e=re.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))}onMaxRowCountChanged(){const e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)}get allowAddRows(){return this.getPropertyValue("allowAddRows")}set allowAddRows(e){this.setPropertyValue("allowAddRows",e)}get allowRemoveRows(){return this.getPropertyValue("allowRemoveRows")}set allowRemoveRows(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()}get canAddRow(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount}get canRemoveRows(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e}canRemoveRow(e){if(!this.survey)return!0;const t=e.rowIndex-1;return this.lockedRowCount>0&&t<this.lockedRowCount?!1:this.survey.matrixAllowRemoveRow(this,t,e)}addRowUI(){this.addRow(!0)}getQuestionToFocusOnAddingRow(){if(this.visibleRows.length===0)return null;for(var e=this.visibleRows[this.visibleRows.length-1],t=0;t<e.cells.length;t++){var s=e.cells[t].question;if(s&&s.isVisible&&!s.isReadOnly)return s}return null}addRow(e){const t=this.rowCount,s=this.canAddRow;var i={question:this,canAddRow:s,allow:s};if(this.survey&&this.survey.matrixBeforeRowAdded(i),!!(s!==i.allow?i.allow:s!==i.canAddRow?i.canAddRow:s)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.singleInputOnAddItem(!1),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&t!==this.rowCount)){const o=this.getQuestionToFocusOnAddingRow();o&&o.focus()}}get detailPanelShowOnAdding(){return this.getPropertyValue("detailPanelShowOnAdding")}set detailPanelShowOnAdding(e){this.setPropertyValue("detailPanelShowOnAdding",e)}hasRowsAsItems(){return!1}unbindValue(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,super.unbindValue()}isValueSurveyElement(e){return this.isEditingSurveyElement||super.isValueSurveyElement(e)}addRowCore(){var e=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),s=null;if(this.isValueEmpty(t)||(s=this.createNewValue(),s.length==this.rowCount&&(s[s.length-1]=t,this.value=s)),this.data){this.runCellsCondition(this.getDataFilteredProperties());const i=this.generatedVisibleRows;if(this.isValueEmpty(t)&&i.length>0){const n=i[i.length-1];this.isValueEmpty(n.value)||(s||(s=this.createNewValue()),!this.isValueSurveyElement(s)&&!this.isTwoValueEquals(s[s.length-1],n.value)&&(s[s.length-1]=n.value,this.value=s))}}if(this.survey){const i=this.visibleRows;if(e+1==this.rowCount&&i.length>0){const n=i[i.length-1];this.survey.matrixRowAdded(this,n),this.onRowsChanged()}}}getDefaultRowValue(e){for(var t=null,s=0;s<this.columns.length;s++){var i=this.columns[s].templateQuestion;i&&!this.isValueEmpty(i.getDefaultValue())&&(t=t||{},t[this.columns[s].name]=i.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var n in this.defaultRowValue)t=t||{},t[n]=this.defaultRowValue[n];if(e&&this.copyDefaultValueFromLastEntry){var o=this.value;if(o&&Array.isArray(o)&&o.length>=this.rowCount-1){var l=o[this.rowCount-2];for(var n in l)t=t||{},t[n]=l[n]}}return t}focusAddBUtton(){const e=this.getRootElement();if(e&&this.cssClasses.buttonAdd){const t=e.querySelectorAll("."+this.cssClasses.buttonAdd)[0];t&&t.focus()}}getActionCellIndex(e){const t=this.showHeader?1:0;return this.isColumnLayoutHorizontal?e.cells.length:this.visibleRows.indexOf(e)+t}removeRowUI(e){if(e&&e.rowName){var t=this.visibleRows.indexOf(e);if(t<0)return;e=t}this.removeRow(e,void 0,()=>{const s=this.visibleRows.length,i=t>=s?s-1:t,n=i>-1?this.visibleRows[i]:void 0;setTimeout(()=>{n?this.renderedTable.focusActionCell(n,this.getActionCellIndex(n)):this.focusAddBUtton()},10)})}isRequireConfirmOnRowDelete(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var t=this.createNewValue();return this.isValueEmpty(t)||!Array.isArray(t)||e>=t.length?!1:!this.isValueEmpty(t[e])}removeRow(e,t,s){if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var i=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(t===void 0&&(t=this.isRequireConfirmOnRowDelete(e)),t){Pp({message:this.confirmDeleteText,funcOnYes:()=>{this.removeRowAsync(e,i),s&&s()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeRowAsync(e,i),s&&s()}}removeRowAsync(e,t){t&&this.survey&&!this.survey.matrixRowRemoving(this,e,t)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.singleInputOnRemoveItem(e),this.onEndRowRemoving(t))}removeRowCore(e){var t=this.visibleRows?this.visibleRows[e]:null;if(e=this.generatedVisibleRows.indexOf(t),!(e<0)){if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var s=[];Array.isArray(this.value)&&e<this.value.length?s=this.createValueCopy():s=this.createNewValue(),s.splice(e,1),s=this.deleteRowValue(s,null),this.isRowChanging=!0,this.value=s,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,t)}}onSingleInputQuestionAdded(e){this.showHeader||(e.titleLocation="hidden")}getSingleInputQuestionsCore(e,t){const s=new Array,i=this.visibleRows;if(t)for(let n=0;n<i.length;n++){const o=i[n];(!o.hasValueAnyQuestion(!0)||!o.validate(new Cl))&&this.fillSingleInputQuestionsByRow(s,o)}return this.getSingleInputQuestionsForDynamic(e,s)}fillSingleInputQuestionsInContainer(e,t){const s=this.getRowByQuestion(t);this.fillSingleInputQuestionsByRow(e,s)}fillSingleInputQuestionsByRow(e,t){t&&t.questions.forEach(s=>s.addNestedQuestion(e,!0,!1,!1))}getSingleInputAddTextCore(){if(this.canAddRow)return this.addRowText}singleInputAddItemCore(){this.addRowUI()}singleInputRemoveItemCore(e){this.removeRowUI(this.getRowByQuestion(e))}getSingleQuestionOnChange(e){const t=this.visibleRows;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const i=t[e].visibleQuestions;if(i.length>0)return i[0]}return null}createSingleInputSummary(){const e=new TI(this,this.locNoRowsText),t=new Array,s=this.canRemoveRows;return this.visibleRows.forEach(i=>{const n=new as(new EI(this,i),!0,void 0,this.getSingleInputTitleTemplate());n.setJson(this.locSingleInputTitleTemplate.getJson());const o=new Ke({locTitle:this.getLocalizableString("editRowText"),action:()=>{this.singleInputEditRow(i)}}),l=s&&this.canRemoveRow(i)?new Ke({locTitle:this.locRemoveRowText,action:()=>{this.removeRowUI(i)}}):void 0;t.push(new II(n,o,l))}),e.items=t,e}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get addRowText(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)}set addRowText(e){this.setLocalizableStringText("addRowText",e)}get locAddRowText(){return this.getLocalizableString("addRowText")}get defaultAddRowText(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")}getSingleInputTitleTemplate(){return"rowIndexTemplateTitle"}get addRowButtonLocation(){return this.getPropertyValue("addRowButtonLocation")}set addRowButtonLocation(e){this.setPropertyValue("addRowButtonLocation",e)}get addRowLocation(){return this.addRowButtonLocation}set addRowLocation(e){this.addRowButtonLocation=e}getAddRowLocation(){return this.addRowButtonLocation}get hideColumnsIfEmpty(){return this.getPropertyValue("hideColumnsIfEmpty")}set hideColumnsIfEmpty(e){this.setPropertyValue("hideColumnsIfEmpty",e)}getShowColumnsIfEmpty(){return this.hideColumnsIfEmpty}get removeRowText(){return this.getLocalizableStringText("removeRowText")}set removeRowText(e){this.setLocalizableStringText("removeRowText",e)}get locRemoveRowText(){return this.getLocalizableString("removeRowText")}get noRowsText(){return this.getLocalizableStringText("noRowsText")}set noRowsText(e){this.setLocalizableStringText("noRowsText",e)}get locNoRowsText(){return this.getLocalizableString("noRowsText")}get emptyRowsText(){return this.noRowsText}set emptyRowsText(e){this.noRowsText=e}get locEmptyRowsText(){return this.locNoRowsText}getValueGetterContext(){return new aB(this)}getDisplayValueCore(e,t){if(!t||!Array.isArray(t))return t;for(var s=this.getUnbindValue(t),i=this.visibleRows,n=0;n<i.length&&n<s.length;n++){var o=s[n];o&&(s[n]=this.getRowDisplayValue(e,i[n],o))}return s}getConditionObjectRowName(e){return"["+e.toString()+"]"}getConditionObjectsRowIndeces(){const e=[],t=Math.max(this.rowCount,1);for(var s=0;s<Math.min(re.matrix.maxRowCountInCondition,t);s++)e.push(s);return e}supportAutoAdvance(){return!1}get hasRowText(){return!1}onCheckForErrors(e,t,s){super.onCheckForErrors(e,t,s),!t&&!this.validateMinRows()&&e.push(new DF(this.minRowCount,this))}validateMinRows(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!0;let e=0;return this.generatedVisibleRows.forEach(t=>{t.isEmpty||e++}),e>=this.minRowCount}getUniqueColumnsNames(){var e=super.getUniqueColumnsNames();const t=this.keyName;return t&&e.indexOf(t)<0&&e.push(t),e}generateRows(){var e=new Array;if(this.rowCount===0)return e;for(var t=this.createNewValue(),s=0;s<this.rowCount;s++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,s)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),e}createMatrixRow(e){return new lB(this.rowCounter++,this,e)}getInsertedDeletedIndex(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++)if(t[i]!==e[i].editingObj)return i;return s}isEditingObjectValueChanged(){const e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;let t=this.lastDeletedRow;this.lastDeletedRow=void 0;const s=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(s.length-e.length)>1||s.length===e.length)return!1;const i=this.getInsertedDeletedIndex(s,e);if(s.length>e.length){this.lastDeletedRow=s[i];const n=s[i];s.splice(i,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(n)}else{let n;t&&t.editingObj===e[i]?n=t:(t=void 0,n=this.createMatrixRow(e[i])),s.splice(i,0,n),t||this.onMatrixRowCreated(n),this.isRendredTableCreated&&this.renderedTable.onAddedRow(n,i)}return this.setPropertyValueDirectly("rowCount",e.length),!0}updateValueFromSurvey(e,t=!1){if(this.setRowCountValueFromData=!0,this.minRowCount>0&&Y.isValueEmpty(e)&&!Y.isValueEmpty(this.defaultRowValue)){e=[];for(let s=0;s<this.minRowCount;s++)e.push(Y.createCopy(this.defaultRowValue))}super.updateValueFromSurvey(e,t),this.setRowCountValueFromData=!1}getFilteredDataCore(){const e=[];return this.generatedVisibleRows.forEach(t=>{t.isVisible&&!t.isEmpty&&e.push(t.filteredValue)}),e}onBeforeValueChanged(e){if(!(!e||!Array.isArray(e))){var t=e.length;if(t!=this.rowCount&&!(!this.setRowCountValueFromData&&t<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=t,!!this.generatedVisibleRows)){if(t==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();const s=this.getRowValueByIndex(e,t-1),i=this.createMatrixRow(s);this.generatedVisibleRows.push(i),this.onMatrixRowCreated(i),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}}createNewValue(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var s=e.length;s<this.rowCount;s++)e.push(this.getUnbindValue(t));return e}deleteRowValue(e,t){if(!Array.isArray(e))return e;for(var s=!0,i=0;i<e.length;i++)if(this.isObject(e[i])&&Object.keys(e[i]).length>0){s=!1;break}return s?null:e}getRowValueByIndex(e,t){return Array.isArray(e)&&t>=0&&t<e.length?e[t]:null}getRowValueCore(e,t,s=!1){if(!this.generatedVisibleRows)return{};var i=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e));return!i&&s&&(i={}),i}getAddRowButtonCss(e=!1){return new ge().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()}getRemoveRowButtonCss(){return new ge().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()}getRootCss(){var e;return new ge().append(super.getRootCss()).append(this.cssClasses.empty,!(!((e=this.renderedTable)===null||e===void 0)&&e.showTable)).toString()}}class uB extends Em{setDefaultRowActions(e,t){super.setDefaultRowActions(e,t)}}ce.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:re.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastRow"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(r){return!r||r.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowButtonLocation",alternativeName:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"noRowsText:text",alternativeName:"emptyRowsText",serializationProperty:"locNoRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(r){return!r||r.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(r){return r.detailPanelMode!=="none"}},{name:"allowRowReorder:switch",alternativeName:"allowRowsDragAndDrop"}],function(){return new kI("")},"matrixdropdownbase");gt.Instance.registerQuestion("matrixdynamic",r=>{var e=new kI(r);return e.choices=[1,2,3,4,5],rc.addDefaultColumns(e),e});var sl={currentType:"default",getCss:function(){var r=this.currentType?this[this.currentType]:Kv;return r||(r=Kv),r},getAvailableThemes:function(){return Object.keys(this).filter(r=>["currentType","getCss","getAvailableThemes"].indexOf(r)===-1)}},Kv={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredMark:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsContainer:"sd-paneldynamic__tabs-container",tabsContainerWithHeader:"sd-paneldynamic__tabs-container--with-header",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredMark:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-question__description--under-input",comment:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question",confirmDialog:"sd-popup--confirm sv-popup--confirm",singleInputTitle:"sd-element__title--singleinput",singleInputWrapper:"sd-question__singleinput-wrapper",breadcrumbsRoot:"sd-breadcrumbs",breadcrumbsItem:"sd-breadcrumbs-item",breadcrumbsItemButton:"sd-breadcrumbs-item__button",breadcrumbsSeparator:"sd-breadcrumbs-separator",summary:"sd-summary",summaryRow:"sd-summary-row",summaryRowContent:"sd-summary-row__content",summaryRowActions:"sd-summary-row__actions",summaryRowAction:"sd-summary-row-action",summaryRowActionEdit:"sd-summary-row-action sd-summary-row-action--edit",summaryRowActionDelete:"sd-summary-row-action sd-summary-row-action--delete"},image:{mainRoot:"sd-element sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-element sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-check-16x16",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",otherArea:"sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",otherArea:"sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-check-16x16"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButtonIconId:"icon-cancel",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootResponsive:"sd-imagepicker--responsive",rootStatic:"sd-imagepicker--static",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-check-24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-{type} sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-{type}__control",itemChecked:"sd-item--checked sd-{type}--checked",itemDisabled:"sd-item--disabled sd-{type}--disabled",itemReadOnly:"sd-item--readonly sd-{type}--readonly",itemPreview:"sd-item--preview sd-{type}--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemHover:"sd-{type}--allowhover",materialDecorator:"sd-item__decorator sd-{type}__decorator",itemDecorator:"sd-item__svg sd-{type}__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowEmpty:"sd-table__row--empty",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-drag-24x24",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",noRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},slider:{root:"sd-slider",rootSingleMode:"sd-slider--single",rootNegativeScaleMode:"sd-slider--negative-scale",rootDesignMode:"sd-slider--design-mode",rootAnimatedThumbMode:"sd-slider--animated-thumb-mode",visualContainer:"sd-slider-container",visualContainerSlider:"sd-slider-container__slider",rangeTrack:"sd-slider__track sd-slider__range-track",inverseTrackLeft:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--left",inverseTrackRight:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--right",thumbContainer:"sd-slider__thumb-container",thumbContainerIndeterminateMode:"sd-slider__thumb-container--indeterminate",thumbContainerFocusedMode:"sd-slider__thumb-container--focused",thumb:"sd-slider__thumb",thumbDot:"sd-slider__thumb-dot",tooltip:"sd-slider__tooltip",tooltipPanel:"sd-slider__tooltip-panel",tooltipOnHoverMode:"sd-slider__tooltip--on-hover",tooltipValue:"sd-slider__tooltip-value",input:"sd-slider__input",labelsContainer:"sd-slider-labels-container",label:"sd-slider__label",labelLongMod:"sd-slider__label--long",labelTick:"sd-slider__label-tick",labelText:"sd-slider__label-text",clearButton:""},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sd-button-group-scrollable-container sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden",rootDropdown:"sd-button-group-scrollable-container sd-scrollable-container--compact sd-selectbase",selectWrapper:"sv-dropdown_select-wrapper",control:"sd-input sd-dropdown",controlEmpty:"sd-dropdown--empty",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",cleanButtonIconId:"icon-cancel",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused",itemHovered:"sv-list__item--hovered sd-list__item--hovered"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-check-16x16",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButtonIconId:"icon-cancel-24x24",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}};const dB="default";sl[dB]=Kv;var Hn={setTimeout:r=>Hn.safeTimeOut(r,1e3),clearTimeout:r=>{clearTimeout(r)},safeTimeOut:(r,e)=>e<=0?(r(),0):setTimeout(r,e),now(){return Date.now()}};class Jn{constructor(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new li,this.onTimer=this.onTimerTick}static get instance(){return Jn.instanceValue||(Jn.instanceValue=new Jn),Jn.instanceValue}start(e=null){e&&this.onTimerTick.add(e),this.prevTimeInMs=Hn.now(),this.timerId<0&&(this.timerId=Hn.setTimeout(()=>{this.doTimer()})),this.listenerCounter++}stop(e=null){e&&this.onTimerTick.remove(e),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(Hn.clearTimeout(this.timerId),this.timerId=-1)}doTimer(){if((this.onTimerTick.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),this.timerId<0)return;const e=Hn.now();let t=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,t<0&&(t=1);const s=this.timerId;this.onTimerTick.fire(this,{seconds:t}),s===this.timerId&&(this.timerId=Hn.setTimeout(()=>{this.doTimer()}))}}Jn.instanceValue=null;class Wl extends He{constructor(e){super(),this.timerFunc=null,this.surveyValue=e,this.onCreating()}get survey(){return this.surveyValue}onCreating(){}start(){this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(()=>{this.update()}),this.timerFunc=(e,t)=>{this.doTimer(t.seconds)},this.setIsRunning(!0),this.update(),Jn.instance.start(this.timerFunc)))}stop(){this.isRunning&&(this.setIsRunning(!1),Jn.instance.stop(this.timerFunc))}get isRunning(){return this.getPropertyValue("isRunning",!1)}setIsRunning(e){this.setPropertyValue("isRunning",e)}update(){this.updateText(),this.updateProgress()}doTimer(e){var t=this.survey.currentPage;if(t){const s=t.getMaxTimeToFinish();s>0&&s<t.timeSpent+e&&(e=s-t.timeSpent),t.timeSpent=t.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(t)}updateProgress(){let{spent:e,limit:t}=this.survey.timerInfo;t?(e==0?(this.progress=0,setTimeout(()=>{this.progress=Math.floor((e+1)/t*100)/100},0)):e<=t&&(this.progress=Math.floor((e+1)/t*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0}updateText(){let e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText}get showProgress(){return this.progress!==void 0}get showTimerAsClock(){return!!this.survey.getCss().clockTimerRoot}get rootCss(){return new ge().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()}getProgressCss(){return new ge().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()}get textContainerCss(){return this.survey.getCss().clockTimerTextContainer}get minorTextCss(){return this.survey.getCss().clockTimerMinorText}get majorTextCss(){return this.survey.getCss().clockTimerMajorText}}F([z()],Wl.prototype,"text",void 0);F([z()],Wl.prototype,"progress",void 0);F([z()],Wl.prototype,"clockMajorText",void 0);F([z()],Wl.prototype,"clockMinorText",void 0);F([z({defaultValue:0})],Wl.prototype,"spent",void 0);class ic extends He{constructor(e){super(),this.cssClasses=e,this.timeout=re.notifications.lifetime,this.timer=void 0,this.actionsVisibility={},this.showActions=!0,this.actionBar=new cs,this.actionBar.setCssClasses({root:fi.root,defaultSizeMode:fi.defaultSizeMode,smallSizeMode:fi.smallSizeMode},!1),this.css=this.cssClasses.root}getCssClass(e){return new ge().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.getVisibleActions().length>0).append(this.cssClasses.info,e!=="error"&&e!=="success").append(this.cssClasses.error,e==="error").append(this.cssClasses.success,e==="success").append(this.cssClasses.shown,this.active).toString()}updateActionsVisibility(e){this.actionBar.actions.forEach(t=>t.visible=this.showActions&&this.actionsVisibility[t.id]===e)}notify(e,t="info",s=!1){this.isDisplayed=!0,setTimeout(()=>{this.updateActionsVisibility(t),this.message=e,this.active=!0,this.css=this.getCssClass(t),this.timer&&(clearTimeout(this.timer),this.timer=void 0),s||(this.timer=setTimeout(()=>{this.timer=void 0,this.active=!1,this.css=this.getCssClass(t)},this.timeout))},1)}addAction(e,t){e.visible=!1,e.innerCss=this.cssClasses.button;const s=this.actionBar.addAction(e);this.actionsVisibility[s.id]=t}}F([z({defaultValue:!1})],ic.prototype,"active",void 0);F([z({defaultValue:!1})],ic.prototype,"isDisplayed",void 0);F([z()],ic.prototype,"message",void 0);F([z()],ic.prototype,"css",void 0);class Wo{calcRow(e){return e==="top"?1:e==="middle"?2:3}calcColumn(e){return e==="left"?1:e==="center"?2:3}calcAlignItems(e){return e==="left"?"flex-start":e==="center"?"center":"flex-end"}calcAlignText(e){return e==="left"?"start":e==="center"?"center":"end"}calcJustifyContent(e){return e==="top"?"flex-start":e==="middle"?"center":"flex-end"}calcGridRow(){const e=this.calcRow(this.positionY);if(this.cover.renderedHeight)return e;const t=this.cover.getVisibleRows(),s=t.indexOf(e);if(s===-1)return 0;const i=t.length;return i===3?e:i===1?1:s+1}constructor(e,t,s){this.cover=e,this.positionX=t,this.positionY=s}get survey(){return this.cover.survey}get css(){return new ge().append(Wo.CLASSNAME).append(`${Wo.CLASSNAME}--${this.positionX}`).append(`${Wo.CLASSNAME}--${this.positionY}`).append(Wo.CLASSNAME+"--empty",this.isEmpty).toString()}get style(){const e=this.calcGridRow(),t={};return t.gridRow=e,t.gridColumn=e!==0?this.calcColumn(this.positionX):0,t.width=this.width?this.width+"px":void 0,e===0&&(t.display="none"),t}get contentStyle(){const e={};return e.textAlign=this.calcAlignText(this.positionX),e.alignItems=this.calcAlignItems(this.positionX),e.justifyContent=this.calcJustifyContent(this.positionY),e.maxWidth=this.contentMaxWidth,e}get showLogo(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY}get showTitle(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY}get showDescription(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY}get isEmpty(){return!this.showLogo&&!this.showTitle&&!this.showDescription}get textAreaWidth(){return this.cover.renderedTextAreaWidth}get width(){if(this.cover.width)return Math.ceil(this.cover.width/3)}get contentMaxWidth(){return this.cover.getContentMaxWidth(this)}}Wo.CLASSNAME="sv-header__cell";class It extends He{calcBackgroundSize(e){return e==="fill"?"100% 100%":e==="tile"?"auto":e}updateHeaderClasses(){const e=!this.backgroundColor||this.backgroundColor==="transparent",t=this.backgroundColor==="var(--sjs-primary-backcolor)",s=!e&&!t;this.headerClasses=new ge().append("sv-header").append("sv-header--height-auto",!this.renderedHeight).append("sv-header__without-background",e&&!this.backgroundImage).append("sv-header__background-color--none",e&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",t&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",s&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()}updateContentClasses(){const e=!!this.survey&&this.survey.calculateWidthMode(),t=this.inheritWidthFrom==="survey"&&!!e&&e==="static";if(this.maxWidth=t?this.survey.width:void 0,this.maxWidth){const s=this.maxWidth.toString();s.indexOf("px")===-1&&s.indexOf("%")===-1&&(this.maxWidth=parseFloat(s)+"px")}this.contentClasses=new ge().append("sv-header__content").append("sv-header__content--static",t).append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!e&&e==="responsive").toString()}updateBackgroundImageClasses(){this.backgroundImageClasses=new ge().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()}fromTheme(e){super.fromJSON(e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()}init(){this.renderBackgroundImage=Tx(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()}constructor(){super(),this.cells=[],["top","middle","bottom"].forEach(e=>["left","center","right"].forEach(t=>this.cells.push(new Wo(this,t,e)))),this.init()}getType(){return"cover"}get renderedHeight(){if(this.survey&&!this.survey.isMobile||!this.survey)return this.height?this.height+"px":void 0;if(this.survey&&this.survey.isMobile)return this.mobileHeight?this.mobileHeight+"px":void 0}get renderedTextAreaWidth(){return this.textAreaWidth?this.textAreaWidth+"px":void 0}get isEmpty(){return!this.survey.hasLogo&&!this.survey.hasTitle&&!this.survey.renderedHasDescription}get survey(){return this._survey}set survey(e){this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add((t,s)=>{(s.name=="widthMode"||s.name=="width")&&this.updateContentClasses()})))}get backgroundImageStyle(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null}propertyValueChanged(e,t,s,i,n){super.propertyValueChanged(e,t,s),(e==="height"||e==="backgroundColor"||e==="backgroundImage"||e==="overlapEnabled")&&this.updateHeaderClasses(),e==="inheritWidthFrom"&&this.updateContentClasses(),e==="backgroundImageFit"&&this.updateBackgroundImageClasses()}getVisibleRows(){const e=[];for(let t=0;t<3;t++){const s=t*3;(!this.cells[s].isEmpty||!this.cells[s+1].isEmpty||!this.cells[s+2].isEmpty)&&e.push(t+1)}return e.length!==0?e:[1,2,3]}getContentMaxWidth(e){if(e.isEmpty||e.showLogo)return;const t=this.cells.indexOf(e),s=Math.floor(t/3),i=t%3;if(i==1){if(!this.cells[s*3].isEmpty||!this.cells[s*3+2].isEmpty)return"100%"}else if(i==0){let n=0,o=i+1;for(;o<3&&this.cells[s*3+o].isEmpty;)this.cells[s*3+o].isEmpty&&n++,o++;return 100*(n+1)+"%"}else if(i==2){let n=0,o=i-1;for(;o>0&&this.cells[s*3+o].isEmpty;)this.cells[s*3+o].isEmpty&&n++,o--;return 100*(n+1)+"%"}}processResponsiveness(){if(this.survey&&this.survey.rootElement&&!this.survey.isMobile){const e=this.survey.rootElement.querySelectorAll(".sv-header__content")[0];if(!e)return;let t=e.getBoundingClientRect().width;const s=Re.getComputedStyle(e),i=parseFloat(s.paddingLeft)||0,n=parseFloat(s.paddingRight)||0,o=parseFloat(s.columnGap)||0;this.width=t-i-n-2*o}}get hasBackground(){return!!this.backgroundImage||this.backgroundColor!=="transparent"}}F([z()],It.prototype,"height",void 0);F([z()],It.prototype,"mobileHeight",void 0);F([z()],It.prototype,"inheritWidthFrom",void 0);F([z()],It.prototype,"textAreaWidth",void 0);F([z()],It.prototype,"textGlowEnabled",void 0);F([z()],It.prototype,"overlapEnabled",void 0);F([z({defaultValue:"transparent"})],It.prototype,"backgroundColor",void 0);F([z()],It.prototype,"titleColor",void 0);F([z()],It.prototype,"descriptionColor",void 0);F([z({onSet:(r,e)=>{e.renderBackgroundImage=Tx(r)}})],It.prototype,"backgroundImage",void 0);F([z()],It.prototype,"renderBackgroundImage",void 0);F([z()],It.prototype,"backgroundImageFit",void 0);F([z()],It.prototype,"backgroundImageOpacity",void 0);F([z()],It.prototype,"logoPositionX",void 0);F([z()],It.prototype,"logoPositionY",void 0);F([z()],It.prototype,"titlePositionX",void 0);F([z()],It.prototype,"titlePositionY",void 0);F([z()],It.prototype,"descriptionPositionX",void 0);F([z()],It.prototype,"descriptionPositionY",void 0);F([z()],It.prototype,"logoStyle",void 0);F([z()],It.prototype,"titleStyle",void 0);F([z()],It.prototype,"descriptionStyle",void 0);F([z()],It.prototype,"headerClasses",void 0);F([z()],It.prototype,"contentClasses",void 0);F([z()],It.prototype,"width",void 0);F([z()],It.prototype,"maxWidth",void 0);F([z()],It.prototype,"backgroundImageClasses",void 0);ce.addClass("cover",[{name:"height:number",minValue:0,default:0},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"survey"},{name:"textAreaWidth:number",minValue:0,default:0},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"left"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new It});class cB{constructor(e){this.type=e,this.timestamp=new Date}}class NI extends He{constructor(){super(),this.taskList=[],this.onAllTasksCompleted=this.addEvent()}runTask(e,t){const s=new cB(e);return this.taskList.push(s),this.hasActiveTasks=!0,t(()=>this.taskFinished(s)),s}waitAndExecute(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(()=>{e()})}taskFinished(e){const t=this.taskList.indexOf(e);t>-1&&this.taskList.splice(t,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))}}F([z({defaultValue:!1})],NI.prototype,"hasActiveTasks",void 0);class nc extends He{constructor(e,t){super(),this.effectiveWidth=e,this.questionTitleWidth=t}getType(){return"panellayoutcolumn"}isEmpty(){return!this.width&&!this.questionTitleWidth}}F([z()],nc.prototype,"width",void 0);F([z({onSet:(r,e,t)=>{r!==t&&(e.width=r)}})],nc.prototype,"effectiveWidth",void 0);F([z()],nc.prototype,"questionTitleWidth",void 0);ce.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],r=>new nc);class Ad extends He{static getRowId(){return"pr_"+Ad.rowCounter++}get allowRendering(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended}startLazyRendering(e,t=ym){if(!Re.isAvailable())return;this._scrollableParent=t(e),this._scrollableParent===Re.getDocumentElement()&&(this._scrollableParent=qe.getWindow());const s=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!s,s&&(this._updateVisibility=()=>{if(this.allowRendering){var i=dF(e,50);!this.isNeedRender&&i&&(this.isNeedRender=!0,this.stopLazyRendering())}},this.lazyRenderingTimeout=setTimeout(()=>{this._scrollableParent&&this._scrollableParent.addEventListener&&this._scrollableParent.addEventListener("scroll",this._updateVisibility),this.ensureVisibility()},10))}ensureVisibility(){this._updateVisibility&&this._updateVisibility()}stopLazyRendering(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),clearTimeout(this.lazyRenderingTimeout),this._scrollableParent=void 0,this._updateVisibility=void 0}constructor(e){super(),this.panel=e,this._scrollableParent=void 0,this._updateVisibility=void 0,this.visibleElementsAnimation=new ra(this.getVisibleElementsAnimationOptions(),t=>{this.setWidth(t),this.setPropertyValue("visibleElements",t)},()=>this.visibleElements),this.idValue=Ad.getRowId(),this.visible=e.areInvisibleElementsShowing,this.createNewArray("elements"),this.createNewArray("visibleElements")}setIsLazyRendering(e){this.isLazyRenderingValue=e,this.isNeedRender=!e}isLazyRendering(){return this.isLazyRenderingValue===!0}get id(){return this.idValue}equalsCore(e){return this==e}get elements(){return this.getPropertyValue("elements")}getIsAnimationAllowed(){var e;return super.getIsAnimationAllowed()&&this.visible&&((e=this.panel)===null||e===void 0?void 0:e.animationAllowed)}getVisibleElementsAnimationOptions(){const e=t=>{pn(t),Rd(t,{width:Zv(t)+"px"})};return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,allowSyncRemovalAddition:!1,getAnimatedElement:t=>t.getWrapperElement(),getLeaveOptions:t=>{const s=t;return{cssClass:(t.isPanel?s.cssClasses.panel:s.cssClasses).leave,onBeforeRunAnimation:e,onAfterRunAnimation:Br}},getEnterOptions:t=>{const s=t;return{cssClass:(t.isPanel?s.cssClasses.panel:s.cssClasses).enter,onBeforeRunAnimation:e,onAfterRunAnimation:Br}}}}set visibleElements(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)}get visibleElements(){return this.getPropertyValue("visibleElements")}get visible(){return this.getPropertyValue("visible",!0)}set visible(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()}get isNeedRender(){return this.getPropertyValue("isneedrender",!0)}set isNeedRender(e){this.setPropertyValue("isneedrender",e)}updateVisible(){for(var e=[],t=0;t<this.elements.length;t++)this.elements[t].isVisible&&e.push(this.elements[t]),(this.elements[t].isPanel||this.elements[t].getType()==="paneldynamic")&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e}addElement(e){this.elements.push(e),this.updateVisible()}get index(){return this.panel.rows.indexOf(this)}setWidth(e){var t=e.length;if(t==0)return;const s=e.length===1;for(var i=[],n=0;n<this.elements.length;n++){var o=this.elements[n];if(o.isVisible){o.isSingleInRow=s;var l=this.getElementWidth(o);l&&(o.renderWidth=this.getRenderedWidthFromWidth(l),i.push(o)),o.rightIndent=0}else o.renderWidth=""}for(var n=0;n<this.elements.length;n++){var o=this.elements[n];!o.isVisible||i.indexOf(o)>-1||(i.length==0?o.renderWidth=`${Number.parseFloat((100/t).toFixed(6))}%`:o.renderWidth=this.getRenderedCalcWidth(o,i,t))}}getRenderedCalcWidth(e,t,s){for(var i="100%",n=0;n<t.length;n++)i+=" - "+t[n].renderWidth;var o=s-t.length;return o>1&&(i="("+i+")/"+o.toString()),"calc("+i+")"}getElementWidth(e){var t=e.width;return!t||typeof t!="string"?"":t.trim()}getRenderedWidthFromWidth(e){return Y.isNumber(e)?e+"px":e}dispose(){super.dispose(),this.stopLazyRendering()}getRowCss(){return new ge().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}Ad.rowCounter=100;class Bi extends Vt{static getPanelId(){return"sp_"+Bi.panelCounter++}get gridLayoutColumns(){let e=this.getPropertyValue("gridLayoutColumns");return this._columns||(this.generateColumns([].concat(e)),e=this._columns,this.gridLayoutColumns=e),e}set gridLayoutColumns(e){this.setPropertyValue("gridLayoutColumns",e)}onAddRow(e){this.onRowVisibleChanged(),e.onVisibleChangedCallback=()=>this.onRowVisibleChanged()}getRowsAnimationOptions(){return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,getAnimatedElement:e=>e.getRootElement(),getLeaveOptions:(e,t)=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:pn,onAfterRunAnimation:Br}),getEnterOptions:(e,t)=>{const s=this.cssClasses;return{cssClass:new ge().append(s.rowEnter).append(s.rowDelayedEnter,t.isDeletingRunning).toString(),onBeforeRunAnimation:pn,onAfterRunAnimation:Br}}}}get visibleRows(){return this.getPropertyValue("visibleRows")}set visibleRows(e){this.rowsAnimation.sync(e)}onRemoveRow(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(t=>t.visible),e.onVisibleChangedCallback=void 0}onRowVisibleChanged(){this.visibleRows=this.rows.filter(e=>e.visible)}constructor(e=""){super(e),this.isQuestionsReady=!1,this.questionsValue=new Array,this._columns=void 0,this._columnsReady=!1,this.rowsAnimation=new ra(this.getRowsAnimationOptions(),t=>{this.setPropertyValue("visibleRows",t)},()=>this.visibleRows),this.isRandomizing=!1,this.onColumnPropertyValueChangedCallback=(t,s,i,n,o)=>{this._columnsReady&&(this.updateColumnWidth(this.gridLayoutColumns),this.updateRootStyle())},this.locCountRowUpdates=0,this.createNewArray("rows",(t,s)=>{this.onAddRow(t)},t=>{this.onRemoveRow(t)}),this.createNewArray("visibleRows"),this.createNewArray("gridLayoutColumns",t=>{t.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback}),this.elementsValue=this.createNewArray("elements",this.onAddElement.bind(this),this.onRemoveElement.bind(this)),this.setPropertyValueDirectly("id",Bi.getPanelId()),this.addExpressionProperty("visibleIf",(t,s)=>{this.visible=s===!0},t=>!this.areInvisibleElementsShowing),this.addExpressionProperty("enableIf",(t,s)=>{this.readOnly=s===!1}),this.addExpressionProperty("requiredIf",(t,s)=>{this.isRequired=s===!0}),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("navigationTitle",this,!0).onGetTextCallback=t=>t||this.title||this.name,this.registerPropertyChangedHandlers(["questionTitleLocation"],()=>{this.onVisibleChanged.bind(this),this.updateElementCss(!0)}),this.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],()=>{this.updateVisibleIndexes()}),this.registerPropertyChangedHandlers(["title"],()=>{this.resetHasTextInTitle()})}getType(){return"panelbase"}setSurveyImpl(e,t){this.blockAnimations(),super.setSurveyImpl(e,t),this.isDesignMode&&this.onVisibleChanged();for(var s=0;s<this.elements.length;s++)this.elements[s].setSurveyImpl(e,t);this.releaseAnimations()}endLoadingFromJson(){super.endLoadingFromJson(),this.markQuestionListDirty(),this.onRowsChanged()}get hasTextInTitle(){return this.getPropertyValue("hasTextInTitle",void 0,()=>!!this.title)}resetHasTextInTitle(){this.resetPropertyValue("hasTextInTitle")}get hasTitle(){return this.canShowTitle(this.survey)&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!this.isPanel&&this.showTitle&&re.designMode.showEmptyTitles}delete(e=!0){this.deletePanel(),this.removeFromParent(),e&&this.dispose()}deletePanel(){const e=this.elements;for(let t=0;t<e.length;t++){const s=e[t];s.isPanel&&s.deletePanel(),this.onRemoveElementNotifySurvey(s)}}removeFromParent(){}canShowTitle(e){return!0}getDefaultTitleTagName(){return re.titleTags.panel}get _showDescription(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&re.designMode.showEmptyDescriptions}localeChanged(){super.localeChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()}getMarkdownHtml(e,t,s){return t==="navigationTitle"&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:super.getMarkdownHtml(e,t,s)}get locNavigationTitle(){return this.getLocalizableString("navigationTitle")}get renderedNavigationTitle(){return this.locNavigationTitle.renderedHtml}get requiredMark(){return this.survey&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}addNoFromChild(e){return e}canRandomize(e){return e&&this.questionOrder!=="initial"||this.questionOrder==="random"}randomizeElements(e){if(!this.canRandomize(e)||this.isRandomizing)return!1;this.isRandomizing=!0;for(var t=[],s=this.elements,i=0;i<s.length;i++)t.push(s[i]);const n=Y.randomizeArray(t);return this.setArrayPropertyDirectly("elements",n,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1,!0}get areQuestionsRandomized(){var e=this.questionOrder=="default"&&this.survey?this.survey.questionOrder:this.questionOrder;return e=="random"}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}get depth(){return this.parent==null?0:this.parent.depth+1}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}calcCssClasses(e){var t={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(t.panel,e.panel),this.copyCssClasses(t.error,e.error),e.pageRow&&(t.pageRow=e.pageRow),e.rowCompact&&(t.rowCompact=e.rowCompact),e.row&&(t.row=e.row),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,t),t}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get isPanel(){return!1}getPanel(){return this}getLayoutType(){return"row"}isLayoutTypeSupported(e){return e!=="flow"}get questions(){return this.isQuestionsReady||(this.questionsValue=this.getQuestionsCore(!1),this.isQuestionsReady=!0),this.questionsValue}get visibleQuestions(){return this.getQuestionsCore(!0)}getQuestionsCore(e){const t=new Array;for(let i=0;i<this.elements.length;i++){const n=this.elements[i];if(!(e&&!n.isVisible))if(n.isPanel){var s=n.getQuestionsCore(e);for(let o=0;o<s.length;o++)t.push(s[o])}else t.push(n)}return t}getQuestions(e){const t=this.questions;if(!e)return t;const s=[];return t.forEach(i=>{s.push(i),i.getNestedQuestions().forEach(n=>s.push(n))}),s}getValidName(e){return e&&e.trim()}getQuestionByName(e){for(var t=this.questions,s=0;s<t.length;s++)if(t[s].name==e)return t[s];return null}getElementByName(e){for(var t=this.elements,s=0;s<t.length;s++){var i=t[s];if(i.name==e)return i;var n=i.getPanel();if(n){var o=n.getElementByName(e);if(o)return o}}return null}getQuestionByValueName(e,t=!1){const s=this.getQuestionsByValueName(e,t);return s.length>0?s[0]:null}getQuestionsByValueName(e,t=!1){const s=[];t&&(e=e.toLowerCase());for(var i=this.questions,n=0;n<i.length;n++){let o=i[n].getValueName();t&&(o=o.toLowerCase()),o==e&&s.push(i[n])}return s}getValue(){var e={};return this.collectValues(e,0),Y.getUnbindValue(e)}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let s=0;s<t.length;s++)if(!t[s].isEmpty())return!0;return!1}collectValues(e,t){let s=this.elements;t===0&&(s=this.questions);for(var i=0;i<s.length;i++){const l=s[i];if(l.isPanel||l.isPage){const u={};l.collectValues(u,t-1)&&(e[l.name]=u)}else{const u=l;if(!u.isEmpty()){var n=u.getValueName();if(e[n]=u.getStructuredValue(t-1),this.data){var o=this.data.getComment(n);o&&(e[n+He.commentSuffix]=o)}}}}return!0}getDisplayValue(e){for(var t={},s=this.questions,i=0;i<s.length;i++){var n=s[i];if(!n.isEmpty()){var o=e?n.title:n.getValueName();t[o]=n.getDisplayValue(e)}}return t}getComments(){var e={};if(!this.data)return e;for(var t=this.questions,s=0;s<t.length;s++){var i=t[s],n=this.data.getComment(i.getValueName());n&&(e[i.getValueName()]=n)}return e}clearIncorrectValues(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()}clearErrors(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]}markQuestionListDirty(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()}get elements(){return He.collectDependency(this,"elements"),this.elementsValue}getElementsInDesign(e=!1){return this.elements}containsElement(e){for(var t=0;t<this.elements.length;t++){var s=this.elements[t];if(s==e)return!0;var i=s.getPanel();if(i&&i.containsElement(e))return!0}return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}searchText(e,t){super.searchText(e,t);for(var s=0;s<this.elements.length;s++)this.elements[s].searchText(e,t)}hasErrors(e=!0,t=!1){return!this.validate(e,t)}validate(e=!0,t=!1,s){const i=new Cl({fireCallback:e,focusOnFirstError:t,callbackResult:s});return this.validateCore(i),i.finish(),i.runningResult}validateContainerOnly(){this.validateInPanels(new Cl({fireCallback:!0,isOnValueChanged:!1})),this.parent&&this.parent.validateContainerOnly()}onQuestionValueChanged(e){const t=this.questions.indexOf(e);if(t<0)return;const s=5,i=this.questions.length-1,n=t-s>0?t-s:0,o=t+s<i?t+s:i;for(let l=n;l<=o;l++){if(l===t)continue;const u=this.questions[l];u.errors.length>0&&u.validate(!1)&&u.validate(!0)}}validateInPanels(e){var t=[];this.validateRequired(e,t),this.survey&&(this.survey.validatePanel(this,t,e.fireCallback),t.length>0&&e.setError(this)),e.fireCallback&&(this.errors=t)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}validateRequired(e,t){if(this.isRequired){var s=[];if(this.addQuestionsToList(s,!0),s.length!=0){for(var i=0;i<s.length;i++)if(!s[i].isEmpty())return;t.push(new IF(this.requiredErrorText,this)),e.setError(s[0])}}}validateElement(e){const t=e.errorCount;return this.validateCore(e),e.errorCount<=t}validateCore(e){var t;let s=(t=this.survey)===null||t===void 0?void 0:t.currentSingleQuestion;s&&this.questions.indexOf(s)<0&&(s=void 0);const i=s?[s]:this.elements;let n=null;for(var o=0;o<i.length;o++)if(n=i[o],!!n.isVisible)if(n.isPanel)n.validateCore(e);else{var l=n;l.validateElement(e)}s||(this.validateInPanels(e),this.updateContainsErrors())}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.elements,s=0;s<t.length;s++)if(t[s].containsErrors)return!0;return!1}updateElementVisibility(){for(let e=0;e<this.elements.length;e++)this.elements[e].updateElementVisibility();super.updateElementVisibility()}getFirstQuestionToFocus(e=!1,t=!1){if(!e&&!t&&this.isCollapsed)return null;for(var s=this.elements,i=0;i<s.length;i++){var n=s[i];if(!(!n.isVisible||!t&&n.isCollapsed))if(n.isPanel){var o=n.getFirstQuestionToFocus(e,t);if(o)return o}else{const l=n.getFirstQuestionToFocus(e);if(l)return l}}return null}getFirstVisibleQuestion(){const e=this.questions;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}getFirstVisibleElement(){const e=this.elements;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}focusFirstQuestion(){const e=this.getFirstQuestionToFocus();e&&e.focus()}focusFirstErrorQuestion(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()}addQuestionsToList(e,t=!1,s=!1){this.addElementsToList(e,t,s,!1)}addPanelsIntoList(e,t=!1,s=!1){this.addElementsToList(e,t,s,!0)}addElementsToList(e,t,s,i){t&&!this.visible||this.addElementsToListCore(e,this.elements,t,s,i)}addElementsToListCore(e,t,s,i,n){for(var o=0;o<t.length;o++){var l=t[o];s&&!l.visible||((n&&l.isPanel||!n&&!l.isPanel)&&e.push(l),l.isPanel?l.addElementsToListCore(e,l.elements,s,i,n):i&&this.addElementsToListCore(e,l.getElementsInDesign(!1),s,i,n))}}calcMaxRowColSpan(){let e=0;return this.rows.forEach(t=>{let s=0,i=!1;t.elements.forEach(n=>{n.width&&(i=!0),s+=n.colSpan||1}),!i&&s>e&&(e=s)}),e}updateColumnWidth(e){let t=0,s=0;if(e.forEach(i=>{i.width?(t+=i.width,i.setPropertyValue("effectiveWidth",i.width)):s++}),s){const i=SF((100-t)/s);for(let n=0;n<e.length;n++)e[n].width||e[n].setPropertyValue("effectiveWidth",i)}}updateColumns(){this._columns=void 0,this.updateRootStyle()}updateRootStyle(){var e;super.updateRootStyle(),(e=this.elements)===null||e===void 0||e.forEach(t=>t.updateRootStyle())}updateCustomWidgets(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())}getQuestionTitleLocation(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}availableQuestionTitleWidth(){return this.getQuestionTitleLocation()==="left"||this.hasElementWithTitleLocationLeft()}hasElementWithTitleLocationLeft(){return this.elements.some(t=>{if(t instanceof Bi)return t.hasElementWithTitleLocationLeft();if(t instanceof rs)return t.getTitleLocation()==="left"})}getQuestionTitleWidth(){return(this.onGetQuestionTitleWidth?this.onGetQuestionTitleWidth():this.questionTitleWidth)||this.parent&&this.parent.getQuestionTitleWidth()}get columns(){return this._columns||(this.generateColumns(this.gridLayoutColumns),this.gridLayoutColumns=this._columns),this._columns||[]}generateColumns(e){var t;const s=(t=this.survey)===null||t===void 0?void 0:t.gridLayoutEnabled;let i=[].concat(e);if(s){let n=this.calcMaxRowColSpan();if(n<=e.length)i=e.slice(0,n);else for(let o=e.length;o<n;o++){const l=new nc;i.push(l)}}this._columns=i;try{this._columnsReady=!1,this.updateColumnWidth(i)}finally{this._columnsReady=!0}}createGridLayoutColumns(){return this.generateColumns([]),this._columns}updateGridColumns(){this.updateColumns(),this.elements.forEach(e=>{e.isPanel&&e.updateGridColumns()})}getColumsForElement(e){const t=this.findRowByElement(e);if(!t||!this.survey||!this.survey.gridLayoutEnabled)return[];let s=t.elements.length-1;for(;s>=0&&t.elements[s].getPropertyValueWithoutDefault("colSpan");)s--;const i=t.elements.indexOf(e);let n=0;for(let u=0;u<i;u++)n+=t.elements[u].colSpan;let o=e.getPropertyValueWithoutDefault("colSpan");if(!o&&i===s){let u=0;for(let c=0;c<t.elements.length;c++)c!==s&&(u+=t.elements[c].colSpan);o=this.columns.length-u}const l=this.columns.slice(n,n+(o||1));return e.setPropertyValueDirectly("effectiveColSpan",l.length),l}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}getProgressInfo(){return Vt.getProgressInfoByElements(this.elements,this.isRequired)}get root(){for(var e=this;e.parent;)e=e.parent;return e}childVisibilityChanged(){if(!this.isRunningConditions){var e=this.getIsPageVisible(null),t=this.getPropertyValue("isVisible",!0);e!==t&&this.onVisibleChanged()}}canRenderFirstRows(){return this.isPage}isLazyRenderInRow(e){return!this.survey||!this.survey.isLazyRendering?!1:e>=this.survey.lazyRenderFirstBatchSize||!this.canRenderFirstRows()}createRowAndSetLazy(e){const t=this.createRow();return t.setIsLazyRendering(this.isLazyRenderInRow(e)),t}createRow(){return new Ad(this)}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad();for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations()}onFirstRenderingCore(){super.onFirstRenderingCore(),this.onRowsChanged(),this.elements.forEach(e=>e.onFirstRendering())}updateRows(){this.isLoadingFromJson||(this.getElementsForRows().forEach(e=>{e.isPanel&&e.updateRows()}),this.onRowsChanged())}get rows(){return this.getPropertyValue("rows")}ensureRowsVisibility(){this.rows.forEach(e=>{e.ensureVisibility()})}onRowsChanged(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())}blockRowsUpdates(){this.locCountRowUpdates++}releaseRowsUpdates(){this.locCountRowUpdates--}updateRowsBeforeElementRemoved(e){const t=this.findRowByElement(e),s=this.rows.indexOf(t),i=t.elements.indexOf(e);t.elements.splice(i,1),t.elements.length==0?this.rows.splice(s,1):!t.elements[0].startWithNewLine&&this.rows[s-1]?(t.elements.forEach(n=>this.rows[s-1].addElement(n)),this.rows.splice(s,1)):t.updateVisible()}updateRowsOnElementAdded(e){if(!this.wasRendered&&this.rows.length===0&&this.elements.length>1)return;const t=this.elements.indexOf(e),s=this.elements[t+1],i=c=>{const h=this.createRowAndSetLazy(c);return this.isDesignMode&&h.setIsLazyRendering(!1),this.rows.splice(c,0,h),h},n=(c,h,p,...m)=>{const v=c.elements.splice(h,p,...m);return c.updateVisible(),v};if(!s){t==0||e.startWithNewLine?n(i(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}const o=this.findRowByElement(s);if(!o)return;const l=this.rows.indexOf(o),u=o.elements.indexOf(s);u==0?s.startWithNewLine?e.startWithNewLine||l<1?i(l).addElement(e):this.rows[l-1].addElement(e):n(o,0,0,e):e.startWithNewLine?n(i(l+1),0,0,...[e].concat(n(o,u,o.elements.length))):n(o,u,0,e)}canFireAddRemoveNotifications(e){return!!this.survey&&e.prevSurvey!==this.survey}onAddElement(e,t){const s=this.survey,i=this.canFireAddRemoveNotifications(e);this.surveyImpl&&e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),i&&(e.isPanel?s.panelAdded(e,t,this,this.root):s.questionAdded(e,t,this,this.root)),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],()=>{this.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],()=>{this.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)}onRemoveElement(e){e.parent=null,this.unregisterElementPropertiesChanged(e),this.markQuestionListDirty(),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))}unregisterElementPropertiesChanged(e){e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id)}onRemoveElementNotifySurvey(e){this.canFireAddRemoveNotifications(e)&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))}onElementVisibilityChanged(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))}onElementStartWithNewLineChanged(e){this.locCountRowUpdates>0||(this.blockAnimations(),this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e),this.releaseAnimations())}updateRowsVisibility(e){for(var t=this.rows,s=0;s<t.length;s++){var i=t[s];if(i.elements.indexOf(e)>-1){i.updateVisible(),i.visible&&!i.isNeedRender&&(i.isNeedRender=!0);break}}}canBuildRows(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"}buildRows(){if(!this.canBuildRows())return[];const e=new Array,t=this.getElementsForRows();for(let s=0;s<t.length;s++){const i=t[s],n=s==0||i.startWithNewLine,o=n?this.createRowAndSetLazy(e.length):e[e.length-1];n&&e.push(o),o.addElement(i)}return e.forEach(s=>s.updateVisible()),e}getElementsForRows(){return this.elements}getDragDropInfo(){const e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0}updateRowsOnElementRemoved(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())}updateRowsRemoveElementFromRow(e,t){if(!(!t||!t.panel)){var s=t.elements.indexOf(e);s<0||(t.elements.splice(s,1),t.elements.length>0?(this.blockRowsUpdates(),t.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),t.updateVisible()):t.index>=0&&t.panel.rows.splice(t.index,1))}}getAllRows(){const e=[];return this.rows.forEach(t=>{const s=[];t.elements.forEach(i=>{i.isPanel?s.push(...i.getAllRows()):i.getType()=="paneldynamic"&&(this.isDesignMode?s.push(...i.template.getAllRows()):i.panels.forEach(n=>s.push(...n.getAllRows())))}),e.push(t),e.push(...s)}),e}findRowAndIndexByElement(e,t){if(!e)return{row:void 0,index:this.rows.length-1};t=t||this.rows;for(var s=0;s<t.length;s++)if(t[s].elements.indexOf(e)>-1)return{row:t[s],index:s};return{row:null,index:-1}}forceRenderRow(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())}forceRenderElement(e,t=()=>{},s=0){const i=this.getAllRows(),{row:n,index:o}=this.findRowAndIndexByElement(e,i);if(o>=0&&o<i.length){const l=[];l.push(n);for(let u=o-1;u>=o-s&&u>=0;u--)l.push(i[u]);this.forceRenderRows(l,t)}}forceRenderRows(e,t=()=>{}){const s=(i=>()=>{i--,i<=0&&t()})(e.length);e.forEach(i=>new nF(i.visibleElements,s)),e.forEach(i=>this.forceRenderRow(i))}findRowByElement(e){return this.findRowAndIndexByElement(e).row}elementWidthChanged(e){if(!this.isLoadingFromJson){var t=this.findRowByElement(e);t&&t.updateVisible()}}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaLabelledBy(){return this.hasTitle?this.ariaTitleId:null}get ariaLabel(){return this.hasTitle?null:this.title||this.name||null}get ariaRole(){return"group"}get processedTitle(){return this.getRenderedTitle(this.locTitle.textOrHtml)}getRenderedTitle(e){return this.textProcessor!=null?this.textProcessor.processText(e,!0):e}get visible(){return this.getPropertyValue("visible")}set visible(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())}onHidingContent(){this.questions.forEach(e=>e.onHidingContent())}onVisibleChanged(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.canUpdateValueOnVisibleChanged())){const t=this.questions,s=this.isVisible;for(var e=0;e<t.length;e++){const i=t[e];s?i.updateValueWithDefaults():(i.clearValueIfInvisible("onHiddenContainer"),i.onHidingContent())}}}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.questions.forEach(t=>t.onHidingContent())}get isVisible(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)}getIsContentVisible(e){if(this.areInvisibleElementsShowing)return!0;for(var t=0;t<this.elements.length;t++)if(this.elements[t]!=e&&this.elements[t].isVisible)return!0;return!1}getIsPageVisible(e){const t=this.getIsContentVisible(e);return this.visible&&t}setVisibleIndex(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var t=e;e+=this.beforeSetVisibleIndex(e);var s=this.getPanelStartIndex(e),i=s;const n=this.elements;for(var o=0;o<n.length;o++)i+=n[o].setVisibleIndex(i);return this.isContinueNumbering()&&(e+=i-s),e-t}updateVisibleIndexes(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))}resetVisibleIndexes(){const e=this.elements;for(var t=0;t<e.length;t++)e[t].setVisibleIndex(-1)}beforeSetVisibleIndex(e){return 0}getPanelStartIndex(e){return e}isContinueNumbering(){return!0}get isReadOnly(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t}onReadOnlyChanged(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}super.onReadOnlyChanged()}updateElementCss(e){super.updateElementCss(e);for(let t=0;t<this.elements.length;t++)this.elements[t].updateElementCss(e)}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}addElement(e,t=-1){return this.canAddElement(e)?(t<0||t>=this.elements.length?this.elements.push(e):this.elements.splice(t,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0):!1}insertElement(e,t,s="bottom"){if(!t){this.addElement(e);return}this.blockRowsUpdates();let i=this.elements.indexOf(t);const n=this.findRowByElement(t);s=="left"||s=="right"?s=="right"?(e.startWithNewLine=!1,i++):n.elements.indexOf(t)==0?(t.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,s=="top"?i=this.elements.indexOf(n.elements[0]):i=this.elements.indexOf(n.elements[n.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,i)}insertElementAfter(e,t){const s=this.elements.indexOf(t);s>=0&&this.addElement(e,s+1)}insertElementBefore(e,t){const s=this.elements.indexOf(t);s>=0&&this.addElement(e,s)}canAddElement(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())}addQuestion(e,t=-1){return this.addElement(e,t)}addPanel(e,t=-1){return this.addElement(e,t)}addNewQuestion(e,t=null,s=-1){var i=gt.Instance.createQuestion(e,t);return this.addQuestion(i,s)?i:null}addNewPanel(e=null){var t=this.createNewPanel(e);return this.addPanel(t)?t:null}indexOf(e){return this.elements.indexOf(e)}createNewPanel(e){var t=ce.createClass("panel");return t.name=e,t}removeElement(e){var t=this.elements.indexOf(e);if(t<0){for(var s=0;s<this.elements.length;s++)if(this.elements[s].removeElement(e))return!0;return!1}return this.elements.splice(t,1),this.updateColumns(),!0}removeQuestion(e){this.removeElement(e)}runCondition(e){if(this.isDesignMode||this.isLoadingFromJson)return;var t=this.elements.slice();const s=this.getIsPageVisible();this.isRunningConditions=!0;for(var i=0;i<t.length;i++)t[i].runCondition(e);this.runConditionCore(e);const n=this.getIsPageVisible();this.isRunningConditions=!1,s!==n&&this.childVisibilityChanged()}onAnyValueChanged(e,t){for(var s=this.elements,i=0;i<s.length;i++)s[i].onAnyValueChanged(e,t)}checkBindings(e,t){for(var s=this.elements,i=0;i<s.length;i++)s[i].checkBindings(e,t)}needResponsiveWidth(){let e=!1;return this.elements.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(t=>{t.elements.length>1&&(e=!0)}),e}get hasDescriptionUnderTitle(){return this.hasDescription}get cssHeader(){return this.cssClasses.panel.header}get cssDescription(){return this.cssClasses.panel.description}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e)}getQuestionErrorLocation(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getTitleOwner(){return this}get no(){return""}get cssTitleNumber(){return this.cssClasses.panel.number}get cssRequiredMark(){return this.cssClasses.panel.requiredMark}get cssError(){return this.getCssError(this.cssClasses)}getCssError(e){return new ge().append(e.error.root).toString()}getSerializableColumnsValue(){let e=-1;for(let t=this.gridLayoutColumns.length-1;t>=0;t--)if(!this.gridLayoutColumns[t].isEmpty()){e=t;break}return this.gridLayoutColumns.slice(0,e+1)}afterRender(e){this.afterRenderCore(e)}dispose(){if(super.dispose(),this.rows){for(let e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}this.disposeElements(),this.elements.splice(0,this.elements.length)}disposeElements(){for(let e=0;e<this.elements.length;e++)this.elements[e].dispose()}}Bi.panelCounter=100;F([z({defaultValue:!0})],Bi.prototype,"showTitle",void 0);F([z({defaultValue:!0})],Bi.prototype,"showDescription",void 0);F([z()],Bi.prototype,"questionTitleWidth",void 0);class Ul extends Bi{constructor(e=""){super(e),this.forcusFirstQuestionOnExpand=!0,this.createNewArray("footerActions"),this.registerPropertyChangedHandlers(["width"],()=>{this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var t;(t=this.parent)===null||t===void 0||t.updateColumns()})}getType(){return"panel"}get contentId(){return this.id+"_content"}getSurvey(e=!1){return e&&this.isPanel?this.parent?this.parent.getSurvey(e):null:super.getSurvey(e)}get isPanel(){return!0}get page(){return this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()}addNoFromChild(e){return this.isQuestionIndexRecursive?this.calcNo()+e:super.addNoFromChild(e)}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}getQuestionStartIndex(){return this.questionStartIndex?this.questionStartIndex:super.getQuestionStartIndex()}get no(){return this.getPropertyValue("no",void 0,()=>this.calcNo())}calcNo(){let e=Y.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.onGetNoCallback&&(e=this.onGetNoCallback(e)),this.parent&&(e=this.parent.addNoFromChild(e)),this.survey&&(e=this.survey.getUpdatedPanelNo(this,e)),e||""}notifyStateChanged(e){this.isLoadingFromJson||this.locTitle.strChanged(),super.notifyStateChanged(e)}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.onGetTextCallback=t=>(!t&&this.state!=="default"&&(t=this.name),t),e}beforeSetVisibleIndex(e){if(this.isPage)return super.beforeSetVisibleIndex(e);let t=-1;return(this.showNumber||this.isQuestionIndexRecursive)&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(t=e),this.setPropertyValue("visibleIndex",t),this.resetPropertyValue("no"),t<0?0:1}getPanelStartIndex(e){return this.showQuestionNumbers==="off"?-1:this.isQuestionIndexOnPanel?0:e}get isQuestionIndexOnPanel(){return this.showQuestionNumbers==="onpanel"||this.isQuestionIndexRecursive}get isQuestionIndexRecursive(){if(this.isPage)return!1;const e=this.showQuestionNumbers;return e!=="default"?e==="recursive":!!this.survey&&this.survey.showQuestionNumbers==="recursive"}hasParentInQuestionIndex(){if(!this.isQuestionIndexOnPanel)return!1;const e=this.questionStartIndex,t=e.indexOf(".");return t>-1&&t<e.length-1}isContinueNumbering(){return this.showQuestionNumbers!=="off"&&!this.isQuestionIndexOnPanel}notifySurveyOnVisibilityChanged(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)}getRenderedTitle(e){if(this.isPanel&&!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return super.getRenderedTitle(e)}get innerIndent(){return this.getPropertyValue("innerIndent")}set innerIndent(e){this.setPropertyValue("innerIndent",e)}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.setPropertyValue("startWithNewLine",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e)}get innerPaddingLeft(){const e=()=>this.getIndentSize(this.innerIndent);return this.getPropertyValue("innerPaddingLeft",void 0,e)}set innerPaddingLeft(e){this.setPropertyValue("innerPaddingLeft",e)}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}resetIndents(){this.resetPropertyValue("innerPaddingLeft"),super.resetIndents()}getIndentSize(e){if(this.survey){if(e<1)return"";var t=this.survey.css;return!t||!t.question||!t.question.indent?"":e*t.question.indent+"px"}}clearOnDeletingContainer(){this.elements.forEach(e=>{(e instanceof rs||e instanceof Ul)&&e.clearOnDeletingContainer()})}get footerActions(){return this.getPropertyValue("footerActions")}getFooterToolbar(){var e,t;if(!this.footerToolbarValue){var s=this.footerActions;this.hasEditButton&&s.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:()=>{this.cancelPreview()}}),this.onGetFooterActionsCallback?s=this.onGetFooterActionsCallback():s=(e=this.survey)===null||e===void 0?void 0:e.getUpdatedPanelFooterActions(this,s),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);let i=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";i||(i=(t=this.cssClasses.panel)===null||t===void 0?void 0:t.footer),i&&(this.footerToolbarValue.containerCss=i),this.footerToolbarValue.setItems(s),this.footerToolbarValue.flushUpdates()}return this.footerToolbarValue}get hasEditButton(){return!1}cancelPreview(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)}get cssTitle(){return this.getCssPanelTitle()}getCssPanelTitle(){return this.getCssTitle(this.cssClasses.panel)}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.panel.titleExpandableSvg}get showErrorsAbovePanel(){return!this.showPanelAsPage}getCssError(e){if(this.isPage)return super.getCssError(e);const t=new ge().append(super.getCssError(e)).append(e.panel.errorsContainer);return t.append("panel-error-root",t.isEmpty()).toString()}onVisibleChanged(){super.onVisibleChanged(),this.notifySurveyOnVisibilityChanged()}needResponsiveWidth(){return this.startWithNewLine?super.needResponsiveWidth():!0}focusIn(){this.survey&&this.survey.whenPanelFocusIn(this)}getHasFrameV2(){return super.getHasFrameV2()&&!this.showPanelAsPage}getIsNested(){return super.getIsNested()&&this.parent!==void 0}get showPanelAsPage(){return!1}expand(e=!0){this.forcusFirstQuestionOnExpand=e,super.expand()}onElementExpanded(e){if(this.forcusFirstQuestionOnExpand&&this.survey!=null&&!this.isLoadingFromJson){const t=this.getFirstQuestionToFocus(!1);t&&setTimeout(()=>{!this.isDisposed&&this.survey&&this.survey.scrollElementToTop(t,t,null,t.inputId,!1,{behavior:"smooth"})},e?0:15)}}getCssRoot(e){return new ge().append(super.getCssRoot(e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getContainerCss(){return this.getCssRoot(this.cssClasses.panel)}afterRenderCore(e){var t;super.afterRenderCore(e),this.isPanel&&((t=this.survey)===null||t===void 0||t.afterRenderPanel(this,e))}}ce.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(r){return!!r&&r.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"gridLayoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:r=>r.getSerializableColumnsValue(),visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionOrder",alternativeName:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new Bi});ce.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},{name:"width"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"maxWidth",defaultFunc:()=>re.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:r=>r.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r.survey&&r.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(r){var e=r?r.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(r){var e=r?r.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"showNumber:boolean"},{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","recursive","off"]},{name:"questionStartIndex",visibleIf:r=>r.isPanel},{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new Ul},"panelbase");en.Instance.registerElement("panel",r=>new Ul(r));class Mx extends Ul{constructor(e=""){super(e),this.timeSpent=0,this._isReadyForClean=!0,this.createLocalizableString("navigationDescription",this,!0)}getType(){return"page"}toString(){return this.name}get isPage(){return!this.isPanel}get isPanel(){return!!this.parent}get showPanelAsPage(){return!0}get hasEditButton(){return this.isPanel&&this.survey&&this.survey.state==="preview"&&!!this.parent&&!this.parent.isPanel}getElementsForRows(){var e;if(!this.isStartPage){const t=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;if(t)return t.page===this?[t]:[]}return super.getElementsForRows()}disposeElements(){this.isPageContainer||super.disposeElements()}onRemoveElement(e){this.isPageContainer?(e.parent=null,this.unregisterElementPropertiesChanged(e)):super.onRemoveElement(e)}getTemplate(){return this.isPanel?"panel":super.getTemplate()}get no(){if(!this.canShowPageNumber()||!this.survey)return"";let e=this.isStartPage?"":this.num+". ";return this.survey.getUpdatedPageNo(this,e)}get cssTitleNumber(){return this.isPanel?this.cssClasses.panel.number:this.cssClasses.page.number}getCssTitleExpandableSvg(){return null}get cssRequiredMark(){return""}canShowPageNumber(){return this.survey&&this.survey.showPageNumbers}canShowTitle(e){return!e||e.showPageTitles}setTitleValue(e){super.setTitleValue(e),this.navigationLocStrChanged()}getDefaultTitleTagName(){return re.titleTags.page}get navigationTitle(){return this.getLocalizableStringText("navigationTitle")}set navigationTitle(e){this.setLocalizableStringText("navigationTitle",e)}get navigationDescription(){return this.getLocalizableStringText("navigationDescription")}set navigationDescription(e){this.setLocalizableStringText("navigationDescription",e)}get locNavigationDescription(){return this.getLocalizableString("navigationDescription")}navigationLocStrChanged(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()}getMarkdownHtml(e,t,s){const i=super.getMarkdownHtml(e,t,s);return t==="navigationTitle"&&this.canShowPageNumber()&&i?this.num+". "+i:i}get passed(){return this.getPropertyValue("passed",!1)}set passed(e){this.setPropertyValue("passed",e)}removeFromParent(){this.survey&&this.removeSelfFromList(this.survey.pages)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}set visibleIndex(e){this.setPropertyValue("visibleIndex",e)}canRenderFirstRows(){return!this.isDesignMode||this.visibleIndex==0}get isStartPage(){return this.survey&&this.survey.isPageStarted(this)}get isStarted(){return this.isStartPage}calcCssClasses(e){if(this.isPanel)return super.calcCssClasses(e);const t={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(t.page,e.page),this.copyCssClasses(t.error,e.error),e.pageTitle&&(t.pageTitle=e.pageTitle),e.pageDescription&&(t.pageDescription=e.pageDescription),e.row&&(t.row=e.row),e.pageRow&&(t.pageRow=e.pageRow),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),e.rowCompact&&(t.rowCompact=e.rowCompact),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowReplace&&(t.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,t),t}getCssPanelTitle(){return this.isPanel?super.getCssPanelTitle():this.cssClasses.page?new ge().append(this.cssClasses.page.title).toString():""}get cssRoot(){return this.isPanel||!this.cssClasses.page||!this.survey?"":new ge().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()}getCssError(e){return this.isPanel?super.getCssError(e):new ge().append(super.getCssError(e)).append(e.page.errorsContainer).toString()}get navigationButtonsVisibility(){const e=this.showNavigationButtons;return e==null?"inherit":e?"show":"hide"}set navigationButtonsVisibility(e){typeof e=="string"&&(e=e.toLowerCase()),this.showNavigationButtons=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons",void 0)}set showNavigationButtons(e){this.setShowNavigationButtonsProperty(e)}setShowNavigationButtonsProperty(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="show"?this.setPropertyValue("showNavigationButtons",!0):e==="hide"?this.setPropertyValue("showNavigationButtons",!1):this.setPropertyValue("showNavigationButtons",void 0)}get isActive(){return!!this.survey&&this.survey.currentPage===this}get wasShown(){return this.wasRendered}get hasShown(){return this.wasRendered}setWasShown(e){e||this.resetWasRendered()}onFirstRenderingCore(){var e;if(super.onFirstRenderingCore(),!this.isDesignMode){for(var t=this.elements,s=0;s<t.length;s++)t[s].isPanel&&t[s].randomizeElements(this.areQuestionsRandomized);if(this.randomizeElements(this.areQuestionsRandomized)){const i=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;(i==null?void 0:i.page)===this&&(this.survey.currentSingleElement=this.getFirstVisibleElement())}}}scrollToTop(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id,!1,{block:"start"})}getAllPanels(e=!1,t=!1){var s=new Array;return this.addPanelsIntoList(s,e,t),s}getPanels(e=!1,t=!1){return this.getAllPanels(e,t)}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}getMaxTimeToFinish(){if(this.timeLimit!==0)return this.timeLimit;const e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0}onNumChanged(e){}onVisibleChanged(){this.isRandomizing||(super.onVisibleChanged(),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))}ensureRowsVisibility(){super.ensureRowsVisibility(),this.getPanels().forEach(e=>e.ensureRowsVisibility())}get isReadyForClean(){return this._isReadyForClean}set isReadyForClean(e){const t=this._isReadyForClean;this._isReadyForClean=e,this._isReadyForClean!==t&&this.isReadyForCleanChangedCallback&&this.isReadyForCleanChangedCallback()}enableOnElementRerenderedEvent(){super.enableOnElementRerenderedEvent(),this.isReadyForClean=!1}disableOnElementRerenderedEvent(){super.disableOnElementRerenderedEvent(),this.isReadyForClean=!0}}F([z({defaultValue:-1,onSet:(r,e)=>e.onNumChanged(r)})],Mx.prototype,"num",void 0);ce.addClass("page",[{name:"showNavigationButtons:boolean",defaultFunc:()=>{},onSetValue:function(r,e){r&&r.setShowNavigationButtonsProperty(e)},alternativeName:"navigationButtonsVisibility"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,visibleIf:r=>!!r.survey&&r.survey.showTimer},{name:"navigationTitle",serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(r){return!!r.survey&&r.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"state",visible:!1},{name:"isRequired",visible:!1},{name:"startWithNewLine",visible:!1},{name:"width",visible:!1},{name:"minWidth",visible:!1},{name:"maxWidth",visible:!1},{name:"colSpan",visible:!1,isSerializable:!1},{name:"effectiveColSpan:number",visible:!1,isSerializable:!1},{name:"innerIndent",visible:!1},{name:"indent",visible:!1},{name:"page",visible:!1,isSerializable:!1},{name:"showNumber",visible:!1},{name:"showQuestionNumbers",visible:!1},{name:"questionStartIndex",visible:!1},{name:"allowAdaptiveActions",visible:!1},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText",visible:!1}],function(){return new Mx},"panel");class hB extends He{constructor(e){super(),this.survey=e,this.onResize=this.addEvent()}isListElementClickable(e){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:e<=this.survey.currentPageNo+1}getRootCss(e="center"){let t=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(t+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(e)!==-1?"bottom":"top"),t+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(t+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(t+=" "+this.survey.css.progressButtonsFitSurveyWidth),t}getListElementCss(e){if(!(e>=this.survey.visiblePages.length))return new ge().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()}getScrollButtonCss(e,t){return new ge().append(this.survey.css.progressButtonsImageButtonLeft,t).append(this.survey.css.progressButtonsImageButtonRight,!t).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()}clickListElement(e){e instanceof Mx||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)}isListContainerHasScroller(e){const t=e.querySelector("."+this.survey.css.progressButtonsListContainer);return t?t.scrollWidth>t.offsetWidth:!1}isCanShowItemTitles(e){const t=e.querySelector("ul");if(!t||t.children.length<2)return!0;if(t.clientWidth>t.parentElement.clientWidth)return!1;const s=t.children[0].clientWidth;for(let i=0;i<t.children.length;i++)if(Math.abs(t.children[i].clientWidth-s)>5)return!1;return!0}clearConnectorsWidth(e){const t=e.querySelectorAll(".sd-progress-buttons__connector");for(let s=0;s<t.length;s++)t[s].style.width=""}adjustConnectors(e){const t=e.querySelector("ul");if(!t)return;const s=e.querySelectorAll(".sd-progress-buttons__connector"),i=this.showItemNumbers?36:20,n=(t.clientWidth-i)/(t.children.length-1)-i;for(let o=0;o<s.length;o++)s[o].style.width=n+"px"}get isFitToSurveyWidth(){return sl.currentType!=="default"?!1:this.survey.progressBarInheritWidthFrom==="survey"&&this.survey.widthMode=="static"}get progressWidth(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""}get showItemNumbers(){return sl.currentType!=="default"?!1:this.survey.progressBarShowPageNumbers}get showItemTitles(){return sl.currentType!=="default"?!0:this.survey.progressBarShowPageTitles}getItemNumber(e){let t="";return this.showItemNumbers&&(t+=this.survey.visiblePages.indexOf(e)+1),t}get headerText(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""}get footerText(){return this.progressText}get progressText(){return this.getPropertyValue("progressText",void 0,()=>this.survey.getProgressText())}get progressBarAriaLabel(){return os("progressbar",this.survey.getLocale())}resetProgressText(){this.resetPropertyValue("progressText")}processResponsiveness(e){this.onResize.fire(this,{width:e})}}class pB{constructor(e,t,s){this.model=e,this.element=t,this.viewModel=s,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=(i,n)=>{if(this.viewModel.onUpdateScroller(i.isListContainerHasScroller(this.element)),this.model.clearConnectorsWidth(this.element),!i.showItemTitles){this.model.adjustConnectors(this.element);return}if(i.survey.isMobile){this.prevWidth=n.width,this.canShowItemTitles=!1,this.model.adjustConnectors(this.element),this.viewModel.onResize(this.canShowItemTitles);return}this.timer!==void 0&&clearTimeout(this.timer),this.timer=setTimeout(()=>{(this.prevWidth===void 0||this.prevWidth<n.width&&!this.canShowItemTitles||this.prevWidth>n.width&&this.canShowItemTitles)&&(this.prevWidth=n.width,this.canShowItemTitles=i.isCanShowItemTitles(this.element),this.viewModel.onResize(this.canShowItemTitles),this.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,()=>this.forceUpdate(),"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}forceUpdate(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})}dispose(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0}}function mB(r,e){return r.isDesignMode||e.focusFirstQuestion(),!0}function RI(r){if(r.parentQuestion)return RI(r.parentQuestion);let e=r.parent;for(;e&&e.getType()!=="page"&&e.parent;)e=e.parent;return e&&e.getType()==="page"?e:null}function gB(r,e){var t=t2(r,e);const s={items:t,searchEnabled:!1,locOwner:r,listRole:"menu",listItemRole:"menuitemradio",listAriaLabel:os("toc",r.getLocale())};var i=new Qt(s);i.allowSelection=!1;const n=(l,u)=>{i.selectedItem=!!l&&i.actions.filter(c=>c.id===l.name)[0]||u};n(r.currentPage,t[0]),r.onCurrentPageChanged.add((l,u)=>{n(r.currentPage)}),r.onFocusInQuestion.add((l,u)=>{n(RI(u.question))});const o=()=>{i.setItems(t2(r,e))};return r.registerFunctionOnPropertyValueChanged("pages",o,"toc"),r.onEndLoadingFromJson.add(o),i}function t2(r,e){var s=(r.pages||[]).map(i=>new Ke({id:i.name,locTitle:i.locNavigationTitle,action:()=>{if(Re.activeElementBlur(),e&&e(),i.isPage)return r.tryNavigateToPage(i);if(i.isPanel)return mB(r,i)},visible:new yt(()=>i.isVisible&&!i.isStartPage)}));return s}function fB(r,e=!1){let t=yr.RootStyle;return e?t+" "+yr.RootStyle+"--mobile":(t+=" "+yr.RootStyle+"--"+(r.tocLocation||"").toLowerCase(),yr.StickyPosition&&(t+=" "+yr.RootStyle+"--sticky"),t)}class yr{constructor(e){this.survey=e,this.icon="icon-navmenu_24x24",this.togglePopup=()=>{this.popupModel.toggleVisibility()},this.listModel=gB(e,()=>{this.popupModel.isVisible=!1}),this.popupModel=new Ps("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="tablet-dropdown-overlay",this.popupModel.displayMode=new yt(()=>this.isMobile?"overlay":"popup"),yr.StickyPosition&&(e.onAfterRenderSurvey.add((t,s)=>this.initStickyTOCSubscriptions(s.htmlElement)),this.initStickyTOCSubscriptions(e.rootElement))}initStickyTOCSubscriptions(e){yr.StickyPosition&&e&&(e.addEventListener("scroll",t=>{this.updateStickyTOCSize(e)}),this.updateStickyTOCSize(e))}updateStickyTOCSize(e){if(!e)return;const t=e.querySelector("."+yr.RootStyle);if(t&&(t.style.height="",!this.isMobile&&yr.StickyPosition&&e)){const s=e.getBoundingClientRect().height,i=this.survey.findLayoutElement("advanced-header"),n=i&&i.data;let o=!n||n.hasBackground;const l=this.survey.headerView==="advanced"?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),u=e.querySelector(l),c=u&&o?u.getBoundingClientRect().height:0,h=e.querySelector(".sv-scroll__scroller")||e,p=h.scrollTop>c?0:c-h.scrollTop;t.style.height=s-p-1+"px"}}get isMobile(){return this.survey.isMobile}get containerCss(){return fB(this.survey,this.isMobile)}dispose(){const[e]=this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc");this.survey.onEndLoadingFromJson.remove(e),this.survey.onPageAdded.remove(e),this.popupModel.dispose(),this.listModel.dispose()}}yr.RootStyle="sv_progress-toc";yr.StickyPosition=!0;class vB extends ma{constructor(e,t,s){super(),this.survey=e,this.valuesHash=t,this.variablesHash=s}getValue(e,t,s,i){if(e.length===1){const o=e[0].name;let l=this.getBuiltInVariableValue(o);if(o==="locale"&&(l=this.survey.locale||vr.defaultLocale),l!==void 0)return{value:l,isFound:!0}}let n=new bi(this.variablesHash).getValue(e,t,s,i);return n&&n.isFound||(n=super.getValue(e,t,s,i),n&&n.isFound)?n:new bi(this.valuesHash).getValue(e,t,s,i)}updateValueByItem(e,t){const s=re.expressionVariables.unwrapPostfix,i=e.endsWith(s);i&&(e=e.substring(0,e.length-s.length));const n=this.survey.getQuestionByValueName(e,!0);n&&(t.isFound=!0,t.context=n.getValueGetterContext(i))}isSearchNameRevert(){return!0}getBuiltInVariableValue(e){const t=this.survey;if(e=e.toLocaleLowerCase(),e==="pageno"){var s=t.currentPage;return s!=null?t.visiblePages.indexOf(s)+1:0}if(e==="pagecount")return t.visiblePageCount;if(e==="correctedanswers"||e==="correctanswers"||e==="correctedanswercount")return t.getCorrectedAnswerCount();if(e==="incorrectedanswers"||e==="incorrectanswers"||e==="incorrectedanswercount")return t.getInCorrectedAnswerCount();if(e==="questioncount")return t.getQuizQuestionCount()}}class tt extends vm{get platformName(){return tt.platform}get commentSuffix(){return re.commentSuffix}set commentSuffix(e){re.commentSuffix=e}get commentPrefix(){return this.commentSuffix}set commentPrefix(e){this.commentSuffix=e}constructor(e=null,t=null){super(),this.valuesHash={},this.variablesHash={},this.onEndLoadingFromJson=this.addEvent(),this.onTriggerExecuted=this.addEvent(),this.onCompleting=this.addEvent(),this.onComplete=this.addEvent(),this.onShowingPreview=this.addEvent(),this.onNavigateToUrl=this.addEvent(),this.onStarted=this.addEvent(),this.onPartialSend=this.addEvent(),this.onCurrentPageChanging=this.addEvent(),this.onCurrentPageChanged=this.addEvent(),this.onValueChanging=this.addEvent(),this.onValueChanged=this.addEvent(),this.onVariableChanged=this.addEvent(),this.onQuestionVisibleChanged=this.addEvent(),this.onVisibleChanged=this.onQuestionVisibleChanged,this.onPageVisibleChanged=this.addEvent(),this.onPanelVisibleChanged=this.addEvent(),this.onQuestionCreated=this.addEvent(),this.onQuestionAdded=this.addEvent(),this.onQuestionRemoved=this.addEvent(),this.onPanelAdded=this.addEvent(),this.onPanelRemoved=this.addEvent(),this.onPageAdded=this.addEvent(),this.onValidateQuestion=this.addEvent(),this.onSettingQuestionErrors=this.addEvent(),this.onServerValidateQuestions=this.addEvent(),this.onValidatePanel=this.addEvent(),this.onErrorCustomText=this.addEvent(),this.onValidatePage=this.addEvent(),this.onValidatedErrorsOnCurrentPage=this.onValidatePage,this.onProcessHtml=this.addEvent(),this.onGetQuestionDisplayValue=this.addEvent(),this.onGetQuestionTitle=this.addEvent(),this.onGetTitleTagName=this.addEvent(),this.onGetQuestionNumber=this.addEvent(),this.onGetQuestionNo=this.onGetQuestionNumber,this.onGetPanelNumber=this.addEvent(),this.onGetPageNumber=this.addEvent(),this.onGetProgressText=this.addEvent(),this.onProgressText=this.onGetProgressText,this.onTextMarkdown=this.addEvent(),this.onTextRenderAs=this.addEvent(),this.onSendResult=this.addEvent(),this.onGetResult=this.addEvent(),this.onOpenFileChooser=this.addEvent(),this.onUploadFiles=this.addEvent(),this.onDownloadFile=this.addEvent(),this.onClearFiles=this.addEvent(),this.onChoicesLoaded=this.addEvent(),this.onLoadChoicesFromServer=this.onChoicesLoaded,this.onLoadedSurveyFromService=this.addEvent(),this.onProcessDynamicText=this.addEvent(),this.onProcessTextValue=this.onProcessDynamicText,this.onUpdateQuestionCssClasses=this.addEvent(),this.onUpdatePanelCssClasses=this.addEvent(),this.onUpdatePageCssClasses=this.addEvent(),this.onUpdateChoiceItemCss=this.addEvent(),this.onAfterRenderSurvey=this.addEvent(),this.onAfterRenderHeader=this.addEvent(),this.onAfterRenderPage=this.addEvent(),this.onAfterRenderQuestion=this.addEvent(),this.onAfterRenderQuestionInput=this.addEvent(),this.onAfterRenderPanel=this.addEvent(),this.onFocusInQuestion=this.addEvent(),this.onFocusInPanel=this.addEvent(),this.onShowingChoiceItem=this.addEvent(),this.onChoicesLazyLoad=this.addEvent(),this.onChoicesSearch=this.addEvent(),this.onGetChoiceDisplayValue=this.addEvent(),this.onMatrixRowAdded=this.addEvent(),this.onMatrixRowAdding=this.addEvent(),this.onMatrixBeforeRowAdded=this.onMatrixRowAdding,this.onMatrixRowRemoving=this.addEvent(),this.onMatrixRowRemoved=this.addEvent(),this.onMatrixRenderRemoveButton=this.addEvent(),this.onMatrixAllowRemoveRow=this.onMatrixRenderRemoveButton,this.onMatrixDetailPanelVisibleChanged=this.addEvent(),this.onMatrixCellCreating=this.addEvent(),this.onMatrixCellCreated=this.addEvent(),this.onAfterRenderMatrixCell=this.addEvent(),this.onMatrixAfterCellRender=this.onAfterRenderMatrixCell,this.onMatrixCellValueChanged=this.addEvent(),this.onMatrixCellValueChanging=this.addEvent(),this.onMatrixCellValidate=this.addEvent(),this.onMatrixColumnAdded=this.addEvent(),this.onMultipleTextItemAdded=this.addEvent(),this.onDynamicPanelAdded=this.addEvent(),this.onDynamicPanelRemoved=this.addEvent(),this.onDynamicPanelRemoving=this.addEvent(),this.onTimerTick=this.addEvent(),this.onTimer=this.onTimerTick,this.onTimerPanelInfoText=this.addEvent(),this.onDynamicPanelValueChanged=this.addEvent(),this.onDynamicPanelItemValueChanged=this.onDynamicPanelValueChanged,this.onDynamicPanelValueChanging=this.addEvent(),this.onGetDynamicPanelTabTitle=this.addEvent(),this.onDynamicPanelCurrentIndexChanged=this.addEvent(),this.onCheckAnswerCorrect=this.addEvent(),this.onIsAnswerCorrect=this.onCheckAnswerCorrect,this.onDragDropAllow=this.addEvent(),this.onMatrixRowDragOver=this.addEvent(),this.onExpressionRunning=this.addEvent(),this.onScrollToTop=this.addEvent(),this.onScrollingElementToTop=this.onScrollToTop,this.onLocaleChangedEvent=this.addEvent(),this.onGetQuestionTitleActions=this.addEvent(),this.onGetPanelTitleActions=this.addEvent(),this.onGetPageTitleActions=this.addEvent(),this.onGetPanelFooterActions=this.addEvent(),this.onGetMatrixRowActions=this.addEvent(),this.onElementContentVisibilityChanged=this.addEvent(),this.onGetExpressionDisplayValue=this.addEvent(),this.onCheckSingleInputPerPageMode=this.addEvent(),this.onPopupVisibleChanged=this.addEvent(),this.onOpenDropdownMenu=this.addEvent(),this.onElementWrapperComponentName=this.addEvent(),this.onElementWrapperComponentData=this.addEvent(),this.onCreateCustomChoiceItem=this.addEvent(),this.jsonErrors=null,this.cssValue=null,this.showHeaderOnCompletePage="auto",this._isLazyRenderingSuspended=!1,this.hideRequiredErrors=!1,this.cssVariables={},this._isMobile=!1,this._isCompact=!1,this.setValueOnExpressionCounter=0,this._isDesignMode=!1,this.validationAllowSwitchPages=!1,this.validationAllowComplete=!1,this.isNavigationButtonPressed=!1,this.mouseDownPage=null,this.isSmoothScrollEnabled=!1,this.onResize=new li,this.isCurrentPageRendering=!0,this.isCurrentPageRendered=void 0,this.skeletonHeight=void 0,this.isTriggerIsRunning=!1,this.triggerKeys=null,this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes=!1,this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.isEndLoadingFromJson=null,this.nofifyQuesitonHash={},this.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},this.setValueFromTriggerCounter=0,this.isMovingPage=!1,this.needRenderIcons=!0,this.skippedPages=[],this.skeletonComponentName="sv-skeleton",this.taskManager=new NI,this.questionErrorComponent="sv-question-error",this.onBeforeRunConstructor(),this.createHtmlLocString("completedHtml","completingSurvey"),this.createHtmlLocString("completedBeforeHtml","completingSurveyBefore","completed-before"),this.createHtmlLocString("loadingHtml","loadingSurvey","loading"),this.createLocalizableString("emptySurveyText",this,!0,"emptySurvey"),this.createLocalizableString("logo",this,!1),this.createLocalizableString("startSurveyText",this,!1,!0),this.createLocalizableString("pagePrevText",this,!1,!0),this.createLocalizableString("pageNextText",this,!1,!0),this.createLocalizableString("completeText",this,!1,!0),this.createLocalizableString("previewText",this,!1,!0),this.createLocalizableString("editText",this,!1,!0),this.createLocalizableString("questionTitleTemplate",this,!0),this.timerModelValue=new Wl(this),this.timerModelValue.onTimerTick=s=>{this.doTimer(s)},this.createNewArray("pages",s=>{s.isReadyForCleanChangedCallback&&s.isReadyForCleanChangedCallback(),this.doOnPageAdded(s)},s=>{s.isReadyForClean?this.doOnPageRemoved(s):s.isReadyForCleanChangedCallback=()=>{this.doOnPageRemoved(s),s.isReadyForCleanChangedCallback=void 0}}),this.createNewArray("triggers",s=>{s.setOwner(this)}),this.createNewArray("calculatedValues",s=>{s.setOwner(this)}),this.createNewArray("completedHtmlOnCondition",s=>{s.locOwner=this}),this.createNewArray("navigateToUrlOnCondition",s=>{s.locOwner=this}),this.registerPropertyChangedHandlers(["locale"],()=>{this.onSurveyLocaleChanged()}),this.registerPropertyChangedHandlers(["firstPageIsStartPage"],()=>{this.onFirstPageIsStartedChanged()}),this.registerPropertyChangedHandlers(["readOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["progressBarType"],()=>{this.updateProgressText()}),this.registerPropertyChangedHandlers(["questionStartIndex","requiredMark","questionTitlePattern"],()=>{this.resetVisibleIndexes()}),this.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","readOnly","isStartedState","currentPage","isShowingPreview"],()=>{this.updateState()}),this.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],()=>{this.onStateAndCurrentPageChanged()}),this.registerPropertyChangedHandlers(["logo","logoPosition"],()=>{this.resetHasLogo()}),this.registerPropertyChangedHandlers(["backgroundImage"],()=>{this.resetPropertyValue("renderBackgroundImage")}),this.registerPropertyChangedHandlers(["backgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],()=>{this.resetPropertyValue("backgroundImageStyle")}),this.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],()=>{this.updateButtonsVisibility()}),this.onGetQuestionNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetPanelNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetProgressText.onCallbacksChanged=()=>{this.updateProgressText()},this.onTextMarkdown.onCallbacksChanged=()=>{this.locStrsChanged()},this.onProcessHtml.onCallbacksChanged=()=>{this.locStrsChanged()},this.onGetQuestionTitle.onCallbacksChanged=()=>{this.locStrsChanged()},this.onUpdatePageCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdatePanelCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdateQuestionCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onShowingChoiceItem.onCallbacksChanged=()=>{this.rebuildQuestionChoices()},this.locTitle.onStringChanged.add(()=>this.resetPropertyValue("titleIsEmpty")),this.onBeforeCreating(),e&&((typeof e=="string"||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(this.clientId=e.clientId),this.fromJSON(e),this.surveyId&&this.loadSurveyFromService(this.surveyId,this.clientId)),this.onCreating(),t&&this.render(t),this.updateCss(),this.setCalculatedWidthModeUpdater(),this.notifier=new ic(this.css.saveData),this.notifier.addAction(this.createTryAgainAction(),"error"),this.onPopupVisibleChanged.add((s,i)=>{i.visible?this.onScrollCallback=()=>{i.popup.hide()}:this.onScrollCallback=void 0}),this.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:this.timerModel}),this.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",getData:()=>this.progressBar,processResponsiveness:s=>this.progressBar.processResponsiveness&&this.progressBar.processResponsiveness(s)}),this.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:this}),this.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:this}),this.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:this}),this.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:this}),this.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",getData:()=>this.tocModel,processResponsiveness:s=>this.tocModel.updateStickyTOCSize(this.rootElement)}),this.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",getData:()=>this.navigationBar})}get tocModel(){return this.tocModelValue||(this.tocModelValue=new yr(this)),this.tocModelValue}get sjsVersion(){return this.getPropertyValue("sjsVersion")}set sjsVersion(e){this.setPropertyValue("sjsVersion",e)}processClosedPopup(e,t){throw new Error("Method not implemented.")}createTryAgainAction(){return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:()=>{this.isCompleted?this.saveDataOnComplete():this.doComplete()}}}createHtmlLocString(e,t,s){const i=this.createLocalizableString(e,this,!1,t);s&&(i.onGetTextCallback=n=>this.processHtml(n,s))}getType(){return"survey"}onPropertyValueChanged(e,t,s){e==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(t)}get pages(){return this.getPropertyValue("pages")}render(e=null){this.renderCallback&&this.renderCallback()}updateSurvey(e,t){for(var s in e)if(!(s=="model"||s=="children"))if(s.indexOf("on")==0&&this[s]&&this[s].add){let i=e[s],n=function(o,l){i(o,l)};this[s].add(n)}else this[s]=e[s];e&&e.data&&this.onValueChanged.add((i,n)=>{e.data[n.name]=n.value})}getCss(){return this.css}updateCompletedPageCss(){this.containerCss=this.css.container,this.completedCss=new ge().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new ge().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new ge().append(this.css.body).append(this.css.bodyLoading).toString()}updateCss(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()}get css(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,sl.getCss())),this.cssValue}set css(e){this.setCss(e)}setCss(e,t=!0){t?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)}get cssTitle(){return this.css.title}get cssNavigationComplete(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)}get cssNavigationPreview(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)}get cssNavigationEdit(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)}get cssNavigationPrev(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)}get cssNavigationStart(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)}get cssNavigationNext(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)}get cssSurveyNavigationButton(){return new ge().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()}get bodyCss(){return new ge().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()}get bodyContainerCss(){return this.css.bodyContainer}insertAdvancedHeader(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:t=>e.processResponsiveness()})}getNavigationCss(e,t){return new ge().append(e).append(t).toString()}get lazyRenderEnabled(){return this.lazyRenderEnabledValue===!0}set lazyRenderEnabled(e){if(this.lazyRenderEnabled===e)return;this.lazyRenderEnabledValue=e;const t=this.currentPage;t&&t.updateRows()}get lazyRendering(){return this.lazyRenderEnabled}set lazyRendering(e){this.lazyRenderEnabled=e}get isLazyRendering(){return this.lazyRenderEnabled||re.lazyRender.enabled}get lazyRenderFirstBatchSize(){return this.lazyRenderFirstBatchSizeValue||re.lazyRender.firstBatchSize}set lazyRenderFirstBatchSize(e){this.lazyRenderFirstBatchSizeValue=e}get isLazyRenderingSuspended(){return this._isLazyRenderingSuspended}suspendLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)}releaseLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)}updateLazyRenderingRowsOnRemovingElements(){var e,t;if(this.isLazyRendering){var s=this.currentPage;if(s){const i=(t=this.rootElement||((e=this.creator)===null||e===void 0?void 0:e.rootElement))===null||t===void 0?void 0:t.querySelector(`#${s.id}`);Wg(i)}}}get triggers(){return this.getPropertyValue("triggers")}set triggers(e){this.setPropertyValue("triggers",e)}get calculatedValues(){return this.getPropertyValue("calculatedValues")}set calculatedValues(e){this.setPropertyValue("calculatedValues",e)}get surveyId(){return this.getPropertyValue("surveyId","")}set surveyId(e){this.setPropertyValue("surveyId",e)}get surveyPostId(){return this.getPropertyValue("surveyPostId","")}set surveyPostId(e){this.setPropertyValue("surveyPostId",e)}get clientId(){return this.getPropertyValue("clientId","")}set clientId(e){this.setPropertyValue("clientId",e)}get cookieName(){return this.getPropertyValue("cookieName","")}set cookieName(e){this.setPropertyValue("cookieName",e)}get partialSendEnabled(){return this.getPropertyValue("partialSendEnabled")}set partialSendEnabled(e){this.setPropertyValue("partialSendEnabled",e)}get sendResultOnPageNext(){return this.partialSendEnabled}set sendResultOnPageNext(e){this.partialSendEnabled=e}get surveyShowDataSaving(){return this.getPropertyValue("surveyShowDataSaving")}set surveyShowDataSaving(e){this.setPropertyValue("surveyShowDataSaving",e)}get autoFocusFirstQuestion(){return this.getPropertyValue("autoFocusFirstQuestion")}set autoFocusFirstQuestion(e){this.setPropertyValue("autoFocusFirstQuestion",e)}get focusFirstQuestionAutomatic(){return this.autoFocusFirstQuestion}set focusFirstQuestionAutomatic(e){this.autoFocusFirstQuestion=e}get autoFocusFirstError(){return this.getPropertyValue("autoFocusFirstError")}set autoFocusFirstError(e){this.setPropertyValue("autoFocusFirstError",e)}get focusOnFirstError(){return this.autoFocusFirstError}set focusOnFirstError(e){this.autoFocusFirstError=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons")}set showNavigationButtons(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="none"?this.setPropertyValue("showNavigationButtons",!1):["top","bottom","both","topBottom"].indexOf(e)>-1&&(this.setPropertyValue("showNavigationButtons",!0),this.navigationButtonsLocation=e)}get navigationButtonsLocation(){return this.getPropertyValue("navigationButtonsLocation")}set navigationButtonsLocation(e){this.setPropertyValue("navigationButtonsLocation",e)}get showPrevButton(){return this.getPropertyValue("showPrevButton")}set showPrevButton(e){this.setPropertyValue("showPrevButton",e)}get showCompleteButton(){return this.getPropertyValue("showCompleteButton",!0)}set showCompleteButton(e){this.setPropertyValue("showCompleteButton",e)}get showTOC(){return this.getPropertyValue("showTOC")}set showTOC(e){this.setPropertyValue("showTOC",e)}get tocLocation(){return this.getPropertyValue("tocLocation")}set tocLocation(e){this.setPropertyValue("tocLocation",e)}get showTitle(){return this.getPropertyValue("showTitle")}set showTitle(e){this.setPropertyValue("showTitle",e)}get showPageTitles(){return this.getPropertyValue("showPageTitles")}set showPageTitles(e){this.setPropertyValue("showPageTitles",e)}get showCompletePage(){return this.getPropertyValue("showCompletePage")}set showCompletePage(e){this.setPropertyValue("showCompletePage",e)}get showCompletedPage(){return this.showCompletePage}set showCompletedPage(e){this.showCompletePage=e}get navigateToUrl(){return this.getPropertyValue("navigateToUrl")}set navigateToUrl(e){this.setPropertyValue("navigateToUrl",e)}get navigateToUrlOnCondition(){return this.getPropertyValue("navigateToUrlOnCondition")}set navigateToUrlOnCondition(e){this.setPropertyValue("navigateToUrlOnCondition",e)}getNavigateToUrl(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),t=e?e.url:this.navigateToUrl;return t&&(t=this.processText(t,!1)),t}navigateTo(){var e=this.getNavigateToUrl(),t={url:e,allow:!0};this.onNavigateToUrl.fire(this,t),!(!t.url||!t.allow)&&cF(t.url)}get requiredMark(){return this.getPropertyValue("requiredMark")}set requiredMark(e){this.setPropertyValue("requiredMark",e)}get requiredText(){return this.requiredMark}set requiredText(e){this.requiredMark=e}beforeSettingQuestionErrors(e,t){this.makeRequiredErrorsInvisible(t),this.onSettingQuestionErrors.fire(this,{question:e,errors:t})}makeRequiredErrorsInvisible(e){if(this.hideRequiredErrors)for(var t=0;t<e.length;t++){var s=e[t].getErrorType();(s=="required"||s=="requireoneanswer")&&(e[t].visible=!1)}}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get maxTextLength(){return this.getPropertyValue("maxTextLength")}set maxTextLength(e){this.setPropertyValue("maxTextLength",e)}get maxCommentLength(){return this.getPropertyValue("maxCommentLength")}set maxCommentLength(e){this.setPropertyValue("maxCommentLength",e)}get maxOthersLength(){return this.maxCommentLength}set maxOthersLength(e){this.maxCommentLength=e}get autoAdvanceEnabled(){return this.getPropertyValue("autoAdvanceEnabled")}set autoAdvanceEnabled(e){this.setPropertyValue("autoAdvanceEnabled",e)}get goNextPageAutomatic(){return this.autoAdvanceEnabled}set goNextPageAutomatic(e){this.autoAdvanceEnabled=e}get autoAdvanceAllowComplete(){return this.getPropertyValue("autoAdvanceAllowComplete")}set autoAdvanceAllowComplete(e){this.setPropertyValue("autoAdvanceAllowComplete",e)}get allowCompleteSurveyAutomatic(){return this.autoAdvanceAllowComplete}set allowCompleteSurveyAutomatic(e){this.autoAdvanceAllowComplete=e}get checkErrorsMode(){return this.getPropertyValue("checkErrorsMode")}set checkErrorsMode(e){this.setPropertyValue("checkErrorsMode",e)}get validateVisitedEmptyFields(){return this.getPropertyValue("validateVisitedEmptyFields")}set validateVisitedEmptyFields(e){this.setPropertyValue("validateVisitedEmptyFields",e)}getValidateVisitedEmptyFields(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange}get autoGrowComment(){return this.getPropertyValue("autoGrowComment")}set autoGrowComment(e){this.setPropertyValue("autoGrowComment",e)}get allowResizeComment(){return this.getPropertyValue("allowResizeComment")}set allowResizeComment(e){this.setPropertyValue("allowResizeComment",e)}get commentAreaRows(){return this.getPropertyValue("commentAreaRows")}set commentAreaRows(e){this.setPropertyValue("commentAreaRows",e)}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}get clearInvisibleValues(){return this.getPropertyValue("clearInvisibleValues")}set clearInvisibleValues(e){e===!0&&(e="onComplete"),e===!1&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)}clearIncorrectValues(e=!1){for(var t=0;t<this.pages.length;t++)this.pages[t].clearIncorrectValues();if(e){var s=this.data,i=!1;for(var n in s)if(!this.getQuestionByValueName(n)&&!(this.iscorrectValueWithPostPrefix(n,re.commentSuffix)||this.iscorrectValueWithPostPrefix(n,re.matrix.totalsSuffix))){var o=this.getCalculatedValueByName(n);o&&o.includeIntoResult||(i=!0,delete s[n])}i&&(this.data=s)}}iscorrectValueWithPostPrefix(e,t){return e.indexOf(t)!==e.length-t.length?!1:!!this.getQuestionByValueName(e.substring(0,e.indexOf(t)))}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues")}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get locale(){return this.getPropertyValueWithoutDefault("locale")||vr.currentLocale}set locale(e){e===vr.defaultLocale&&!vr.currentLocale&&(e=""),this.setPropertyValue("locale",e)}onSurveyLocaleChanged(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)}get localeDir(){return vr.localeDirections[this.locale]}getUsedLocales(){var e=new Array;this.addUsedLocales(e);var t=e.indexOf("default");if(t>-1){var s=vr.defaultLocale,i=e.indexOf(s);i>-1&&e.splice(i,1),t=e.indexOf("default"),e[t]=s}return e}localeChanged(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()}getLocale(){return this.locale}locStrsChanged(){if(!this.isClearingUnsedValues&&(super.locStrsChanged(),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(s=>s.locStrsChanged());else{var e=this.activePage;e&&e.locStrsChanged();const s=this.visiblePages;for(var t=0;t<s.length;t++)s[t].navigationLocStrChanged()}this.isStartPageActive||this.updateProgressText(),this.navigationBarValue&&this.navigationBar.locStrsChanged()}}getMarkdownHtml(e,t,s){return this.getSurveyMarkdownHtml(this,e,t,s)}getRenderer(e){return this.getRendererForString(this,e)}getRendererContext(e){return this.getRendererContextForString(this,e)}getRendererForString(e,t,s){let i=this.getBuiltInRendererForString(e,t,s);i=this.elementWrapperComponentNameCore(i,e,"string",t);const n={element:e,name:t,renderAs:i};return this.onTextRenderAs.fire(this,n),n.renderAs}getRendererContextForString(e,t,s){return this.elementWrapperDataCore(t,e,"string")}getExpressionDisplayValue(e,t,s){const i={question:e,value:t,displayValue:s};return this.onGetExpressionDisplayValue.fire(this,i),i.displayValue}getBuiltInRendererForString(e,t,s){if(this.isDesignMode)return as.editableRenderer}getProcessedText(e){return this.processText(e,!0)}getLocString(e){return this.getLocalizationString(e)}getErrorCustomText(e,t){return this.getSurveyErrorCustomText(this,e,t)}getSurveyErrorCustomText(e,t,s){const i={text:t,name:s.getErrorType(),obj:e,error:s};return this.onErrorCustomText.fire(this,i),i.text}getQuestionDisplayValue(e,t){const s={question:e,displayValue:t};return this.onGetQuestionDisplayValue.fire(this,s),s.displayValue}get emptySurveyText(){return this.getLocalizableStringText("emptySurveyText")}set emptySurveyText(e){this.setLocalizableStringText("emptySurveyText",e)}get logo(){return this.getLocalizableStringText("logo")}set logo(e){this.setLocalizableStringText("logo",e)}get locLogo(){return this.getLocalizableString("logo")}get logoWidth(){return this.getPropertyValue("logoWidth")}set logoWidth(e){this.setPropertyValue("logoWidth",e)}get renderedLogoWidth(){return this.logoWidth?ia(this.logoWidth):void 0}get renderedStyleLogoWidth(){return this.logoWidth?Tp(this.logoWidth):void 0}get logoHeight(){return this.getPropertyValue("logoHeight")}set logoHeight(e){this.setPropertyValue("logoHeight",e)}get renderedLogoHeight(){return this.logoHeight?ia(this.logoHeight):void 0}get renderedStyleLogoHeight(){return this.logoHeight?Tp(this.logoHeight):void 0}get logoPosition(){return this.getPropertyValue("logoPosition")}set logoPosition(e){this.setPropertyValue("logoPosition",e)}get hasLogo(){return this.getPropertyValue("hasLogo",void 0,()=>!!this.logo&&this.logoPosition!=="none")}resetHasLogo(){this.resetPropertyValue("hasLogo")}get isLogoBefore(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")}get isLogoAfter(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")}get logoClassNames(){const e={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new ge().append(this.css.logo).append(e[this.logoPosition]).toString()}get titleIsEmpty(){return this.getPropertyValue("titleIsEmpty",void 0,()=>this.locTitle.isEmpty)}get renderedHasTitle(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle}get renderedHasDescription(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription&&this.showTitle}get hasTitle(){return this.renderedHasTitle}get renderedHasLogo(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo}get renderedHasHeader(){return this.renderedHasTitle||this.renderedHasLogo}get logoFit(){return this.getPropertyValue("logoFit")}set logoFit(e){this.setPropertyValue("logoFit",e)}get themeVariables(){return Object.assign({},this.cssVariables)}setIsMobile(e=!0){this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(t=>t.setIsMobile(e)))}get isMobile(){return this._isMobile&&!this.isDesignMode}set isCompact(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))}get isCompact(){return this._isCompact}isLogoImageChoosen(){return this.locLogo.renderedHtml}get titleMaxWidth(){return""}get renderBackgroundImage(){return this.getPropertyValue("renderBackgroundImage",void 0,()=>Tx(this.backgroundImage))}get backgroundOpacity(){return this.getPropertyValue("backgroundOpacity")}set backgroundOpacity(e){this.setPropertyValue("backgroundOpacity",e)}get backgroundImageStyle(){return this.getPropertyValue("backgroundImageStyle",void 0,()=>this.calcBackgroundImageStyle())}calcBackgroundImageStyle(){return{opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}}updateWrapperFormCss(){this.wrapperFormCss=new ge().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!this.formScrollDisabled).toString()}get completedHtml(){return this.getLocalizableStringText("completedHtml")}set completedHtml(e){this.setLocalizableStringText("completedHtml",e)}get locCompletedHtml(){return this.getLocalizableString("completedHtml")}get completedHtmlOnCondition(){return this.getPropertyValue("completedHtmlOnCondition")}set completedHtmlOnCondition(e){this.setPropertyValue("completedHtmlOnCondition",e)}runExpression(e,t){if(!e)return null;var s=this.getFilteredProperties();const i=this.createExpressionRunner(e);let n;return i.onRunComplete=o=>{n=o,t&&t(o)},i.runContext(this.getValueGetterContext(),s)||n}beforeExpressionRunning(e,t,s){const i={element:e,propertyName:t,expression:s,allow:!0};return this.onExpressionRunning.fire(this,i),i.allow?i.expression:""}get isSettingValueOnExpression(){return this.setValueOnExpressionCounter>0}startSetValueOnExpression(){this.setValueOnExpressionCounter++}finishSetValueOnExpression(){this.setValueOnExpressionCounter--}runCondition(e){if(!e)return!1;const t=this.getFilteredProperties();return new Ci(e).runContext(this.getValueGetterContext(),t)}runTriggers(){this.checkTriggers(this.getFilteredValues(),!1)}get renderedCompletedHtml(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml}getExpressionItemOnRunCondition(e){if(e.length==0)return null;for(var t=this.getFilteredProperties(),s=0;s<e.length;s++)if(e[s].runCondition(t))return e[s];return null}get completedBeforeHtml(){return this.getLocalizableStringText("completedBeforeHtml")}set completedBeforeHtml(e){this.setLocalizableStringText("completedBeforeHtml",e)}get locCompletedBeforeHtml(){return this.getLocalizableString("completedBeforeHtml")}get loadingHtml(){return this.getLocalizableStringText("loadingHtml")}set loadingHtml(e){this.setLocalizableStringText("loadingHtml",e)}get locLoadingHtml(){return this.getLocalizableString("loadingHtml")}get navigationBar(){return this.navigationBarValue||(this.navigationBarValue=this.createNavigationBar(),this.updateNavigationCss()),this.navigationBarValue}addNavigationItem(e){e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton);const t=e.action;return e.action=()=>{this.taskManager.waitAndExecute(()=>t())},this.navigationBar.addAction(e)}removeNavigationItem(e){const t=this.navigationBar.getActionById(e);if(t){const s=this.navigationBar.actions;s.splice(s.indexOf(t),1)}}get startSurveyText(){return this.getLocalizableStringText("startSurveyText")}set startSurveyText(e){this.setLocalizableStringText("startSurveyText",e)}get locStartSurveyText(){return this.getLocalizableString("startSurveyText")}get pagePrevText(){return this.getLocalizableStringText("pagePrevText")}set pagePrevText(e){this.setLocalizableStringText("pagePrevText",e)}get locPagePrevText(){return this.getLocalizableString("pagePrevText")}get pageNextText(){return this.getLocalizableStringText("pageNextText")}set pageNextText(e){this.setLocalizableStringText("pageNextText",e)}get locPageNextText(){return this.getLocalizableString("pageNextText")}get completeText(){return this.getLocalizableStringText("completeText")}set completeText(e){this.setLocalizableStringText("completeText",e)}get locCompleteText(){return this.getLocalizableString("completeText")}get previewText(){return this.getLocalizableStringText("previewText")}set previewText(e){this.setLocalizableStringText("previewText",e)}get locPreviewText(){return this.getLocalizableString("previewText")}get editText(){return this.getLocalizableStringText("editText")}set editText(e){this.setLocalizableStringText("editText",e)}get locEditText(){return this.getLocalizableString("editText")}getElementTitleTagName(e,t){if(this.onGetTitleTagName.isEmpty)return t;const s={element:e,tagName:t};return this.onGetTitleTagName.fire(this,s),s.tagName}get questionTitlePattern(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")}set questionTitlePattern(e){e!=="numRequireTitle"&&e!=="requireNumTitle"&&e!="numTitle"&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)}getQuestionTitlePatternOptions(){const e=new Array,t=this.getLocalizationString("questionTitlePatternText"),s=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:s+" "+t+" "+this.requiredMark}),e.push({value:"numRequireTitle",text:s+" "+this.requiredMark+" "+t}),e.push({value:"numTitle",text:s+" "+t}),e}get questionTitleTemplate(){return this.getLocalizableStringText("questionTitleTemplate")}set questionTitleTemplate(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredMark=this.getNewQuestionTitleElement(e,"require",this.requiredMark,"*")}getNewTitlePattern(e){if(e){for(var t=[];e.indexOf("{")>-1;){e=e.substring(e.indexOf("{")+1);var s=e.indexOf("}");if(s<0)break;t.push(e.substring(0,s)),e=e.substring(s+1)}if(t.length>1){if(t[0]=="require")return"requireNumTitle";if(t[1]=="require"&&t.length==3)return"numRequireTitle";if(t.indexOf("require")<0)return"numTitle"}if(t.length==1&&t[0]=="title")return"numTitle"}return"numTitleRequire"}getNewQuestionTitleElement(e,t,s,i){if(t="{"+t+"}",!e||e.indexOf(t)<0)return s;for(var n=e.indexOf(t),o="",l="",u=n-1;u>=0&&e[u]!="}";u--);for(u<n-1&&(o=e.substring(u+1,n)),n+=t.length,u=n;u<e.length&&e[u]!="{";u++);for(u>n&&(l=e.substring(n,u)),u=0;u<o.length&&o.charCodeAt(u)<33;)u++;for(o=o.substring(u),u=l.length-1;u>=0&&l.charCodeAt(u)<33;)u--;if(l=l.substring(0,u+1),!o&&!l)return s;var c=s||i;return o+c+l}get locQuestionTitleTemplate(){return this.getLocalizableString("questionTitleTemplate")}getUpdatedQuestionTitle(e,t){if(this.onGetQuestionTitle.isEmpty)return t;const s={question:e,title:t};return this.onGetQuestionTitle.fire(this,s),s.title}getUpdatedQuestionNo(e,t){if(this.onGetQuestionNumber.isEmpty)return t;const s={question:e,number:t,no:t};return this.onGetQuestionNumber.fire(this,s),s.no===t?s.number:s.no}getUpdatedPanelNo(e,t){if(this.onGetPanelNumber.isEmpty)return t;const s={panel:e,number:t};return this.onGetPanelNumber.fire(this,s),s.number}getUpdatedPageNo(e,t){if(this.onGetPageNumber.isEmpty)return t;const s={page:e,number:t};return this.onGetPageNumber.fire(this,s),s.number}get showPageNumbers(){return this.getPropertyValue("showPageNumbers")}set showPageNumbers(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){e===!0&&(e="on"),e===!1&&(e="off"),e=e.toLowerCase(),e=e==="onpage"?"onPage":e,e!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())}get progressBar(){return this.progressBarValue||(this.progressBarValue=new hB(this)),this.progressBarValue}get showProgressBar(){return this.getPropertyValue("showProgressBar")}set showProgressBar(e){this.setShowProgressBar(e)}setShowProgressBar(e){e==="off"&&(e=!1),e===!0||e===!1?this.setPropertyValue("showProgressBar",e):(this.setPropertyValue("showProgressBar",!0),this.progressBarLocation=e)}get progressBarLocation(){return this.getPropertyValue("progressBarLocation")}set progressBarLocation(e){this.setPropertyValue("progressBarLocation",e.toLowerCase())}get progressBarType(){return this.getPropertyValue("progressBarType")}set progressBarType(e){e==="correctquestion"&&(e="correctQuestion"),e==="requiredquestion"&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)}get progressBarComponentName(){let e=this.progressBarType;return!re.legacyProgressBarView&&sl.currentType==="default"&&kn(e,"pages")&&(e="buttons"),"progress-"+e}get isShowProgressBarOnTop(){return!this.canShowProgressBar()||!this.showProgressBar?!1:["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.progressBarLocation)!==-1}get isShowProgressBarOnBottom(){return!this.canShowProgressBar()||!this.showProgressBar?!1:this.progressBarLocation==="bottom"||this.progressBarLocation==="both"||this.progressBarLocation==="topbottom"}getProgressTypeComponent(){return"sv-progress-"+this.progressBarType.toLowerCase()}getProgressCssClasses(e=""){return new ge().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||e=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||e=="footer")).toString()}canShowProgressBar(){return!this.isShowingPreview||!this.showPreviewBeforeComplete||this.previewMode!="allQuestions"}get processedTitle(){return this.locTitle.renderedHtml}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)}updateElementCss(e){this.startPage&&this.startPage.updateElementCss(e);for(var t=this.visiblePages,s=0;s<t.length;s++)t[s].updateElementCss(e);this.updateCss()}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())}get questionDescriptionLocation(){return this.getPropertyValue("questionDescriptionLocation")}set questionDescriptionLocation(e){this.setPropertyValue("questionDescriptionLocation",e)}get mode(){return this.readOnly?"display":"edit"}set mode(e){e=e.toLowerCase(),e!=this.mode&&(e!="edit"&&e!="display"||(this.readOnly=e=="display"))}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.setPropertyValue("readOnly",e)}onReadOnlyChanged(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()}get data(){for(var e={},t=this.getValuesKeys(),s=0;s<t.length;s++){var i=t[s],n=this.getDataValueCore(this.valuesHash,i);n!==void 0&&(e[i]=n)}return this.setCalculatedValuesIntoResult(e),e}set data(e){this.valuesHash={},this.setDataCore(e,!e)}mergeData(e){if(!e)return;const t=this.data;this.mergeValues(e,t),this.setDataCore(t)}setDataCore(e,t=!1){if(t&&(this.valuesHash={}),e)for(var s in e){const i=typeof s=="string"?s.trim():s;this.setDataValueCore(this.valuesHash,i,e[s])}this.isSettingDataValue=!0,this.updateAllQuestionsValue(t),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isSettingDataValue=!1,this.runConditions(),this.updateAllQuestionsValue(t)}isSettingData(){return this.isSettingDataValue===!0}get isSurvey(){return!0}getData(e){const t=e||{includePages:!1,includePanels:!1};return!t.includePages&&!t.includePanels?this.data:this.getStructuredData(!!t.includePages,t.includePanels?100:t.includePages?1:0)}getStructuredData(e=!0,t=-1){if(t===0)return this.data;const s={};return this.pages.forEach(i=>{if(e){const n={};i.collectValues(n,t-1)&&(s[i.name]=n)}else i.collectValues(s,t)}),s}setStructuredData(e,t=!1){if(!e)return;const s={};for(let i in e)if(this.getQuestionByValueName(i))s[i]=e[i];else{let o=this.getPageByName(i);o||(o=this.getPanelByName(i)),o&&this.collectDataFromPanel(o,s,e[i])}t?this.mergeData(s):this.data=s}collectDataFromPanel(e,t,s){for(let i in s){let n=e.getElementByName(i);n&&(n.isPanel?this.collectDataFromPanel(n,t,s[i]):t[i]=s[i])}}get editingObj(){return this.editingObjValue}set editingObj(e){if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var t=this.getAllQuestions(),s=0;s<t.length;s++)t[s].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=(i,n)=>{ce.hasOriginalProperty(this.editingObj,n.name)&&(n.name==="locale"&&this.setDataCore({}),this.updateOnSetValue(n.name,this.editingObj[n.name],n.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}}unConnectEditingObj(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}get isEditingSurveyElement(){return!!this.editingObj}setCalculatedValuesIntoResult(e){for(var t=0;t<this.calculatedValues.length;t++){var s=this.calculatedValues[t];s.includeIntoResult&&s.name&&this.getVariable(s.name)!==void 0&&(e[s.name]=this.getVariable(s.name))}}getAllValues(){return this.data}getPlainData(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});const t=[],s=[];if(this.getAllQuestions().forEach(l=>{var u=l.getPlainData(e);u&&(t.push(u),s.push(l.valueName||l.name))}),e.includeValues){const l=this.getValuesKeys();for(var i=0;i<l.length;i++){var n=l[i];if(s.indexOf(n)==-1){var o=this.getDataValueCore(this.valuesHash,n);o&&t.push({name:n,title:n,value:o,displayValue:o,isNode:!1,getString:u=>typeof u=="object"?JSON.stringify(u):u})}}}return t}getFilteredValues(){const e={};for(var t in this.variablesHash)e[t]=this.variablesHash[t];if(this.addCalculatedValuesIntoFilteredValues(e),!this.isDesignMode){const i=this.getValuesKeys();for(var s=0;s<i.length;s++){var t=i[s];e[t]=this.getDataValueCore(this.valuesHash,t)}this.getAllQuestions().forEach(n=>{n.hasFilteredValue&&(e[n.getFilteredName()]=n.getFilteredValue(!0))})}return e}addCalculatedValuesIntoFilteredValues(e){for(var t=this.calculatedValues,s=0;s<t.length;s++)e[t[s].name]=t[s].value}getFilteredProperties(){return{survey:this}}getValuesKeys(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=ce.getPropertiesByObj(this.editingObj),t=[],s=0;s<e.length;s++)t.push(e[s].name);return t}getDataValueCore(e,t){return this.editingObj?ce.getObjPropertyValue(this.editingObj,t):this.getDataFromValueHash(e,t)}setDataValueCore(e,t,s){this.editingObj?ce.setObjPropertyValue(this.editingObj,t,s):this.setDataToValueHash(e,t,s)}deleteDataValueCore(e,t){this.editingObj?this.editingObj[t]=null:this.deleteDataFromValueHash(e,t)}getDataFromValueHash(e,t){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,t):e[t]}setDataToValueHash(e,t,s){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,t,s):e[t]=s}deleteDataFromValueHash(e,t){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,t):delete e[t]}get comments(){for(var e={},t=this.getValuesKeys(),s=0;s<t.length;s++){var i=t[s];i.indexOf(this.commentSuffix)>0&&(e[i]=this.getDataValueCore(this.valuesHash,i))}return e}get visiblePages(){if(this.isDesignMode)return this.pages;if(this.pageContainerValue&&(this.isShowingPreview||this.isSinglePage))return[this.pageContainerValue];for(var e=new Array,t=0;t<this.pages.length;t++)this.isPageInVisibleList(this.pages[t])&&e.push(this.pages[t]);return e}isPageInVisibleList(e){return this.isDesignMode||e.isVisible&&!e.isStartPage}get isEmpty(){return this.pages.length==0}get PageCount(){return this.pageCount}get pageCount(){return this.pages.length}get visiblePageCount(){return this.visiblePages.length}get startPage(){var e=this.firstPageIsStartPage&&this.pages.length>1?this.pages[0]:null;return e&&e.onFirstRendering(),e}get startedPage(){return this.startPage}get currentPage(){return this.getPropertyValue("currentPage",null)}set currentPage(e){if(this.isLoadingFromJson)return;var t=this.getPageByObject(e);if(e&&!t||!t&&this.isCurrentPageAvailable)return;var s=this.visiblePages;if(t!=null&&s.indexOf(t)<0||t==this.currentPage)return;const i=this.currentSingleElement;if(!this.isShowingPreview&&i&&t!==i.page){this.currentSingleElement=t.getFirstVisibleElement();return}var n=this.currentPage;!this.isShowingPreview&&!i&&!this.currentPageChanging(t,n)||(this.setPropertyValue("currentPage",t),t&&(t.onFirstRendering(),t.updateCustomWidgets()),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(t,n))}get currentElementName(){var e;return((e=this.currentElement)===null||e===void 0?void 0:e.name)||""}set currentElementName(e){e&&(this.currentElement=this.getElementByName(e))}get currentElement(){return this.currentSingleElement||this.currentPage}set currentElement(e){if(e)if(e.isPage)this.currentPage=e;else{const t=e.page;t&&!this.isSingleVisibleQuestion?this.currentPage=t:this.currentSingleElement=e}}getElementByName(e){return e?this.getPageByName(e)||this.getPanelByName(e)||this.getQuestionByName(e):null}tryNavigateToPage(e){if(!this.performValidationOnPageChanging(e))return!1;const s=this.visiblePages.indexOf(e)<this.currentPageNo||!this.doServerValidation(!1,!1,e);return s&&(this.currentPage=e),s}performValidationOnPageChanging(e){if(this.isDesignMode)return!1;if(this.canGoTroughValidation())return!0;const t=this.visiblePages.indexOf(e);if(t<0||t>=this.visiblePageCount||t===this.currentPageNo)return!1;if(t<this.currentPageNo||this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages)return!0;if(!this.validateCurrentPage())return!1;for(let s=this.currentPageNo+1;s<t;s++){const i=this.visiblePages[s];if(!i.validate(!0,!0))return!1;i.passed=!0}return!0}updateCurrentPage(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)}get isCurrentPageAvailable(){const e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)}isPageExistsInSurvey(e){return this.pages.indexOf(e)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(e)}get activePage(){return this.getPropertyValue("activePage")}get isStartPageActive(){return this.state==="starting"}get isShowStartingPage(){return this.isStartPageActive}get matrixDragHandleArea(){return this.getPropertyValue("matrixDragHandleArea","entireItem")}set matrixDragHandleArea(e){this.setPropertyValue("matrixDragHandleArea",e)}get isShowingPage(){return this.state=="running"||this.state=="preview"||this.isStartPageActive}updateActivePage(){const e=this.isStartPageActive?this.startPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)}onStateAndCurrentPageChanged(){this.updateActivePage(),this.updateButtonsVisibility()}getPageByObject(e){if(!e)return null;if(e.getType&&e.getType()=="page")return e;if(typeof e=="string"||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var t=Number(e),s=this.visiblePages;return e<0||e>=s.length?null:s[t]}return e}get currentPageNo(){return this.visiblePages.indexOf(this.currentPage)}set currentPageNo(e){var t=this.visiblePages;e<0||e>=t.length||(this.currentPage=t[e])}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}focusFirstQuestion(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}}scrollToTopOnPageChange(e=!0){var t=this.activePage;t&&(e&&t.scrollToTop(),this.isCurrentPageRendering&&this.autoFocusFirstQuestion&&!this.focusingQuestionInfo&&(t.focusFirstQuestion(),this.isCurrentPageRendering=!1))}get state(){return this.getPropertyValue("state","empty")}updateState(){this.setPropertyValue("state",this.calcState())}calcState(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"}get isCompleted(){return this.getPropertyValue("isCompleted",!1)}set isCompleted(e){this.setPropertyValue("isCompleted",e)}get isShowingPreview(){return this.getPropertyValue("isShowingPreview",!1)}set isShowingPreview(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())}get isStartedState(){return this.getPropertyValue("isStartedState",!1)}set isStartedState(e){this.setPropertyValue("isStartedState",e)}get isCompletedBefore(){return this.getPropertyValue("isCompletedBefore",!1)}set isCompletedBefore(e){this.setPropertyValue("isCompletedBefore",e)}get isLoading(){return this.getPropertyValue("isLoading",!1)}set isLoading(e){this.setPropertyValue("isLoading",e)}beginLoading(){this.isLoading=!0}endLoading(){this.isLoading=!1}get completedState(){return this.getPropertyValue("completedState","")}get completedStateText(){return this.getPropertyValue("completedStateText","")}setCompletedState(e,t){this.setPropertyValue("completedState",e),t||(e=="saving"&&(t=this.getLocalizationString("savingData")),e=="error"&&(t=this.getLocalizationString("savingDataError")),e=="success"&&(t=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",t),this.state==="completed"&&this.showCompletePage&&this.completedState&&this.notify(this.completedStateText,this.completedState,e==="error")}notify(e,t,s=!1){this.notifier.showActions=s,this.notifier.notify(e,t,s)}clear(e=!0,t=!0){this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,this.skippedPages=[],e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var s=0;s<this.pages.length;s++)this.pages[s].timeSpent=0,this.pages[s].setWasShown(!1),this.pages[s].passed=!1;if(this.onFirstPageIsStartedChanged(),t&&(this.currentPage=this.firstVisiblePage,this.currentSingleElement)){const i=this.getSingleElements();this.currentSingleElement=i.length>0?i[0]:void 0}e&&this.updateValuesWithDefaults()}mergeValues(e,t){Nd(e,t)}updateValuesWithDefaults(){if(!(this.isDesignMode||this.isLoading))for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e].questions,s=0;s<t.length;s++)t[s].updateValueWithDefaults()}updateCustomWidgets(e){e&&e.updateCustomWidgets()}currentPageChanging(e,t,s,i){const n=this.createPageChangeEventOptions(e,t,s,i);return this.currentPageChangingFromOptions(n)}currentPageChangingFromOptions(e){e.allow=!0,e.allowChanging=!0,this.onCurrentPageChanging.fire(this,e);const t=e.allowChanging&&e.allow;return t&&e.newCurrentPage!==e.oldCurrentPage&&(this.isCurrentPageRendering=!0),t}currentPageChanged(e,t){if(this.notifyQuestionsOnHidingContent(t),t&&!t.isDisposed&&!t.passed&&t.validate(!1)&&(t.passed=!0),this.isCurrentPageRendered===!0&&(this.isCurrentPageRendered=!1),!this.currentSingleElement){const s=this.createPageChangeEventOptions(e,t);this.onCurrentPageChanged.fire(this,s)}}notifyQuestionsOnHidingContent(e){e&&!e.isDisposed&&e.questions.forEach(t=>t.onHidingContent())}createPageChangeEventOptions(e,t,s,i){const n=e&&t?e.visibleIndex-t.visibleIndex:0;let o=n;return o===0&&i&&s&&(o=e.elements.indexOf(s)-e.elements.indexOf(i)),{oldCurrentQuestion:i,newCurrentQuestion:s,oldCurrentPage:t,newCurrentPage:e,isNextPage:n===1,isPrevPage:n===-1,isGoingForward:o>0,isGoingBackward:o<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}}getProgress(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var e=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?e.requiredQuestionCount>=1?Math.ceil(e.requiredAnsweredQuestionCount*100/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(e.answeredQuestionCount*100/e.questionCount):100}const t=this.visiblePages;var s=t.indexOf(this.currentPage);return Math.ceil(s*100/t.length)}get isNavigationButtonsShowing(){if(this.isDesignMode)return"none";var e=this.activePage;return!e||e.navigationButtonsVisibility==="hide"?"none":e.navigationButtonsVisibility==="show"?this.showNavigationButtons?this.navigationButtonsLocation:"bottom":this.showNavigationButtons?this.navigationButtonsLocation:"none"}get isNavigationButtonsShowingOnTop(){return this.getIsNavigationButtonsShowingOn("top")}get isNavigationButtonsShowingOnBottom(){return this.getIsNavigationButtonsShowingOn("bottom")}getIsNavigationButtonsShowingOn(e){var t=this.isNavigationButtonsShowing;return t=="both"||t=="topBottom"||t==e}get isEditMode(){return!this.readOnly}get isDisplayMode(){return this.readOnly&&!this.isDesignMode||this.state=="preview"}get isUpdateValueTextOnTyping(){return this.textUpdateMode=="onTyping"}get isDesignMode(){return this._isDesignMode}setDesignMode(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))}get showInvisibleElements(){return this.getPropertyValue("showInvisibleElements",!1)}set showInvisibleElements(e){var t=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(t))}updateAllElementsVisibility(e){for(var t=0;t<this.pages.length;t++){var s=this.pages[t];s.updateElementVisibility(),e.indexOf(s)>-1!=s.isVisible&&this.onPageVisibleChanged.fire(this,{page:s,visible:s.isVisible})}}get areInvisibleElementsShowing(){return this.isDesignMode||this.showInvisibleElements}get areEmptyElementsHidden(){return this.isShowingPreview&&this.showPreviewBeforeComplete&&this.previewMode=="answeredQuestions"&&this.isAnyQuestionAnswered}get isAnyQuestionAnswered(){const e=this.getAllQuestions(!0);for(let t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}get hasCookie(){if(!this.cookieName)return!1;var e=Re.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1}setCookie(){this.cookieName&&Re.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")}deleteCookie(){this.cookieName&&Re.setCookie(this.cookieName+"=;")}get ignoreValidation(){return!this.validationEnabled}set ignoreValidation(e){this.validationEnabled=!e}nextPage(){return this.currentSingleElement?this.performNext():this.isLastPage?!1:this.doCurrentPageComplete(!1)}performNext(){const e=this.currentSingleElement;if(!e)return this.nextPage();if(this.resetNavigationButton(),this.isSingleVisibleInput){if(!e.validateSingleInput())return!1;if(e.nextSingleInput())return this.updateButtonsVisibility(),!0}if(!this.validationEnabled)return this.performNextAfterValidation(e),!0;const t=e.isQuestion?[e]:e.visibleQuestions;return this.validateElements(t,!0,!1,i=>{i||this.performNextAfterValidation(e)})===!0}performNextAfterValidation(e){this.sendPartialResult();const t=this.getSingleElements(),s=t.indexOf(e);if(s<0||s===t.length-1)return!1;let i={};e.isQuestion?i[e.name]=e.value:e.isPanel&&(i=e.getValue()),this.checkTriggers(i,!0,!1,!0,e.name),e===this.currentSingleElement&&(this.currentSingleElement=t[s+1])}performPrevious(){return this.prevPage()}validateOnNavigate(e,t){const s=this.canGoTroughValidation()||e&&this.validationAllowComplete||!e&&(this.validationAllowSwitchPages||this.isValidateOnComplete)||t&&this.isValidateOnComplete,i=()=>{t?this.showPreviewCore():this.doCurrentPageCompleteCore(e)};if(s)return i(),!0;const n=o=>{o||i()};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,this.autoFocusFirstError,n,!0)!==!0:(i(),!0):this.validateCurrentPage(n)!==!1}canGoTroughValidation(){return!this.isEditMode||!this.validationEnabled}get isCurrentPageHasErrors(){return this.validateActivePage()===!1}get isCurrentPageValid(){return this.validateActivePage()}hasCurrentPageErrors(e){return this.hasPageErrors(void 0,e)}validateCurrentPage(e){return this.validatePage(void 0,e)}hasPageErrors(e,t){const s=this.validatePage(e,t);return s===void 0?s:!s}validatePage(e,t){return e||(e=this.activePage),e?this.validatePageCore(e,!0,t):!0}hasErrors(e=!0,t=!1,s){const i=this.validate(e,t,s);return i===void 0?i:!i}validate(e=!0,t=!1,s,i){return this.validateElements(this.visiblePages,e,t,s,i)}validateElements(e,t=!0,s=!1,i,n){i&&(t=!0);const o=i?u=>{i(!u)}:void 0,l=new Cl({fireCallback:t,focusOnFirstError:s,callbackResult:o,changeCurrentPage:!!n});for(const u of e)u.validateElement(l);return l.finish(),l.runningResult}ensureUniqueNames(e=null){if(e==null)for(var t=0;t<this.pages.length;t++)this.ensureUniqueName(this.pages[t]);else this.ensureUniqueName(e)}ensureUniqueName(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var t=e.elements,s=0;s<t.length;s++)this.ensureUniqueNames(t[s]);else this.ensureUniqueQuestionName(e)}ensureUniquePageName(e){return this.ensureUniqueElementName(e,t=>this.getPageByName(t))}ensureUniquePanelName(e){return this.ensureUniqueElementName(e,t=>this.getPanelByName(t))}ensureUniqueQuestionName(e){return this.ensureUniqueElementName(e,t=>this.getQuestionByName(t))}ensureUniqueElementName(e,t){var s=t(e.name);if(!(!s||s==e)){for(var i=this.getNewName(e.name);t(i);)var i=this.getNewName(e.name);e.name=i}}getNewName(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var s=e.substring(0,t),i=0;return t<e.length&&(i=parseInt(e.substring(t))),i++,s+i}validateActivePage(e){return this.validatePageCore(this.activePage,e)}validatePageCore(e,t,s){if(t===void 0&&(t=this.focusOnFirstError),!e)return!0;let i;s&&(i=o=>{s(!o)});const n=e.validate(!0,t,i);return this.fireValidatedErrorsOnPage(e),n}fireValidatedErrorsOnPage(e){if(this.onValidatePage.isEmpty||!e)return;const t=this.getNestedQuestionsByQuestionArray(e.questions,!0);for(var s=new Array,i=new Array,n=0;n<t.length;n++){var o=t[n];if(o.errors.length>0){s.push(o);for(var l=0;l<o.errors.length;l++)i.push(o.errors[l])}}this.onValidatePage.fire(this,{questions:s,errors:i,page:e})}prevPage(){if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();const e=this.currentSingleElement;if(this.doSkipOnPrevPage(e))return!0;if(e)return this.prevPageSingleElement(e);const t=this.visiblePages,s=t.indexOf(this.currentPage);return this.currentPage=t[s-1],!0}doSkipOnPrevPage(e){const t=e||this.currentPage,s=this.skippedPages.find(n=>n.to===t);let i;if(s){this.skippedPages.splice(this.skippedPages.indexOf(s),1);const n=s.from;!n.isDisposed&&n.isVisible&&(i=n)}return i&&(e?this.currentSingleElement=i:this.currentPage=i),!!i}prevPageSingleElement(e){if(this.isSingleVisibleInput&&e.prevSingleInput())return this.updateButtonsVisibility(),!0;const t=this.getSingleElements(),s=t.indexOf(e);return s===0?!1:(this.currentSingleElement=t[s-1],!0)}tryComplete(){return this.isValidateOnComplete&&this.cancelPreview(),this.doCurrentPageComplete(!0),this.isCompleted}completeLastPage(){return this.tryComplete()}navigationMouseDown(){return this.isNavigationButtonPressed=!0,!0}resetNavigationButton(){this.isNavigationButtonPressed=!1}nextPageUIClick(){return this.mouseDownPage&&this.mouseDownPage!==this.activePage?!1:(this.mouseDownPage=null,this.performNext())}nextPageMouseDown(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()}showPreview(){return this.resetNavigationButton(),!this.isValidateOnComplete&&this.doServerValidation(!0,!0)||!this.validateOnNavigate(!0,!0)?!1:this.isShowingPreview}showPreviewCore(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow}cancelPreview(e=null){var t;if(!this.isShowingPreview)return;this.gotoPageFromPreview=e,this.isShowingPreview=!1;const s=(t=this.currentSingleElement)===null||t===void 0?void 0:t.page;s&&(s.updateRows(),this.currentPage=s)}cancelPreviewByPage(e){this.cancelPreview(e)}doCurrentPageComplete(e){return this.isValidatingOnServer?!1:(this.resetNavigationButton(),this.validateOnNavigate(e)===!0)}doCurrentPageCompleteCore(e){if(this.doServerValidation(e))return!1;if(e){this.currentPage.passed=!0;const t=this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger);return t&&this.cancelPreview(),t}return this.doNextPage(),!0}get isSinglePage(){return this.questionsOnPageMode=="singlePage"}set isSinglePage(e){this.questionsOnPageMode=e?"singlePage":"standard"}get isSingleVisibleQuestion(){return!this.isDesignMode&&(this.isSingleVisibleQuestionVal(this.questionsOnPageMode)||this.isSingleVisibleInput)}get isSingleVisibleInput(){return!this.isDesignMode&&this.questionsOnPageMode=="inputPerPage"}isSingleVisibleQuestionVal(e){return e==="questionPerPage"||e==="questionOnPage"}get questionsOnPageMode(){return this.getPropertyValue("questionsOnPageMode")}set questionsOnPageMode(e){this.setPropertyValue("questionsOnPageMode",e)}get firstPageIsStartPage(){return this.getPropertyValue("firstPageIsStartPage")}set firstPageIsStartPage(e){this.setPropertyValue("firstPageIsStartPage",e)}get firstPageIsStarted(){return this.firstPageIsStartPage}set firstPageIsStarted(e){this.firstPageIsStartPage=e}isPageStarted(e){return this.firstPageIsStartPage&&this.pages.length>1&&this.pages[0]===e}get showPreviewBeforeComplete(){return this.getPropertyValue("showPreviewBeforeComplete")}set showPreviewBeforeComplete(e){this.setShowPreviewBeforeComplete(e)}setShowPreviewBeforeComplete(e){e===void 0||e==="noPreview"||e===!1?this.setPropertyValue("showPreviewBeforeComplete",!1):(this.setPropertyValue("showPreviewBeforeComplete",!0),e==="showAllQuestions"&&(this.previewMode="allQuestions"),e==="showAnsweredQuestions"&&(this.previewMode="answeredQuestions"))}get previewMode(){return this.getPropertyValue("previewMode")}set previewMode(e){this.setPropertyValue("previewMode",e)}onFirstPageIsStartedChanged(){this.isStartedState=this.firstPageIsStartPage&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)}onShowingPreviewChanged(){this.updatePagesContainer()}createRootPage(e,t){const s=ce.createClass("page");return s.name=e,s.isPageContainer=!0,t.forEach(i=>{i.isStartPage||s.addElement(i)}),s}disposeContainerPage(){let e=this.pageContainerValue;[].concat(e.elements).forEach(s=>e.removeElement(s)),e.dispose(),this.pageContainerValue=void 0}updatePagesContainer(){if(this.isDesignMode)return;this.getAllQuestions().forEach(i=>i.updateElementVisibility()),this.setPropertyValue("currentPage",void 0);const e="single-page",t="preview-page";let s;if(this.isSinglePage){const i=this.pageContainerValue;i&&i.name===t?(s=i.elements[0],this.disposeContainerPage()):s=this.createRootPage(e,this.pages)}if(this.isShowingPreview&&(s=this.createRootPage(t,s?[s]:this.pages)),s&&(s.setSurveyImpl(this),this.pageContainerValue=s,this.currentPage=s,this.currentSingleElementValue&&this.visiblePages.forEach(i=>i.updateRows())),!this.isSinglePage&&!this.isShowingPreview){this.disposeContainerPage();let i=this.gotoPageFromPreview;this.gotoPageFromPreview=null,Y.isValueEmpty(i)&&this.visiblePageCount>0&&(i=this.visiblePages[this.visiblePageCount-1]),i&&(this.changeCurrentPageFromPreview=!0,this.currentPage=i,this.changeCurrentPageFromPreview=!1)}!this.currentPage&&this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0]),this.isShowingPreview&&this.pages.forEach(i=>{i.onFirstRendering()}),this.pages.forEach(i=>{i.wasRendered&&i.updateElementCss(!0)}),this.updateButtonsVisibility()}getSingleElements(e){const t=new Array,s=this.pages,i=this.isSingleVisibleInput;for(var n=0;n<s.length;n++){const o=s[n];if(!o.isStartPage&&o.isVisible){const l=[];i?o.addQuestionsToList(l,!0):o.elements.forEach(u=>l.push(u)),l.forEach(u=>{(u===e||u.isVisible)&&t.push(u)})}}return t}get currentSingleElement(){return this.isShowingPreview?void 0:this.currentSingleElementValue}set currentSingleElement(e){if(e&&e.isQuestion&&this.isSingleVisibleQuestionVal(this.questionsOnPageMode))for(;e.parent&&e.parent.isPanel;)e=e.parent;const t=this.currentSingleElement;if(e!==t&&!this.isCompleted){const s=e!=null&&e.isQuestion?e:void 0,i=t!=null&&t.isQuestion?t:void 0,n=e==null?void 0:e.page,o=n&&t?this.createPageChangeEventOptions(n,t.page,s,i):void 0;if(o&&!this.currentPageChangingFromOptions(o))return;this.currentSingleElementValue=e,e?(this.isSingleVisibleInput&&e.isQuestion&&e.onSetAsSingleInput(),n.updateRows(),n!==this.currentPage?this.currentPage=n:s&&this.autoFocusFirstQuestion&&s.focus(),this.updateButtonsVisibility(),o&&this.onCurrentPageChanged.fire(this,o)):this.visiblePages.forEach(l=>l.updateRows())}}get currentSingleQuestion(){const e=this.currentSingleElement;return e&&e.isQuestion?e:void 0}set currentSingleQuestion(e){this.currentSingleElement=e}supportsNestedSingleInput(e){const t={question:e,enabled:!0};return this.onCheckSingleInputPerPageMode.fire(this,t),t.enabled}changeCurrentSingleElementOnVisibilityChanged(){const e=this.currentSingleElement;if(!e||e.isVisible)return;const t=this.getSingleElements(e),s=t.indexOf(e),i=s>0?t[s-1]:s<t.length-1?t[s+1]:void 0;this.currentSingleElement=i}onQuestionsOnPageModeChanged(e){if(!(this.isShowingPreview||this.isDesignMode)&&(this.skippedPages=[],this.currentSingleElement=void 0,e==="singlePage"&&this.updatePagesContainer(),e==="inputPerPage"&&this.getAllQuestions().forEach(t=>t.resetSingleInput()),this.isSinglePage&&this.updatePagesContainer(),this.setupSingleInputNavigationActions(),this.isSingleVisibleQuestion)){const t=this.getSingleElements();t.length>0&&(this.currentSingleElement=t[0])}}setupSingleInputNavigationActions(){const e="sv-singleinput-add";if(this.isSingleVisibleInput){const t=()=>{this.currentSingleQuestion.singleInputAddItem(!0),this.resetNavigationButton()};this.addNavigationItem({id:e,visible:!1,action:()=>t()})}else this.removeNavigationItem(e)}getPageStartIndex(){return this.firstPageIsStartPage&&this.pages.length>0?1:0}get isFirstPage(){return this.getPropertyValue("isFirstPage")}get isLastPage(){return this.getPropertyValue("isLastPage")}updateNavigationElements(){this.updateButtonsVisibility()}updateButtonsVisibility(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible()),this.updateSingleInputActions()}updateSingleInputActions(){if(!this.isSingleVisibleInput)return;const e=this.currentSingleQuestion;if(!e)return;const t=this.navigationBar.getActionById("sv-singleinput-add");t&&(t.title=e.getSingleInputAddText(),t.visible=!!t.title)}get isShowPrevButton(){return this.getPropertyValue("isShowPrevButton")}get isShowNextButton(){return this.getPropertyValue("isShowNextButton")}get isCompleteButtonVisible(){return this.getPropertyValue("isCompleteButtonVisible")}get isPreviewButtonVisible(){return this.getPropertyValue("isPreviewButtonVisible")}get isCancelPreviewButtonVisible(){return this.getPropertyValue("isCancelPreviewButtonVisible")}get isFirstElement(){return this.getPropertyValue("isFirstElement")}get isLastElement(){return this.getPropertyValue("isLastElement")}updateIsFirstLastPageState(){const e=this.currentPage;let t,s;const i=this.currentSingleElement;if(i){let n=!0,o=!0;if(this.isSingleVisibleInput){const c=i.getSingleInputElementPos();c!==0&&(n=c===-1,o=c===1)}const l=this.getSingleElements(),u=l.indexOf(i);u>=0&&(t=n&&u===0,s=o&&u===l.length-1)}this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage&&(!i||t===!0)),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage&&(!i||s===!0)),this.setPropertyValue("isFirstElement",t),this.setPropertyValue("isLastElement",s)}get isLastPageOrElement(){return this.isLastElement!==void 0?this.isLastElement:this.isLastPage}get isFirstPageOrElement(){return this.isFirstElement!==void 0?this.isFirstElement:this.isFirstPage}calcIsShowPrevButton(){if(this.isFirstPageOrElement||!this.showPrevButton||this.state!=="running")return!1;if(this.isFirstElement!==void 0)return!0;const e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0}calcIsShowNextButton(){return this.state==="running"&&!this.isLastPageOrElement&&!this.canBeCompletedByTrigger}calcIsCompleteButtonVisible(){const e=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPageOrElement&&!this.showPreviewBeforeComplete||this.canBeCompletedByTrigger)||e==="preview")&&this.showCompleteButton}calcIsPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="running"&&this.isLastPageOrElement}calcIsCancelPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="preview"}get firstVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=0;t<e.length;t++)if(this.isPageInVisibleList(e[t]))return e[t];return null}get lastVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=e.length-1;t>=0;t--)if(this.isPageInVisibleList(e[t]))return e[t];return null}doComplete(e=!1,t){if(!this.isCompleted)return this.checkOnCompletingEvent(e,t)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,t),this.setCookie(),!0):(this.isCompleted=!1,!1)}saveDataOnComplete(e=!1,t){let s=this.hasCookie;const i=h=>{u=!0,this.setCompletedState("saving",h)},n=h=>{this.setCompletedState("error",h)},o=h=>{this.setCompletedState("success",h),this.navigateTo()},l=h=>{this.setCompletedState("","")};var u=!1,c={isCompleteOnTrigger:e,completeTrigger:t,showSaveInProgress:i,showSaveError:n,showSaveSuccess:o,clearSaveMessages:l,showDataSaving:i,showDataSavingError:n,showDataSavingSuccess:o,showDataSavingClear:l};this.onComplete.fire(this,c),!s&&this.surveyPostId&&this.sendResult(),u||this.navigateTo()}checkOnCompletingEvent(e,t){var s={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:t};return this.onCompleting.fire(this,s),s.allowComplete&&s.allow}start(){return!this.firstPageIsStartPage||(this.isCurrentPageRendering=!0,!this.validatePageCore(this.startPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPageNo=0,this.currentPage&&this.currentPage.locStrsChanged(),!0)}get isValidatingOnServer(){return this.getPropertyValue("isValidatingOnServer",!1)}setIsValidatingOnServer(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())}createServerValidationOptions(e,t,s){var i=this;const n={data:{},errors:{},survey:this,complete:function(){i.completeServerValidation(n,t,s)}};if(e&&this.isValidateOnComplete)n.data=this.data;else for(var o=this.activePage.questions,l=0;l<o.length;l++){var u=o[l];if(u.visible){var c=this.getValue(u.getValueName());this.isValueEmpty(c)||(n.data[u.getValueName()]=c)}}return n}onIsValidatingOnServerChanged(){}doServerValidation(e,t=!1,s){if(!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);const i=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=i?1:this.onServerValidateQuestions.length,i?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,t,s)):this.onServerValidateQuestions.fireByCreatingOptions(this,()=>this.createServerValidationOptions(e,t,s)),!0}completeServerValidation(e,t,s){if(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&Object.keys(e.errors).length===0)||(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!e&&!e.survey))return;var i=e.survey;let n=!0;if(e.errors){var o=this.autoFocusFirstError;for(var l in e.errors){var u=i.getQuestionByName(l);u&&u.errors&&(n=!1,u.addError(new qr(e.errors[l],this)),o&&(o=!1,u.page&&(this.currentPage=u.page),u.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}n&&(t?this.showPreviewCore():s?this.currentPage=s:i.isLastPage?i.doComplete():i.doNextPage())}doNextPage(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.sendPartialResult(),this.isCompleted)this.doComplete(!0);else if(e===this.currentPage){var t=this.visiblePages,s=t.indexOf(this.currentPage);this.currentPage=t[s+1]}}setCompleted(e){this.doComplete(!0,e)}sendPartialResult(){this.partialSendEnabled&&!this.isCompleted&&this.sendResult(this.surveyPostId,this.clientId,!0)}canBeCompleted(e,t){var s;if(!re.triggers.changeNavigationButtonsOnComplete)return;const i=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),t?this.completedByTriggers[e.id]={trigger:e,pageId:(s=this.currentPage)===null||s===void 0?void 0:s.id}:delete this.completedByTriggers[e.id],i!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}get canBeCompletedByTrigger(){var e;if(!this.completedByTriggers)return!1;const t=Object.keys(this.completedByTriggers);if(t.length===0)return!1;const s=(e=this.currentPage)===null||e===void 0?void 0:e.id;if(!s)return!0;for(let i=0;i<t.length;i++)if(s===this.completedByTriggers[t[i]].pageId)return!0;return!1}get completedTrigger(){if(!this.canBeCompletedByTrigger)return;const e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}get processedCompletedHtml(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""}get processedCompletedBeforeHtml(){return this.locCompletedBeforeHtml.textOrHtml}get processedLoadingHtml(){return this.locLoadingHtml.textOrHtml}getProgressInfo(){var e=this.isDesignMode?this.pages:this.visiblePages;return Vt.getProgressInfoByElements(e,!1)}get progressBarAriaLabel(){return os("progressbar",this.getLocale())}get progressText(){return this.progressBar.progressText}get progressValue(){return this.getPropertyValue("progressValue",void 0,()=>this.getProgress())}updateProgressText(e=!1){this.isShowingPreview||e&&this.progressBarType=="pages"&&this.onGetProgressText.isEmpty||(this.progressBarValue&&this.progressBarValue.resetProgressText(),this.resetPropertyValue("progressValue"))}getProgressText(){if(!this.isDesignMode&&this.currentPage==null)return"";const e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""};var t=this.progressBarType.toLowerCase();if(t==="questions"||t==="requiredquestions"||t==="correctquestions"||!this.onGetProgressText.isEmpty){var s=this.getProgressInfo();e.questionCount=s.questionCount,e.answeredQuestionCount=s.answeredQuestionCount,e.requiredQuestionCount=s.requiredQuestionCount,e.requiredAnsweredQuestionCount=s.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onGetProgressText.fire(this,e),e.text}getProgressTextCore(e){var t=this.progressBarType.toLowerCase();if(t==="questions")return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if(t==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if(t==="correctquestions"){var s=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",s,e.questionCount)}var i=this.isDesignMode?this.pages:this.visiblePages,n=i.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",n,i.length)}getRootCss(){return new ge().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!re.animationEnabled).append(this.css.rootReadOnly,this.readOnly&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()}afterRenderSurvey(e){if(!qe.isAvailable())return;this.destroyResizeObserver(),Array.isArray(e)&&(e=Vt.GetFirstNonTextElement(e));let t=e;const s=this.css.variables;if(s){const i=Number.parseFloat(Re.getComputedStyle(t).getPropertyValue(s.mobileWidth));if(i){let n=!1;this.resizeObserver=new ResizeObserver(o=>{qe.requestAnimationFrame(()=>{n||!Nx(t)?n=!1:n=this.processResponsiveness(t.offsetWidth,i,t.offsetHeight)})}),this.resizeObserver.observe(t)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.scrollerElement=e.getElementsByClassName("sv-scroll__scroller")[0],this.addScrollEventListener()}beforeDestroySurveyElement(){this.destroyResizeObserver(),this.removeScrollEventListener(),this.rootElement=void 0,this.scrollerElement=void 0}processResponsiveness(e,t,s){const i=e<t,n=this.isMobile!==i;this.setIsMobile(i),this.layoutElements.forEach(l=>l.processResponsiveness&&l.processResponsiveness(e));const o={height:s,width:e};return this.onResize.fire(this,o),n}triggerResponsiveness(e){this.getAllQuestions().forEach(t=>{t.triggerResponsiveness(e)})}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}updateQuestionCssClasses(e,t){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:t})}updatePanelCssClasses(e,t){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:t})}updatePageCssClasses(e,t){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:t})}updateChoiceItemCss(e,t){t.question=e,this.onUpdateChoiceItemCss.fire(this,t)}afterRenderPage(e){if(!this.isDesignMode&&!this.focusingQuestionInfo){const t=this.isCurrentPageRendered===!1;setTimeout(()=>this.scrollToTopOnPageChange(t),1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})}afterRenderHeader(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})}afterRenderQuestion(e,t){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:t})}afterRenderQuestionInput(e,t){if(this.onAfterRenderQuestionInput.isEmpty)return;let s=e.inputId;const{root:i}=re.environment;if(s&&(!t||t.id!==s)&&typeof i<"u"){let n=i.getElementById(s);n&&(t=n)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:t})}afterRenderPanel(e,t){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:t})}whenQuestionFocusIn(e){this.onFocusInQuestion.fire(this,{question:e})}whenPanelFocusIn(e){this.onFocusInPanel.fire(this,{panel:e})}rebuildQuestionChoices(){this.getAllQuestions().forEach(e=>e.surveyChoiceItemVisibilityChange())}canChangeChoiceItemsVisibility(){return!this.onShowingChoiceItem.isEmpty}getChoiceItemVisibility(e,t,s){const i={question:e,item:t,visible:s};return this.onShowingChoiceItem.fire(this,i),i.visible}loadQuestionChoices(e){this.onChoicesLazyLoad.fire(this,e)}getChoiceDisplayValue(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)}matrixBeforeRowAdded(e){this.onMatrixRowAdding.fire(this,e)}matrixRowAdded(e,t){this.onMatrixRowAdded.fire(this,{question:e,row:t})}matrixColumnAdded(e,t){this.onMatrixColumnAdded.fire(this,{question:e,column:t})}multipleTextItemAdded(e,t){this.onMultipleTextItemAdded.fire(this,{question:e,item:t})}getQuestionByValueNameFromArray(e,t,s){var i=this.getQuestionsByValueName(e);if(i){for(var n=0;n<i.length;n++){var o=i[n].getQuestionFromArray(t,s);if(o)return o}return null}}matrixRowRemoved(e,t,s){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:t,row:s})}matrixRowRemoving(e,t,s){var i={question:e,rowIndex:t,row:s,allow:!0};return this.onMatrixRowRemoving.fire(this,i),i.allow}matrixAllowRemoveRow(e,t,s){const i={question:e,rowIndex:t,row:s,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,i),i.allow}matrixDetailPanelVisibleChanged(e,t,s,i){const n={question:e,rowIndex:t,row:s,visible:i,detailPanel:s.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,n)}matrixCellCreating(e,t){t.question=e,this.onMatrixCellCreating.fire(this,t)}matrixCellCreated(e,t){t.question=e,this.onMatrixCellCreated.fire(this,t)}matrixAfterCellRender(e){var t;const s=this.onAfterRenderMatrixCell;s.isEmpty||(e.question=(t=e.cellQuestion)===null||t===void 0?void 0:t.parentQuestion,s.fire(this,e))}matrixCellValueChanged(e,t){t.question=e,this.onMatrixCellValueChanged.fire(this,t)}matrixCellValueChanging(e,t){t.question=e,this.onMatrixCellValueChanging.fire(this,t)}get isValidateOnValueChanging(){return this.checkErrorsMode==="onValueChanging"}get isValidateOnValueChanged(){return this.checkErrorsMode==="onValueChanged"}get isValidateOnValueChange(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging}get isValidateOnComplete(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete}matrixCellValidate(e,t){return t.question=e,this.onMatrixCellValidate.fire(this,t),t.error?new qr(t.error,this):null}dynamicPanelAdded(e,t,s,i){!this.isLoadingFromJson&&i&&this.updateVisibleIndexes(e.page),this.onDynamicPanelAdded.fire(this,{question:e,panel:s,panelIndex:t})}dynamicPanelRemoved(e,t,s,i){for(var n=s?s.questions:[],o=0;o<n.length;o++)n[o].clearOnDeletingContainer();i&&this.updateVisibleIndexes(e.page),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:t,panel:s})}dynamicPanelRemoving(e,t,s){const i={question:e,panelIndex:t,panel:s,allow:!0};return this.onDynamicPanelRemoving.fire(this,i),i.allow}dynamicPanelGetTabTitle(e,t){t.question=e,this.onGetDynamicPanelTabTitle.fire(this,t)}dynamicPanelCurrentIndexChanged(e,t){t.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,t)}dragAndDropAllow(e){return this.onDragDropAllow.fire(this,e),e.allow}elementContentVisibilityChanged(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})}getUpdatedPanelFooterActions(e,t,s){const i={question:s,panel:e,actions:t};return this.onGetPanelFooterActions.fire(this,i),i.actions}getUpdatedElementTitleActions(e,t){return e.isPage?this.getUpdatedPageTitleActions(e,t):e.isPanel?this.getUpdatedPanelTitleActions(e,t):this.getUpdatedQuestionTitleActions(e,t)}getTitleActionsResult(e,t){return e!=t.actions?t.actions:e!=t.titleActions?t.titleActions:e}getUpdatedQuestionTitleActions(e,t){const s={question:e,actions:t,titleActions:t};return this.onGetQuestionTitleActions.fire(this,s),this.getTitleActionsResult(t,s)}getUpdatedPanelTitleActions(e,t){const s={panel:e,actions:t,titleActions:t};return this.onGetPanelTitleActions.fire(this,s),this.getTitleActionsResult(t,s)}getUpdatedPageTitleActions(e,t){var s={page:e,actions:t,titleActions:t};return this.onGetPageTitleActions.fire(this,s),this.getTitleActionsResult(t,s)}getUpdatedMatrixRowActions(e,t,s){const i={question:e,actions:s,row:t};return this.onGetMatrixRowActions.fire(this,i),i.actions}scrollElementToTop(e,t,s,i,n,o,l,u){const c={element:e,question:t,page:s,elementId:i,cancel:!1,allow:!0};if(this.onScrollToTop.fire(this,c),!c.cancel&&c.allow){const h=this.getPageByElement(e),{rootElement:p}=re.environment,m=this.rootElement||l||p;if(this.isLazyRendering&&h){let v=1;this.skeletonHeight&&m&&typeof m.getBoundingClientRect=="function"&&(v=m.getBoundingClientRect().height/this.skeletonHeight-1),h.forceRenderElement(e,()=>{const f=m==null?void 0:m.querySelector(`#${c.elementId}`);this.suspendLazyRendering(),Vt.ScrollElementToTop(f,n,o,()=>{this.releaseLazyRendering();const b=m.querySelector(`#${h.id}`);Wg(b),u&&u()})},v)}else if(e.isPage&&!this.isSinglePage&&!this.isDesignMode&&this.rootElement){const v=m.querySelector(Cr(this.css.rootWrapper));Vt.ScrollElementToViewCore(v,!1,n,o,u)}else{const v=m==null?void 0:m.querySelector(`#${c.elementId}`);this.suspendLazyRendering(),Vt.ScrollElementToTop(v,n,o,()=>{this.releaseLazyRendering(),Wg(v),u&&u()})}}}chooseFiles(e,t,s){this.onOpenFileChooser.isEmpty?bF(e,t):this.onOpenFileChooser.fire(this,{input:e,element:s&&s.element||this.survey,elementType:s&&s.elementType,item:s&&s.item,propertyName:s&&s.propertyName,callback:t,context:s})}uploadFiles(e,t,s,i){this.onUploadFiles.isEmpty?i("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",n=>{this.onUploadFiles.fire(this,{question:e,name:t,files:s||[],callback:(o,l)=>{i(o,l),n()}})}),this.surveyPostId&&this.uploadFilesCore(t,s,i)}downloadFile(e,t,s,i){this.onDownloadFile.isEmpty&&i&&i("skipped",s.content||s),this.onDownloadFile.fire(this,{question:e,name:t,content:s.content||s,fileValue:s,callback:i})}clearFiles(e,t,s,i,n){this.onClearFiles.isEmpty&&n&&n("success",s),this.onClearFiles.fire(this,{question:e,name:t,value:s,fileName:i,callback:n})}updateChoicesFromServer(e,t,s){var i={question:e,choices:t,serverResult:s};return this.onChoicesLoaded.fire(this,i),i.choices}loadedChoicesFromServer(e){this.locStrsChanged()}uploadFilesCore(e,t,s){this.reportWarningOnUsingService()}getPage(e){return this.pages[e]}addPage(e,t=-1){e!=null&&(t<0||t>=this.pages.length?this.pages.push(e):this.pages.splice(t,0,e))}addNewPage(e=null,t=-1){var s=this.createNewPage(e);return this.addPage(s,t),s}removePage(e){var t=this.pages.indexOf(e);t<0||(this.pages.splice(t,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))}getQuestionByName(e,t=!1){const s=this.getQuestionsFromHash(this.questionHashes.names,this.questionHashes.namesInsensitive,e,t);return s?s[0]:null}findQuestionByName(e){return this.getQuestionByName(e)}getEditingSurveyElement(){return this.editingObjValue}getQuestionByValueName(e,t=!1){var s=this.getQuestionsByValueName(e,t);return s?s[0]:null}getQuestionsByValueName(e,t=!1){return this.getQuestionsFromHash(this.questionHashes.valueNames,this.questionHashes.valueNamesInsensitive,e,t)}getCalculatedValueByName(e){for(var t=0;t<this.calculatedValues.length;t++)if(e==this.calculatedValues[t].name)return this.calculatedValues[t];return null}getQuestionsFromHash(e,t,s,i){if(!s)return null;let n=e[s];return n||i&&(s=s.toLowerCase(),n=t[s],n)?n:null}getQuestionsByNames(e,t=!1){var s=[];if(!e)return s;for(var i=0;i<e.length;i++)if(e[i]){var n=this.getQuestionByName(e[i],t);n&&s.push(n)}return s}getPageByElement(e){for(var t=0;t<this.pages.length;t++){var s=this.pages[t];if(s.containsElement(e))return s}return null}getPageByQuestion(e){return this.getPageByElement(e)}getPageByName(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null}getPagesByNames(e){var t=[];if(!e)return t;for(var s=0;s<e.length;s++)if(e[s]){var i=this.getPageByName(e[s]);i&&t.push(i)}return t}getAllQuestions(e=!1,t=!1,s=!1){s&&(t=!1,(e?this.visiblePages:this.pages).forEach(l=>l.onFirstRendering()));for(var i=[],n=0;n<this.pages.length;n++)this.pages[n].addQuestionsToList(i,e,t);return s?this.getNestedQuestionsByQuestionArray(i,e):i}getNestedQuestionsByQuestionArray(e,t){const s=[];return e.forEach(i=>{i.getNestedQuestions(t,!0,!0).forEach(n=>s.push(n))}),s}getQuizQuestions(){for(var e=new Array,t=this.getPageStartIndex(),s=t;s<this.pages.length;s++)if(this.pages[s].isVisible)for(var i=this.pages[s].questions,n=0;n<i.length;n++){var o=i[n];o.quizQuestionCount>0&&e.push(o)}return e}getPanelByName(e,t=!1){var s=this.getAllPanels();t&&(e=e.toLowerCase());for(var i=0;i<s.length;i++){var n=s[i].name;if(t&&(n=n.toLowerCase()),n==e)return s[i]}return null}getAllPanels(e=!1,t=!1){for(var s=new Array,i=0;i<this.pages.length;i++)this.pages[i].addPanelsIntoList(s,e,t);return s}createNewPage(e){const t=ce.createClass("page");return t.name=e,t}getValueChangeReason(){return this.isSettingValueOnExpression?"expression":this.isSettingValueFromTrigger?"trigger":void 0}questionOnValueChanging(e,t,s){if(this.editingObj){const n=ce.findProperty(this.editingObj.getType(),e);n&&(t=n.settingValue(this.editingObj,t))}if(this.onValueChanging.isEmpty)return t;var i={name:e,question:this.getQuestionByValueName(s||e),value:this.getUnbindValue(t),oldValue:this.getValue(e),reason:this.getValueChangeReason()};return this.onValueChanging.fire(this,i),i.value}getLocNotification(e,t,s){return e||Y.isTwoValueEquals(t,s,!1,!0,!1)}updateQuestionValue(e,t){if(!this.isLoadingFromJson){var s=this.getQuestionsByValueName(e);if(s)for(var i=0;i<s.length;i++){var n=s[i].value;(n===t&&Array.isArray(n)&&this.editingObj||!this.isTwoValueEquals(n,t))&&s[i].updateValueFromSurvey(t,!1)}}}validateQuestionOnValueChanged(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.validateQuestionOnValueChangedCore(e)}validateQuestionOnValueChangedCore(e){var t=e.getAllErrors().length;let s=e.validate(!0,!1,!this.isValidateOnValueChanging);return e.page&&this.isValidateOnValueChange&&(t>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),s}validateOnValueChanging(e,t){if(this.isLoadingFromJson)return!1;const s=this.getQuestionsByValueName(e);if(!s)return!1;let i=!0;for(let n=0;n<s.length;n++){const o=s[n];this.isTwoValueEquals(o.valueForSurvey,t)||(o.value=t),i=this.validateQuestionOnValueChangedCore(o)&&i&&o.errors.length==0}return i}fireOnValueChanged(e,t,s){this.onValueChanged.fire(this,{name:e,question:s,value:t,reason:this.getValueChangeReason()})}notifyQuestionOnValueChanged(e,t,s){if(!this.isLoadingFromJson){var i=this.getQuestionsByValueName(e);if(i)for(var n=0;n<i.length;n++){var o=i[n];this.validateQuestionOnValueChanged(o),o.onSurveyValueChanged(t)}this.updateProgressText(!0),this.fireOnValueChanged(e,t,s?this.getQuestionByName(s):void 0),!this.isDisposed&&(this.checkElementsBindings(e,t),this.notifyElementsOnAnyValueOrVariableChanged(e,s))}}checkElementsBindings(e,t){this.isRunningElementsBindings=!0;for(var s=0;s<this.pages.length;s++)this.pages[s].checkBindings(e,t);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)}notifyElementsOnAnyValueOrVariableChanged(e,t){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var s=0;s<this.pages.length;s++)this.pages[s].onAnyValueChanged(e,t);this.isEndLoadingFromJson||this.locStrsChanged()}}updateAllQuestionsValue(e){for(var t=this.getAllQuestions(),s=0;s<t.length;s++){var i=t[s],n=i.getValueName();i.updateValueFromSurvey(this.getValue(n),e),i.requireUpdateCommentValue&&i.updateCommentFromSurvey(this.getComment(n))}}notifyAllQuestionsOnValueChanged(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].onSurveyValueChanged(this.getValue(e[t].getValueName()))}checkOnPageTriggers(e){for(var t=this.getCurrentPageQuestions(!0),s={},i=0;i<t.length;i++){var n=t[i],o=n.getValueName();s[o]=this.getValue(o)}this.addCalculatedValuesIntoFilteredValues(s),this.checkTriggers(s,!0,e)}getCurrentPageQuestions(e=!1){var t=[],s=this.currentPage;if(!s)return t;for(var i=0;i<s.questions.length;i++){var n=s.questions[i];!e&&!n.visible||!n.name||t.push(n)}return t}checkTriggers(e,t,s=!1,i=!1,n){if(this.isCompleted||this.triggers.length==0||this.isDisplayMode)return;if(this.isTriggerIsRunning){for(var o in e)this.triggerKeys[o]=e[o];return}let l=!1;if(!s&&n&&this.hasRequiredValidQuestionTrigger){const h=this.getQuestionByValueName(n);l=h&&!h.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e;var u=this.getFilteredProperties();let c=this.canBeCompletedByTrigger;for(let h=0;h<this.triggers.length;h++){const p=this.triggers[h];if(l&&p.requireValidQuestion)continue;const m={isOnNextPage:t,isOnComplete:s,isOnNavigation:i,keys:this.triggerKeys,properties:u};p.checkExpression(m)}c!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}checkTriggersAndRunConditions(e,t,s){var i={};i[e]={newValue:t,oldValue:s},this.runConditionOnValueChanged(e,t),this.checkTriggers(i,!1,!1,!1,e)}get hasRequiredValidQuestionTrigger(){for(let e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1}doElementsOnLoad(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()}get isRunningConditions(){return this.isRunningConditionsValue}runExpressions(){this.runConditions()}runConditions(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.isRunningConditionsValue=!0;var e=this.getFilteredProperties();this.runConditionsCore(e),this.isRunningConditionsValue=!1,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<re.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}}runConditionOnValueChanged(e,t){this.questionTriggersKeys||(this.questionTriggersKeys={}),this.questionTriggersKeys[e]=t,this.isRunningConditions?this.isValueChangedOnRunningCondition=!0:(this.runConditions(),this.runQuestionsTriggers(e,t),this.questionTriggersKeys=void 0)}runConditionsCore(e){for(var t=this.pages,s=0;s<this.calculatedValues.length;s++)this.calculatedValues[s].resetCalculation();for(var s=0;s<this.calculatedValues.length;s++)this.calculatedValues[s].doCalculation(this.calculatedValues,e);super.runConditionCore(e);for(let i=0;i<t.length;i++)t[i].runCondition(e)}runQuestionsTriggers(e,t){if(this.isDisplayMode||this.isDesignMode)return;this.getAllQuestions().forEach(i=>{i.runTriggers(e,t,this.questionTriggersKeys)})}sendResult(e=null,t=null,s=!1){this.isEditMode&&(s&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(t&&(this.clientId=t),!(s&&!this.clientId)&&this.reportWarningOnUsingService()))}getResult(e,t){this.reportWarningOnUsingService()}loadSurveyFromService(e=null,t=null){e&&(this.surveyId=e),t&&(this.clientId=t),this.reportWarningOnUsingService()}reportWarningOnUsingService(){Ur.warn("Self-hosted Form Library no longer supports integration with SurveyJS Demo Service. Learn more: https://surveyjs.io/stay-updated/release-notes/v2.0.0#form-library-removes-apis-for-integration-with-surveyjs-demo-service")}loadSurveyFromServiceJson(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))}onLoadingSurveyFromService(){}onLoadSurveyFromService(){}resetVisibleIndexes(){for(var e=this.getAllQuestions(!0),t=0;t<e.length;t++)e[t].setVisibleIndex(-1);this.updateVisibleIndexes()}updateVisibleIndexes(e){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}this.updatePageVisibleIndexes(),this.updatePageElementsVisibleIndexes(e),this.updateProgressText(!0)}}updatePageElementsVisibleIndexes(e){if(this.showQuestionNumbers=="onPage")for(var t=e?[e]:this.visiblePages,s=0;s<t.length;s++)t[s].setVisibleIndex(0);else{let i=this.getStartVisibleIndex();const n=this.pages;for(let o=0;o<n.length;o++)i+=n[o].setVisibleIndex(i)}}getStartVisibleIndex(){const e=this.showQuestionNumbers;return e==="on"||e==="recursive"?0:-1}updatePageVisibleIndexes(){this.updateButtonsVisibility();for(var e=0,t=0;t<this.pages.length;t++){const s=this.pages[t],i=s.isVisible&&(t>0||!s.isStartPage);s.visibleIndex=i?e++:-1,s.num=i?s.visibleIndex+1:-1}}fromJSON(e,t){if(!e)return;this.resetHasLogo(),this.resetPropertyValue("titleIsEmpty"),this.questionHashesClear(),this.jsonErrors=null,this.sjsVersion=void 0;const s=new _t;s.toObject(e,this,t),s.errors.length>0&&(this.jsonErrors=s.errors),this.onStateAndCurrentPageChanged(),this.endLoading(),this.updateState(),this.sjsVersion&&re.version&&Y.compareVerions(this.sjsVersion,re.version)>0&&Ur.warn("The version of the survey JSON schema (v"+this.sjsVersion+") is newer than your current Form Library version ("+re.version+"). Please update the Form Library to make sure that all survey features work as expected.")}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&e.locale&&(this.locale=e.locale)}setJsonObject(e){this.fromJSON(e)}endLoadingFromJson(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),super.endLoadingFromJson(),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.onQuestionsOnPageModeChanged("standard"),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateCurrentPage(),this.setCalculatedWidthModeUpdater(),this.onEndLoadingFromJson.fire(this,{})}updateNavigationCss(){const e=this.navigationBarValue;e&&(e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer,this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())}createNavigationBar(){const e=new cs;return e.setItems(this.createNavigationActions()),e.locOwner=this,e}createNavigationActions(){const e="sv-nav-btn",t=new Ke({id:"sv-nav-start",visible:new yt(()=>this.isStartPageActive),visibleIndex:10,locTitle:this.locStartSurveyText,action:()=>this.start(),component:e}),s=new Ke({id:"sv-nav-prev",visible:new yt(()=>this.isShowPrevButton),visibleIndex:20,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPagePrevText,action:()=>this.performPrevious(),component:e}),i=new Ke({id:"sv-nav-next",visible:new yt(()=>this.isShowNextButton),visibleIndex:30,data:{mouseDown:()=>this.nextPageMouseDown()},locTitle:this.locPageNextText,action:()=>this.nextPageUIClick(),component:e}),n=new Ke({id:"sv-nav-preview",visible:new yt(()=>this.isPreviewButtonVisible),visibleIndex:40,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPreviewText,action:()=>this.showPreview(),component:e}),o=new Ke({id:"sv-nav-complete",visible:new yt(()=>this.isCompleteButtonVisible),visibleIndex:50,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locCompleteText,action:()=>this.taskManager.waitAndExecute(()=>this.tryComplete()),component:e});return this.updateNavigationItemCssCallback=()=>{t.innerCss=this.cssNavigationStart,s.innerCss=this.cssNavigationPrev,i.innerCss=this.cssNavigationNext,n.innerCss=this.cssNavigationPreview,o.innerCss=this.cssNavigationComplete},[t,s,i,n,o]}onBeforeRunConstructor(){}onBeforeCreating(){}onCreating(){}getProcessedTextValue(e){if(this.getProcessedTextValueCore(e),!this.onProcessDynamicText.isEmpty){var t=this.isValueEmpty(e.value);this.onProcessDynamicText.fire(this,e),e.isExists=e.isExists||t&&!this.isValueEmpty(e.value)}}getProcessedTextValueCore(e){const t=e.name.toLocaleLowerCase();if(["no","require","title"].indexOf(t)!==-1)return;const s=new Zn().getValueInfo({name:t,context:this.getValueGetterContext(),isText:!0,isDisplayValue:e.returnDisplayValue});s.isFound&&(e.isExists=!0,e.value=s.value)}clearUnusedValues(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1}hasVisibleQuestionByValueName(e){const t=e;var s=this.getQuestionsByValueName(t.getValueName());if(!Array.isArray(s)||s.length<2)return!1;for(var i=0;i<s.length;i++){const n=s[i];if(n!==t&&n.isVisible&&n.isParentVisible&&!n.parentQuestion&&n.parentQuestion===t.parentQuestion)return!0}return!1}questionsByValueName(e){var t=this.getQuestionsByValueName(e);return t||[]}clearInvisibleQuestionValues(){const e=this.clearInvisibleValues==="none"?"none":"onComplete",t=this.getAllQuestions();for(var s=0;s<t.length;s++)t[s].clearValueIfInvisible(e)}getVariable(e){if(!e)return null;e=e.toLowerCase();var t=this.variablesHash[e];return this.isValueEmpty(t)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)?new Zn().getValue(e,new bi(this.variablesHash)):t}setVariable(e,t){if(!e)return;const s=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=t,this.notifyElementsOnAnyValueOrVariableChanged(e),Y.isTwoValueEquals(s,t)||(this.checkTriggersAndRunConditions(e,t,s),this.onVariableChanged.fire(this,{name:e,value:t}))}getVariableNames(){var e=[];for(var t in this.variablesHash)e.push(t);return e}getUnbindValue(e){return this.editingObj?e:Y.getUnbindValue(e)}getValue(e){if(!e||e.length==0)return null;var t=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(t)}setValue(e,t,s=!1,i=!0,n){var o=t;if(i&&(o=this.questionOnValueChanging(e,t)),!(this.isValidateOnValueChanging&&!this.validateOnValueChanging(e,o))&&!(!this.editingObj&&this.isValueEqual(e,o)&&this.isTwoValueEquals(o,t))){var l=this.getValue(e);this.isValueEmpyOnSetValue(e,o)?this.deleteDataValueCore(this.valuesHash,e):(o=this.getUnbindValue(o),this.setDataValueCore(this.valuesHash,e,o)),s=this.getLocNotification(s,o,l),this.updateOnSetValue(e,o,l,s,i,n)}}questionValueChanging(e,t){const s=e,i=s.parentQuestion;if(!i)return t;if(i.isDescendantOf("paneldynamic")&&!this.onDynamicPanelValueChanging.isEmpty){const n=i.getValueChangingOptions(s);if(n)return n.value=t,this.onDynamicPanelValueChanging.fire(this,n),n.value}return t}questionValueChanged(e,t){const s=e,i=s.parentQuestion;if(i&&i.isDescendantOf("paneldynamic")&&!this.onDynamicPanelValueChanged.isEmpty){const n=i.getValueChangingOptions(s);n&&(n.value=s.value,n.oldValue=t,this.onDynamicPanelValueChanged.fire(this,n))}}isValueEmpyOnSetValue(e,t){return this.isValueEmpty(t,!1)?!this.editingObj||t===null||t===void 0?!0:this.editingObj.getDefaultPropertyValue(e)===t:!1}updateOnSetValue(e,t,s,i=!1,n=!0,o){this.updateQuestionValue(e,t),!(i===!0||this.isDisposed||this.isRunningElementsBindings)&&(o=o||e,this.nofifyQuesitonHash[e]=!0,this.checkTriggersAndRunConditions(e,t,s),this.nofifyQuesitonHash[e]&&(n&&this.notifyQuestionOnValueChanged(e,t,o),i!=="text"&&this.tryGoNextPageAutomatic(e),delete this.nofifyQuesitonHash[e]))}isValueEqual(e,t){(t===""||t===void 0)&&(t=null);var s=this.getValue(e);return(s===""||s===void 0)&&(s=null),t===null||s===null?t===s:this.isTwoValueEquals(t,s)}doOnPageAdded(e){if(e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),!this.runningPages&&(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.canFireAddPage())){var t={page:e};this.onPageAdded.fire(this,t)}}canFireAddPage(){return!this.isMovingPage}doOnPageRemoved(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())}generateNewName(e,t){for(var s={},i=0;i<e.length;i++)s[e[i].name]=!0;for(var n=1;s[t+n];)n++;return t+n}tryGoNextPageAutomatic(e){if(this.isEndLoadingFromJson||!this.autoAdvanceEnabled||!this.currentPage)return;const t=this.getQuestionByValueName(e);if(!t||t&&(!t.visible||!t.supportAutoAdvance())||!t.validate(!1)&&!t.supportGoNextPageError())return;if(this.currentSingleElement){const l=this.currentSingleElement,u=()=>{l===this.currentSingleElement&&(this.isLastElement?this.autoAdvanceAllowComplete&&this.tryCompleteOrShowPreview():this.performNext())};Hn.safeTimeOut(u,re.autoAdvanceDelay)}var s=this.getCurrentPageQuestions();if(s.indexOf(t)<0)return;for(var i=0;i<s.length;i++)if(s[i].hasInput&&s[i].isEmpty())return;if(this.isLastPage&&(this.autoAdvanceEnabled!==!0||!this.autoAdvanceAllowComplete)||!this.validateActivePage(!1))return;const n=this.currentPage,o=()=>{n===this.currentPage&&(this.isLastPage?this.tryCompleteOrShowPreview():this.nextPage())};Hn.safeTimeOut(o,re.autoAdvanceDelay)}tryCompleteOrShowPreview(){this.showPreviewBeforeComplete?this.showPreview():this.tryComplete()}getComment(e){return this.getValue(e+this.commentSuffix)||""}setComment(e,t,s=!1){if(t||(t=""),this.isTwoValueEquals(t,this.getComment(e)))return;const i=e+this.commentSuffix;t=this.questionOnValueChanging(i,t,e),s=this.getLocNotification(s,t,this.getComment(e)),this.isValueEmpty(t)?this.deleteDataValueCore(this.valuesHash,i):this.setDataValueCore(this.valuesHash,i,t);var n=this.getQuestionsByValueName(e);if(n)for(var o=0;o<n.length;o++)n[o].updateCommentFromSurvey(t),this.validateQuestionOnValueChanged(n[o]);s||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),s!=="text"&&this.tryGoNextPageAutomatic(e);var l=this.getQuestionByValueName(e);l&&(this.fireOnValueChanged(i,t,l),l.comment=t,l.comment!=t&&(l.comment=t))}clearValue(e){this.setValue(e,null),this.setComment(e,null)}get clearDisabledChoices(){return this.getPropertyValue("clearDisabledChoices",!1)}set clearDisabledChoices(e){this.setPropertyValue("clearDisabledChoices",e)}get clearValueOnDisableItems(){return this.clearDisabledChoices}set clearValueOnDisableItems(e){this.clearDisabledChoices=e}getQuestionClearIfInvisible(e){return this.isShowingPreview||this.runningPages?"none":e!=="default"?e:this.clearInvisibleValues}questionVisibilityChanged(e,t,s){s&&this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged(),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:t})}pageVisibilityChanged(e,t){if(this.isLoadingFromJson)return;(t&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),t||this.changeCurrentSingleElementOnVisibilityChanged();const s=this.currentSingleElement,i=this.currentPage;s&&i&&s.page!==i&&(this.currentSingleElement=i.getFirstVisibleElement()),this.onPageVisibleChanged.fire(this,{page:e,visible:t})}panelVisibilityChanged(e,t){e.page&&(this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged()),this.onPanelVisibleChanged.fire(this,{panel:e,visible:t})}questionCreated(e){this.onQuestionCreated.fire(this,{question:e})}questionAdded(e,t,s,i){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(e.page),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t,parent:s,page:i,parentPanel:s,rootPanel:i})}canFireAddElement(){return!this.isMovingQuestion}questionRemoved(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(e.page),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}questionRenamed(e,t,s){this.questionHashesRemoved(e,t,s),this.questionHashesAdded(e)}questionHashesClear(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}}questionHashesPanelAdded(e){if(!this.isLoadingFromJson)for(var t=e.questions,s=0;s<t.length;s++)this.questionHashesAdded(t[s])}questionHashesAdded(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())}questionHashesRemoved(e,t,s){t&&(this.questionHashRemovedCore(this.questionHashes.names,e,t),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,t.toLowerCase())),s&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,s),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,s.toLowerCase()))}questionHashAddedCore(e,t,s){var i=e[s];if(i){var i=e[s];i.indexOf(t)<0&&i.push(t)}else e[s]=[t]}questionHashRemovedCore(e,t,s){var i=e[s];if(i){var n=i.indexOf(t);n>-1&&i.splice(n,1),i.length==0&&delete e[s]}}panelAdded(e,t,s,i){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(e.page),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:t,parent:s,page:i,parentPanel:s,rootPanel:i})}panelRemoved(e){this.updateVisibleIndexes(e.page),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}validateQuestion(e,t,s){if(!this.onValidateQuestion.isEmpty){var i={name:e.name,question:e,value:e.value,errors:t,error:null};this.onValidateQuestion.fire(this,i),i.error&&t.push(new qr(i.error,this))}s&&this.beforeSettingQuestionErrors(e,t)}validatePanel(e,t,s){if(e.isPanel&&!this.onValidatePanel.isEmpty){const i={name:e.name,panel:e,error:null,errors:t};this.onValidatePanel.fire(this,i),i.error&&t.push(new qr(i.error,this))}s&&this.makeRequiredErrorsInvisible(t)}processHtml(e,t){t||(t="");var s={html:e,reason:t};return this.onProcessHtml.fire(this,s),this.processText(s.html,!0)}getValueGetterContext(){return new vB(this,this.valuesHash,this.variablesHash)}processText(e,t){return this.processTextEx({text:e,returnDisplayValue:t,doEncoding:!1}).text}processTextEx(e){const t=e.doEncoding===void 0?re.web.encodeUrlParams:e.doEncoding;let s=e.text;(e.runAtDesign||!this.isDesignMode)&&(s=this.textPreProcessor.process(s,e.returnDisplayValue===!0,t,e.replaceUndefinedValues));const i={text:s,hasAllValuesOnLastRun:!0};return i.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,i}get textPreProcessor(){return this.textPreProcessorValue||(this.textPreProcessorValue=new xI,this.textPreProcessorValue.onProcess=e=>{this.getProcessedTextValue(e)}),this.textPreProcessorValue}getSurveyMarkdownHtml(e,t,s,i){const n={element:e,text:t,name:s,item:i,html:null};return this.onTextMarkdown.fire(this,n),n.html}getCorrectedAnswerCount(){return this.getCorrectAnswerCount()}getCorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!0)}getQuizQuestionCount(){for(var e=this.getQuizQuestions(),t=0,s=0;s<e.length;s++)t+=e[s].quizQuestionCount;return t}getInCorrectedAnswerCount(){return this.getIncorrectAnswerCount()}getInCorrectAnswerCount(){return this.getIncorrectAnswerCount()}getIncorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!1)}onCorrectQuestionAnswer(e,t){this.onIsAnswerCorrect.isEmpty||(t.question=e,this.onIsAnswerCorrect.fire(this,t))}getCorrectedAnswerCountCore(e){var t=this.getQuizQuestions(),s=0;for(let i=0;i<t.length;i++){const n=t[i],o=n.correctAnswerCount;e?s+=o:s+=n.quizQuestionCount-o}return s}getCorrectedAnswers(){return this.getCorrectedAnswerCount()}getInCorrectedAnswers(){return this.getInCorrectedAnswerCount()}get showTimerPanel(){return this.showTimer?this.timerLocation:"none"}set showTimerPanel(e){this.showTimer=e!=="none",this.showTimer&&(this.timerLocation=e)}get showTimer(){return this.getPropertyValue("showTimer")}set showTimer(e){this.setPropertyValue("showTimer",e)}get timerLocation(){return this.getPropertyValue("timerLocation")}set timerLocation(e){this.setPropertyValue("timerLocation",e)}get isTimerPanelShowingOnTop(){return this.showTimer&&this.timerLocation==="top"}get isTimerPanelShowingOnBottom(){return this.showTimer&&this.timerLocation==="bottom"}get timerInfoMode(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))}set timerInfoMode(e){this.setPropertyValue("timerInfoMode",e)}getTimerInfoVal(e){return e==="all"?"combined":e}get showTimerPanelMode(){const e=this.timerInfoMode;return e==="combined"?"all":e}set showTimerPanelMode(e){this.timerInfoMode=this.getTimerInfoVal(e)}updateGridColumns(){this.pages.forEach(e=>e.updateGridColumns())}get widthMode(){return this.getPropertyValue("widthMode")}set widthMode(e){this.setPropertyValue("widthMode",e)}setCalculatedWidthModeUpdater(){this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new yt(()=>this.calculateWidthMode()),this.calculatedWidthMode=this.calculatedWidthModeUpdater)}calculateWidthMode(){if(this.widthMode=="auto"){let e=!1;return this.isSingleVisibleInput||this.pages.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode}get width(){return this.getPropertyValue("width")}set width(e){this.setPropertyValue("width",e)}get renderedWidth(){const e=this.getPropertyValue("calculatedWidthMode")=="static";let t=this.getPropertyValue("width");if(this.isScaled&&this.responsiveStartWidth>1){let s=this.responsiveStartWidth;try{t=t||this.staticStartWidth,s=isNaN(t)?parseFloat(t.toString().replace("px","")):t}catch{}return(e?s:this.responsiveStartWidth)*this.widthScale/100+"px"}return t&&!isNaN(t)&&(t=t+"px"),e&&t||void 0}setStaticStartWidth(e){this.staticStartWidth=e}setResponsiveStartWidth(e){this.responsiveStartWidth=e}get isScaled(){return Math.abs(this.widthScale-100)>.001}get timerInfo(){return this.getTimerInfo()}get timerClock(){let e,t;if(this.currentPage){let{spent:s,limit:i,minorSpent:n,minorLimit:o}=this.getTimerInfo();i>0?e=this.getDisplayClockTime(i-s):e=this.getDisplayClockTime(s),n!==void 0&&(o>0?t=this.getDisplayClockTime(o-n):t=this.getDisplayClockTime(n))}return{majorText:e,minorText:t}}get timerInfoText(){const e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var t=new as(this,!0);return t.text=e.text,t.textOrHtml}getTimerInfo(){let e=this.currentPage;if(!e)return{spent:0,limit:0};let t=e.timeSpent,s=this.timeSpent,i=e.getMaxTimeToFinish(),n=this.timeLimit;return this.timerInfoMode=="page"?{spent:t,limit:i}:this.timerInfoMode=="survey"?{spent:s,limit:n}:i>0&&n>0?{spent:t,limit:i,minorSpent:s,minorLimit:n}:i>0?{spent:t,limit:i,minorSpent:s}:n>0?{spent:s,limit:n,minorSpent:t}:{spent:t,minorSpent:s}}getTimerInfoText(){var e=this.currentPage;if(!e)return"";var t=this.getDisplayTime(e.timeSpent),s=this.getDisplayTime(this.timeSpent),i=e.getMaxTimeToFinish(),n=this.getDisplayTime(i),o=this.getDisplayTime(this.timeLimit);if(this.timerInfoMode=="page")return this.getTimerInfoPageText(e,t,n);if(this.timerInfoMode=="survey")return this.getTimerInfoSurveyText(s,o);if(this.timerInfoMode=="combined"){if(i<=0&&this.timeLimit<=0)return this.getLocalizationFormatString("timerSpentAll",t,s);if(i>0&&this.timeLimit>0)return this.getLocalizationFormatString("timerLimitAll",t,n,s,o);let l=this.getTimerInfoPageText(e,t,n),u=this.getTimerInfoSurveyText(s,o);return l+" "+u}return""}getTimerInfoPageText(e,t,s){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",t,s):this.getLocalizationFormatString("timerSpentPage",t,s)}getTimerInfoSurveyText(e,t){const s=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(s,e,t)}getDisplayClockTime(e){e<0&&(e=0);const t=Math.floor(e/60),s=e%60;let i=s.toString();return s<10&&(i="0"+i),`${t}:${i}`}getDisplayTime(e){const t=Math.floor(e/60),s=e%60;let i="";return t>0&&(i+=t+" "+this.getLocalizationString("timerMin")),i&&s==0?i:(i&&(i+=" "),i+s+" "+this.getLocalizationString("timerSec"))}get timerModel(){return this.timerModelValue}startTimer(){this.isEditMode&&this.timerModel.start()}startTimerFromUI(){this.showTimer&&this.state==="running"&&this.startTimer()}stopTimer(){this.timerModel.stop()}get timeSpent(){return this.timerModel.spent}set timeSpent(e){this.timerModel.spent=e}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}get timeLimitPerPage(){return this.getPropertyValue("timeLimitPerPage",0)}set timeLimitPerPage(e){this.setPropertyValue("timeLimitPerPage",e)}get maxTimeToFinishPage(){return this.timeLimitPerPage}set maxTimeToFinishPage(e){this.timeLimitPerPage=e}doTimer(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.tryComplete()),e){var t=e.getMaxTimeToFinish();t>0&&t==e.timeSpent&&(this.isLastPage?this.tryComplete():this.nextPage())}}get inSurvey(){return!0}getSurveyData(){return this}getSurvey(){return this}getTextProcessor(){return this}getObjects(e,t){var s=[];return Array.prototype.push.apply(s,this.getPagesByNames(e)),Array.prototype.push.apply(s,this.getQuestionsByNames(t)),s}setTriggerValue(e,t,s){if(e)if(s)this.setVariable(e,t);else{this.startSetValueFromTrigger();const i=new Zn().getValueInfo({name:e,context:this.getValueGetterContext(),createObjects:!0});i.isFound&&i.question?i.question.value=t:e.indexOf(".")<0&&this.setValue(e,t),this.finishSetValueFromTrigger()}}copyTriggerValue(e,t,s){if(!e||!t)return;const i=new Zn().getValueInfo({name:t,context:this.getValueGetterContext(),createObjects:!0,isText:s,isDisplayValue:s});i.isFound&&this.setTriggerValue(e,Y.getUnbindValue(i.value),!1)}triggerExecuted(e){this.onTriggerExecuted.fire(this,{trigger:e})}get isSettingValueFromTrigger(){return this.setValueFromTriggerCounter>0}startSetValueFromTrigger(){this.setValueFromTriggerCounter++}finishSetValueFromTrigger(){this.setValueFromTriggerCounter--}startMovingQuestion(){this.isMovingQuestion=!0}stopMovingQuestion(){this.isMovingQuestion=!1}get isQuestionDragging(){return this.isMovingQuestion}startMovingPage(){this.isMovingPage=!0}stopMovingPage(){this.isMovingPage=!1}focusQuestion(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))}focusQuestionByInstance(e,t=!1){var s;if(!e||!e.isVisible||!e.page||((s=this.focusingQuestionInfo)===null||s===void 0?void 0:s.question)===e)return!1;this.focusingQuestionInfo={question:e,onError:t};const n=this.currentSingleElement;this.skippedPages.push({from:n||this.currentPage,to:n?e:e.page});const o=this.activePage!==e.page&&!e.page.isStartPage;return o&&(this.currentPage=e.page),this.isSingleVisibleQuestion&&!this.isDesignMode&&(this.currentSingleElement=e),o||this.focusQuestionInfo(),!0}focusQuestionInfo(){var e;const t=(e=this.focusingQuestionInfo)===null||e===void 0?void 0:e.question;t&&!t.isDisposed&&t.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0}questionEditFinishCallback(e,t){const s=this.enterKeyAction||re.enterKeyAction;if(s=="loseFocus"&&t.target.blur(),s=="moveToNextEditor"){const i=this.currentPage.questions,n=i.indexOf(e);n>-1&&n<i.length-1?i[n+1].focus():t.target.blur()}}elementWrapperComponentNameCore(e,t,s,i,n){if(this.onElementWrapperComponentName.isEmpty)return e;const o={componentName:e,element:t,wrapperName:s,reason:i,item:n};return this.onElementWrapperComponentName.fire(this,o),o.componentName}elementWrapperDataCore(e,t,s,i,n){if(this.onElementWrapperComponentData.isEmpty)return e;const o={data:e,element:t,wrapperName:s,reason:i,item:n};return this.onElementWrapperComponentData.fire(this,o),o.data}getElementWrapperComponentName(e,t){const s=t==="logo-image"?"sv-logo-image":tt.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(s,e,"component",t)}getQuestionContentWrapperComponentName(e){return this.elementWrapperComponentNameCore(tt.TemplateRendererComponentName,e,"content-component")}getRowWrapperComponentName(e){return this.elementWrapperComponentNameCore(tt.TemplateRendererComponentName,e,"row")}getItemValueWrapperComponentName(e,t){return this.elementWrapperComponentNameCore(tt.TemplateRendererComponentName,t,"itemvalue",void 0,e)}getElementWrapperComponentData(e,t){return this.elementWrapperDataCore(e,e,"component",t)}getRowWrapperComponentData(e){return this.elementWrapperDataCore(e,e,"row")}getItemValueWrapperComponentData(e,t){return this.elementWrapperDataCore(e,t,"itemvalue",void 0,e)}getMatrixCellTemplateData(e){const t=e.question;return this.elementWrapperDataCore(t,t,"cell")}searchText(e){e&&(e=e.toLowerCase());for(var t=[],s=0;s<this.pages.length;s++)this.pages[s].searchText(e,t);return t}getSkeletonComponentName(e){return this.skeletonComponentName}addLayoutElement(e){const t=this.removeLayoutElement(e.id);return this.layoutElements.push(e),t}findLayoutElement(e){return this.layoutElements.filter(s=>s.id===e)[0]}removeLayoutElement(e){const t=this.findLayoutElement(e);if(t){const s=this.layoutElements.indexOf(t);this.layoutElements.splice(s,1)}return t}getContainerContent(e){const t=new Array;for(let s of this.layoutElements)if(this.mode!=="display"&&kn(s.id,"timerpanel"))e==="header"&&this.isTimerPanelShowingOnTop&&!this.isStartPageActive&&t.push(s),e==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isStartPageActive&&t.push(s);else if(this.state==="running"&&kn(s.id,this.progressBarComponentName)){if(this.questionsOnPageMode!="singlePage"||this.progressBarType=="questions"){const i=this.findLayoutElement("advanced-header"),n=i&&i.data;let o=!n||n.hasBackground;kn(this.progressBarLocation,"aboveHeader")&&(o=!1),kn(this.progressBarLocation,"belowHeader")&&(o=!0),this.showTOC&&!(n&&n.hasBackground)&&this.isShowProgressBarOnTop&&!this.isStartPageActive?e==="center"&&(o?delete s.index:s.index=-150,t.push(s)):(e==="header"&&!o&&(s.index=-150,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(s)),e==="center"&&o&&(s.index&&delete s.index,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(s))),e==="footer"&&this.isShowProgressBarOnBottom&&!this.isStartPageActive&&t.push(s)}}else if(kn(s.id,"buttons-navigation"))e==="contentTop"&&this.isNavigationButtonsShowingOnTop&&t.push(s),e==="contentBottom"&&this.isNavigationButtonsShowingOnBottom&&t.push(s);else if(this.state==="running"&&kn(s.id,"toc-navigation")&&this.showTOC)e==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&t.push(s),e==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&t.push(s);else if(kn(s.id,"advanced-header")){if(this.state==="running"||this.state==="starting"||this.showHeaderOnCompletePage===!0&&this.state==="completed"){const i=s&&s.data;this.showTOC&&!(i&&i.hasBackground)?e==="contentTop"&&t.push(s):s.container===e&&t.push(s)}}else(Array.isArray(s.container)&&s.container.indexOf(e)!==-1||s.container===e)&&t.push(s);return t.sort((s,i)=>(s.index||0)-(i.index||0)),t.forEach(s=>{s.getData&&(s.data=s.getData())}),t}processPopupVisiblityChanged(e,t,s){this.onPopupVisibleChanged.fire(this,{question:e,popup:t,visible:s})}processOpenDropdownMenu(e,t){const s=Object.assign({question:e},t);this.onOpenDropdownMenu.fire(this,s),t.menuType=s.menuType}getCssTitleExpandableSvg(){return null}createCustomChoiceItem(e){this.onCreateCustomChoiceItem.fire(this,e)}applyTheme(e){if(e){if(Object.keys(e).forEach(t=>{t!=="header"&&(t==="isPanelless"?this.isCompact=e[t]:this[t]=e[t])}),"header"in e&&!e.headerView&&(this.headerView="advanced"),this.headerView!=="basic"){this.removeLayoutElement("advanced-header");const t=new It;t.fromTheme(e),this.insertAdvancedHeader(t)}this.themeChanged(e)}}themeChanged(e){this.getAllQuestions().forEach(t=>t.themeChanged(e))}dispose(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(super.dispose(),this.editingObj=null,!!this.pages){this.currentPage=null;for(var e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}}_isElementShouldBeSticky(e){var t;if(!e)return!1;const s=(t=this.scrollerElement)===null||t===void 0?void 0:t.querySelector(e);return s?!!this.scrollerElement&&this.scrollerElement.scrollTop>0&&s.getBoundingClientRect().y<=this.scrollerElement.getBoundingClientRect().y:!1}get rootScrollDisabled(){return!(this.fitToContainer&&this.formScrollDisabled)}get formScrollDisabled(){return!this.backgroundImage||this.backgroundImageAttachment!=="fixed"}onScroll(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top"),this.tocModel&&this.tocModel.updateStickyTOCSize(this.rootElement)),this.onScrollCallback&&this.onScrollCallback()}addScrollEventListener(){this.scrollHandler=()=>{this.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.removeEventListener("scroll",this.scrollHandler))}}tt.TemplateRendererComponentName="sv-template-renderer";tt.platform="unknown";F([z()],tt.prototype,"completedCss",void 0);F([z()],tt.prototype,"completedBeforeCss",void 0);F([z()],tt.prototype,"loadingBodyCss",void 0);F([z()],tt.prototype,"containerCss",void 0);F([z({onSet:(r,e)=>{e.updateCss()}})],tt.prototype,"fitToContainer",void 0);F([z({onSet:(r,e)=>{if(r==="basic")e.removeLayoutElement("advanced-header");else if(!e.findLayoutElement("advanced-header")){const s=new It;e.insertAdvancedHeader(s)}}})],tt.prototype,"headerView",void 0);F([z()],tt.prototype,"showBrandInfo",void 0);F([z()],tt.prototype,"enterKeyAction",void 0);F([z()],tt.prototype,"lazyRenderFirstBatchSizeValue",void 0);F([z({defaultValue:{}})],tt.prototype,"cssVariables",void 0);F([z()],tt.prototype,"_isMobile",void 0);F([z()],tt.prototype,"_isCompact",void 0);F([z({onSet:(r,e)=>{e.updateCss()}})],tt.prototype,"backgroundImage",void 0);F([z()],tt.prototype,"backgroundImageFit",void 0);F([z({onSet:(r,e)=>{e.updateCss()}})],tt.prototype,"backgroundImageAttachment",void 0);F([z()],tt.prototype,"wrapperFormCss",void 0);F([z({getDefaultValue:r=>r.progressBarType==="buttons"})],tt.prototype,"progressBarShowPageTitles",void 0);F([z()],tt.prototype,"progressBarShowPageNumbers",void 0);F([z()],tt.prototype,"progressBarInheritWidthFrom",void 0);F([z({defaultValue:!0})],tt.prototype,"validationEnabled",void 0);F([z()],tt.prototype,"rootCss",void 0);F([z({onSet:(r,e)=>{e.updateGridColumns()}})],tt.prototype,"gridLayoutEnabled",void 0);F([z()],tt.prototype,"calculatedWidthMode",void 0);F([z({defaultValue:100,onSet(r,e,t){e.pages.forEach(s=>s.updateRootStyle())}})],tt.prototype,"widthScale",void 0);F([z()],tt.prototype,"staticStartWidth",void 0);F([z()],tt.prototype,"responsiveStartWidth",void 0);F([_s()],tt.prototype,"layoutElements",void 0);function kn(r,e){return!r||!e?!1:r.toUpperCase()===e.toUpperCase()}ce.addClass("survey",[{name:"locale",choices:()=>vr.getLocales(!0),onGetValue:r=>r.locale==vr.defaultLocale?null:r.locale},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"auto",minValue:0},{name:"logoHeight",default:"40px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"autoFocusFirstQuestion:boolean",alternativeName:"focusFirstQuestionAutomatic"},{name:"autoFocusFirstError:boolean",default:!0,alternativeName:"focusOnFirstError"},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:r=>r.originalPages||r.pages},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(r){return null},onSetValue:function(r,e,t){r.pages.splice(0,r.pages.length);var s=r.addNewPage("");t.toObject({questions:e},s,t==null?void 0:t.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"sjsVersion",visible:!1},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName",{name:"partialSendEnabled:boolean",alternativeName:"sendResultOnPageNext"},{name:"showNavigationButtons:boolean",default:!0},{name:"navigationButtonsLocation",default:"bottom",choices:["top","bottom","topBottom"]},{name:"showPrevButton:boolean",default:!0,visibleIf:r=>r.showNavigationButtons!=="none"},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletePage:boolean",default:!0,alternativeName:"showCompletedPage"},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionOrder",alternativeName:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"off",choices:["on","onPage","recursive","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar:boolean",default:!1,onSetValue:(r,e,t)=>{r&&r.setShowProgressBar(e)}},{name:"progressBarLocation",default:"auto",choices:["auto","aboveheader","belowheader","bottom","topbottom"],visibleIf:r=>r.showProgressBar},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:r=>r.showProgressBar},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:r=>!!r&&r.showTOC},{name:"readOnly:boolean"},{name:"mode",visible:!1,isSerializable:!1},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxCommentLength:number",default:0,minValue:0,alternativeName:"maxOthersLength"},{name:"autoAdvanceEnabled:boolean",alternativeName:"goNextPageAutomatic",onSetValue:function(r,e){e!=="autogonext"&&(e=Y.isTwoValueEquals(e,!0)),e==="autogonext"&&(e=!0),r.setPropertyValue("autoAdvanceEnabled",e)}},{name:"autoAdvanceAllowComplete:boolean",default:!0,alternativeName:"allowCompleteSurveyAutomatic",visibleIf:r=>r.autoAdvanceEnabled===!0},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:r=>r.checkErrorsMode==="onValueChanged"},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:r=>r.firstPageIsStartPage},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:r=>r.showNavigationButtons!=="none"&&r.showPrevButton},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:r=>r.showNavigationButtons!=="none"},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:r=>r.showNavigationButtons!=="none"},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:r=>r.showPreviewBeforeComplete},{name:"editText",serializationProperty:"locEditText",visibleIf:r=>r.showPreviewBeforeComplete},{name:"requiredMark",default:"*",alternativeName:"requiredText"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:r=>!r||r.showQuestionNumbers!=="off"},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredMark"],choices:r=>r?r.getQuestionTitlePatternOptions():[]},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStartPage:boolean",default:!1,alternativeName:"firstPageIsStarted"},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage","inputPerPage"]},{name:"showPreviewBeforeComplete:boolean",default:!1,onSetValue:(r,e,t)=>{r&&r.setShowPreviewBeforeComplete(e)}},{name:"previewMode",default:"allQuestions",choices:["allQuestions","answeredQuestions"],visibleIf:r=>r.showPreviewBeforeComplete},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:r=>r.showTimer},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:r=>r.showTimer},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:r=>r.showTimer},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:r=>r.showTimer},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:r=>r.widthMode==="static"},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);class Vm extends Ze{getBaseType(){return"choiceitem"}get showCommentArea(){return this.getPropertyValue("showCommentArea")}set showCommentArea(e){e&&!this.supportComment&&(e=!1),this.setPropertyValue("showCommentArea",e)}get isCommentRequired(){return this.getPropertyValue("isCommentRequired")}set isCommentRequired(e){this.setPropertyValue("isCommentRequired",e)}get isCommentShowing(){return this.getPropertyValue("isCommentShowing",!1)}get locCommentPlaceholder(){return this.locCommentPlaceholderValue||this.createCommentPlaceholder(),this.locCommentPlaceholderValue}createCommentPlaceholder(){const e=new as(this,!0,"commentPlaceholder");e.onChanged=()=>{this.setPropertyValue("commentPlaceholder",this.locCommentPlaceholderValue.text)},this.locCommentPlaceholderValue=e}get commentPlaceholder(){return this.locCommentPlaceholder.text}set commentPlaceholder(e){this.locCommentPlaceholder.text=e}setIsCommentShowing(e){this.setPropertyValue("isCommentShowing",e)}get supportComment(){const e=this.locOwner;return!e||!e.supportMultipleComment?!1:e.supportMultipleComment(this)}canAddPpropertyToJSON(e){return e.name==="commentPlaceholder"?!!this.locCommentPlaceholderValue:super.canAddPpropertyToJSON(e)}onLocOwnerChanged(){this.showCommentArea&&!this.supportComment&&(this.showCommentArea=!1)}}class jx extends rs{get waitingChoicesByURL(){return!this.isChoicesLoaded&&this.hasChoicesUrl}get selectedItemValues(){return this.getPropertyValue("selectedItemValues")}set selectedItemValues(e){this.setPropertyValue("selectedItemValues",e)}constructor(e){super(e),this.isRunningChoices=!1,this.isFirstLoadChoicesFromUrl=!0,this.isUpdatingChoicesDependedQuestions=!1,this._renderedChoices=[],this.renderedChoicesAnimation=new ra(this.getRenderedChoicesAnimationOptions(),s=>{this._renderedChoices=s,this.renderedChoicesChangedCallback&&this.renderedChoicesChangedCallback()},()=>this._renderedChoices),this.headItemsCount=0,this.footItemsCount=0,this.otherItemValue=this.createItemValue("other"),this.otherItem.showCommentArea=!0,this.otherItem.isCommentRequired=!0,this.noneItemValue=this.createNoneItem(re.noneItemValue,"noneText","noneItemText"),this.refuseItemValue=this.createNoneItem(re.refuseItemValue,"refuseText","refuseItemText"),this.dontKnowItemValue=this.createNoneItem(re.dontKnowItemValue,"dontKnowText","dontKnowItemText"),this.createItemValues("choices"),this.registerPropertyChangedHandlers(["choices"],()=>{this.filterItems()||this.onVisibleChoicesChanged()}),this.createItemValues("customChoices"),this.registerPropertyChangedHandlers(["customChoices"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],()=>{this.onVisibleChanged()}),this.registerPropertyChangedHandlers(["selecteditemValues"],s=>{this.onSelectedItemValuesChangedHandler(s)}),this.createNewArray("visibleChoices",()=>this.updateRenderedChoices(),()=>this.updateRenderedChoices()),this.setNewRestfulProperty();var t=this.createLocalizableString("otherText",this.otherItemValue,!0,"otherItemText");this.createLocalizableString("otherErrorText",this,!0,"otherRequiredError"),this.createLocalizableString("otherPlaceholder",this,!1,!0),this.otherItemValue.setLocText(t),this.choicesByUrl.createItemValue=s=>this.createItemValue(s),this.choicesByUrl.beforeSendRequestCallback=()=>{this.onBeforeSendRequest()},this.choicesByUrl.getResultCallback=s=>{this.onLoadChoicesFromUrl(s)},this.choicesByUrl.updateResultCallback=(s,i)=>this.survey?this.survey.updateChoicesFromServer(this,s,i):s}getType(){return"selectbase"}dispose(){super.dispose();const e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this);const t=this.commentAreaModelValues;t&&Object.keys(t).forEach(s=>{t[s].dispose()})}get otherTextAreaModel(){return this.getCommentTextAreaModel(this.otherItem)}getCommentTextAreaModel(e){const t=e==null?void 0:e.value;if(t===void 0)return null;this.commentAreaModelValues||(this.commentAreaModelValues={});const s=this.commentAreaModelValues;return s[t]||(s[t]=new Rx(this.getOtherTextAreaOptions(e))),s[t]}getOtherTextAreaOptions(e){return{question:this,id:()=>this.getItemCommentId(e),propertyNames:[this.getCommentPropertyValue(e)],className:()=>this.cssClasses.comment,placeholder:()=>this.getCommentPlaceholder(e),isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,maxLength:()=>this.getOthersMaxLength(),autoGrow:()=>this.survey&&this.survey.autoGrowComment,ariaRequired:()=>this.ariaRequired||this.a11y_input_ariaRequired,ariaLabel:()=>this.ariaLabel||this.a11y_input_ariaLabel,getTextValue:()=>this.getCommentValueCore(e),onTextAreaChange:s=>{this.onOtherValueChange(e,s)},onTextAreaInput:s=>{this.onOtherValueInput(e,s)}}}getCommentPlaceholder(e){if(e.commentPlaceholder)return e.commentPlaceholder;if(this.isOtherItemByValue(e))return this.otherPlaceholder;const t=this.commentPlaceholder;return new wm(e).processText(t,!0)}resetDependedQuestion(){this.choicesFromQuestion=""}get otherId(){return this.getItemCommentId(this.otherItem)}getItemCommentId(e){return this.id+"_"+e.normalizedId}getCommentElementsId(){return[this.commentId,this.otherId]}getItemValueType(){return"choiceitem"}createItemValue(e,t){const s=ce.createClass(this.getItemValueType(),{value:e});return s.locOwner=this,t&&(s.text=t),s}validateElementCore(e){return e.isOnValueChanged!==!0&&this.clearIncorrectValues(),super.validateElementCore(e)}get isUsingCarryForward(){return!!this.carryForwardQuestionType}get carryForwardQuestionType(){return this.getPropertyValue("carryForwardQuestionType")}setCarryForwardQuestionType(e,t){const s=e?"select":t?"array":void 0;this.setPropertyValue("carryForwardQuestionType",s)}get isUsingRestful(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1}updateIsUsingRestful(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)}supportGoNextPageError(){return!this.isOtherSelected||!!this.otherValue}isLayoutTypeSupported(e){return!0}localeChanged(){super.localeChanged(),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())}locStrsChanged(){super.locStrsChanged(),this.choicesFromUrl&&(Ze.locStrsChanged(this.choicesFromUrl),Ze.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&Ze.locStrsChanged(this.visibleChoices)}updatePrevOtherErrorValue(e){const t=this.otherValue;e!==t&&(this.prevOtherErrorValue=t)}get otherValue(){return this.getStoreOthersAsComment()?this.getQuestionComment():this.otherValueCore}trimCommentValue(e){if(!(e===""||e&&e.toString().trim()===""))return e}set otherValue(e){e=this.trimCommentValue(e),!this.isSettingComment&&this.otherValue!==e&&(this.onUpdateCommentOnAutoOtherMode(e),this.updatePrevOtherErrorValue(e),this.isSettingComment=!0,this.getStoreOthersAsComment()?this.setNewComment(e):(this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.getValueOnSettingOther(e))),this.isSettingComment=!1,this.updateChoicesDependedQuestions())}get otherValueCore(){return this.getPropertyValue("otherValue")}set otherValueCore(e){this.setPropertyValue("otherValue",e)}get otherItem(){return this.otherItemValue}get isOtherSelected(){return this.showOtherItem&&this.getHasOther(this.renderedValue)}get isNoneSelected(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)}supportMultipleComment(e){return!0}isCommentShowing(e){return e&&e.showCommentArea&&this.isItemSelected(e)}getCommentValue(e){return this.isCommentShowing(e)&&this.getCommentValueCore(e)||""}setCommentValue(e,t){this.isCommentShowing(e)&&this.setCommentValueCore(e,t)}get commentPropertyValue(){return"comment"}getCommentValueCore(e){return this.isOtherItemByValue(e)?this.otherValue:this.getPropertyValue(this.getCommentPropertyValue(e),this.getCommentValueByItem(e))||""}getCommentValueByItem(e){const t=this.value;return typeof t=="object"&&t[this.commentPropertyValue]||""}setCommentValueCore(e,t){this.isOtherItemByValue(e)?this.otherValue=t:(this.setCommentPropertyValue(e,t),this.isItemSelectedCore(e)&&(t?this.value={value:e.value,comment:t}:this.value=e.value))}setCommentPropertyValue(e,t){this.setPropertyValue(this.getCommentPropertyValue(e),t)}isOtherItemByValue(e){return e.value===this.otherItem.value}getCommentPropertyValue(e){return this.isOtherItemByValue(e)?this.getStoreOthersAsComment()?"comment":"otherValue":"other_"+e.normalizedId}get showNoneItem(){return this.getPropertyValue("showNoneItem")}set showNoneItem(e){this.setPropertyValue("showNoneItem",e)}get hasNone(){return this.showNoneItem}set hasNone(e){this.showNoneItem=e}get noneItem(){return this.noneItemValue}get noneText(){return this.getLocalizableStringText("noneText")}set noneText(e){this.setLocalizableStringText("noneText",e)}get locNoneText(){return this.getLocalizableString("noneText")}get showRefuseItem(){return this.getPropertyValue("showRefuseItem")}set showRefuseItem(e){this.setPropertyValue("showRefuseItem",e)}get refuseItem(){return this.refuseItemValue}get refuseText(){return this.getLocalizableStringText("refuseText")}set refuseText(e){this.setLocalizableStringText("refuseText",e)}get locRefuseText(){return this.getLocalizableString("refuseText")}get showDontKnowItem(){return this.getPropertyValue("showDontKnowItem")}set showDontKnowItem(e){this.setPropertyValue("showDontKnowItem",e)}get dontKnowItem(){return this.dontKnowItemValue}get dontKnowText(){return this.getLocalizableStringText("dontKnowText")}set dontKnowText(e){this.setLocalizableStringText("dontKnowText",e)}get locDontKnowText(){return this.getLocalizableString("dontKnowText")}createNoneItem(e,t,s){const i=this.createItemValue(e);i.isExclusive=!0;const n=this.createLocalizableString(t,i,!0,s);return i.setLocText(n),i}get choicesVisibleIf(){return this.getPropertyValue("choicesVisibleIf","")}set choicesVisibleIf(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()}get choicesEnableIf(){return this.getPropertyValue("choicesEnableIf","")}set choicesEnableIf(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()}surveyChoiceItemVisibilityChange(){this.filterItems()}runConditionCore(e){super.runConditionCore(e),this.runItemsEnableCondition(e),this.runItemsCondition(e),this.choices.forEach(t=>{t.runConditionCore(e)})}isTextValue(){return!0}setDefaultIntoValue(e){!this.isValueEmpty(e)&&this.showOtherItem&&this.hasUnknownValue(e,!0)?this.setDefaultUnknownValue(e):super.setDefaultIntoValue(e)}setDefaultUnknownValue(e){this.renderedValue=this.setOtherValueIntoValue(e),this.otherValue=e}valueToData(e){return Y.isValueEmpty(e)?e:Array.isArray(e)?e.length>0?e[0]:void 0:e}filterItems(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredProperties();return this.runItemsEnableCondition(e),this.runItemsCondition(e)}runItemsCondition(e){this.setConditionalChoicesRunner();var t=this.runConditionsForItems(e);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),t&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),t}runItemsEnableCondition(e){this.setConditionalEnableChoicesRunner();var t=Ze.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,(s,i)=>i&&this.onEnableItemCallBack(s));t&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()}onAfterRunItemsEnableCondition(){}onEnableItemCallBack(e){return!0}onSelectedItemValuesChangedHandler(e){var t;(t=this.survey)===null||t===void 0||t.loadedChoicesFromServer(this)}getItemIfChoicesNotContainThisValue(e,t){return this.waitingChoicesByURL?this.createItemValue(e,t):null}getSingleSelectedItem(){const e=this.selectedItemValues;if(this.isEmpty())return null;const t=this.getItemByValue(this.value);return this.onGetSingleSelectedItem(t),!t&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),t||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))}onGetSingleSelectedItem(e){}getMultipleSelectedItems(){return[]}setConditionalChoicesRunner(){const e=this.getExpressionFromSurvey("choicesVisibleIf");e?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new Ci(e)),this.conditionChoicesVisibleIfRunner.expression=e):this.conditionChoicesVisibleIfRunner=null}setConditionalEnableChoicesRunner(){const e=this.getExpressionFromSurvey("choicesEnableIf");e?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new Ci(e)),this.conditionChoicesEnableIfRunner.expression=e):this.conditionChoicesEnableIfRunner=null}canSurveyChangeItemVisibility(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()}changeItemVisibility(){return this.canSurveyChangeItemVisibility()?(e,t)=>this.survey.getChoiceItemVisibility(this,e,t):null}runConditionsForItems(e){this.filteredChoicesValue=[];const t=this.changeItemVisibility();return Ze.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,!this.survey||!this.survey.areInvisibleElementsShowing,(s,i)=>t?t(s,i):i)}getHasOther(e){return this.getIsItemValue(e,this.otherItem)}getIsItemValue(e,t){return e===t.value}get validatedValue(){return this.renderedValueToDataCore(this.value)}createRestful(){return new Zt}setNewRestfulProperty(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this}get autoOtherMode(){return this.getPropertyValue("autoOtherMode")}set autoOtherMode(e){this.setPropertyValue("autoOtherMode",e)}getQuestionComment(){return this.showCommentArea?super.getQuestionComment():this.otherValueCore?this.otherValueCore:this.showCommentArea||this.getStoreOthersAsComment()?super.getQuestionComment():this.otherValueCore}selectOtherValueFromComment(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0}onUpdateCommentOnAutoOtherMode(e){if(!this.autoOtherMode)return;const t=this.isOtherSelected;(!t&&e||t&&!e)&&this.selectOtherValueFromComment(!!e)}getValueOnSettingOther(e){const t=this.rendredValueToData(this.renderedValue);if(this.showCommentArea||this.getStoreOthersAsComment())return t;const s=this.getItemByValue(e);if(!s||s===this.otherItem)return t;if(this.otherValueCore="",!Array.isArray(t))return e;const i=t.indexOf(this.otherItem.value);return i>-1&&t.splice(i,1),t.indexOf(e)<0&&t.push(e),t}clearValue(e){super.clearValue(e),this.selectedItemValues=void 0}get renderedValue(){return this.getPropertyValue("renderedValue",null)}set renderedValue(e){this.setRenderedValue(e,!0)}setRenderedValue(e,t){this.setPropertyValue("renderedValue",e),t&&!this.isReadOnlyAttr&&(e=this.rendredValueToData(e),this.isTwoValueEquals(e,this.value)||(this.value=e)),this.onRenderedValueChagned(t)}onRenderedValueChagned(e){this.choices.forEach(t=>this.updateItemIsCommentShowing(t,e)),this.showOtherItem&&this.updateItemIsCommentShowing(this.otherItem,e)}updateItemIsCommentShowing(e,t){if(e.showCommentArea){const s=this.isCommentShowing(e);e.setIsCommentShowing(s),!s&&t&&this.setCommentValueCore(e,void 0)}}selectItem(e){if(this.isReadOnlyAttr||!e)return;const t=this.getSingleSelectedItem();this.renderedValue=e.value,t&&t!==this.getSingleSelectedItem()&&this.onItemDeselected(t),this.onItemSelected(e)}onItemSelected(e){e.showCommentArea&&this.focusOtherComment(e)}onItemDeselected(e){e.showCommentArea&&this.setCommentValueCore(e,void 0)}setQuestionValue(e,t=!0,s=!0){this.isLoadingFromJson||this.isTwoValueEquals(this.value,e)||(this.setRenderedValue(this.rendredValueFromData(e),!1),super.setQuestionValue(e,t),this.updateChoicesDependedQuestions(),!(this.showCommentArea||!s)&&!this.isOtherSelected&&this.otherValue&&(this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment","")))}setValueCore(e){super.setValueCore(e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)}setNewValue(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),super.setNewValue(e)}valueFromData(e){let t=this.getItemByValue(e,this.activeChoices);return t?this.getChoiceValue(t,e,!1):super.valueFromData(e)}getChoiceValue(e,t,s){const i=typeof t=="object",n=i?t[this.commentPropertyValue]:"",o=!Y.isValueEmpty(n);if(i&&e.showCommentArea&&(s||o)){const l={value:e.value};return o&&(l[this.commentPropertyValue]=n),l}return e.value}getItemByValue(e,t){const s=t||this.visibleChoices;return e&&typeof e=="object"&&!Y.isValueEmpty(e.value)&&(e=e.value),Ze.getItemByValue(s,e)}rendredValueFromData(e){if(e&&typeof e=="object"&&!Y.isValueEmpty(e.value)){const t=this.getItemByValue(e.value);t&&(this.setCommentPropertyValue(t,e[this.commentPropertyValue]),e=e.value)}return this.getStoreOthersAsComment()||!this.showOtherItem?e:this.renderedValueFromDataCore(e)}getValueFromValueWithComment(e){return e&&typeof e=="object"&&!Y.isValueEmpty(e.value)?e.value:e}rendredValueToData(e){return this.getStoreOthersAsComment()?e:this.renderedValueToDataCore(e)}renderedValueFromDataCore(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)}renderedValueToDataCore(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e}needConvertRenderedOtherToDataValue(){let e=this.otherValue;return!e||(e=e.trim(),!e)?!1:this.hasUnknownValue(e,!0,!1)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse}updateSelectedItemValues(){if(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())return;const e=this.value,t=Array.isArray(e)?e:[e];t.some(i=>!this.getItemByValue(i,this.choices))&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:t,setItems:(i,...n)=>{if(this.waitingGetChoiceDisplayValueResponse=!1,!i||!i.length){this.updateIsReady();return}const o=i.map((l,u)=>this.createItemValue(t[u],l));this.setCustomValuesIntoItems(o,n),Array.isArray(e)?this.selectedItemValues=o:this.selectedItemValues=o[0],this.updateIsReady()}}))}setCustomValuesIntoItems(e,t){!Array.isArray(t)||t.length===0||t.forEach(s=>{const i=s.values,n=s.propertyName;if(Array.isArray(i))for(let o=0;o<e.length&&o<i.length;o++)e[o][n]=i[o]})}hasUnknownValue(e,t=!1,s=!0,i=!1){if(!Array.isArray(e))return this.hasUnknownValueItem(e,t,s,i);for(let n=0;n<e.length;n++)if(this.hasUnknownValueItem(e[n],t,s,i))return!0;return!1}hasUnknownValueItem(e,t=!1,s=!0,i=!1){if(!i&&this.isValueEmpty(e)||t&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var n=s?this.getFilteredChoices():this.activeChoices;return this.getItemByValue(e,n)==null}isValueDisabled(e){var t=this.getItemByValue(e,this.getFilteredChoices());return!!t&&!t.isEnabled}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibleChoices()}get customChoices(){return this.getPropertyValue("customChoices")}set customChoices(e){this.setPropertyValue("customChoices",e)}get choicesByUrl(){return this.getPropertyValue("choicesByUrl")}set choicesByUrl(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get choicesFromQuestion(){return this.getPropertyValue("choicesFromQuestion")}set choicesFromQuestion(e){var t=this.getQuestionWithChoices();this.isLockVisibleChoices=!!t&&t.name===e,t&&t.name!==e&&(t.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1}get choicesFromQuestionMode(){return this.getPropertyValue("choicesFromQuestionMode")}set choicesFromQuestionMode(e){this.setPropertyValue("choicesFromQuestionMode",e)}get choiceValuesFromQuestion(){return this.getPropertyValue("choiceValuesFromQuestion")}set choiceValuesFromQuestion(e){this.setPropertyValue("choiceValuesFromQuestion",e)}get choiceTextsFromQuestion(){return this.getPropertyValue("choiceTextsFromQuestion")}set choiceTextsFromQuestion(e){this.setPropertyValue("choiceTextsFromQuestion",e)}get hideIfChoicesEmpty(){return this.getPropertyValue("hideIfChoicesEmpty")}set hideIfChoicesEmpty(e){this.setPropertyValue("hideIfChoicesEmpty",e)}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues",!1)}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get choicesOrder(){return this.getPropertyValue("choicesOrder")}set choicesOrder(e){e=e.toLowerCase(),e!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())}get otherText(){return this.getLocalizableStringText("otherText")}set otherText(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()}get locOtherText(){return this.getLocalizableString("otherText")}get separateSpecialChoices(){return this.getPropertyValue("separateSpecialChoices")}set separateSpecialChoices(e){this.setPropertyValue("separateSpecialChoices",e)}get otherPlaceholder(){return this.getLocalizableStringText("otherPlaceholder")}set otherPlaceholder(e){this.setLocalizableStringText("otherPlaceholder",e)}get locOtherPlaceholder(){return this.getLocalizableString("otherPlaceholder")}get otherPlaceHolder(){return this.otherPlaceholder}set otherPlaceHolder(e){this.otherPlaceholder=e}get otherErrorText(){return this.getLocalizableStringText("otherErrorText")}set otherErrorText(e){this.setLocalizableStringText("otherErrorText",e)}get locOtherErrorText(){return this.getLocalizableString("otherErrorText")}get visibleChoices(){return this.getPropertyValue("visibleChoices")}get enabledChoices(){for(var e=[],t=this.visibleChoices,s=0;s<t.length;s++)t[s].isEnabled&&e.push(t[s]);return e}updateVisibleChoices(){if(this.isLoadingFromJson||this.isDisposed)return;var e=this.calcVisibleChoices(),t=new Array;(e||[]).forEach(i=>t.push(i));const s=this.visibleChoices;(!this.isTwoValueEquals(s,t)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",t),this.updateRenderedChoices())}calcVisibleChoices(){let e=new Array;return this.customChoices.forEach(t=>e.push(t)),this.getFilteredChoices().forEach(t=>e.push(t)),e=this.sortArrayByChoicesOrder(e),this.addToVisibleChoices(e,this.isAddDefaultItems),e}setCanShowOptionItemCallback(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()}get newItem(){return this.newItemValue}addToVisibleChoices(e,t){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,t);const s=new Array;this.addNonChoicesItems(s,t),s.sort((i,n)=>i.index===n.index?0:i.index<n.index?-1:1);for(let i=0;i<s.length;i++){const n=s[i];n.index<0?(e.splice(i,0,n.item),this.headItemsCount++):(e.push(n.item),this.footItemsCount++)}}addNewItemToVisibleChoices(e,t){t&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",()=>{this.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,t,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))}addNonChoicesItems(e,t){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,t,this.showNoneItem,re.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,t,this.showRefuseItem,re.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,t,this.showDontKnowItem,re.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,t,this.showOtherItem,re.specialChoicesOrder.otherItem)}addNonChoiceItem(e,t,s,i,n){this.canShowOptionItem(t,s,i)&&n.forEach(o=>e.push({index:o,item:t}))}canShowOptionItem(e,t,s){let i=t&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(e):!0)||s;return this.canSurveyChangeItemVisibility()?this.changeItemVisibility()(e,i):i}isItemInList(e){return e===this.otherItem?this.showOtherItem:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue}get isAddDefaultItems(){return re.showDefaultItemsInCreator&&this.isInDesignMode&&!this.customWidget}getPlainData(e={includeEmpty:!0,includeQuestionTypes:!1}){var t=super.getPlainData(e);if(t){var s=Array.isArray(this.value)?this.value:[this.value];t.isNode=!0,t.data=(t.data||[]).concat(s.map((i,n)=>{var o=this.getItemByValue(i),l={name:n,title:this.getLocalizationString("choices_Choice"),value:i,displayValue:this.getChoicesDisplayValue(this.visibleChoices,i),getString:u=>typeof u=="object"?JSON.stringify(u):u,isNode:!1};return o&&(e.calculations||[]).forEach(u=>{l[u.propertyName]=o[u.propertyName]}),this.isOtherSelected&&this.otherItemValue===o&&(l.isOther=!0,l.displayValue=this.otherValue),l}))}return t}getDisplayValueCore(e,t){return t=this.getValueFromValueWithComment(t),this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,t):t}getDisplayValueEmpty(){return Ze.getTextOrHtmlByValue(this.visibleChoices,void 0)}getChoicesDisplayValue(e,t){if(t==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;const s=this.getSingleSelectedItem();if(s&&this.isTwoValueEquals(s.value,t))return s.locText.textOrHtml;var i=Ze.getTextOrHtmlByValue(e,t);return i==""&&t?t:i}getDisplayArrayValue(e,t,s){var i=this.visibleChoices,n=[];const o=[];for(var l=0;l<t.length;l++)o.push(s?s(l):t[l]);if(Y.isTwoValueEquals(this.value,o)&&this.getMultipleSelectedItems().forEach((u,c)=>n.push(this.getItemDisplayValue(u,o[c]))),n.length===0)for(var l=0;l<o.length;l++){let c=this.getChoicesDisplayValue(i,o[l]);c&&n.push(c)}return n.join(re.choicesSeparator)}getItemDisplayValue(e,t){if(e===this.otherItem){if(this.showOtherItem&&this.showCommentArea&&t)return t;if(this.comment)return this.comment}return e.locText.textOrHtml}getFilteredChoices(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices}get activeChoices(){const e=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):this.carryForwardQuestionType==="array"?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()}get isMessagePanelVisible(){return this.getPropertyValue("isMessagePanelVisible",!1)}set isMessagePanelVisible(e){this.setPropertyValue("isMessagePanelVisible",e)}get isEmptyActiveChoicesInDesign(){return this.isInDesignMode&&(this.hasChoicesUrl||this.isMessagePanelVisible)}getCarryForwardQuestion(e){const t=this.findCarryForwardQuestion(e),s=this.getQuestionWithChoicesCore(t),i=s?null:this.getQuestionWithArrayValue(t);return this.setCarryForwardQuestionType(!!s,!!i),s||i?t:null}getIsReadyDependsOn(){const e=super.getIsReadyDependsOn();return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e}getQuestionWithChoices(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())}findCarryForwardQuestion(e){var t;return e||(e=this.data||((t=this.parentQuestion)===null||t===void 0?void 0:t.data)),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion}getQuestionWithChoicesCore(e){return e&&e.visibleChoices&&ce.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null}getQuestionWithArrayValue(e){return e&&e.isValueArray?e:null}getChoicesFromArrayQuestion(e){if(this.isInDesignMode)return[];const t=e.value;if(!Array.isArray(t))return[];const s=[];for(var i=0;i<t.length;i++){const n=t[i];if(!Y.isValueObject(n))continue;const o=this.getValueKeyName(n);if(o&&!this.isValueEmpty(n[o])){const l=this.choiceTextsFromQuestion?n[this.choiceTextsFromQuestion]:void 0;s.push(this.createItemValue(n[o],l))}}return s}getValueKeyName(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;const t=Object.keys(e);return t.length>0?t[0]:void 0}getChoicesFromSelectQuestion(e){if(this.isInDesignMode)return[];const t=[];var s=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0;const i=e.visibleChoices;for(var n=0;n<i.length;n++)if(!e.isBuiltInChoice(i[n])){if(s===void 0){t.push(this.copyChoiceItem(i[n]));continue}var o=e.isItemSelected(i[n]);(o&&s||!o&&!s)&&t.push(this.copyChoiceItem(i[n]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&e.isOtherSelected&&e.otherValue&&t.push(this.createItemValue(e.otherItem.value,e.otherValue)),t}copyChoiceItem(e){const t=this.createItemValue(e.value);return t.setData(e),t}get hasActiveChoices(){var e=this.visibleChoices;(!e||e.length==0)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var t=0;t<e.length;t++)if(!this.isBuiltInChoice(e[t]))return!0;return!1}isBuiltInChoice(e){return[this.otherItem,this.noneItem,this.refuseItem,this.dontKnowItem,this.newItemValue].indexOf(e)>-1}isNoneItem(e){return e.isExclusive===!0}getChoices(){return this.choices}get showOtherItem(){return this.getPropertyValue("showOtherItem",!1)}set showOtherItem(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.onVisibleChoicesChanged())}get hasOther(){return this.showOtherItem}set hasOther(e){this.showOtherItem=e}get requireUpdateCommentValue(){return this.showCommentArea||this.showOtherItem}supportOther(){return this.isSupportProperty("showOtherItem")}supportNone(){return this.isSupportProperty("showNoneItem")}supportRefuse(){return this.isSupportProperty("showRefuseItem")}supportDontKnow(){return this.isSupportProperty("showDontKnowItem")}isSupportProperty(e){return!this.isDesignMode||this.getPropertyByName(e).visible}onCheckForErrors(e,t,s){if(super.onCheckForErrors(e,t,s),this.hasEmptyComments()&&(!t||this.prevOtherErrorValue)){const i=new RF(this.otherErrorText,this);i.onUpdateErrorTextCallback=n=>{n.text=this.otherErrorText},e.push(i)}}hasEmptyComments(){const e=this.visibleChoices;for(let t=0;t<e.length;t++){const s=e[t];if(s.isCommentRequired&&this.isCommentShowing(s)&&!this.getCommentValue(e[t]))return!0}return!1}setSurveyImpl(e,t){this.isRunningChoices=!0,super.setSurveyImpl(e,t),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()}setSurveyCore(e){super.setSurveyCore(e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()}getStoreOthersAsComment(){return this.showCommentArea?!1:this.checkHasChoicesComments()?!0:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl}checkHasChoicesComments(){const e=this.choices;for(let t=0;t<e.length;t++)if(e[t].showCommentArea)return!0;return!1}onSurveyLoad(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),super.onSurveyLoad()}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),e!=this.getValueName()&&this.runChoicesByUrl();const s=this.choicesFromQuestion;e&&s&&(e===s||t===s)&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues())}updateValueFromSurvey(e,t){var s="";this.showOtherItem&&this.activeChoices.length>0&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(s=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(s=this.data.getComment(this.getValueName()))),super.updateValueFromSurvey(e,t),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),s&&this.setNewComment(s)}getCommentFromValue(e){return e}setOtherValueIntoValue(e){return this.otherItem.value}onOtherValueInput(e,t){this.isInputTextUpdate&&t.target&&this.setCommentValueCore(e,t.target.value)}onOtherValueChange(e,t){this.setCommentValueCore(e,t.target.value);const s=this.getCommentValueCore(e);s!==t.target.value&&(t.target.value=s||"")}runChoicesByUrl(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isInDesignMode)){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}}onBeforeSendRequest(){re.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)}onLoadChoicesFromUrl(e){this.enableOnLoadingChoices&&(this.readOnly=!1);const t=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error);var s=null,i=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,i=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var n=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,i);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(s=new Array,Ze.setData(s,e)),s)for(var o=0;o<s.length;o++)s[o].locOwner=this;this.setChoicesFromUrl(s,t,n)}canAvoidSettChoicesFromUrl(e){return this.isFirstLoadChoicesFromUrl||(!e||Array.isArray(e)&&e.length===0)&&!this.isEmpty()?!1:Y.isTwoValueEquals(this.choicesFromUrl,e)}setChoicesFromUrl(e,t,s){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var i=this.updateCachedValueForUrlRequests(s,e);if(i&&!this.isReadOnly){var n=!this.isTwoValueEquals(this.value,i.value);try{this.isValueEmpty(i.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=n,n?this.value=i.value:this.setQuestionValue(i.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=t,this.choicesLoaded()}}createCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var s=[],i=0;i<e.length;i++)s.push(this.createCachedValueForUrlRequests(e[i],!0));return s}var n=t?!this.hasUnknownValue(e):!0;return{value:e,isExists:n}}updateCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var s=[],i=0;i<e.length;i++){var n=this.updateCachedValueForUrlRequests(e[i],t);if(n&&!this.isValueEmpty(n.value)){var o=n.value,u=this.getItemByValue(n.value,t);u&&(o=u.value),s.push(o)}}return{value:s}}var l=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,u=this.getItemByValue(l,t);return u&&(l=u.value),{value:l}}updateChoicesDependedQuestions(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)}updateDependedQuestion(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.updateChoicesDependedQuestions()}onVisibleChoicesChanged(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.renderedValue===this.otherItem.value&&this.setRenderedValue(this.rendredValueFromData(this.value),!1),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())}isVisibleCore(){const e=super.isVisibleCore();if(!this.hideIfChoicesEmpty||!e)return e;var t=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!t||t.length>0}sortArrayByChoicesOrder(e){const t=e.slice();if(this.isInDesignMode)return t;const s=this.choicesOrder.toLowerCase();return s=="asc"?this.sortArray(t,1):s=="desc"?this.sortArray(t,-1):s=="random"?this.randomizeArray(t):t}sortArray(e,t){return e.sort(function(s,i){return Y.compareStrings(s.calculatedText,i.calculatedText)*t})}randomizeArray(e){return Y.randomizeArray(e)}get hasChoicesUrl(){return this.choicesByUrl&&!!this.choicesByUrl.url}clearIncorrectValues(){!this.canClearIncorrectValues()||!this.hasValueToClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())}canClearIncorrectValues(){return!(this.canAddCustomChoices()||this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))}canAddCustomChoices(){return!1}hasValueToClearIncorrectValues(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearIncorrectValues()}isItemSelected(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)}isItemSelectedCore(e){return e.value===this.renderedValue}clearDisabledValues(){!this.survey||!this.survey.clearDisabledChoices||this.clearDisabledValuesCore()}clearIncorrectValuesCore(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)}canClearValueAnUnknown(e){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(e,!0,!0,!0)}clearDisabledValuesCore(){this.isValueDisabled(this.value)&&this.clearValue(!0)}clearUnusedValues(){super.clearUnusedValues(),this.isOtherValueUnused()&&(this.otherValue="")}isOtherValueUnused(){return!this.isOtherSelected}getColumnClass(){return new ge().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()}getItemIndex(e){return this.visibleChoices.indexOf(e)}getItemClass(e){const t={item:e};var s=this.getItemClassCore(e,t);return t.css=s,this.survey&&this.survey.updateChoiceItemCss(this,t),t.css}getCurrentColCount(){return this.colCount}getItemClassCore(e,t){const s=new ge().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),i=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),n=i[0],o=i[1],l=this.isItemSelected(e),u=!o&&!l&&!(this.survey&&this.survey.isDesignMode),c=e===this.noneItem;return t.isDisabled=o||n,t.isChecked=l,t.isNone=c,s.append(this.cssClasses.itemDisabled,o).append(this.cssClasses.itemReadOnly,n).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,l).append(this.cssClasses.itemHover,u).append(this.cssClasses.itemNone,c).toString()}getLabelClass(e){return new ge().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()}getControlLabelClass(e){return new ge().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0}updateRenderedChoices(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices}getRenderedChoicesAnimationOptions(){return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getKey:e=>e!=this.newItemValue?e.value:this.newItemValue,getLeaveOptions:e=>{let t=this.cssClasses.itemLeave;if(this.hasColumns){const s=this.bodyItems.indexOf(e);s!==-1&&s!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:pn,onAfterRunAnimation:Br}},getAnimatedElement:e=>e.getRootElement(),getEnterOptions:e=>{let t=this.cssClasses.itemEnter;if(this.hasColumns){const s=this.bodyItems.indexOf(e);s!==-1&&s!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:s=>{if(this.getCurrentColCount()==0&&this.bodyItems.indexOf(e)>=0){const i=s.parentElement.firstElementChild.offsetLeft;s.offsetLeft>i&&Rd(s,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}pn(s)},onAfterRunAnimation:Br}}}}get renderedChoices(){return this._renderedChoices}set renderedChoices(e){this.renderedChoicesAnimation.sync(e)}get headItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,t=[];for(let s=0;s<e;s++)this.renderedChoices[s]&&t.push(this.renderedChoices[s]);return t}get footItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,t=[],s=this.renderedChoices;for(let i=0;i<e;i++)this.renderedChoices[s.length-e+i]&&t.push(this.renderedChoices[s.length-e+i]);return t}get dataChoices(){return this.renderedChoices.filter(e=>!this.isBuiltInChoice(e))}get bodyItems(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices}get hasHeadItems(){return this.headItems.length>0}get hasFootItems(){return this.footItems.length>0}get itemFlowDirection(){return re.itemFlowDirection}get columns(){if(!this.hasColumns||this.renderedChoices.length===0)return[];const e=this.getCurrentColCount();let t=!this.separateSpecialChoices&&!this.isInDesignMode?this.renderedChoices:this.dataChoices;return this.itemFlowDirection==="column"?this.getColumnsWithColumnItemFlow(t,e):this.getColumnsWithRowItemFlow(t,e)}getColumnsWithColumnItemFlow(e,t){const s=[];let i=Math.floor(e.length/t);e.length%t&&(i+=1);let n=e.length,o=t,l=0;for(let u=0;u<t;u++){const c=[];for(let h=0;h<i;h++){n<=o&&(i=1);const p=e[h+l];p&&(c.push(p),n--)}s.push(c),o--,l+=c.length}return s}getColumnsWithRowItemFlow(e,t){const s=[];for(let i=0;i<t;i++){const n=[];for(let o=i;o<e.length;o+=t)n.push(e[o]);s.push(n)}return s}getItemsColumnKey(e){return(e||[]).map(t=>t.value||"").join("")}get hasColumns(){return!this.isMobile&&this.getCurrentColCount()>1}get rowLayout(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)}get blockedRow(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)}choicesLoaded(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()}getItemValueWrapperComponentName(e){const t=this.survey;return t?t.getItemValueWrapperComponentName(e,this):tt.TemplateRendererComponentName}getItemValueWrapperComponentData(e){const t=this.survey;return t?t.getItemValueWrapperComponentData(e,this):e}ariaItemChecked(e){return this.renderedValue===e.value?"true":"false"}isOtherItem(e){return this.showOtherItem&&e.value==this.otherItem.value}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}getSelectBaseRootCss(){return new ge().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()}allowMobileInDesignMode(){return!0}getAriaItemLabel(e){return e.locText.renderedHtml}getItemId(e){return this.inputId+"_"+this.getItemIndex(e)}get questionName(){return this.name+"_"+this.id}getItemEnabled(e){return!this.isDisabledAttr&&e.isEnabled}focusOtherComment(e){var t;this.autoOtherMode||Vt.FocusElement(this.getItemCommentId(e),!1,(t=this.survey)===null||t===void 0?void 0:t.rootElement)}getDefaultItemComponent(){return""}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}}F([_s()],jx.prototype,"_renderedChoices",void 0);class Pm extends jx{constructor(e){super(e)}get colCount(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)}set colCount(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))}onParentChanged(){super.onParentChanged(),this.isFlowLayout&&this.setPropertyValue("colCount",null)}onParentQuestionChanged(){this.onVisibleChoicesChanged()}getSearchableItemValueKeys(e){e.push("choices")}}function $g(r,e){var t;if(!r)return!1;if(r.templateQuestion){const s=(t=r.colOwner)===null||t===void 0?void 0:t.data;if(r=r.templateQuestion,!r.getCarryForwardQuestion(s))return!1}return r.carryForwardQuestionType===e}ce.addClass("choiceitem",[{name:"showCommentArea:boolean",locationInTable:"detail",visibleIf:r=>r.supportComment},{name:"isCommentRequired:boolean",locationInTable:"detail",visibleIf:r=>r.showCommentArea},{name:"commentPlaceholder",locationInTable:"detail",serializationProperty:"locCommentPlaceholder",visibleIf:r=>r.showCommentArea}],r=>new Vm(r),"itemvalue");ce.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:choiceitem[]",uniqueProperty:"value",baseValue:function(){return os("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:r=>$g(r,"select")},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:r=>$g(r,"array")},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:r=>$g(r,"array")},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(r){return r.choicesByUrl.getData()},onSetValue:function(r,e){r.choicesByUrl.setData(e)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"defaultValue:value",visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(r){return r.showOtherItem}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(r){return r.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(r){return r.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(r){return r.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(r){return r.showOtherItem}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(r){return r.showOtherItem}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question");ce.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");class Os extends He{get focusFirstInputSelector(){return this.getFocusFirstInputSelector()}getFocusFirstInputSelector(){return ss?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""}resetItemsSettings(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]}setItems(e,t){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=t,this.listModel.isAllDataLoaded=this.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items}_loadQuestionChoices(e){const t=this.filterString;this.setIsChoicesLoading(!0),this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:(s,i)=>{this.setItems(s||[],i||0),this.popupRecalculatePosition(this.itemsSettings.skip===this.itemsSettings.take),e&&e(),this.processCustomValue(t),this.setIsChoicesLoading(!1)}}),this.itemsSettings.skip+=this.itemsSettings.take}setIsChoicesLoading(e){this.question.setIsChoicesLoading&&this.question.setIsChoicesLoading(e)}processCustomValue(e){if(!this.allowCustomChoices)return;const t=e||this.filterString;this.listModel.getVisibleActions().filter(i=>Y.isTwoValueEquals(i.text,t,!1,!1))[0]?this.customValue=void 0:(this.customValue=t,this.updateItems(),this.listModel.focusFirstVisibleItem())}updateQuestionChoices(e){const t=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||t)&&(this.resetTimer(),this.filterString&&re.dropdownSearchDelay>0?this.timer=setTimeout(()=>{this._loadQuestionChoices(e)},re.dropdownSearchDelay):this._loadQuestionChoices(e))}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updatePopupFocusFirstInputSelector(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector}getDropdownMenuOptions(){const e=qe.getInnerWidth(),t=qe.getInnerHeight(),s=YO(e,t);let i="dropdown",n="desktop";return ss&&(i="popup",n=s?"tablet":"mobile"),{menuType:i,deviceType:n,hasTouchScreen:ss,screenHeight:t,screenWidth:e}}checkFocusRemainsWithinComponent(e){if(!this.question.cssClasses.root||!(e!=null&&e.target))return!1;const t=e.target.closest(Cr(this.question.cssClasses.root));return t&&t.contains(e.relatedTarget)}createButtons(){this.editorButtons=new cs,this.editorButtons.containerCss="sd-dropdown-action-bar",this.chevronButton=new Ke({id:"chevron",css:"sd-editor-chevron-button",iconName:this.question.cssClasses.chevronButtonIconId||"icon-chevron",iconSize:"auto",showTitle:!1,locTitle:this.locSelectCaption,disableTabStop:!0,enabled:new yt(()=>!this.question.isInputReadOnly),visible:new yt(()=>!this.question.isPreviewStyle),action:e=>{this.onClick()}}),this.clearButton=new Ke({id:"clear",css:"sd-editor-clean-button",iconName:this.question.cssClasses.cleanButtonIconId||"icon-cancel-24x24",iconSize:"auto",showTitle:!1,locTitle:this.locClearCaption,disableTabStop:!0,enabled:new yt(()=>!this.question.isInputReadOnly),visible:new yt(()=>{const e=this.question.isEmpty(),t=this.question.isReadOnly;return this.question.allowClear&&!e&&!t}),action:e=>{this.onClear()}}),this.editorButtons.setItems([this.clearButton,this.chevronButton]),this.editorButtons.actions.forEach(e=>e.cssClasses={item:"sd-editor-button-item",itemIcon:"sv-editor-button-item__icon",itemPressed:"sd-editor-button-item--pressed"})}createPopup(){const e={verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1};this._popupModel=new Ps("sv-list",{model:this.listModel},e),this._popupModel.displayMode=ss?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=ss,this._popupModel.setWidthByTarget=!ss,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],()=>{this.updatePopupFocusFirstInputSelector()}),this._popupModel.onVisibilityChanged.add((t,s)=>{this.popupVisibilityChanged(s.isVisible),this.chevronButton.pressed=s.isVisible})}popupVisibilityChanged(e){if(e&&(this.listModel.renderElements=!0),e&&this.choicesLazyLoadEnabled&&(this.listModel.actions=[],this.resetItemsSettings(),this.updateQuestionChoices()),e){this.updatePopupFocusFirstInputSelector();const t=this.getDropdownMenuOptions();this.question.processOpenDropdownMenu(t),this._popupModel.updateDisplayMode(t.menuType)&&this.listModel.setSearchEnabled(this.inputAvailable&&t.menuType!=="dropdown"),this.question.onOpenedCallBack&&this.question.onOpenedCallBack()}e||this.onHidePopup(),this.ariaExpanded=e?"true":"false",this.question.processPopupVisiblilityChanged(this.popupModel,e)}setFilterStringToListModel(e){if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(t=>t.id==this.question.selectedItem.value)[0],this.listModel.filterString&&this.listModel.actions.map(t=>t.selectedValue=!1);return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()}setTextWrapEnabled(e){this.listModel.textWrapEnabled=e}popupRecalculatePosition(e){setTimeout(()=>{this.popupModel.recalculatePosition(e)},1)}onHidePopup(){this.question.suggestedItem=null,this.choicesLazyLoadEnabled&&this.resetItemsSettings(),this.customValue=void 0,this.resetCustomItemValue()}getAvailableItems(){return this.allowCustomChoices?[].concat(this.question.visibleChoices,[this.customItemValue]):this.question.visibleChoices}setOnTextSearchCallbackForListModel(e){e.setOnTextSearchCallback((t,s)=>{if(t.id===this.customItemValue.id)return t.visible;if(this.filteredItems)return this.filteredItems.indexOf(t)>=0;let i=t.text.toLocaleLowerCase();i=re.comparator.normalizeTextCallback(i,"filter");const n=i.indexOf(s.toLocaleLowerCase());return this.question.searchMode=="startsWith"?n==0:n>-1})}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=n=>{this.setQuestionValue(n),this.popupModel.hide()});const s={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},i=new Qt(s);return this.setOnTextSearchCallbackForListModel(i),i.renderElements=!1,i.forceShowFilter=this.question.choicesLazyLoadEnabled,i.areSameItemsCallback=(n,o)=>n===o,i}setQuestionValue(e){let t=e;this.allowCustomChoices&&e.id===this.customItemValue.id&&(t=this.createCustomItem()),t&&(this.resetFilterString(),this.question.selectItem(t),this.searchEnabled&&this.applyInputString(t))}createCustomItem(){const e=new Ze(this.customValue),t={item:e,question:this.question,allow:!0};return this.question.survey.createCustomChoiceItem(t),t.allow?(this.question.customChoices.push(e),this.customValue=void 0,this.updateItems(),e):(this.clear(),null)}updateAfterListModelCreated(e){e.isItemSelected=t=>!!t.selected,e.onPropertyChanged.add((t,s)=>{s.name=="hasVerticalScroller"&&(this.hasScroll=s.newValue)}),e.isAllDataLoaded=!this.choicesLazyLoadEnabled,e.disableSearch=this.choicesLazyLoadEnabled,e.actions.forEach(t=>t.disableTabStop=!0),e.setOnFilterStringChangedCallback(this.listModelFilterStringChanged)}getPopupCssClasses(){return"sv-single-select-list"}updateCssClasses(e,t){this.popupModel.cssClass=new ge().append(e).append(this.getPopupCssClasses()).toString(),this.listModel.cssClasses=t}resetFilterString(){this.filterString&&(this.filterString=void 0,this.listModel.filterString=""),this.inputString=null,this.hintString=""}clear(){this.customValue=void 0,this.resetFilterString()}onSetFilterString(){if(this.filteredItems=void 0,!this.filterString&&!this.popupModel.isVisible)return;const e={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,e),this.filteredItems=e.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();const t=()=>{this.setFilterStringToListModel(this.filterString),this.filterString&&this.applyHintString(),this.popupRecalculatePosition(!0)};this.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(t)):t()}get isAllDataLoaded(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount}loadQuestionChoices(e){this.isAllDataLoaded||this._loadQuestionChoices(e)}get canShowSelectedItem(){return!this.focused||this._markdownMode||!this.searchEnabled}get needRenderInput(){return!this.question.isInputReadOnly||!!this.placeholderRendered}updateCustomItemValue(){this.customValue?(this.customItemValue.text=this.getLocalizationFormatString("createCustomItem",this.customValue),this.customItemValue.visible=!0):this.resetCustomItemValue()}resetCustomItemValue(){this.customItemValue.text="",this.customItemValue.visible=!1}get customItemValue(){return this._customItemValue||(this._customItemValue=new Ze("newCustomItem",this.getLocalizationFormatString("createCustomItem",this.customValue)),this._customItemValue.css="sv-list-item--custom-value"),this._customItemValue}applyInputString(e){(e==null?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e==null?void 0:e.locText.getHtmlValue()),this.hintString=""):(this.inputString=e==null?void 0:e.title,this.hintString=e==null?void 0:e.title)}cleanHtml(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""}fixInputCase(){const e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)}applyHintString(){const e=this.listModel.focusedItem||this.question.selectedItem;(e==null?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):e===this.customItemValue?this.hintString="":this.hintString=e==null?void 0:e.title}get inputStringRendered(){return this.inputString||""}set inputStringRendered(e){var t;this.inputString=e,this.filterString=e,this.choicesLazyLoadEnabled||this.processCustomValue(),(!e||!this.searchEnabled||((t=this.listModel.focusedItem)===null||t===void 0?void 0:t.id)===this.customItemValue.id)&&(this.hintString="")}get placeholderRendered(){return this.hintString||this.question.readOnly||!this.question.isEmpty()?"":this.inputPlaceholder}get listElementId(){return this.question.inputId+"_list"}get hintStringLC(){var e;return((e=this.hintString)===null||e===void 0?void 0:e.toLowerCase())||""}get inputStringLC(){var e;return((e=this.inputString)===null||e===void 0?void 0:e.toLowerCase())||""}get showHintPrefix(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0}get hintStringPrefix(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null}get showHintString(){return!!this.searchEnabled&&!!(this.hintStringLC||this.inputStringLC)||!this.searchEnabled&&this.hintStringLC&&this.question.isEmpty()}get hintStringSuffix(){return this.hintStringLC.indexOf(this.inputStringLC)>=0?this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length):""}get hintStringMiddle(){const e=this.hintStringLC.indexOf(this.inputStringLC);return e==-1?null:this.hintString.substring(e,e+this.inputStringLC.length)}constructor(e,t){super(),this.question=e,this.onSelectionChanged=t,this.minPageSize=25,this.loadingItemHeight=40,this.timer=void 0,this._markdownMode=!1,this.filteredItems=void 0,this.selectedItemSelector=".sv-list__item--selected",this.itemSelector=".sv-list__item",this.itemsSettings={skip:0,take:0,totalCount:0,items:[]},this.listModelFilterStringChanged=i=>{this.filterString!==i&&(this.filterString=i,this.choicesLazyLoadEnabled||this.processCustomValue())},this.questionPropertyChangedHandler=(i,n)=>{this.onPropertyChangedHandler(i,n)},this.ariaExpanded="false",this.createLocalizableString("clearCaption",this.question,!1,!0),this.createLocalizableString("selectCaption",this.question,!1,!0),this.htmlCleanerElement=Re.createElement("div"),e.onPropertyChanged.add(this.questionPropertyChangedHandler),this.showInputFieldComponent=this.question.showInputFieldComponent,this.listModel=this.createListModel(),this.setChoicesLazyLoadEnabled(this.question.choicesLazyLoadEnabled),this.setInputPlaceholder(this.question.placeholder),this.updateAfterListModelCreated(this.listModel),this.setSearchEnabled(this.question.searchEnabled),this.setAllowCustomChoices(this.question.allowCustomChoices),this.setTextWrapEnabled(this.question.textWrapEnabled),this.createPopup(),this.createButtons(),this.resetItemsSettings();const s=e.cssClasses;this.updateCssClasses(s.popup,s.list)}get popupModel(){return this._popupModel}get clearCaption(){return this.getLocalizableStringText("clearCaption")}set clearCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearCaption(){return this.getLocalizableString("clearCaption")}get selectCaption(){return this.getLocalizableStringText("selectCaption")}set selectCaption(e){this.setLocalizableStringText("selectCaption",e)}get locSelectCaption(){return this.getLocalizableString("selectCaption")}get inputAvailable(){return this.searchEnabled||this.allowCustomChoices}get noTabIndex(){return this.question.isInputReadOnly||this.inputAvailable}get filterReadOnly(){return!this.filterStringEnabled||!this.focused}get filterStringEnabled(){return!this.question.isInputReadOnly&&this.inputAvailable}get inputMode(){return ss?"none":"text"}get popupEnabled(){return!this.question.isInputReadOnly}get ariaQuestionRole(){return this.filterStringEnabled?void 0:"combobox"}get ariaQuestionRequired(){return this.ariaQuestionRole?this.question.a11y_input_ariaRequired:void 0}get ariaQuestionInvalid(){return this.ariaQuestionRole?this.question.a11y_input_ariaInvalid:void 0}get ariaQuestionErrorMessage(){return this.ariaQuestionRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaQuestionLabel(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabel:void 0}get ariaQuestionLabelledby(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaQuestionDescribedby(){return this.ariaQuestionRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaQuestionControls(){return this.ariaQuestionRole&&this.popupEnabled?this.listElementId:void 0}get ariaQuestionExpanded(){return this.ariaQuestionRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaQuestionActivedescendant(){return this.ariaQuestionRole?this.ariaActivedescendant:void 0}get ariaInputRole(){return this.filterStringEnabled?"combobox":void 0}get ariaInputRequired(){return this.ariaInputRole?this.question.a11y_input_ariaRequired:void 0}get ariaInputInvalid(){return this.ariaInputRole?this.question.a11y_input_ariaInvalid:void 0}get ariaInputErrorMessage(){return this.ariaInputRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaInputLabel(){return this.ariaInputRole?this.question.a11y_input_ariaLabel:void 0}get ariaInputLabelledby(){return this.ariaInputRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaInputDescribedby(){return this.ariaInputRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaInputControls(){return this.ariaInputRole&&this.popupEnabled?this.listElementId:void 0}get ariaInputExpanded(){return this.ariaInputRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaInputActivedescendant(){return this.ariaInputRole?this.ariaActivedescendant:void 0}setSearchEnabled(e){this.listModel.setSearchEnabled(ss&&(e||this.question.allowCustomChoices)),this.searchEnabled=e}setAllowCustomChoices(e){this.allowCustomChoices=e,e&&(this.searchEnabled=e)}setChoicesLazyLoadEnabled(e){this.choicesLazyLoadEnabled=e,this.listModel.disableSearch=e,this.listModel.isAllDataLoaded=!e}setInputPlaceholder(e){this.inputPlaceholder=e}updateItems(){this.listModel.setItems(this.getAvailableItems())}onClick(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))}chevronPointerDown(e){this._popupModel.isVisible&&e.preventDefault()}onPropertyChangedHandler(e,t){t.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),t.name=="textWrapEnabled"&&this.setTextWrapEnabled(t.newValue)}focusItemOnClickAndPopup(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)}onClear(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())}getSelectedAction(){return this.question.selectedItem||null}changeSelectionWithKeyboard(e){var t;let s=this.listModel.focusedItem;!s&&this.question.selectedItem?Ze.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(s),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(t=this.listModel.focusedItem)===null||t===void 0?void 0:t.elementId}beforeScrollToFocusedItem(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)}afterScrollToFocusedItem(){var e;this.question.value&&!this.listModel.filterString&&this.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(),this.fixInputCase(),this.ariaActivedescendant=(e=this.listModel.focusedItem)===null||e===void 0?void 0:e.elementId}keyHandler(e){let t=!1;const s=e.which||e.keyCode;if(this.popupModel.isVisible&&e.keyCode===38)this.changeSelectionWithKeyboard(!0),t=!0;else if(e.keyCode===40)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===32)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===13)this.question.survey.questionEditFinishCallback(this.question,e),t=!0;else if(this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32&&(!this.searchEnabled||!this.inputString)))e.keyCode===13&&this.searchEnabled&&!this.inputString&&this.question instanceof Nr&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),t=!0;else if(s===46||s===8)this.inputAvailable||this.onClear(e);else if(e.keyCode===27)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((e.keyCode===38||e.keyCode===40||e.keyCode===32&&!this.searchEnabled)&&(t=!0),e.keyCode===32&&this.searchEnabled)return;kx(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}t&&(e.preventDefault(),e.stopPropagation())}onEscape(){this.searchEnabled&&this.applyInputString(this.question.selectedItem)}onScroll(e){const t=e.target;t.scrollHeight-(t.scrollTop+t.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()}onBlur(e){this.checkFocusRemainsWithinComponent(e)||(this.focused=!1,!(this.popupModel.isVisible&&this.popupModel.displayMode=="overlay")&&(pI(e),this._popupModel.hide(),this.resetFilterString(),e.stopPropagation()))}onFocus(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)}setInputStringFromSelectedItem(e){this.focused&&this.searchEnabled&&e&&this.applyInputString(e)}dispose(){super.dispose(),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose(),this.htmlCleanerElement=void 0}scrollToFocusedItem(){this.listModel.scrollToFocusedItem()}}F([z({defaultValue:!1})],Os.prototype,"focused",void 0);F([z({defaultValue:!1})],Os.prototype,"allowCustomChoices",void 0);F([z({onSet:(r,e)=>{e.updateCustomItemValue()}})],Os.prototype,"customValue",void 0);F([z({defaultValue:!0})],Os.prototype,"searchEnabled",void 0);F([z()],Os.prototype,"choicesLazyLoadEnabled",void 0);F([z({defaultValue:"",onSet:(r,e)=>{e.onSetFilterString()}})],Os.prototype,"filterString",void 0);F([z({defaultValue:"",onSet:(r,e)=>{e.question.inputHasValue=!!r}})],Os.prototype,"inputString",void 0);F([z({})],Os.prototype,"showInputFieldComponent",void 0);F([z()],Os.prototype,"ariaActivedescendant",void 0);F([z()],Os.prototype,"ariaExpanded",void 0);F([z()],Os.prototype,"inputPlaceholder",void 0);F([z({defaultValue:!1,onSet:(r,e)=>{r?e.listModel.addScrollEventListener(t=>{e.onScroll(t)}):e.listModel.removeScrollEventListener()}})],Os.prototype,"hasScroll",void 0);F([z({defaultValue:""})],Os.prototype,"hintString",void 0);class Nr extends jx{constructor(e){super(e),this.lastSelectedItemValue=null,this.minMaxChoices=[],this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.getSingleSelectedItem(),this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){super.locStrsChanged(),this.updateReadOnlyText(),this.updateInputPlaceholder(this.placeholder)}updateReadOnlyText(){this.readOnlyText=this.calculateReadOnlyText()}updateInputPlaceholder(e){this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get showOptionsCaption(){return this.allowClear}set showOptionsCaption(e){this.allowClear=e}get showClearButton(){return this.allowClear&&!this.isEmpty()}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.updateInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}getType(){return"dropdown"}get isNewA11yStructure(){return!0}get a11yQuestionAriaRole(){return this.searchEnabled?null:"combobox"}get a11yInputAriaRole(){return this.searchEnabled?"combobox":null}get selectedItem(){return this.getSingleSelectedItem()}isOtherValueUnused(){var e;return!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}onGetSingleSelectedItem(e){e&&(this.lastSelectedItemValue=e)}get isShowingChoiceComment(){var e;return(e=this.selectedItem)===null||e===void 0?void 0:e.showCommentArea}supportAutoAdvance(){return!this.isShowingChoiceComment}getChoices(){var e=super.getChoices();if(this.choicesMax<=this.choicesMin)return e;for(var t=[],s=0;s<e.length;s++)t.push(e[s]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var s=this.choicesMin;s<=this.choicesMax;s+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(s))}return t=t.concat(this.minMaxChoices),t}get choicesMin(){return this.getPropertyValue("choicesMin")}set choicesMin(e){this.setPropertyValue("choicesMin",e)}get choicesMax(){return this.getPropertyValue("choicesMax")}set choicesMax(e){this.setPropertyValue("choicesMax",e)}get choicesStep(){return this.getPropertyValue("choicesStep")}set choicesStep(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}calculateReadOnlyText(){if(this.renderAs=="select"){if(this.isOtherSelected)return this.otherText;if(this.isNoneSelected)return this.noneText;if(this.selectedItem)return this.selectedItemText}return this.selectedItem?this.selectedItemText:this.placeholder}getControlClass(){return new ge().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),this.useDropdownList&&xm(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}get selectedItemLocText(){const e=this.suggestedItem||this.selectedItem;return e==null?void 0:e.locText}get inputFieldComponentName(){return this.inputFieldComponent||this.itemComponent}get showSelectedItemLocText(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem}get showInputFieldComponent(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()}get selectedItemText(){const e=this.selectedItem;return e?e.text:""}get useDropdownList(){return this.renderAs!=="select"}get dropdownListModel(){return!this.isDisposed&&this.useDropdownList&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new Os(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get popupModel(){return this.dropdownListModel.popupModel}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}onSelectedItemValuesChangedHandler(e){var t;(t=this.dropdownListModelValue)===null||t===void 0||t.setInputStringFromSelectedItem(e),super.onSelectedItemValuesChangedHandler(e)}hasUnknownValue(e,t,s,i){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,s,i)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}canAddCustomChoices(){return this.allowCustomChoices}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}valueFromData(e){const t=super.valueFromData(e);if(t&&this.allowCustomChoices&&!this.choicesLazyLoadEnabled&&!this.visibleChoices.filter(i=>Y.isTwoValueEquals(i.id,t,!1,!1))[0]){const i=new Ze(t);this.customChoices.push(i)}return t}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}clearValue(e){var t;super.clearValue(e),this.lastSelectedItemValue=null,(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}afterRenderCore(e){super.afterRenderCore(e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()}onClick(e){this.onOpenedCallBack&&this.onOpenedCallBack()}onKeyUp(e){(e.which||e.keyCode)===46&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}F([z()],Nr.prototype,"allowClear",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(r)}})],Nr.prototype,"searchEnabled",void 0);F([z()],Nr.prototype,"searchMode",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(r)}})],Nr.prototype,"allowCustomChoices",void 0);F([z()],Nr.prototype,"textWrapEnabled",void 0);F([z({defaultValue:!1})],Nr.prototype,"inputHasValue",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(r)}})],Nr.prototype,"choicesLazyLoadEnabled",void 0);F([z()],Nr.prototype,"choicesLazyLoadPageSize",void 0);F([z()],Nr.prototype,"suggestedItem",void 0);ce.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:re.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"allowCustomChoices:boolean",default:!1,visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new Nr("")},"selectbase");gt.Instance.registerQuestion("dropdown",r=>{var e=new Nr(r);return e.choices=gt.DefaultChoices,e});class yB{constructor(e){this.row=e}getValue(e,t,s,i){if(e.length===0)return{isFound:!0,value:this.row.value,context:this}}getTextValue(e,t,s){return s?this.row.getDisplayValue(t):t}}class LI extends Ze{getBaseType(){return"matrixcolumn"}get isExclusive(){return this.getPropertyValue("isExclusive",!1)}set isExclusive(e){this.setPropertyValue("isExclusive",e)}}class xB extends He{constructor(e,t,s,i){super(),this.item=e,this.fullName=t,this.data=s,this.setValueDirectly(i),this.registerPropertyChangedHandlers(["value"],()=>{this.data.onMatrixRowChanged(this)}),this.data.hasErrorInRow(this)&&(this.hasError=!0)}cellClick(e){this.data.cellClick(this,e)}isChecked(e){return this.data.isCellChecked(this,e)}get name(){return this.item.value}get text(){return this.item.text}get locText(){return this.item.locText}get isVisible(){return this.item.isVisible}get value(){return this.getPropertyValue("value")}set value(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))}setValueDirectly(e){this.setPropertyValue("value",e)}getDisplayValue(e){return this.data.getDisplayRowValue(e)}get isReadOnly(){return!this.item.enabled||this.data.isInputReadOnly}get isReadOnlyAttr(){return this.data.isReadOnlyAttr}get isDisabledAttr(){return!this.item.enabled||this.data.isDisabledAttr}get rowTextClasses(){return new ge().append(this.data.cssClasses.rowTextCell).toString()}get hasError(){return this.getPropertyValue("hasError",!1)}set hasError(e){this.setPropertyValue("hasError",e)}get rowClasses(){const e=this.data.cssClasses;return new ge().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()}getValueGetterContext(){return new yB(this)}}class bB extends He{constructor(e){super(),this.cellsOwner=e,this.values={},this.locs={}}getType(){return"cells"}get isEmpty(){return Object.keys(this.values).length==0}valuesChanged(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()}getDefaultCellLocText(e){return this.getCellLocCore(this.defaultRowValue,e)}getCellDisplayLocText(e,t){return this.getCellLocCore(e,t)}getCellLocCore(e,t){if(e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),Y.isValueEmpty(e)||Y.isValueEmpty(t))return null;this.locs[e]||(this.locs[e]={});let s=this.locs[e][t];return s||(s=this.createString(),s.setJson(this.getCellLocData(e,t)),s.onGetTextCallback=i=>{if(!i){const n=Ze.getItemByValue(this.columns,t);if(n)return n.locText.getJson()||n.value}return i},s.onStrChanged=(i,n)=>{this.updateValues(e,t,n)},this.locs[e][t]=s),s}get defaultRowValue(){return re.matrix.defaultRowName}getCellLocData(e,t){let s=this.getCellLocDataFromValue(e,t);return s||this.getCellLocDataFromValue(this.defaultRowValue,t)}getCellLocDataFromValue(e,t){return!this.values[e]||!this.values[e][t]?null:this.values[e][t]}getCellText(e,t){var s=this.getCellLocCore(e,t);return s?s.calculatedText:null}setCellText(e,t,s){const i=this.getCellLocCore(e,t);i&&(i.text=s)}updateValues(e,t,s){s?(this.values[e]||(this.values[e]={}),this.values[e][t]=s,this.valuesChanged()):this.values[e]&&this.values[e][t]&&(delete this.values[e][t],Object.keys(this.values[e]).length==0&&delete this.values[e],this.valuesChanged())}getDefaultCellText(e){var t=this.getCellLocCore(this.defaultRowValue,e);return t?t.calculatedText:null}setDefaultCellText(e,t){this.setCellText(this.defaultRowValue,e,t)}getCellDisplayText(e,t){var s=this.getCellDisplayLocText(e,t);return s?s.calculatedText:null}get rows(){return this.cellsOwner?this.cellsOwner.getRows():[]}get columns(){return this.cellsOwner?this.cellsOwner.getColumns():[]}getCellRowColumnValue(e,t){if(e==null)return null;if(typeof e=="number"){if(e<0||e>=t.length)return null;e=t[e].value}return e.value?e.value:e}getJson(){if(this.isEmpty)return null;const e=this.values[this.defaultRowValue],t={};for(let s in this.values){const i={},n=this.values[s];for(let o in n)if(s===this.defaultRowValue||!e||e[o]!==n[o]){const l=this.getCellLocCore(s,o);i[o]=l?l.getJson():n[o]}t[s]=i}return t}setJson(e,t){if(this.values={},e){for(var s in e)if(s!="pos"){var i=e[s];this.values[s]={};for(var n in i)n!="pos"&&(this.values[s][n]=i[n])}}this.locNotification=!0,this.runFuncOnLocs((o,l,u)=>u.setJson(this.getCellLocData(o,l))),this.locNotification=!1,this.valuesChanged()}locStrsChanged(){this.runFuncOnLocs((e,t,s)=>s.strChanged())}runFuncOnLocs(e){for(let t in this.locs){const s=this.locs[t];for(let i in s)e(t,i,s[i])}}createString(){return new as(this.cellsOwner,!0)}}class CB extends ma{constructor(e){super(),this.question=e}getValue(e,t,s,i){if(e.length>0){const n=super.getValue(e,t,s,i);if(n&&n.isFound)return n}return new bi(this.question.value).getValue(e,t,s,i)}getRootObj(){return this.question.data}updateValueByItem(e,t){var s;const i=this.question.getMatrixRows();e=e.toLocaleLowerCase();for(let n=0;n<i.length;n++){const o=i[n];if((((s=o.name)===null||s===void 0?void 0:s.toString())||"").toLocaleLowerCase()===e){t.isFound=!0,t.context=o.getValueGetterContext();return}}}}class AI extends Cm{constructor(e){super(e),this.isRowChanging=!1,this.emptyLocalizableString=new as(this),this.cellsValue=new bB(this),this.cellsValue.onValuesChanged=()=>{this.updateHasCellText(),this.propertyValueChanged("cells",this.cells,this.cells)},this.registerPropertyChangedHandlers(["columns"],()=>{this.onColumnsChanged()}),this.registerPropertyChangedHandlers(["rows"],()=>{this.runCondition(this.getDataFilteredProperties()),this.onRowsChanged()}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()}),this.registerPropertyChangedHandlers(["cellType"],()=>{this.value=this.convertToCorrectValue(this.value)})}getType(){return"matrix"}get cellType(){return this.getPropertyValue("cellType")}set cellType(e){e!=="checkbox"&&(e="radio"),this.setPropertyValue("cellType",e)}get isMultiSelect(){return this.cellType==="checkbox"}get cellComponent(){return this.getPropertyValue("cellComponent")}set itemComponent(e){this.setPropertyValue("cellComponent",e)}get hasSingleInput(){return!1}get eachRowRequired(){return this.getPropertyValue("eachRowRequired")}set eachRowRequired(e){this.setPropertyValue("eachRowRequired",e)}get isAllRowRequired(){return this.eachRowRequired}set isAllRowRequired(e){this.eachRowRequired=e}get eachRowUnique(){return this.getPropertyValue("eachRowUnique")}set eachRowUnique(e){this.setPropertyValue("eachRowUnique",e)}get hasRows(){return this.rows.length>0}get rowOrder(){return this.getPropertyValue("rowOrder")}set rowOrder(e){e=e.toLowerCase(),e!=this.rowOrder&&(this.setPropertyValue("rowOrder",e),this.onRowsChanged())}get rowsOrder(){return this.rowOrder}set rowsOrder(e){this.rowOrder=e}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getRows(){return this.rows}getColumns(){return this.visibleColumns}addColumn(e,t){var s=new LI(e,t);return this.columns.push(s),s}get checkType(){return this.isMultiSelect?"checkbox":"radio"}formatCss(e){return(e||"").replace("{type}",this.checkType)}getItemClass(e,t){const s=e.isChecked(t),i=this.isReadOnly,n=!s&&!i,o=this.hasCellText,l=this.cssClasses;return new ge().append(l.cell,o).append(o?l.cellText:this.formatCss(l.label)).append(l.itemOnError,!o&&(this.eachRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(o?l.cellTextSelected:this.formatCss(l.itemChecked),s).append(o?l.cellTextDisabled:this.formatCss(l.itemDisabled),this.isDisabledStyle).append(o?l.cellTextReadOnly:this.formatCss(l.itemReadOnly),this.isReadOnlyStyle).append(o?l.cellTextPreview:this.formatCss(l.itemPreview),this.isPreviewStyle).append(this.formatCss(l.itemHover),n&&!o).toString()}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}getItemSvgIcon(e,t){return this.isMultiSelect&&e.isChecked(t)?this.cssClasses.itemPreviewSvgIconId:this.itemSvgIcon}get cssItemValue(){return this.formatCss(this.cssClasses.itemValue)}get cssMaterialDecorator(){return this.formatCss(this.cssClasses.materialDecorator)}get cssItemDecorator(){return this.formatCss(this.cssClasses.itemDecorator)}locStrsChanged(){super.locStrsChanged(),this.cells.locStrsChanged()}getQuizQuestionCount(){for(var e=0,t=0;t<this.rows.length;t++)this.isValueEmpty(this.correctAnswer[this.rows[t].value])||e++;return e}convertToCorrectValue(e){if(e==null||typeof e!="object")return e;const t=Object.keys(e);for(let s=0;s<t.length;s++){const i=t[s],n=e[i];Array.isArray(n)&&!this.isMultiSelect&&(n.length>0?e[i]=n[0]:delete e[i]),!Array.isArray(n)&&this.isMultiSelect&&(e[i]=[n])}return e}getCorrectAnswerCount(){for(var e=0,t=this.value,s=0;s<this.rows.length;s++){var i=this.rows[s].value;!this.isValueEmpty(t[i])&&this.isTwoValueEquals(this.correctAnswer[i],t[i])&&e++}return e}runConditionCore(e){Ze.runEnabledConditionsForItems(this.rows,void 0,e),super.runConditionCore(e)}createRowsVisibleIfRunner(){const e=this.getExpressionFromSurvey("rowsVisibleIf");return e?new Ci(e):null}onRowsChanged(){this.clearGeneratedRows(),super.onRowsChanged()}getMatrixRows(){if(this.generatedVisibleRows)return this.generatedVisibleRows;const e=new Array;let t=this.value;t||(t={});const s=this.rows;for(let i=0;i<s.length;i++){const n=s[i];if(this.isValueEmpty(n.value))continue;const o=this.id+"_"+n.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(n,o,t[n.value]))}return this.generatedVisibleRows=e,e}getVisibleRows(){const e=[];return this.getMatrixRows().forEach(t=>{t.isVisible&&e.push(t)}),e}getRowByName(e){const t=this.visibleRows;for(let s=0;s<t.length;s++)if(t[s].name===e)return t[s];return null}getSingleInputQuestionsCore(e,t){if(this.nestedQuestionsValue)return this.nestedQuestionsValue;const s=[],i=this.isMultiSelect?"checkbox":"radiogroup";return this.visibleRows.forEach(n=>{const o=ce.createClass(i);o.name=n.name,o.locTitle.sharedData=n.locText,o.choices=this.visibleColumns,o.value=n.value,o.isRequired=this.isAllRowRequired,o.setSurveyImpl(this),o.setParentQuestion(this),s.push(o)}),this.nestedQuestionsValue=s,s}resetSingleInput(){super.resetSingleInput(),this.nestedQuestionsValue&&(this.nestedQuestionsValue.forEach(e=>e.dispose()),this.nestedQuestionsValue=null)}getSurveyData(){return this}getTextProcessor(){var e;return(e=this.surveyImpl)===null||e===void 0?void 0:e.getTextProcessor()}getValue(e){const t=this.getRowByName(e);return t?t.value:void 0}setValue(e,t,s,i,n){this.getRowByName(e).value=t}getVariable(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getVariable(e)}setVariable(e,t){var s;(s=this.data)===null||s===void 0||s.setVariable(e,t)}getComment(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getComment(e)}setComment(e,t,s){var i;(i=this.data)===null||i===void 0||i.setComment(e,t,s)}getAllValues(){var e;return(e=this.data)===null||e===void 0?void 0:e.getAllValues()}getFilteredProperties(){var e;return(e=this.data)===null||e===void 0?void 0:e.getFilteredProperties()}findQuestionByName(e){var t;return(t=this.data)===null||t===void 0?void 0:t.findQuestionByName(e)}getEditingSurveyElement(){var e;return(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement()}sortVisibleRows(e){if(this.survey&&this.survey.isDesignMode)return e;var t=this.rowOrder.toLowerCase();return t==="random"?Y.randomizeArray(e):e}endLoadingFromJson(){super.endLoadingFromJson(),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()}isNewValueCorrect(e){return Y.isValueObject(e,!0)}processRowsOnSet(e){return this.sortVisibleRows(e)}get visibleRows(){return this.getVisibleRows()}get cells(){return this.cellsValue}set cells(e){this.cells.setJson(e&&e.getJson?e.getJson():null)}get hasCellText(){return this.getPropertyValue("hasCellText",!1)}updateHasCellText(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)}setCellText(e,t,s){this.cells.setCellText(e,t,s)}getCellText(e,t){return this.cells.getCellText(e,t)}setDefaultCellText(e,t){this.cells.setDefaultCellText(e,t)}getDefaultCellText(e){return this.cells.getDefaultCellText(e)}getCellDisplayText(e,t){return this.cells.getCellDisplayText(e,t)}getCellDisplayLocText(e,t){var s=this.cells.getCellDisplayLocText(e,t);return s||this.emptyLocalizableString}supportAutoAdvance(){return this.isMouseDown===!0&&this.hasValuesInAllRows()}onCheckForErrors(e,t,s){if(super.onCheckForErrors(e,t,s),!t||this.hasCssError()){const i={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(s,i),i.noValue&&e.push(new LF(null,this)),i.isNotUnique&&e.push(new AF(null,this))}}hasValuesInAllRows(){const e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue}checkErrorsAllRows(e,t,s){var i=this.generatedVisibleRows;if(i||(i=this.visibleRows),!i)return;const n=this.eachRowRequired||s,o=this.eachRowUnique;if(t.noValue=!1,t.isNotUnique=!1,e&&(this.errorsInRow=void 0),!n&&!o)return;const l={};for(var u=0;u<i.length;u++){const c=i[u].value;let h=this.isValueEmpty(c);const p=o&&!h&&l[c]===!0;h=h&&n,e&&(h||p)&&this.addErrorIntoRow(i[u]),h||(l[c]=!0),t.noValue=t.noValue||h,t.isNotUnique=t.isNotUnique||p}e&&i.forEach(c=>{c.hasError=this.hasErrorInRow(c)})}addErrorIntoRow(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0}refreshRowsErrors(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})}getIsAnswered(){return super.getIsAnswered()&&this.hasValuesInAllRows()}createMatrixRow(e,t,s){var i=new xB(e,t,this,s);return this.onMatrixRowCreated(i),i}onMatrixRowCreated(e){}setQuestionValue(e,t=!0){if(super.setQuestionValue(e,this.isRowChanging||t),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var s=this.value;if(s||(s={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(s);else for(var i=0;i<this.generatedVisibleRows.length;i++){var n=this.generatedVisibleRows[i],o=s[n.name];this.isValueEmpty(o)&&(o=null),this.generatedVisibleRows[i].setValueDirectly(o)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}}getValueGetterContext(){return new CB(this)}getDisplayValueCore(e,t){var s={};for(var i in t){var n=e?Ze.getTextOrHtmlByValue(this.rows,i):i;n||(n=i);var o=Ze.getTextOrHtmlByValue(this.columns,t[i]);o||(o=t[i]),s[n]=o}return s}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){var s=this.createValueCopy();t.isNode=!0,t.data=Object.keys(s||{}).map(i=>{var n=this.rows.filter(u=>u.value===i)[0],o={name:i,title:n?n.text:"row",value:s[i],displayValue:Ze.getTextOrHtmlByValue(this.visibleColumns,s[i]),getString:u=>typeof u=="object"?JSON.stringify(u):u,isNode:!1},l=Ze.getItemByValue(this.visibleColumns,s[i]);return l&&(e.calculations||[]).forEach(u=>{o[u.propertyName]=l[u.propertyName]}),o})}return t}addConditionObjectsByContext(e,t){for(var s=0;s<this.rows.length;s++){var i=this.rows[s];i.value&&e.push({name:this.getValueName()+"."+i.value,text:this.processedTitle+"."+i.calculatedText,question:this})}}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var s=new Nr(t);s.choices=this.columns;var i=new _t().toJsonObject(s);return i.type=s.getType(),i}clearIncorrectValues(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),super.clearIncorrectValues()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)}clearInvisibleColumnValues(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)}clearInvisibleValuesInRows(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)}clearInvisibleValuesInRowsAndColumns(e,t,s){if(this.isEmpty())return;let i=this.getUnbindValue(this.value);const n={},o=this.rows;for(let l=0;l<o.length;l++){const u=o[l].value;i[u]&&(e&&!o[l].isVisible?delete i[u]:(t&&this.clearIncorrectValuesInRow(u,i),i[u]!=null&&(n[u]=i[u])))}s&&(i=n),!this.isTwoValueEquals(i,this.value)&&(this.value=i)}clearIncorrectValuesInRow(e,t){const s=t[e];if(s===void 0){delete t[e];return}if(this.isMultiSelect&&Array.isArray(s)){for(let i=s.length-1;i>=0;i--)this.getVisibleColumnByValue(s[i])||s.splice(i,1);s.length===0&&delete t[e]}else this.getVisibleColumnByValue(s)||delete t[e]}getVisibleColumnByValue(e){const t=Ze.getItemByValue(this.columns,e);return t&&t.isVisible?t:null}getFirstInputElementId(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":super.getFirstInputElementId()}onMatrixRowChanged(e){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(e.value);else{const t=this.value||{};this.isValueEmpty(e.value)?delete t[e.name]:t[e.name]=e.value,this.setNewValue(t)}this.isRowChanging=!1}}getCorrectedRowValue(e){const t=this.getColumnByValue(e);return t?t.value:e}getDisplayRowValue(e){const t=this.getColumnByValue(e);return t?t.text:e!=null?e.toString():""}cellClick(e,t){this.isReadOnly||this.isDisabledAttr||(e.value=this.getValueOnCellClick(e,t))}getValueOnCellClick(e,t){if(this.isMultiSelect){if(t.isExclusive)return this.isCellChecked(e,t)?void 0:[t.value];let s=Array.isArray(e.value)?[].concat(e.value):[];if(this.isCellChecked(e,t)){const i=this.getRowValueIndex(e,t);i>-1&&s.splice(i,1),s.length===0&&(s=void 0)}else Array.isArray(s)||(s=[]),this.columns.forEach(i=>{if(i.isExclusive){const n=s.indexOf(i.value);n>-1&&s.splice(n,1)}}),s.push(t.value);return s}return t.value}isCellChecked(e,t){return this.isMultiSelect?this.getRowValueIndex(e,t)>-1:Y.isTwoValueEquals(e.value,t.value)}getRowValueIndex(e,t){const s=e.value;if(!Array.isArray(s))return-1;for(let i=0;i<s.length;i++)if(this.isTwoValueEquals(s[i],t.value))return i;return-1}getColumnByValue(e){const t=this.columns;for(var s=0;s<t.length;s++)if(e===t[s].value)return t[s];for(var s=0;s<t.length;s++)if(this.isTwoValueEquals(e,t[s].value))return t[s];return null}hasErrorInRow(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]}getSearchableItemValueKeys(e){e.push("columns"),e.push("rows")}get SurveyModel(){return this.survey}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")}}ce.addClass("matrixcolumn",[{name:"isExclusive:boolean",visibleIf:r=>{var e;return((e=r.locOwner)===null||e===void 0?void 0:e.cellType)==="checkbox"},locationInTable:"detail"}],r=>new LI(r),"itemvalue");ce.addClass("matrix",["rowTitleWidth",{name:"columns:matrixcolumn[]",uniqueProperty:"value",baseValue:function(){return os("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return os("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowOrder",alternativeName:"rowsOrder",default:"initial",choices:["initial","random"]},{name:"eachRowRequired:boolean",alternativeName:"isAllRowRequired"},{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"},{name:"cellType",default:"radio",choices:["radio","checkbox"]}],function(){return new AI("")},"matrixbase");gt.Instance.registerQuestion("matrix",r=>{var e=new AI(r);return e.rows=gt.DefaultRows,e.columns=gt.DefaultColums,e});class DI extends He{updateRemainingCharacterCounter(e,t){this.remainingCharacterCounter=Y.getRemainingCharacterCounterText(e,t)}}F([z()],DI.prototype,"remainingCharacterCounter",void 0);class Im extends rs{constructor(e){super(e),this.characterCounter=new DI}isTextValue(){return!0}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)}getMaxLength(){return Y.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)}updateRemainingCharacterCounter(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}getType(){return"textbase"}isEmpty(){return super.isEmpty()||this.value===""}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}getIsInputTextUpdate(){return this.textUpdateMode=="default"?super.getIsInputTextUpdate():this.textUpdateMode=="onTyping"}get renderedPlaceholder(){const e=()=>this.hasPlaceholder()?this.placeHolder:void 0;return this.getPropertyValue("renderedPlaceholder",void 0,e)}onReadOnlyChanged(){super.onReadOnlyChanged(),this.resetRenderedPlaceholder()}localeChanged(){super.localeChanged(),this.resetRenderedPlaceholder()}supportEmptyValidation(){return!0}resetRenderedPlaceholder(){this.resetPropertyValue("renderedPlaceholder")}hasPlaceholder(){return!this.isReadOnly}setNewValue(e){super.setNewValue(e),this.updateRemainingCharacterCounter(e)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateRemainingCharacterCounter(e)}convertToCorrectValue(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e}getValueSeparator(){return", "}getControlCssClassBuilder(){return new ge().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)}getControlClass(){return this.getControlCssClassBuilder().toString()}get isNewA11yStructure(){return!0}}F([z({localizable:!0,onSet:(r,e)=>e.resetRenderedPlaceholder()})],Im.prototype,"placeholder",void 0);ce.addClass("textbase",[],function(){return new Im("")},"question");class wB{setInputValue(e){this.inputElement.maxLength>=0&&this.inputElement.maxLength<e.length&&(e=e.slice(0,this.inputElement.maxLength)),this.inputElement.value=e}constructor(e,t,s){this.inputMaskInstance=e,this.inputElement=t,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=(n,o)=>{if(o.name!=="saveMaskedValue"){const l=this.inputMaskInstance.getMaskedValue(this.prevUnmaskedValue);this.setInputValue(l)}},this.clickHandler=n=>{this.inputElement.value==this.inputMaskInstance.getMaskedValue("")&&this.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=n=>{const o=this.createArgs(n),l=this.inputMaskInstance.processInput(o);this.setInputValue(l.value),this.inputElement.setSelectionRange(l.caretPosition,l.caretPosition),l.cancelPreventDefault||n.preventDefault()},this.changeHandler=n=>{const o=this.inputMaskInstance.processInput({prevValue:"",insertedChars:n.target.value,selectionStart:0,selectionEnd:0});this.setInputValue(o.value)};let i=s;i==null&&(i=""),this.setInputValue(e.saveMaskedValue?i:e.getMaskedValue(i)),this.prevUnmaskedValue=i,e.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}createArgs(e){const t={insertedChars:e.data,selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd,prevValue:e.target.value,inputDirection:"forward"};return e.inputType==="deleteContentBackward"&&(t.inputDirection="backward",t.selectionStart===t.selectionEnd&&(t.selectionStart=Math.max(t.selectionStart-1,0))),e.inputType==="deleteContentForward"&&t.selectionStart===t.selectionEnd&&(t.selectionEnd+=1),t}addInputEventListener(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))}removeInputEventListener(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))}dispose(){this.removeInputEventListener(),this.inputElement=void 0,this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)}}var Yv=/[0-9]/;function MI(){const e=(ce.getChildrenClasses("masksettings")||[]).map(t=>{let s=t.name;return t.name.indexOf("mask")!==-1&&(s=s.slice(0,s.indexOf("mask"))),s});return e.unshift("none"),e}class $l extends Im{createMaskAdapter(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new wB(this.maskInstance,this.input,this.value))}deleteMaskAdapter(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)}updateMaskAdapter(){this.deleteMaskAdapter(),this.createMaskAdapter()}onSetMaskType(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()}get maskTypeIsEmpty(){switch(this.inputType){case"tel":case"text":return this.maskType==="none";default:return!0}}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){if(!e)return;const t=this.maskSettings;t&&t.dispose(),this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter()}setNewMaskSettingsProperty(){this.setPropertyValue("maskSettings",this.createMaskSettings())}createMaskSettings(){let e=!this.maskType||this.maskType==="none"?"masksettings":this.maskType+"mask";ce.findClass(e)||(e="masksettings");const t=ce.createClass(e);return t.onPropertyChanged.add((s,i)=>{this.onNestedPropertyChanged.fire(this,{name:"maskSettings",newValue:i.newValue,nestedName:i.name}),this.updateInputValue()}),t.owner=this,t}constructor(e){super(e),this._isWaitingForEnter=!1,this.onCompositionUpdate=t=>{this.isInputTextUpdate&&setTimeout(()=>{this.updateValueOnEvent(t)},1),this.updateRemainingCharacterCounter(t.target.value)},this.onKeyUp=t=>{this.updateDateValidationMessage(t),this.isInputTextUpdate?(!this._isWaitingForEnter||t.keyCode===13)&&(this.updateValueOnEvent(t),this._isWaitingForEnter=!1):t.keyCode===13&&this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.readOnlyBlocker=t=>{if(this.isReadOnlyAttr&&["color","range"].indexOf(this.inputType)>-1)return t.preventDefault(),!0},this.onKeyDown=t=>{this.readOnlyBlocker(t)||(this.onKeyDownPreprocess&&this.onKeyDownPreprocess(t),this.isInputTextUpdate&&(this._isWaitingForEnter=t.keyCode===229),this.onTextKeyDownHandler(t))},this.onChange=t=>{this.updateDateValidationMessage(t),t.target===re.environment.root.activeElement?this.isInputTextUpdate&&this.updateValueOnEvent(t):this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.createLocalizableString("minErrorText",this,!0,"minError"),this.createLocalizableString("maxErrorText",this,!0,"maxError"),this.setNewMaskSettingsProperty(),this.locDataListValue=new oF(this),this.locDataListValue.onValueChanged=(t,s)=>{this.propertyValueChanged("dataList",t,s)},this.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],()=>{this.setRenderedMinMax()}),this.registerPropertyChangedHandlers(["inputType","inputSize"],()=>{this.resetInputSize(),this.resetRenderedPlaceholder()})}isTextValue(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1}getType(){return"text"}onSurveyLoad(){super.onSurveyLoad(),this.setRenderedMinMax()}get inputType(){return this.getPropertyValue("inputType")}set inputType(e){e=e.toLowerCase(),(e==="datetime_local"||e==="datetime")&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()}getMaxLength(){return this.isTextInput?super.getMaxLength():null}runConditionCore(e){super.runConditionCore(e),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e)}getDisplayValueCore(e,t){return!this.maskTypeIsEmpty&&!Y.isValueEmpty(t)?this.maskInstance.getMaskedValue(t):super.getDisplayValueCore(e,t)}isLayoutTypeSupported(e){return!0}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get size(){return this.inputSize}set size(e){this.inputSize=e}get isTextInput(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1}get renderedInputSize(){return this.getPropertyValue("renderedInputSize",void 0,()=>{const e=this.calInputSize();return e>0?e:void 0})}get inputWidth(){return this.getPropertyValue("inputWidth",void 0,()=>this.calInputSize()>0?"auto":"")}calInputSize(){if(!this.isTextInput)return 0;let e=this.inputSize>0?this.inputSize:0;return e<1&&this.parent&&this.parent.inputSize&&(e=this.parent.inputSize),e}resetInputSize(){this.resetPropertyValue("renderedInputSize"),this.resetPropertyValue("inputWidth")}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get min(){return this.getPropertyValue("min")}set min(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)}get max(){return this.getPropertyValue("max")}set max(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)}get minValueExpression(){return this.getPropertyValue("minValueExpression","")}set minValueExpression(e){this.setPropertyValue("minValueExpression",e)}get maxValueExpression(){return this.getPropertyValue("maxValueExpression","")}set maxValueExpression(e){this.setPropertyValue("maxValueExpression",e)}get renderedMin(){return this.getPropertyValue("renderedMin")}get renderedMax(){return this.getPropertyValue("renderedMax")}get minErrorText(){return this.getLocalizableStringText("minErrorText")}set minErrorText(e){this.setLocalizableStringText("minErrorText",e)}get locMinErrorText(){return this.getLocalizableString("minErrorText")}get maxErrorText(){return this.getLocalizableStringText("maxErrorText")}set maxErrorText(e){this.setLocalizableStringText("maxErrorText",e)}get locMaxErrorText(){return this.getLocalizableString("maxErrorText")}get isMinMaxType(){return Li(this)}get maskInstance(){return this.maskSettings}get inputValue(){return!this._inputValue&&!this.maskTypeIsEmpty?this.maskInstance.getMaskedValue(""):this._inputValue}set inputValue(e){let t=e;this._inputValue=e,this.maskTypeIsEmpty||(t=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(t),t&&this.maskSettings.saveMaskedValue&&(t=this._inputValue)),this.value=t}getFilteredValue(){return this.getExpressionValue(this.value)}getExpressionValue(e){return!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getUnmaskedValue(e):e}convertToCorrectValue(e){return e!=null&&typeof e!="string"&&!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getMaskedValue(e):super.convertToCorrectValue(e)}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.updateInputValue()}updateInputValue(){const e=this.value;this.maskTypeIsEmpty?this._inputValue=e:this.maskSettings.saveMaskedValue?this._inputValue=e??this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(e)}hasToConvertToUTC(e){return re.storeUtcDates&&this.isDateTimeLocaleType()&&!!e}createDate(e){return Vs("question-text",e)}valueForSurveyCore(e){return this.hasToConvertToUTC(e)&&(e=this.createDate(e).toISOString()),super.valueForSurveyCore(e)}valueFromDataCore(e){if(this.hasToConvertToUTC(e)){const t=this.createDate(e);let i=this.createDate(t.getTime()-t.getTimezoneOffset()*60*1e3).toISOString();e=i.substring(0,i.length-2)}return super.valueFromDataCore(e)}onCheckForErrors(e,t,s){super.onCheckForErrors(e,t,s);const i=this.getIsInputTextUpdate();if(!(t&&i)){if(!this.isOnValueChanged){if(this.isValueLessMin){const n=new qr(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);n.onUpdateErrorTextCallback=o=>{o.text=this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin))},e.push(n)}if(this.isValueGreaterMax){const n=new qr(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);n.onUpdateErrorTextCallback=o=>{o.text=this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax))},e.push(n)}this.isStepNumberIncorrect&&e.push(new qr(this.getStepErrorText(),this)),this.dateValidationMessage&&e.push(new qr(this.dateValidationMessage,this))}if(this.inputType==="email"&&!this.validators.some(n=>n.getType()==="emailvalidator")){const n=this.getValidatorTitle(),o=new vI;o.errorOwner=this;const l=o.validate(this.value,n);l&&l.error&&e.push(l.error)}}}canSetValueToSurvey(){if(!this.isMinMaxType)return!0;const e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.validate(),e}convertFuncValuetoQuestionValue(e){let t=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return Y.convertValToQuestionVal(e,t)}getMinMaxErrorText(e,t){if(Y.isValueEmpty(t))return e;let s=t.toString();return this.inputType==="date"&&t.toDateString&&(s=t.toDateString()),e.replace("{0}",s)}getStepErrorText(){return this.getLocalizationString("stepError").replace("{0}",this.renderedStep)}get isValueLessMin(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)}get isValueGreaterMax(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)}get isStepNumberIncorrect(){if(this.inputType!=="number"||this.isEmpty()||!Y.isNumber(this.renderedStep)||!Y.isNumber(this.value))return!1;const e=Y.getNumber(this.value),t=Y.getNumber(this.renderedStep);return t>0&&e%t!==0}get isDateInputType(){return this.inputType==="date"||this.isDateTimeLocaleType()}isDateTimeLocaleType(){return this.inputType==="datetime-local"}getCalculatedMinMax(e){return this.isValueEmpty(e)?e:this.isDateInputType?this.createDate(e):e}setRenderedMinMax(e=null){const t=(n,o)=>{this.setPropertyValue(n,this.convertFuncValuetoQuestionValue(o))},s=n=>{!n&&this.isDateInputType&&re.minDate&&(n=re.minDate),t("renderedMin",n)},i=n=>{!n&&this.isDateInputType&&(n=re.maxDate?re.maxDate:"2999-12-31"),t("renderedMax",n)};this.runExpressionByProperty("minValueExpression",e,n=>{s(n)})||s(this.min),this.runExpressionByProperty("maxValueExpression",e,n=>{i(n)})||i(this.max)}get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get renderedStep(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step}getIsInputTextUpdate(){return this.maskTypeIsEmpty?super.getIsInputTextUpdate():!1}supportAutoAdvance(){return!this.getIsInputTextUpdate()&&!this.isDateInputType}supportGoNextPageError(){return!this.isDateInputType}get dataList(){return this.locDataList.value}set dataList(e){this.locDataList.value=e}get locDataList(){return this.locDataListValue}get dataListId(){return this.locDataList.hasValue()?this.id+"_datalist":void 0}setNewValue(e){e=this.correctValueType(e),e&&(this.dateValidationMessage=void 0),super.setNewValue(e)}correctValueType(e){if(!e)return e;if(this.inputType==="number"||this.inputType==="range")return Y.isNumber(e)?Y.getNumber(e):"";if(this.inputType==="month"){const t=this.createDate(e),s=t.toISOString().indexOf(e)==0&&e.indexOf("T")==-1,i=s?t.getUTCMonth():t.getMonth(),n=s?t.getUTCFullYear():t.getFullYear(),o=i+1;return n+"-"+(o<10?"0":"")+o}return e}hasPlaceholder(){return!this.isReadOnly&&this.inputType!=="range"}getControlCssClassBuilder(){const e=this.getMaxLength();return super.getControlCssClassBuilder().append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)}isReadOnlyRenderDiv(){return this.isReadOnly&&re.readOnly.textRenderMode==="div"}get inputStyle(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e}updateTextAlign(e){this.inputTextAlignment!=="auto"?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&this.maskSettings.getTextAlignment()!=="auto"&&(e.textAlign=this.maskSettings.getTextAlignment())}updateValueOnEvent(e){const t=e.target.value;this.isTwoValueEquals(this.value,t)||(this.inputValue=t)}updateDateValidationMessage(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0}onBlurCore(e){this.updateDateValidationMessage(e),this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),super.onBlurCore(e)}onFocusCore(e){this.updateRemainingCharacterCounter(e.target.value),super.onFocusCore(e)}afterRenderQuestionElement(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.deleteMaskAdapter(),this.input=void 0}}F([z({onSet:(r,e)=>{e.onSetMaskType(r)}})],$l.prototype,"maskType",void 0);F([z()],$l.prototype,"inputTextAlignment",void 0);F([z()],$l.prototype,"_inputValue",void 0);const SB=["number","range","date","datetime-local","month","time","week"];function Li(r){const e=r?r.inputType:"";return e?SB.indexOf(e)>-1:!1}function s2(r,e){const t=r.split(e);return t.length!==2||!Y.isNumber(t[0])||!Y.isNumber(t[1])?-1:parseFloat(t[0])*60+parseFloat(t[1])}function EB(r,e,t){const s=s2(r,t),i=s2(e,t);return s<0||i<0?!1:s>i}function r2(r,e,t,s){let i=s?t:e;if(!Li(r)||Y.isValueEmpty(e)||Y.isValueEmpty(t))return i;if(r.inputType.indexOf("date")===0||r.inputType==="month"){const n=r.inputType==="month",o="question-text-minmax",l=Vs(o,n?e+"-01":e),u=Vs(o,n?t+"-01":t);if(!l||!u)return i;if(l>u)return s?e:t}if(r.inputType==="week"||r.inputType==="time"){const n=r.inputType==="week"?"-W":":";return EB(e,t,n)?s?e:t:i}if(r.inputType==="number"){if(!Y.isNumber(e)||!Y.isNumber(t))return i;if(Y.getNumber(e)>Y.getNumber(t))return s?e:t}return typeof e=="string"||typeof t=="string"?i:e>t?s?e:t:i}function i2(r,e){r&&r.inputType&&(e.inputType=r.inputType!=="range"?r.inputType:"number",e.textUpdateMode="onBlur")}ce.addClass("text",[{name:"inputType",default:"text",choices:re.questions.inputTypes},{name:"inputSize:number",alternativeName:"size",minValue:0,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:re.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(r){return Li(r)},onPropertyEditorUpdate:function(r,e){i2(r,e)},onSettingValue:(r,e)=>r2(r,e,r.max,!1)},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(r){return Li(r)},onSettingValue:(r,e)=>r2(r,r.min,e,!0),onPropertyEditorUpdate:function(r,e){i2(r,e)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:r=>r.inputType==="text"||r.inputType==="tel",choices:r=>MI()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:r=>r.inputType==="text"||r.inputType==="tel",onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,e){r.maskSettings.setData(e)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="number"||r.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="text":!1}}],function(){return new $l("")},"textbase");gt.Instance.registerQuestion("text",r=>new $l(r));class VB extends ma{constructor(e){super(),this.question=e}getRootObj(){return this.question.data}updateValueByItem(e,t){const s=this.question.items;for(let i=0;i<s.length;i++){const n=s[i].question;if(n.getValueName()===e){t.isFound=!0,t.context=n.getValueGetterContext();return}}}}class PB extends $l{get a11y_input_ariaLabel(){return this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return null}get a11y_input_ariaDescribedBy(){return null}}class jI extends He{constructor(e=null,t=null){super(),this.focusIn=()=>{this.editor.focusIn()},this.editorValue=this.createEditor(e),this.maskSettings=this.editorValue.maskSettings,this.editor.questionTitleTemplateCallback=function(){return""},this.editor.titleLocation="left",t&&(this.title=t),this.editor.onPropertyChanged.add((s,i)=>{i.name!=="maskSettings"&&this.onPropertyChanged.fire(this,i)})}getType(){return"multipletextitem"}get id(){return this.editor.id}getOriginalObj(){return this.editor}get name(){return this.editor.name}set name(e){this.editor.name=e}get question(){return this.data}get editor(){return this.editorValue}createEditor(e){return new PB(e)}addUsedLocales(e){super.addUsedLocales(e),this.editor.addUsedLocales(e)}localeChanged(){super.localeChanged(),this.editor.localeChanged()}locStrsChanged(){super.locStrsChanged(),this.editor.locStrsChanged()}setData(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))}get isRequired(){return this.editor.isRequired}set isRequired(e){this.editor.isRequired=e}get inputType(){return this.editor.inputType}set inputType(e){this.editor.inputType=e}get title(){return this.editor.title}set title(e){this.editor.title=e}get locTitle(){return this.editor.locTitle}get fullTitle(){return this.editor.fullTitle}get maxLength(){return this.editor.maxLength}set maxLength(e){this.editor.maxLength=e}getMaxLength(){var e=this.getSurvey();return Y.getMaxLength(this.maxLength,e?e.maxTextLength:-1)}get placeholder(){return this.editor.placeholder}set placeholder(e){this.editor.placeholder=e}get locPlaceholder(){return this.editor.locPlaceholder}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}get requiredErrorText(){return this.editor.requiredErrorText}set requiredErrorText(e){this.editor.requiredErrorText=e}get locRequiredErrorText(){return this.editor.locRequiredErrorText}get inputSize(){return this.editor.inputSize}set inputSize(e){this.editor.inputSize=e}get size(){return this.inputSize}set size(e){this.inputSize=e}get defaultValueExpression(){return this.editor.defaultValueExpression}set defaultValueExpression(e){this.editor.defaultValueExpression=e}get minValueExpression(){return this.editor.minValueExpression}set minValueExpression(e){this.editor.minValueExpression=e}get maxValueExpression(){return this.editor.maxValueExpression}set maxValueExpression(e){this.editor.maxValueExpression=e}get validators(){return this.editor.validators}set validators(e){this.editor.validators=e}getValidators(){return this.validators}get maskType(){return this.editor.maskType}set maskType(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)}get inputTextAlignment(){return this.editor.inputTextAlignment}set inputTextAlignment(e){this.editor.inputTextAlignment=e}get value(){return this.data?this.data.getMultipleTextValue(this.name):null}set value(e){this.data!=null&&this.data.setMultipleTextValue(this.name,e)}isEmpty(){return this.editor.isEmpty()}onValueChanged(e){this.valueChangedCallback&&this.valueChangedCallback(e)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.data?this.data.getTextProcessor():null}getValue(e){return this.data?this.data.getMultipleTextValue(e):null}setValue(e,t){this.data&&this.data.setMultipleTextValue(e,t)}getVariable(e){}setVariable(e,t){}getComment(e){return null}setComment(e,t){}getAllValues(){return this.data?this.data.getAllValues():this.value}getFilteredProperties(){return{survey:this.getSurvey()}}findQuestionByName(e){const t=this.getSurvey();return t?t.getQuestionByName(e):null}getEditingSurveyElement(){}getValidatorTitle(){return this.title}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getDataFilteredProperties(){return this.getFilteredProperties()}}class Rp extends rs{static addDefaultItems(e){for(var t=gt.DefaultMutlipleTextItems,s=0;s<t.length;s++)e.addItem(t[s])}constructor(e){super(e),this.isMultipleItemValueChanging=!1,this.createNewArray("items",t=>{t.setData(this),this.survey&&this.survey.multipleTextItemAdded(this,t)}),this.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],()=>{this.calcVisibleRows()}),this.registerPropertyChangedHandlers(["inputSize"],()=>{this.resetItemsSize()})}getType(){return"multipletext"}setSurveyImpl(e,t){super.setSurveyImpl(e,t);for(var s=0;s<this.items.length;s++)this.items[s].setData(this)}get isAllowTitleLeft(){return!1}get hasSingleInput(){return!1}get isContainer(){return!0}get id(){return this.getPropertyValue("id")}set id(e){var t;(t=this.items)===null||t===void 0||t.map((s,i)=>s.editor.id=e+"_"+i),this.setPropertyValue("id",e)}onSurveyLoad(){this.editorsOnSurveyLoad(),super.onSurveyLoad(),Y.isValueEmpty(this.rows)||this.calcVisibleRows()}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.performForEveryEditor(s=>{s.editor.updateValueFromSurvey(s.value)}),this.updateIsAnswered()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.performForEveryEditor(t=>{t.editor.onSurveyValueChanged(t.value)})}resetItemsSize(){this.performForEveryEditor(e=>{e.editor.resetInputSize()})}editorsOnSurveyLoad(){this.performForEveryEditor(e=>{e.editor.onSurveyLoad()})}performForEveryEditor(e){for(var t=0;t<this.items.length;t++){var s=this.items[t];s.editor&&e(s)}}get items(){return this.getPropertyValue("items")}set items(e){this.setPropertyValue("items",e)}addItem(e,t=null){var s=this.createTextItem(e,t);return this.items.push(s),s}getItemByName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].name==e)return this.items[t];return null}getElementsInDesign(e=!1){let t;return t=super.getElementsInDesign(e),t.concat(this.items)}addConditionObjectsByContext(e,t){for(var s=0;s<this.items.length;s++){var i=this.items[s];e.push({name:this.getValueName()+"."+i.name,text:this.processedTitle+"."+i.fullTitle,question:this})}}collectNestedQuestionsCore(e,t,s,i){i&&e.push(this),this.items.forEach(n=>n.editor.addNestedQuestion(e,t,s,i))}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var s=this.getItemByName(t);if(!s)return null;var i=new _t().toJsonObject(s);return i.type="text",i}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()}localeChanged(){super.localeChanged();for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()}get itemErrorLocation(){return this.getPropertyValue("itemErrorLocation")}set itemErrorLocation(e){this.setPropertyValue("itemErrorLocation",e)}getQuestionErrorLocation(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()}get showItemErrorOnTop(){return this.getQuestionErrorLocation()=="top"}get showItemErrorOnBottom(){return this.getQuestionErrorLocation()=="bottom"}getChildErrorLocation(e){return this.getQuestionErrorLocation()}isNewValueCorrect(e){return Y.isValueObject(e,!0)}supportAutoAdvance(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<1||e>5||this.setPropertyValue("colCount",e)}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get itemSize(){return this.inputSize}set itemSize(e){this.inputSize=e}get itemTitleWidth(){return this.getPropertyValue("itemTitleWidth")||""}set itemTitleWidth(e){this.setPropertyValue("itemTitleWidth",e)}onRowCreated(e){return e}calcVisibleRows(){const e=this.colCount,t=this.items;let s=0,i,n,o=[];for(var l=0;l<t.length;l++)s==0&&(i=this.onRowCreated(new Tm),n=this.onRowCreated(new IB),this.showItemErrorOnTop?(o.push(n),o.push(i)):(o.push(i),o.push(n))),i.cells.push(new _I(t[l],this)),n.cells.push(new TB(t[l],this)),s++,(s>=e||l==t.length-1)&&(s=0,n.onAfterCreated());this.rows=o}getRows(){return Y.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows}onValueChanged(){super.onValueChanged(),this.onItemValueChanged()}createTextItem(e,t){return new jI(e,t)}onItemValueChanged(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}}runConditionCore(e){super.runConditionCore(e),this.items.forEach(t=>t.editor.runCondition(e))}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1}validateElementCore(e){let t=!0;for(var s=0;s<this.items.length;s++)e.isOnValueChanged&&this.items[s].editor.isEmpty()||(t=this.items[s].editor.validateElement(e)&&t);return super.validateElementCore(e)&&t}getAllErrors(){for(var e=super.getAllErrors(),t=0;t<this.items.length;t++){var s=this.items[t].editor.getAllErrors();s&&s.length>0&&(e=e.concat(s))}return e}clearErrors(){super.clearErrors();for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.items,s=0;s<t.length;s++)if(t[s].editor.containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=0;e<this.items.length;e++){var t=this.items[e].editor;if(t.isVisible&&!t.isAnswered)return!1}return!0}getProgressInfo(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].editor);return Vt.getProgressInfoByElements(e,this.isRequired)}getValueGetterContext(){return new VB(this)}getDisplayValueCore(e,t){if(!t)return t;for(var s={},i=0;i<this.items.length;i++){var n=this.items[i],o=t[n.name];if(!Y.isValueEmpty(o)){var l=n.name;e&&n.title&&(l=n.title),s[l]=n.editor.getDisplayValue(e,o)}}return s}allowMobileInDesignMode(){return!0}getMultipleTextValue(e){return this.value?this.value[e]:null}setMultipleTextValue(e,t){this.isMultipleItemValueChanging=!0,this.isValueEmpty(t)&&(t=void 0);var s=this.value;s||(s={}),s[e]=t,this.setNewValue(s),this.isMultipleItemValueChanging=!1}getItemDefaultValue(e){return this.defaultValue?this.defaultValue[e]:null}getTextProcessor(){return this.textProcessor}getAllValues(){return this.data?this.data.getAllValues():null}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getItemLabelCss(e){return new ge().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()}getItemCss(){return new ge().append(this.cssClasses.item).toString()}getItemTitleCss(){return new ge().append(this.cssClasses.itemTitle).toString()}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}}F([_s()],Rp.prototype,"rows",void 0);class Tm extends He{constructor(){super(...arguments),this.isVisible=!0,this.cells=[]}}F([z()],Tm.prototype,"isVisible",void 0);F([_s()],Tm.prototype,"cells",void 0);class IB extends Tm{onAfterCreated(){const e=()=>{this.isVisible=this.cells.some(t=>{var s,i;return((s=t.item)===null||s===void 0?void 0:s.editor)&&((i=t.item)===null||i===void 0?void 0:i.editor.hasVisibleErrors)})};this.cells.forEach(t=>{var s,i;!((s=t.item)===null||s===void 0)&&s.editor&&((i=t.item)===null||i===void 0||i.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e))}),e()}}class _I{constructor(e,t){this.item=e,this.question=t,this.isErrorsCell=!1}getClassName(){return new ge().append(this.question.cssClasses.cell).toString()}get className(){return this.getClassName()}}class TB extends _I{constructor(){super(...arguments),this.isErrorsCell=!0}getClassName(){return new ge().append(super.getClassName()).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()}}ce.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:re.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:r=>r.inputType==="text",choices:r=>MI()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:r=>r.inputType==="text",onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,e){r.maskSettings.setData(e)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"inputSize:number",alternativeName:"size",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Li(r)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new jI("")});ce.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"inputSize:number",minValue:0,visible:!1,alternativeName:"itemSize"},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new Rp("")},"question");gt.Instance.registerQuestion("multipletext",r=>{var e=new Rp(r);return Rp.addDefaultItems(e),e});class Dd extends Ul{constructor(e=""){super(e),this.createLocalizableString("content",this,!0),this.registerPropertyChangedHandlers(["content"],()=>{this.onContentChanged()})}getType(){return"flowpanel"}getChildrenLayoutType(){return"flow"}onSurveyLoad(){super.onSurveyLoad(),this.onContentChanged()}get content(){return this.getLocalizableStringText("content")}set content(e){this.setLocalizableStringText("content",e)}get locContent(){return this.getLocalizableString("content")}get html(){return this.getPropertyValue("html","")}set html(e){this.setPropertyValue("html",e)}onContentChanged(){var e="";this.onCustomHtmlProducing?e=this.onCustomHtmlProducing():e=this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()}produceHtml(){for(var e=[],t=/{(.*?(element:)[^$].*?)}/g,s=this.content,i=0,n=null;(n=t.exec(s))!==null;){n.index>i&&(e.push(s.substring(i,n.index)),i=n.index);var o=this.getQuestionFromText(n[0]);o?e.push(this.getHtmlForQuestion(o)):e.push(s.substring(i,n.index+n[0].length)),i=n.index+n[0].length}return i<s.length&&e.push(s.substring(i,s.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")}getQuestionFromText(e){return e=e.substring(1,e.length-1),e=e.replace(Dd.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)}getHtmlForQuestion(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""}getQuestionHtmlId(e){return this.name+"_"+e.id}onAddElement(e,t){super.onAddElement(e,t),this.addElementToContent(e),e.renderWidth=""}onRemoveElement(e){var t=this.getElementContentText(e);this.content=this.content.replace(t,""),super.onRemoveElement(e)}dragDropMoveElement(e,t,s){}addElementToContent(e){if(!this.isLoadingFromJson){var t=this.getElementContentText(e);this.insertTextAtCursor(t)||(this.content=this.content+t)}}insertTextAtCursor(e,t=null){if(!this.isDesignMode||!qe.isAvailable())return!1;let s=qe.getSelection();if(s.getRangeAt&&s.rangeCount){let o=s.getRangeAt(0);o.deleteContents();const l=new Text(e);o.insertNode(l);var i=this;if(i.getContent){var n=i.getContent(t);this.content=n}return!0}return!1}getElementContentText(e){return"{"+Dd.contentElementNamePrefix+e.name+"}"}}Dd.contentElementNamePrefix="element:";ce.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new Dd},"panel");class _x extends rs{constructor(e){super(e)}getType(){return"nonvalue"}get hasInput(){return!1}get hasTitle(){return!1}getTitleLocation(){return""}get hasComment(){return!1}validateElementCore(e){return!0}getAllErrors(){return[]}supportAutoAdvance(){return!1}addConditionObjectsByContext(e,t){}getConditionJson(e=null,t=null){return null}get ariaRole(){return null}get ariaRequired(){return null}}ce.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showTitle",visible:!1,isSerializable:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new _x("")},"question");class kB extends rs{constructor(e){super(e)}getType(){return"empty"}}ce.addClass("empty",[],function(){return new kB("")},"question");class NB extends Vm{get isExclusive(){return this.getPropertyValue("isExclusive")}set isExclusive(e){this.setPropertyValue("isExclusive",e)}getBaseType(){return"checkboxitem"}onPropertyValueChanged(e,t,s){super.onPropertyValueChanged(e,t,s),e==="showCommentArea"&&this.locOwner&&this.locOwner.onItemHasCommentChanged()}}class km extends Pm{constructor(e){super(e),this.invisibleOldValues={},this.isChangingValueOnClearIncorrect=!1,this.selectAllItemValue=this.createSelectAllItem(),this.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["choices"],()=>{this.onItemHasCommentChanged()})}getDefaultItemComponent(){return"survey-checkbox-item"}getType(){return"checkbox"}getItemValueType(){return"checkboxitem"}createSelectAllItem(){const e=this.createItemValue("");return e.value="",e.id="selectall",this.selectAllItemText=this.createLocalizableString("selectAllText",e,!0,"selectAllItemText"),e.locOwner=this,e.setLocText(this.selectAllItemText),e}onCreating(){super.onCreating(),this.createNewArray("renderedValue"),this.createNewArray("value")}getFirstInputElementId(){return this.inputId+"_0"}get valuePropertyName(){return this.getPropertyValue("valuePropertyName")}set valuePropertyName(e){this.setPropertyValue("valuePropertyName",e)}getValuePropertyName(){return this.valuePropertyName||(this.isTheOnlyComment?"":"value")}getQuestionFromArray(e,t){if(e&&e===this.getValuePropertyName()){const s=this.value;if(Array.isArray(s)&&t<s.length)return this}return null}getDependedQuestionsByValueName(e){return e&&this.getValuePropertyName()?[]:super.getDependedQuestionsByValueName(e)}get selectAllItem(){return this.selectAllItemValue}get selectAllText(){return this.getLocalizableStringText("selectAllText")}set selectAllText(e){this.setLocalizableStringText("selectAllText",e)}get locSelectAllText(){return this.getLocalizableString("selectAllText")}get showSelectAllItem(){return this.getPropertyValue("showSelectAllItem")}set showSelectAllItem(e){this.setPropertyValue("showSelectAllItem",e)}get hasSelectAll(){return this.showSelectAllItem}set hasSelectAll(e){this.showSelectAllItem=e}get isAllSelected(){return this.allElementsSelected()}set isAllSelected(e){e?this.selectAll():this.clearValue(!0)}toggleSelectAll(){this.isAllSelected=!this.isAllSelected}allElementsSelected(){if(this.isNoneItemsSelected())return!1;const e=this.getVisibleEnableItems();if(e.length===0)return!1;const t=this.value;if(!t||!Array.isArray(t)||t.length===0||t.length<e.length)return!1;const s=[];for(let i=0;i<t.length;i++)s.push(this.getRealValue(t[i]));for(let i=0;i<e.length;i++)if(s.indexOf(e[i].value)<0)return!1;return!0}isNoneItemsSelected(){const e=this.getNoneItems();for(let t=0;t<e.length;t++)if(this.isItemSelected(e[t]))return!0;return!1}getNoneItems(){const e=new Array;return this.visibleChoices.forEach(t=>{this.isNoneItem(t)&&e.push(t)}),e}selectAll(){const e=[],t=this.getVisibleEnableItems();for(let s=0;s<t.length;s++)e.push(t[s].value);this.renderedValue=e}clickItemHandler(e,t){this.selectItem(e,t)}selectItem(e,t){if(!(this.isReadOnlyAttr||!e))if(e===this.selectAllItem)t===!0||t===!1?this.isAllSelected=t:this.toggleSelectAll();else{if(this.isNoneItem(e))this.renderedValue=t?[e.value]:[];else{const s=[].concat(this.renderedValue||[]),i=s.indexOf(e.value);t?i<0&&s.push(e.value):i>-1&&s.splice(i,1),this.renderedValue=s}t&&this.onItemSelected(e)}}isItemSelectedCore(e){if(e===this.selectAllItem)return this.isAllSelected;var t=this.renderedValue;if(!t||!Array.isArray(t))return!1;for(var s=0;s<t.length;s++)if(this.isTwoValueEquals(t[s],e.value))return!0;return!1}hasUnknownValueItem(e,t=!1,s=!0,i=!1){return super.hasUnknownValueItem(this.getRealValue(e),t,s,i)}setCommentValueCore(e,t){if(t=this.trimCommentValue(t),this.isOtherItemByValue(e))super.setCommentValueCore(e,t);else{this.setCommentPropertyValue(e,t);const s=this.getItemValIndexByItemValue(e.value);if(s>-1){const i=this.createValueCopy(),n=i[s];t?n[this.commentPropertyValue]=t:delete n[this.commentPropertyValue],this.value=i}}}getCommentValueByItem(e){const t=this.getItemValIndexByItemValue(e.value);return t>-1?this.value[t][this.commentPropertyValue]:void 0}getItemValIndexByItemValue(e){const t=this.value;if(!Array.isArray(t))return-1;for(let s=0;s<t.length;s++){const i=this.getRealValue(t[s]);if(Y.isTwoValueEquals(i,e))return s}return-1}get isTheOnlyComment(){return this.getPropertyValue("isTheOnlyComment",void 0,()=>this.calcIsTheOnlyComment())}calcIsTheOnlyComment(){for(let e=0;e<this.choices.length;e++){const t=this.choices[e];if(t.showCommentArea&&t.value!==this.otherItem.value)return!1}return!0}onItemHasCommentChanged(){this.resetPropertyValue("isTheOnlyComment")}getRealValue(e){if(!e||typeof e!="object")return e;const t=this.getValuePropertyName();return t?e[t]:e}getValueFromReal(e){const t=this.getValuePropertyName();if(t){const s={};return s[t]=e,s}return e}get isValueArray(){return!0}get maxSelectedChoices(){return this.getPropertyValue("maxSelectedChoices")}set maxSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()}get minSelectedChoices(){return this.getPropertyValue("minSelectedChoices")}set minSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)}get selectedChoices(){const e=this.renderedValue,t=this.visibleChoices,s=this.selectedItemValues;if(this.isEmpty())return[];const i=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,t):t,n=e.map(l=>Ze.getItemByValue(i,l)).filter(l=>!!l);return!n.length&&!s&&this.updateSelectedItemValues(),this.validateItemValues(n)}get selectedItems(){return this.selectedChoices}get hasFilteredValue(){return!!this.getValuePropertyName()}getFilteredName(){let e=super.getFilteredName();return this.hasFilteredValue&&(e+=re.expressionVariables.unwrapPostfix),e}getFilteredValue(e){return e&&this.hasFilteredValue?this.renderedValue:super.getFilteredValue(e)}getMultipleSelectedItems(){return this.selectedChoices}validateItemValues(e){if(e.length)return e;const t=this.selectedItemValues;return t&&t.length?(this.defaultSelectedItemValues=[].concat(t),t):this.renderedValue.map(i=>this.createItemValue(i))}getAnswerCorrectIgnoreOrder(){return!0}onCheckForErrors(e,t,s){if(super.onCheckForErrors(e,t,s),!t&&this.checkMinSelectedChoicesUnreached()){const i=new qr(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(i)}}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.updateSelectAllItemProps()}onEnableItemCallBack(e){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(e):!0}onAfterRunItemsEnableCondition(){this.updateSelectAllItemProps();const e=this.maxSelectedChoices<1||this.isOtherSelected||!this.shouldCheckMaxSelectedChoices();this.otherItem.setIsEnabled(e)}updateSelectAllItemProps(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())}getSelectAllEnabled(){if(!this.hasSelectAll)return!0;let e=this.getVisibleEnableItems().length;const t=this.maxSelectedChoices;return t>0&&t<e?!1:e>0}getVisibleEnableItems(){const e=new Array,t=this.visibleChoices;for(let s=0;s<t.length;s++){const i=t[s];i.isEnabled&&!this.isBuiltInChoice(i)&&!i.isExclusive&&e.push(i)}return e}shouldCheckMaxSelectedChoices(){if(this.maxSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t>=this.maxSelectedChoices}checkMinSelectedChoicesUnreached(){if(this.minSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t===1&&this.isNoneItemsSelected()?!1:t<this.minSelectedChoices}getItemClassCore(e,t){return this.value,t.isSelectAllItem=e===this.selectAllItem,new ge().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemSelectAll,t.isSelectAllItem).toString()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.invisibleOldValues={}}onSurveyLoad(){this.onItemHasCommentChanged(),super.onSurveyLoad()}setDefaultUnknownValue(e){if(!Array.isArray(e)){super.setDefaultUnknownValue(e);return}if(this.hasActiveChoices){const s=[];let i="";for(var t=0;t<e.length;t++){const o=this.getRealValue(e[t]);this.hasUnknownValue(o)?i||(i=o,s.push(this.otherItem.value)):s.push(o)}this.renderedValue=s,this.otherValue=i}else{for(var t=0;t<e.length;t++){const s=this.getRealValue(e[t]);this.addIntoInvisibleOldValues(s)}this.value=e}}addIntoInvisibleOldValues(e){this.invisibleOldValues[e]=e}hasValueToClearIncorrectValues(){return super.hasValueToClearIncorrectValues()||!Y.isValueEmpty(this.invisibleOldValues)}setNewValue(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var t=this.value;e||(e=[]),t||(t=[]),!this.isTwoValueEquals(t,e)&&(this.removeNoneItemsValues(t,e),super.setNewValue(e))}getCommentFromValue(e){var t=this.getFirstUnknownIndex(e);return t<0?"":e[t]}getStoreOthersAsComment(){return this.getValuePropertyName()?!1:super.getStoreOthersAsComment()}setOtherValueIntoValue(e){var t=this.getFirstUnknownIndex(e);if(t<0)return e;let s=this.otherItem.value;const i=this.getValuePropertyName();if(i){const n={};n[i]=s,s=n}return e.splice(t,1,s),e}getFirstUnknownIndex(e){if(!Array.isArray(e))return-1;for(var t=0;t<e.length;t++)if(this.hasUnknownValueItem(e[t],!1,!1))return t;return-1}removeNoneItemsValues(e,t){if(e.length===1&&t.length===1&&this.getRealValue(e[0])===this.getRealValue(t[0]))return;const s=this.getNoneItems().map(i=>i.value);if(s.length>0){const i=this.noneIndexInArray(e,s),n=this.noneIndexInArray(t,s);if(i.index>-1)if(i.val===n.val)t.length>0&&t.splice(n.index,1);else{const o=this.noneIndexInArray(t,[i.val]);o.index>-1&&o.index<t.length-1&&t.splice(o.index,1)}else n.index>-1&&t.length>1&&t.splice(0,t.length,this.getValueFromReal(n.val))}}noneIndexInArray(e,t){if(!Array.isArray(e))return{index:-1,val:void 0};for(var s=e.length-1;s>=0;s--){const i=t.indexOf(this.getRealValue(e[s]));if(i>-1)return{index:s,val:t[i]}}return{index:-1,val:void 0}}supportSelectAll(){return this.isSupportProperty("showSelectAllItem")}addNonChoicesItems(e,t){super.addNonChoicesItems(e,t),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,t,this.hasSelectAll,re.specialChoicesOrder.selectAllItem)}isBuiltInChoice(e){return e===this.selectAllItem||super.isBuiltInChoice(e)}isItemInList(e){return e==this.selectAllItem?this.hasSelectAll:super.isItemInList(e)}getDisplayValueEmpty(){return Ze.getTextOrHtmlByValue(this.visibleChoices.filter(e=>e!=this.selectAllItemValue),void 0)}getDisplayValueCore(e,t){if(!Array.isArray(t))return super.getDisplayValueCore(e,t);const s=this.getValuePropertyName(),i=n=>{let o=t[n];return s&&o[s]&&(o=o[s]),o};return this.getDisplayArrayValue(e,t,i)}clearIncorrectValuesCore(){this.clearIncorrectAndDisabledValues(!1)}clearDisabledValuesCore(){this.clearIncorrectAndDisabledValues(!0)}clearIncorrectAndDisabledValues(e){var t=this.value,s=!1,i=this.restoreValuesFromInvisible();if(!(!t&&i.length==0)){if(!Array.isArray(t)||t.length==0){if(this.isChangingValueOnClearIncorrect=!0,e||(this.showCommentArea?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,i.length==0)return;t=[]}for(var n=[],o=0;o<t.length;o++){const u=this.getRealValue(t[o]);var l=this.canClearValueAnUnknown(u);!e&&!l||e&&!this.isValueDisabled(u)?n.push(t[o]):(s=!0,l&&this.addIntoInvisibleOldValues(t[o]))}for(var o=0;o<i.length;o++)n.push(i[o]),s=!0;s&&(this.isChangingValueOnClearIncorrect=!0,n.length==0?this.clearValue(!0):this.value=n,this.isChangingValueOnClearIncorrect=!1)}}restoreValuesFromInvisible(){for(var e=[],t=this.visibleChoices,s=0;s<t.length;s++){const n=t[s];if(n!==this.selectAllItem){var i=t[s].value;Y.isTwoValueEquals(i,this.invisibleOldValues[i])&&(this.isItemSelected(n)||e.push(i),delete this.invisibleOldValues[i])}}return e}getConditionJson(e=null,t=null){const s=super.getConditionJson(e,t);return(e=="contains"||e=="notcontains")&&(s.type="radiogroup"),s.maxSelectedChoices=0,s.minSelectedChoices=0,s}isAnswerCorrect(){return Y.isArrayContainsEqual(this.value,this.correctAnswer)}setDefaultValueWithOthers(){this.value=this.renderedValueFromDataCore(this.defaultValue)}getIsItemValue(e,t){return!e||!Array.isArray(e)?!1:e.indexOf(t.value)>=0}valueFromData(e){if(!e)return e;if(!Array.isArray(e))return[super.valueFromData(e)];let t=[];for(let s=0;s<e.length;s++){const i=this.getItemByValue(e[s],this.visibleChoices);i?t.push(this.getChoiceValue(i,e[s],!0)):t.push(e[s])}return t}rendredValueFromData(e){return e=this.convertValueFromObject(e),super.rendredValueFromData(e)}convertValueFromObject(e){if(!this.getValuePropertyName()||!Array.isArray(e))return e;const s=[];for(let i=0;i<e.length;i++)s.push(this.getRealValue(e[i]));return s}renderedValueFromDataCore(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var t=0;t<e.length;t++){if(e[t]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[t],!0,!1)){this.otherValue=e[t];var s=e.slice();return s[t]=this.otherItem.value,s}}return e}renderedValueToDataCore(e){if(!e||!e.length)return e;const t=[],s=this.createValueCopy();for(var i=0;i<e.length;i++){let n=-1,o=e[i];o===this.otherItem.value&&this.needConvertRenderedOtherToDataValue()?(n=this.getFirstUnknownIndex(s),o=this.otherValue,n>-1&&(s[n]=this.getValueFromReal(this.otherValue))):n=this.getItemValIndexByItemValue(o),n>-1?t.push(s[n]):t.push(this.getValueFromReal(o))}return t}valueToData(e){if(Y.isValueEmpty(e)||(Array.isArray(e)||(e=[e]),!this.getValuePropertyName()))return e;const s=[];for(let i=0;i<e.length;i++){const n=e[i];s.push(typeof n=="object"?n:this.getValueFromReal(n))}return s}selectOtherValueFromComment(e){var t=[];const s=this.renderedValue;if(Array.isArray(s))for(var i=0;i<s.length;i++)s[i]!==this.otherItem.value&&t.push(s[i]);e&&t.push(this.otherItem.value),this.value=t}get checkBoxSvgPath(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"group"}get a11y_input_ariaRequired(){return null}}ce.addClass("checkboxitem",[{name:"isExclusive:boolean",locationInTable:"detail"}],r=>new NB(r),"choiceitem");ce.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:(r,e)=>{if(e<=0)return 0;const t=r.minSelectedChoices;return t>0&&e<t?t:e}},{name:"minSelectedChoices:number",default:0,onSettingValue:(r,e)=>{if(e<=0)return 0;const t=r.maxSelectedChoices;return t>0&&e>t?t:e}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(r){return r.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new km("")},"checkboxbase");ce.getProperty("checkbox","choices").type="checkboxitem[]";gt.Instance.registerQuestion("checkbox",r=>{var e=new km(r);return e.choices=gt.DefaultChoices,e});class OI extends Qt{updateItemState(){this.actions.forEach(e=>{const t=this.isItemSelected(e);e.visible=this.hideSelectedItems?!t:!0})}constructor(e){super(e),this.onItemClick=t=>{this.isItemDisabled(t)||(this.isExpanded=!1,this.isItemSelected(t)?(this.selectedItems.splice(this.selectedItems.indexOf(t),1)[0],this.onSelectionChanged&&this.onSelectionChanged(t,"removed")):(this.selectedItems.push(t),this.onSelectionChanged&&this.onSelectionChanged(t,"added")))},this.isItemDisabled=t=>t.enabled!==void 0&&!t.enabled,this.isItemSelected=t=>!!this.allowSelection&&this.selectedItems.filter(s=>this.areSameItems(s,t)).length>0,this.setSelectedItems(e.selectedItems||[])}updateState(){this.updateItemState(),this.raiseUpdate({needUpdateIsEmpty:!0})}setSelectedItems(e){this.selectedItems=e,this.updateState()}selectFocusedItem(){super.selectFocusedItem(),this.hideSelectedItems&&this.focusNextVisibleItem()}}F([z()],OI.prototype,"hideSelectedItems",void 0);class oc extends Os{get needRenderInput(){return!this.question.isInputReadOnly||!!this.filterStringPlaceholder}locStrsChanged(){super.locStrsChanged(),this.syncFilterStringPlaceholder()}updateListState(){this.listModel.updateState(),this.updateCustomItemValue(),this.syncFilterStringPlaceholder()}syncFilterStringPlaceholder(){this.getSelectedActions().length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder}getSelectedActions(){return this.listModel.actions.filter(e=>e.selected)}getFocusFirstInputSelector(){return this.listModel.hideSelectedItems&&ss&&!this.isValueEmpty(this.question.value)?this.itemSelector:super.getFocusFirstInputSelector()}getPopupCssClasses(){return"sv-multi-select-list"}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=(n,o)=>{this.resetFilterString(),n.id==="selectall"?this.selectAllItems():o==="added"&&n.value===re.noneItemValue?this.selectNoneItem():o==="added"?this.selectItem(n.value):o==="removed"&&this.deselectItem(n.value),this.popupRecalculatePosition(!1),this.closeOnSelect&&(this.popupModel.isVisible=!1)});const s={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},i=new OI(s);return this.setOnTextSearchCallbackForListModel(i),i.forceShowFilter=this.question.choicesLazyLoadEnabled,i}get shouldResetAfterCancel(){return ss&&!this.closeOnSelect}createPopup(){super.createPopup(),this.popupModel.onFooterActionsCreated.add((e,t)=>{t.actions.push({id:"sv-dropdown-done-button",title:this.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:()=>{this.popupModel.isVisible=!1},enabled:new yt(()=>!this.isTwoValueEquals(this.question.renderedValue,this.previousValue))})}),this.popupModel.onVisibilityChanged.add((e,t)=>{this.shouldResetAfterCancel&&t.isVisible&&(this.previousValue=[].concat(this.question.renderedValue||[]))}),this.popupModel.onCancel=()=>{this.shouldResetAfterCancel&&(this.question.renderedValue=this.previousValue,this.updateListState())}}selectAllItems(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()}selectNoneItem(){this.question.renderedValue=[re.noneItemValue],this.updateListState()}selectItem(e){let t;if(this.allowCustomChoices&&e===this.customItemValue.id){const s=this.createCustomItem();s&&(t=s.id)}else t=e;if(t!=null){let s=[].concat(this.question.renderedValue||[]);s.push(t),this.question.renderedValue=s,this.updateListState()}}deselectItem(e){let t=[].concat(this.question.renderedValue||[]);t.splice(t.indexOf(e),1),this.question.renderedValue=t,this.applyHintString(),this.updateListState()}clear(){super.clear(),this.syncFilterStringPlaceholder()}onClear(e){super.onClear(e),this.updateListState()}setHideSelectedItems(e){this.listModel.hideSelectedItems=e,this.updateListState()}removeLastSelectedItem(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)}constructor(e,t){super(e,t),this.setHideSelectedItems(e.hideSelectedItems),this.syncFilterStringPlaceholder(),this.closeOnSelect=e.closeOnSelect}inputKeyHandler(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())}setInputStringFromSelectedItem(e){this.question.searchEnabled&&(this.inputString=null)}focusItemOnClickAndPopup(){}onEscape(){}beforeScrollToFocusedItem(e){}afterScrollToFocusedItem(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(),this.syncFilterStringPlaceholder()}onPropertyChangedHandler(e,t){super.onPropertyChangedHandler(e,t),(t.name==="value"||t.name==="renderedValue"||t.name==="placeholder")&&this.syncFilterStringPlaceholder()}}F([z({defaultValue:""})],oc.prototype,"filterStringPlaceholder",void 0);F([z({defaultValue:!0})],oc.prototype,"closeOnSelect",void 0);F([z()],oc.prototype,"previousValue",void 0);F([z({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],oc.prototype,"doneButtonCaption",void 0);class Ei extends km{constructor(e){super(e),this.itemDisplayNameMap={},this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.deselectAllItemText=this.createLocalizableString("deselectAllText",this.selectAllItem,!0,"deselectAllItemText"),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getDefaultItemComponent(){return""}get dropdownListModel(){return!this.isDisposed&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new oc(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}getType(){return"tagbox"}supportMultipleComment(e){return e===this.otherItem}get a11yInputAriaRole(){return"combobox"}get popupModel(){return this.dropdownListModel.popupModel}getControlClass(){return new ge().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),xm(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}hasUnknownValue(e,t=!1,s=!0,i=!1){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,s,i)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}validateItemValues(e){this.updateItemDisplayNameMap();const t=this.renderedValue;if(e.length&&e.length===t.length)return e;const s=this.selectedItemValues;if(!e.length&&s&&s.length)return this.defaultSelectedItemValues=[].concat(s),s;const i=e.map(n=>n.value);return t.filter(n=>i.indexOf(n)===-1).forEach(n=>{const o=this.getItemIfChoicesNotContainThisValue(n,this.itemDisplayNameMap[n]);o&&e.push(o)}),e.sort((n,o)=>t.indexOf(n.value)-t.indexOf(o.value)),e}updateItemDisplayNameMap(){const e=t=>{this.itemDisplayNameMap[t.value]=t.text};(this.defaultSelectedItemValues||[]).forEach(e),(this.selectedItemValues||[]).forEach(e),this.visibleChoices.forEach(e)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}valueFromData(e){const t=super.valueFromData(e);return t&&t.length>0&&this.allowCustomChoices&&!this.choicesLazyLoadEnabled&&t.forEach(s=>{if(!this.visibleChoices.filter(n=>Y.isTwoValueEquals(n.id,s,!1,!1))[0]){const n=new Ze(s);this.customChoices.push(n)}}),t}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}canAddCustomChoices(){return this.allowCustomChoices}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}allElementsSelected(){const e=super.allElementsSelected();return this.updateSelectAllItemText(e),e}updateSelectAllItemText(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}clearValue(e){var t;super.clearValue(e),(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}get showClearButton(){return this.allowClear&&!this.isEmpty()}}F([z()],Ei.prototype,"searchMode",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(r)}})],Ei.prototype,"allowCustomChoices",void 0);F([z()],Ei.prototype,"allowClear",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(r)}})],Ei.prototype,"searchEnabled",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setHideSelectedItems(r)}})],Ei.prototype,"hideSelectedItems",void 0);F([z({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(r)}})],Ei.prototype,"choicesLazyLoadEnabled",void 0);F([z()],Ei.prototype,"choicesLazyLoadPageSize",void 0);F([z({getDefaultValue:()=>re.tagboxCloseOnSelect})],Ei.prototype,"closeOnSelect",void 0);F([z()],Ei.prototype,"textWrapEnabled",void 0);ce.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"allowCustomChoices:boolean",default:!1,visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new Ei("")},"checkbox");gt.Instance.registerQuestion("tagbox",r=>{const e=new Ei(r);return e.choices=gt.DefaultChoices,e});class RB extends PI{constructor(){super(...arguments),this.doDragOver=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="grabbing"},this.doBanDropHere=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="not-allowed"}}get draggedElementType(){return"item-value"}createDraggedElementShortcut(e,t,s){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,e,t,s);const i=Re.createElement("div");if(!i)return;i.className="sv-drag-drop-choices-shortcut";const o=t.closest("[data-sv-drop-target-item-value]").cloneNode(!0);o.classList.add("sv-drag-drop-choices-shortcut__content");const l=o.querySelector(".svc-item-value-controls__drag-icon");l.style.visibility="visible";const u=o.querySelector(".svc-item-value-controls__remove");u.style.backgroundColor="transparent",o.classList.remove("svc-item-value--moveup"),o.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,i.appendChild(o);const c=t.getBoundingClientRect();return i.shortcutXOffset=s.clientX-c.x,i.shortcutYOffset=s.clientY-c.y,this.isBottom=null,typeof this.onShortcutCreated=="function"&&this.onShortcutCreated(i),i}createImagePickerShortcut(e,t,s,i){const n=Re.createElement("div");if(!n)return;n.classList.add("sv-drag-drop-image-picker-shortcut");const o=s.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=o.querySelector(".svc-image-item-value-controls");const l=o.querySelector(".sd-imagepicker__image-container");let u=o.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),l.style.width=u.width+"px",l.style.height=u.height+"px",u.style.objectFit="cover",u.style.borderRadius="4px",n.appendChild(u),n}getDropTargetByDataAttributeValue(e){let t;return t=this.parentElement.choices.filter(s=>""+s.value==e)[0],t}getChoices(){const e=this.parentElement;return e.getType()==="ranking"?e.selectToRankEnabled?e.unRankingChoices:e.rankingChoices:e.visibleChoices}isDropTargetValid(e,t){const s=this.getChoices();if(this.parentElement.getType()!=="imagepicker"){const i=s.indexOf(this.dropTarget),n=s.indexOf(this.draggedElement);if(n>i&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(n<i&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return s.indexOf(e)!==-1}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}calculateIsBottom(e,t){const s=t.getBoundingClientRect();return e>=s.y+s.height/2}afterDragOver(e){const t=this.getChoices(),s=t.indexOf(this.dropTarget),i=t.indexOf(this.draggedElement);if(i<s&&this.isBottom===!0)t.splice(i,1),t.splice(s,0,this.draggedElement);else if(i>s&&this.isBottom===!1)t.splice(s,1),t.splice(i,0,this.dropTarget);else return;this.parentElement.getType()!=="imagepicker"&&(i!==s&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),i>s&&(this.dropTarget.isDragDropMoveDown=!0),i<s&&(this.dropTarget.isDragDropMoveUp=!0),super.ghostPositionChanged())}doDrop(){const e=this.parentElement.choices,t=this.getChoices().filter(n=>e.indexOf(n)!==-1),s=e.indexOf(this.draggedElement);let i=t.indexOf(this.draggedElement);return e.splice(s,1),e.splice(i,0,this.draggedElement),this.parentElement}clear(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),super.clear()}updateVisibleChoices(e){e.getType()==="ranking"?e.updateRankingChoices():e.updateVisibleChoices()}}class FI extends RB{constructor(){super(...arguments),this.isDragOverRootNode=!1,this.doDragOver=()=>{const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="grabbing"},this.reorderRankedItem=(e,t,s)=>{if(t==s)return;const i=e.rankingChoices,n=i[t];e.isValueSetByUser=!0,i.splice(t,1),i.splice(s,0,n),this.updateDraggedElementShortcut(s+1)},this.doBanDropHere=()=>{if(this.isDragOverRootNode){this.allowDropHere=!0;return}const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="not-allowed",ss&&this.parentElement.updateRankingChoices(!0)}}get draggedElementType(){return"ranking-item"}createDraggedElementShortcut(e,t,s){const i=Re.createElement("div");if(!i)return;i.className=this.shortcutClass+" sv-ranking-shortcut";const o=t.cloneNode(!0);i.appendChild(o);const l=t.getBoundingClientRect();i.style.left=l.x,i.style.top=l.y,this.domAdapter.rootElement.append(i);const u=i.offsetHeight;let c=s.clientY;return c>l.y+u&&(c=l.y+u-10),i.shortcutXOffset=s.clientX-l.x,i.shortcutYOffset=c-l.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(i.style.width=t.offsetWidth+"px",i.style.height=t.offsetHeight+"px"),i}get shortcutClass(){return new ge().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,Px).toString()}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]}findDropTargetNodeByDragOverNode(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),super.findDropTargetNodeByDragOverNode(e)}getIsDragOverRootNode(e){return typeof e.className=="string"&&e.className.indexOf("sv-ranking")!==-1}isDropTargetValid(e,t){return this.parentElement.rankingChoices.indexOf(e)!==-1}calculateIsBottom(e,t){return this.dropTarget instanceof Ze&&this.draggedElement!==this.dropTarget?super.calculateIsBottom(e,t):!1}getIndices(e,t,s){let i=t.indexOf(this.draggedElement),n=s.indexOf(this.dropTarget);return i<0&&this.draggedElement&&(this.draggedElement=Ze.getItemByValue(t,this.draggedElement.value)||this.draggedElement,i=t.indexOf(this.draggedElement)),n===-1?n=e.value.length:t==s?(!this.isBottom&&i<n&&n--,this.isBottom&&i>n&&n++):t!=s&&this.isBottom&&n++,{fromIndex:i,toIndex:n}}afterDragOver(e){const{fromIndex:t,toIndex:s}=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices);this.reorderRankedItem(this.parentElement,t,s)}updateDraggedElementShortcut(e){var t;if(!((t=this.domAdapter)===null||t===void 0)&&t.draggedElementShortcut){const s=e!==null?e+"":"",i=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");i.innerText=s}}ghostPositionChanged(){this.parentElement.currentDropTarget=this.draggedElement,super.ghostPositionChanged()}doDrop(){return this.parentElement.setValue(),this.parentElement}clear(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),super.clear()}}class LB extends FI{constructor(){super(...arguments),this.selectToRank=(e,t,s)=>{const i=[].concat(e.rankingChoices),o=e.unRankingChoices[t];i.splice(s,0,o),this.updateChoices(e,i)},this.unselectFromRank=(e,t,s)=>{const i=[].concat(e.rankingChoices);i.splice(t,1),this.updateChoices(e,i)}}findDropTargetNodeByDragOverNode(e){if(e.dataset.ranking==="from-container"||e.dataset.ranking==="to-container")return e;let t=e.closest("[data-ranking='to-container']"),s=e.closest("[data-ranking='from-container']");return this.parentElement.unRankingChoices.length===0&&s?s:this.parentElement.rankingChoices.length===0&&t?t:super.findDropTargetNodeByDragOverNode(e)}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]}getDropTargetByNode(e,t){return e.dataset.ranking==="to-container"?"to-container":e.dataset.ranking==="from-container"||e.closest("[data-ranking='from-container']")?"from-container":super.getDropTargetByNode(e,t)}isDropTargetValid(e,t){return e==="to-container"||e==="from-container"?!0:super.isDropTargetValid(e,t)}afterDragOver(e){const t=this.parentElement,s=t.rankingChoices,i=t.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,i,s,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,s,s,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,s,i,this.unselectFromRank);return}}doRankBetween(e,t,s,i){const n=this.parentElement;let{fromIndex:o,toIndex:l}=this.getIndices(n,t,s);i(n,o,l,e)}get isDraggedElementRanked(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1}get isDropTargetRanked(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1}get isDraggedElementUnranked(){return!this.isDraggedElementRanked}updateChoices(e,t){e.isValueSetByUser=!0,e.rankingChoices=t,e.updateUnRankingChoices(t)}}class Ui extends km{constructor(e){super(e),this.domNode=null,this.onVisibleChoicesChanged=()=>{if(super.onVisibleChoicesChanged(),this.carryForwardStartUnranked&&!this.isValueSetByUser&&!this.selectToRankEnabled&&!this.defaultValue&&(this.value=[]),this.visibleChoices.length===1&&!this.selectToRankEnabled){this.value=[],this.value.push(this.visibleChoices[0].value),this.updateRankingChoices();return}if(this.isEmpty()){this.updateRankingChoices();return}if(this.selectToRankEnabled){this.updateRankingChoices();return}this.visibleChoices.length>this.value.length&&this.addToValueByVisibleChoices(),this.visibleChoices.length<this.value.length&&this.removeFromValueByVisibleChoices(),this.updateRankingChoices()},this.localeChanged=()=>{super.localeChanged(),this.updateRankingChoicesSync()},this._rankingChoicesAnimation=new ra(this.getChoicesAnimationOptions(!0),t=>{this._renderedRankingChoices=t},()=>this.renderedRankingChoices),this._unRankingChoicesAnimation=new ra(this.getChoicesAnimationOptions(!1),t=>{this._renderedUnRankingChoices=t},()=>this.renderedUnRankingChoices),this.rankingChoices=[],this.unRankingChoices=[],this._renderedRankingChoices=[],this._renderedUnRankingChoices=[],this.handlePointerDown=(t,s,i)=>{const n=t.target;this.isDragStartNodeValid(n)&&this.isAllowStartDrag(n,s)&&(this.draggedChoiceValue=s.value,this.draggedTargetNode=i,this.dragOrClickHelper.onPointerDown(t))},this.startDrag=t=>{const s=Ze.getItemByValue(this.visibleChoices,this.draggedChoiceValue);this.dragDropRankingChoices.startDrag(t,s,this,this.draggedTargetNode)},this.handlePointerUp=(t,s,i)=>{if(!this.selectToRankEnabled)return;const n=t.target;this.isAllowStartDrag(n,s)&&this.handleKeydownSelectToRank(t,s," ",!1)},this.handleKeydown=(t,s)=>{if(!this.isReadOnlyAttr&&!this.isDesignMode){const i=t.key,n=this.rankingChoices.indexOf(s);if(this.selectToRankEnabled){this.handleKeydownSelectToRank(t,s);return}if(i==="ArrowUp"&&n||i==="ArrowDown"&&n!==this.rankingChoices.length-1){const o=i=="ArrowUp"?n-1:n+1;this.dragDropRankingChoices.reorderRankedItem(this,n,o),this.setValueAfterKeydown(o,"",!0,t)}}},this.focusItem=(t,s)=>{if(this.domNode)if(this.selectToRankEnabled&&s){const i="[data-ranking='"+s+"']";this.domNode.querySelectorAll(i+" ."+this.cssClasses.item)[t].focus()}else this.domNode.querySelectorAll("."+this.cssClasses.item)[t].focus()},this.isValueSetByUser=!1,this.setValue=()=>{const t=[];this.rankingChoices.forEach(s=>{t.push(s.value)}),this.value=t,this.isValueSetByUser=!0},this.registerFunctionOnPropertyValueChanged("selectToRankEnabled",()=>{this.clearValue(!0),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}),this.dragOrClickHelper=new Dx(this.startDrag)}getType(){return"ranking"}getItemTabIndex(e){if(!(this.isDesignMode||e.disabled))return 0}supportContainerQueries(){return this.selectToRankEnabled}get rootClass(){return new ge().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,re.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal"&&this.selectToRankSwapAreas).toString()}isItemSelectedCore(e){return this.selectToRankEnabled?super.isItemSelectedCore(e):!0}getItemClassCore(e,t){return new ge().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()}getContainerClasses(e){let t=!1;const s=e==="to",i=e==="from";return s?t=this.renderedRankingChoices.length===0:i&&(t=this.renderedUnRankingChoices.length===0),new ge().append(this.cssClasses.container).append(this.cssClasses.containerToMode,s).append(this.cssClasses.containerFromMode,i).append(this.cssClasses.containerEmptyMode,t).toString()}isItemCurrentDropTarget(e){return this.dragDropRankingChoices.dropTarget===e}get ghostPositionCssClass(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""}getItemIndexClasses(e){let t;return this.selectToRankEnabled?t=this.unRankingChoices.indexOf(e)!==-1:t=this.isEmpty(),new ge().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,t).toString()}getNumberByIndex(e){return this.isEmpty()?"":e+1+""}updateRankingChoicesSync(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}isAnswerCorrect(){return Y.isArraysEqual(this.value,this.correctAnswer,!1)}get requireStrictCompare(){return!0}onSurveyValueChanged(e){super.onSurveyValueChanged(e),!this.isLoadingFromJson&&this.updateRankingChoices()}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad(),this.updateRankingChoices(),this.releaseAnimations()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),e&&(this.isValueSetByUser=!0)}addToValueByVisibleChoices(){const e=this.value.slice();this.visibleChoices.forEach(t=>{e.indexOf(t.value)===-1&&e.push(t.value)}),this.value=e}removeFromValueByVisibleChoices(){const e=this.value.slice(),t=this.visibleChoices;for(let s=this.value.length-1;s>=0;s--)Ze.getItemByValue(t,this.value[s])||e.splice(s,1);this.value=e}getChoicesAnimationOptions(e){return{getKey(t){return t.value},getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed&&!this.isDesignMode&&this.isVisible&&!!this.domNode,getReorderOptions:(t,s)=>{let i="";return t!==this.currentDropTarget&&(i=s?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:i}},getLeaveOptions:t=>{const s=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&s.length==1&&s.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:i=>{i.style.setProperty("--animation-height",i.offsetHeight+"px")}}},getEnterOptions:t=>{const s=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&s.length==1&&s.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:i=>{i.style.setProperty("--animation-height",i.offsetHeight+"px")}}},getAnimatedElement:t=>{var s;const i=this.cssClasses;let n="";this.selectToRankEnabled&&(!e&&i.containerFromMode?n=Cr(i.containerFromMode):e&&i.containerToMode&&(n=Cr(i.containerToMode)));const o=e?this.renderedRankingChoices.indexOf(t):this.renderedUnRankingChoices.indexOf(t);return(s=this.domNode)===null||s===void 0?void 0:s.querySelector(`${n} [data-sv-drop-target-ranking-item='${o}']`)},allowSyncRemovalAddition:!0}}get rankingChoicesAnimation(){return this._rankingChoicesAnimation}get unRankingChoicesAnimation(){return this._unRankingChoicesAnimation}get renderedRankingChoices(){return this._renderedRankingChoices}set renderedRankingChoices(e){this.rankingChoicesAnimation.sync(e)}get renderedUnRankingChoices(){return this._renderedUnRankingChoices}set renderedUnRankingChoices(e){this.unRankingChoicesAnimation.sync(e)}updateRenderedRankingChoices(){this.renderedRankingChoices=this.rankingChoices}updateRenderedUnRankingChoices(){this.renderedUnRankingChoices=this.unRankingChoices}updateRankingChoices(e=!1){if(this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}const t=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(s=>{this.visibleChoices.forEach(i=>{i.value===s&&t.push(i)})}),this.rankingChoices=t}updateUnRankingChoices(e){const t=[];this.visibleChoices.forEach(s=>{t.push(s)}),e.forEach(s=>{t.forEach((i,n)=>{i.value===s.value&&t.splice(n,1)})}),this.unRankingChoices=t}updateRankingChoicesSelectToRankMode(e){const t=[];this.isEmpty()||this.value.forEach(s=>{this.visibleChoices.forEach(i=>{i.value===s&&t.push(i)})}),this.updateUnRankingChoices(t),this.rankingChoices=t}endLoadingFromJson(){super.endLoadingFromJson(),this.setDragDropRankingChoices()}setDragDropRankingChoices(){this.dragDropRankingChoices=this.createDragDropRankingChoices()}createDragDropRankingChoices(){return this.selectToRankEnabled?new LB(this.survey,null,this.longTap):new FI(this.survey,null,this.longTap)}isDragStartNodeValid(e){return re.rankingDragHandleArea==="icon"?e.classList.contains(this.cssClasses.itemIconHoverMod):!0}isAllowStartDrag(e,t){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(t)}canStartDragDueMaxSelectedChoices(e){return this.selectToRankEnabled&&e.closest("[data-ranking='from-container']")?this.checkMaxSelectedChoicesUnreached():!0}canStartDragDueItemEnabled(e){return e.enabled}checkMaxSelectedChoicesUnreached(){if(this.maxSelectedChoices<1)return!0;var e=this.value,t=Array.isArray(e)?e.length:0;return t<this.maxSelectedChoices}afterRenderQuestionElement(e){this.domNode=e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.domNode=void 0,super.beforeDestroyQuestionElement(e)}supportSelectAll(){return!1}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}handleKeydownSelectToRank(e,t,s,i=!0){if(this.isDesignMode)return;let n=e.key;if(s&&(n=s),n!==" "&&n!=="ArrowUp"&&n!=="ArrowDown")return;const o=this.dragDropRankingChoices,l=this.rankingChoices,u=l.indexOf(t)!==-1,h=(u?l:this.unRankingChoices).indexOf(t);if(h<0)return;let p;if(n===" "&&!u){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(t))return;p=this.value.length,o.selectToRank(this,h,p),this.setValueAfterKeydown(p,"to-container",i,e);return}if(!u)return;if(n===" "){o.unselectFromRank(this,h),p=this.unRankingChoices.indexOf(t),this.setValueAfterKeydown(p,"from-container",i,e);return}const m=n==="ArrowUp"?-1:n==="ArrowDown"?1:0;m!==0&&(p=h+m,!(p<0||p>=l.length)&&(o.reorderRankedItem(this,h,p),this.setValueAfterKeydown(p,"to-container",i,e)))}setValueAfterKeydown(e,t,s=!0,i){this.setValue(),s&&setTimeout(()=>{this.focusItem(e,t)},1),i&&i.preventDefault()}getIconHoverCss(){return new ge().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()}getIconFocusCss(){return new ge().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()}get longTap(){return this.getPropertyValue("longTap")}set longTap(e){this.setPropertyValue("longTap",e)}getDefaultItemComponent(){return"sv-ranking-item"}get selectToRankEnabled(){return this.getPropertyValue("selectToRankEnabled",!1)}set selectToRankEnabled(e){this.setPropertyValue("selectToRankEnabled",e)}get selectToRankSwapAreas(){return this.getPropertyValue("selectToRankSwapAreas",!1)}set selectToRankSwapAreas(e){this.setPropertyValue("selectToRankSwapAreas",e)}get selectToRankAreasLayout(){return this.getPropertyValue("selectToRankAreasLayout")}set selectToRankAreasLayout(e){this.setPropertyValue("selectToRankAreasLayout",e)}get renderedSelectToRankAreasLayout(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout}isMobileMode(){return Px}get useFullItemSizeForShortcut(){return this.getPropertyValue("useFullItemSizeForShortcut")}set useFullItemSizeForShortcut(e){this.setPropertyValue("useFullItemSizeForShortcut",e)}get dragDropSvgIcon(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-24x24"}get arrowsSvgIcon(){return this.cssClasses.arrowsSvgIconId||"#icon-reorder-24x24"}get dashSvgIcon(){return this.cssClasses.dashSvgIconId||"#icon-rankingundefined-16x16"}get isNewA11yStructure(){return!1}}F([_s({onSet:(r,e)=>e.updateRenderedRankingChoices(),onRemove:(r,e,t)=>t.updateRenderedRankingChoices(),onPush:(r,e,t)=>t.updateRenderedRankingChoices()})],Ui.prototype,"rankingChoices",void 0);F([_s({onSet:(r,e)=>e.updateRenderedUnRankingChoices(),onRemove:(r,e,t)=>t.updateRenderedUnRankingChoices(),onPush:(r,e,t)=>t.updateRenderedUnRankingChoices()})],Ui.prototype,"unRankingChoices",void 0);F([_s()],Ui.prototype,"_renderedRankingChoices",void 0);F([_s()],Ui.prototype,"_renderedUnRankingChoices",void 0);F([z({defaultValue:null})],Ui.prototype,"currentDropTarget",void 0);F([z({defaultValue:!0})],Ui.prototype,"carryForwardStartUnranked",void 0);F([z({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],Ui.prototype,"selectToRankEmptyRankedAreaText",void 0);F([z({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],Ui.prototype,"selectToRankEmptyUnrankedAreaText",void 0);ce.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new Ui("")},"checkbox");gt.Instance.registerQuestion("ranking",r=>{const e=new Ui(r);return e.choices=gt.DefaultChoices,e});class BI extends Im{constructor(e){super(e)}get textAreaModel(){return this.textAreaModelValue||(this.textAreaModelValue=new Rx(this.getTextAreaOptions())),this.textAreaModelValue}getTextAreaOptions(){const e=this,t=i=>{Y.isTwoValueEquals(e.value,i,!1,!0,!1)||(e.value=i)};return{question:this,id:()=>this.inputId,propertyNames:["value"],className:()=>this.className,placeholder:()=>this.renderedPlaceholder,isDisabledAttr:()=>this.isDisabledAttr,isReadOnlyAttr:()=>this.isReadOnlyAttr,autoGrow:()=>this.renderedAutoGrow,maxLength:()=>this.getMaxLength(),rows:()=>this.rows,cols:()=>this.cols,ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,ariaLabelledBy:()=>this.a11y_input_ariaLabelledBy,ariaDescribedBy:()=>this.a11y_input_ariaDescribedBy,ariaInvalid:()=>this.a11y_input_ariaInvalid,ariaErrormessage:()=>this.a11y_input_ariaErrormessage,getTextValue:()=>this.value,onTextAreaChange:i=>{t(i.target.value)},onTextAreaInput:i=>{this.onInput(i)},onTextAreaKeyDown:i=>{this.onKeyDown(i)},onTextAreaFocus:i=>{this.onFocus(i)},onTextAreaBlur:i=>{this.onBlur(i)}}}get rows(){return this.getPropertyValue("rows")}set rows(e){this.setPropertyValue("rows",e)}get cols(){return this.getPropertyValue("cols")}set cols(e){this.setPropertyValue("cols",e)}get acceptCarriageReturn(){return this.getPropertyValue("acceptCarriageReturn")}set acceptCarriageReturn(e){this.setPropertyValue("acceptCarriageReturn",e)}get autoGrow(){return this.getPropertyValue("autoGrow")}set autoGrow(e){this.setPropertyValue("autoGrow",e)}get renderedAutoGrow(){const e=this.autoGrow;return e===void 0&&this.survey?this.survey.autoGrowComment:!!e}get allowResize(){return this.getPropertyValue("allowResize")}set allowResize(e){this.setPropertyValue("allowResize",e)}get renderedAllowResize(){const e=this.allowResize;return e===void 0&&this.survey?this.survey.allowResizeComment:!!e}get resizeStyle(){return this.renderedAllowResize?"both":"none"}getType(){return"comment"}afterRenderQuestionElement(e){this.element=(e==null?void 0:e.querySelector(`#${this.inputId}`))||e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.element=void 0}onInput(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)}onBlurCore(e){super.onBlurCore(e)}onKeyDown(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&(e.key==="Enter"||e.keyCode===13)&&(e.preventDefault(),e.stopPropagation())}setNewValue(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),super.setNewValue(e)}getValueSeparator(){return`
`}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed||this.textAreaModel.updateElement()}get className(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0}}ce.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:()=>{}},{name:"allowResize:boolean",defaultFunc:()=>{}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new BI("")},"textbase");gt.Instance.registerQuestion("comment",r=>new BI(r));const hu="environment",Dn="user";class mt{constructor(){this.canFlipValue=void 0}static clear(){mt.cameraList=void 0,mt.cameraIndex=-1}static setCameraList(e){const t=function(s){const i=s.label.toLocaleLowerCase();return i.indexOf(Dn)>-1?Dn:i.indexOf(hu)>-1?hu:i.indexOf("front")>-1?Dn:i.indexOf("back")>-1?hu:""};mt.clear(),Array.isArray(e)&&e.length>0&&(mt.cameraIndex=-1,e.sort((s,i)=>{if(s===i)return 0;if(s.label!==i.label){const l=t(s),u=t(i);if(l!==u){if(l===Dn)return-1;if(u===Dn)return 1;if(l===hu)return-1;if(u===hu)return 1}}const n=e.indexOf(s),o=e.indexOf(i);return n<o?-1:1})),mt.cameraList=e}hasCamera(e){if(mt.cameraList!==void 0){this.hasCameraCallback(e);return}if(mt.mediaDevicesCallback){const t=s=>{this.setVideoInputs(s),this.hasCameraCallback(e)};mt.mediaDevicesCallback(t);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(t=>{this.setVideoInputs(t),this.hasCameraCallback(e),this.updateCanFlipValue()}).catch(t=>{mt.cameraList=null,this.hasCameraCallback(e)}):(mt.cameraList=null,this.hasCameraCallback(e))}getMediaConstraints(e){const t=mt.cameraList;if(!Array.isArray(t)||t.length<1)return;mt.cameraIndex<0&&(mt.cameraIndex=0);const s=t[mt.cameraIndex],i={};return s&&s.deviceId?i.deviceId={exact:s.deviceId}:i.facingMode=mt.cameraFacingMode,e&&(e!=null&&e.height&&(i.height={ideal:e.height}),e!=null&&e.width&&(i.width={ideal:e.width})),{video:i,audio:!1}}startVideo(e,t,s,i){if(!e){t(void 0);return}e.style.width="100%",e.style.height="auto",e.style.height="100%",e.style.objectFit="contain";const n=this.getMediaConstraints({width:s,height:i});navigator.mediaDevices.getUserMedia(n).then(o=>{var l;e.srcObject=o,!(!((l=mt.cameraList[mt.cameraIndex])===null||l===void 0)&&l.deviceId)&&o.getTracks()[0].getCapabilities().facingMode&&(mt.canSwitchFacingMode=!0,this.updateCanFlipValue()),e.play(),t(o)}).catch(o=>{t(void 0)})}getImageSize(e){return{width:e.videoWidth,height:e.videoHeight}}snap(e,t){if(!e||!Re.isAvailable())return!1;const i=Re.getDocument().createElement("canvas"),n=this.getImageSize(e);i.height=n.height,i.width=n.width;let o=i.getContext("2d");return o.clearRect(0,0,i.width,i.height),o.drawImage(e,0,0,i.width,i.height),i.toBlob(t,"image/png"),!0}updateCanFlipValue(){const e=mt.cameraList;this.canFlipValue=Array.isArray(e)&&e.length>1||mt.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)}canFlip(e){return this.canFlipValue===void 0&&this.updateCanFlipValue(),e&&(this.onCanFlipChangedCallback=e),this.canFlipValue}flip(){this.canFlip()&&(mt.canSwitchFacingMode?mt.cameraFacingMode=mt.cameraFacingMode===Dn?"environment":Dn:mt.cameraIndex>=mt.cameraList.length-1?mt.cameraIndex=0:mt.cameraIndex++)}hasCameraCallback(e){e(Array.isArray(mt.cameraList))}setVideoInputs(e){const t=[];e.forEach(s=>{s.kind==="videoinput"&&t.push(s)}),mt.setCameraList(t.length>0?t:null)}}mt.cameraIndex=-1;mt.cameraFacingMode=Dn;mt.canSwitchFacingMode=!1;function AB(r,e,t){const s=atob(r.split(",")[1]),i=new Uint8Array(s.split("").map(n=>n.charCodeAt(0))).buffer;return new File([i],e,{type:t})}class Nm extends rs{constructor(){super(...arguments),this.isUploading=!1,this.onUploadStateChanged=this.addEvent(),this.onStateChanged=this.addEvent()}stateChanged(e){this.currentState!=e&&(e==="loading"&&(this.isUploading=!0),e==="loaded"&&(this.isUploading=!1),e==="error"&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))}get showLoadingIndicator(){return this.isUploading}get storeDataAsText(){return this.getPropertyValue("storeDataAsText")}set storeDataAsText(e){this.setPropertyValue("storeDataAsText",e)}get waitForUpload(){return this.getPropertyValue("waitForUpload")}set waitForUpload(e){this.setPropertyValue("waitForUpload",e)}clearValue(e){this.clearOnDeletingContainer(),super.clearValue(e)}clearOnDeletingContainer(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,()=>{})}onCheckForErrors(e,t,s){super.onCheckForErrors(e,t,s),this.isUploading&&this.waitForUpload&&e.push(new Xc(this.getLocalizationString("uploadingFile"),this))}uploadFiles(e){this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,(t,s)=>{Array.isArray(t)&&(this.setValueFromResult(t),Array.isArray(s)&&(s.forEach(i=>this.errors.push(new Xc(i,this))),this.stateChanged("error"))),t==="success"&&Array.isArray(s)&&this.setValueFromResult(s),t==="error"&&(typeof s=="string"&&this.errors.push(new Xc(s,this)),Array.isArray(s)&&s.length>0&&s.forEach(i=>this.errors.push(new Xc(i,this))),this.stateChanged("error")),this.stateChanged("loaded")}))}loadPreview(e){}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.stateChanged(this.isEmpty()?"empty":"loaded")}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isFileLoading}get isFileLoading(){return this.isFileLoadingValue}set isFileLoading(e){this.isFileLoadingValue=e,this.updateIsReady()}}F([z()],Nm.prototype,"isUploading",void 0);F([z({defaultValue:"empty"})],Nm.prototype,"currentState",void 0);class Sl extends He{static getId(){return"sv_sfp_"+Sl.pageCounter++}constructor(e,t){super(),this.question=e,this.index=t,this.id=Sl.getId()}get css(){return this.question.cssClasses.page}}Sl.pageCounter=0;F([_s({})],Sl.prototype,"items",void 0);class Wt extends Nm{get fileNavigatorVisible(){const e=this.showLoadingIndicator,t=this.isPlayingVideo,s=this.containsMultiplyFiles,i=this.pageSize<this.previewValue.length;return!e&&!t&&s&&i}get pagesCount(){return Math.ceil(this.previewValue.length/this.pageSize)}get actionsContainerVisible(){const e=this.showLoadingIndicator,t=this.isPlayingVideo;return!e&&!t}constructor(e){super(e),this.isDragging=!1,this.fileNavigator=new cs,this.canFlipCameraValue=void 0,this.prevPreviewLength=0,this.isClearingFiles=!1,this._renderedPages=[],this.pagesAnimation=new cI(this.getPagesAnimationOptions(),t=>{this._renderedPages=t},()=>this.renderedPages),this.calcAvailableItemsCount=(t,s,i)=>{let n=Math.floor(t/(s+i));return(n+1)*(s+i)-i<=t&&n++,n},this.dragCounter=0,this.onDragEnter=t=>{this.canDragDrop()&&(t.preventDefault(),this.isDragging=!0,this.dragCounter++)},this.onDragOver=t=>{if(!this.canDragDrop())return t.returnValue=!1,!1;t.dataTransfer.dropEffect="copy",t.preventDefault()},this.onDrop=t=>{if(this.canDragDrop()){this.isDragging=!1,this.dragCounter=0,t.preventDefault();let s=t.dataTransfer;this.onChange(s)}},this.onDragLeave=t=>{this.canDragDrop()&&(this.dragCounter--,this.dragCounter===0&&(this.isDragging=!1))},this.doChange=t=>{var s=t.target||t.srcElement;this.onChange(s)},this.doClean=()=>{if(this.needConfirmRemoveFile){Pp({message:this.confirmRemoveAllMessage,funcOnYes:()=>{this.clearFilesCore()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.clearFilesCore()},this.doDownloadFileFromContainer=t=>{t.stopPropagation();const s=t.currentTarget;if(s&&s.getElementsByTagName){const i=s.getElementsByTagName("a")[0];i==null||i.click()}},this.doDownloadFile=(t,s)=>{t.stopPropagation(),Nh()&&(t.preventDefault(),lF(s.content,s.name))},this.createLocalizableString("takePhotoCaption",this,!1,!0),this.createLocalizableString("clearCaption",this,!1,!0),this.actionsContainer=new cs,this.actionsContainer.locOwner=this,this.fileIndexAction=new Ke({id:"fileIndex",title:this.getFileIndexCaption(),enabled:!1}),this.prevFileAction=new Ke({id:"prevPage",iconSize:16,action:()=>{this.navigationDirection="left",this.indexToShow=this.previewValue.length&&(this.indexToShow-1+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.nextFileAction=new Ke({id:"nextPage",iconSize:16,action:()=>{this.navigationDirection="right",this.indexToShow=this.previewValue.length&&(this.indexToShow+1)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.takePictureAction=new Ke({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new yt(()=>new ge().append(this.cssClasses.contextButton).append(this.cssClasses.takePictureButton).toString()),locTitle:this.locTakePhotoCaption,showTitle:!1,action:()=>{this.snapPicture()}}),this.closeCameraAction=new Ke({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new yt(()=>new ge().append(this.cssClasses.contextButton).append(this.cssClasses.closeCameraButton).toString()),action:()=>{this.stopVideo()}}),this.changeCameraAction=new Ke({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new yt(()=>new ge().append(this.cssClasses.contextButton).append(this.cssClasses.changeCameraButton).toString()),visible:new yt(()=>this.canFlipCamera()),action:()=>{this.flipCamera()}}),this.chooseFileAction=new Ke({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:this},enabledIf:()=>!this.isInputReadOnly,component:"sv-file-choose-btn"}),this.startCameraAction=new Ke({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:this.locTakePhotoCaption,showTitle:new yt(()=>!this.isAnswered),enabledIf:()=>!this.isInputReadOnly,action:()=>{this.startVideo()}}),this.cleanAction=new Ke({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:this.locClearButtonCaption,showTitle:!1,enabledIf:()=>!this.isInputReadOnly,innerCss:new yt(()=>this.cssClasses.removeButton),action:()=>{this.doClean()}}),[this.closeCameraAction,this.changeCameraAction,this.takePictureAction].forEach(t=>{t.cssClasses={}}),this.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],()=>{this.updateActionsVisibility()}),this.actionsContainer.actions=[this.chooseFileAction,this.startCameraAction,this.cleanAction],this.fileNavigator.actions=[this.prevFileAction,this.fileIndexAction,this.nextFileAction]}get videoId(){return this.id+"_video"}get hasVideoUI(){return this.currentMode!=="file"}get hasFileUI(){return this.currentMode!=="camera"}startVideo(){this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(()=>{this.startVideoInCamera()},0))}get videoHtmlElement(){var e;return(e=this.rootElement)===null||e===void 0?void 0:e.querySelector(`#${this.videoId}`)}startVideoInCamera(){this.camera.startVideo(this.videoHtmlElement,e=>{this.videoStream=e,e||this.stopVideo()},ia(this.imageWidth),ia(this.imageHeight))}stopVideo(){this.setIsPlayingVideo(!1),this.closeVideoStream()}snapPicture(){if(!this.isPlayingVideo)return;const e=t=>{if(t){const s=new File([t],"snap_picture.png",{type:"image/png"});this.loadFiles([s])}};this.camera.snap(this.videoHtmlElement,e),this.stopVideo()}canFlipCamera(){return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(e=>{this.canFlipCameraValue=e})),this.canFlipCameraValue}flipCamera(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())}closeVideoStream(){this.videoStream&&(this.videoStream.getTracks().forEach(e=>{e.stop()}),this.videoStream=void 0)}onHidingContent(){super.onHidingContent(),this.stopVideo()}updateElementCssCore(e){super.updateElementCssCore(e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()}getFileIndexCaption(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)}updateFileNavigator(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}updateRenderedPages(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])}updatePages(){this.blockAnimations();let e;this.pages=[],this.renderedPages=[],this.previewValue.forEach((t,s)=>{s%this.pageSize==0&&(e=new Sl(this,this.pages.length),this.pages.push(e)),e.items.push(t)}),this.releaseAnimations(),this.updateRenderedPages()}previewValueChanged(){this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(()=>{this.processResponsiveness(0,this._width)},1),this.prevPreviewLength=this.previewValue.length}getType(){return"file"}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||this.loadPreview(e)}get showPreview(){return this.getPropertyValue("showPreview")}set showPreview(e){this.setPropertyValue("showPreview",e)}get allowMultiple(){return this.getPropertyValue("allowMultiple")}set allowMultiple(e){this.setPropertyValue("allowMultiple",e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get acceptedTypes(){return this.getPropertyValue("acceptedTypes")}set acceptedTypes(e){this.setPropertyValue("acceptedTypes",e)}get allowImagesPreview(){return this.getPropertyValue("allowImagesPreview")}set allowImagesPreview(e){this.setPropertyValue("allowImagesPreview",e)}get maxSize(){return this.getPropertyValue("maxSize")}set maxSize(e){this.setPropertyValue("maxSize",e)}chooseFile(e){if(!this.rootElement)return;const t=this.rootElement.querySelector(`#${this.inputId}`);t&&(e.preventDefault(),e.stopImmediatePropagation(),t&&(this.survey?this.survey.chooseFiles(t,s=>this.loadFiles(s),{element:this,elementType:this.getType(),propertyName:this.name}):t.click()))}get needConfirmRemoveFile(){return this.getPropertyValue("needConfirmRemoveFile")}set needConfirmRemoveFile(e){this.setPropertyValue("needConfirmRemoveFile",e)}getConfirmRemoveMessage(e){return this.confirmRemoveMessage.format(e)}get takePhotoCaption(){return this.getLocalizableStringText("takePhotoCaption")}set takePhotoCaption(e){this.setLocalizableStringText("takePhotoCaption",e)}get locTakePhotoCaption(){return this.getLocalizableString("takePhotoCaption")}get clearButtonCaption(){return this.getLocalizableStringText("clearCaption")}set clearButtonCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearButtonCaption(){return this.getLocalizableString("clearCaption")}get locRenderedPlaceholder(){return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new yt(()=>{const e=this.isReadOnly,t=!this.isDesignMode&&this.hasFileUI||this.isDesignMode&&this.sourceType!="camera",s=!this.isDesignMode&&this.hasVideoUI||this.isDesignMode&&this.sourceType!="file";let i;return e?i=this.locNoFileChosenCaption:t&&s?i=this.locFileOrPhotoPlaceholder:t?i=this.locFilePlaceholder:i=this.locPhotoPlaceholder,i})),this.locRenderedPlaceholderValue}get currentMode(){return this.getPropertyValue("currentMode",this.sourceType)}get isPlayingVideo(){return this.getPropertyValue("isPlayingVideo",!1)}setIsPlayingVideo(e){this.setPropertyValue("isPlayingVideo",e)}updateCurrentMode(){!this.isDesignMode&&this.survey&&(this.sourceType!=="file"?this.camera.hasCamera(e=>{this.setPropertyValue("currentMode",e?this.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))}updateActionsVisibility(){const e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&this.sourceType!=="camera",this.startCameraAction.visible=!e&&this.hasVideoUI||e&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered}get inputTitle(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "}get chooseButtonText(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption}clear(e){this.survey&&(this.containsMultiplyFiles=!1,this.isClearingFiles=!0,this.survey.clearFiles(this,this.name,this.value,null,(t,s)=>{t==="success"&&(this.value=void 0,this.errors=[],e&&e(),this.indexToShow=0,this.fileIndexAction.title=this.getFileIndexCaption(),this.isClearingFiles=!1)}))}get renderCapture(){return this.allowCameraAccess?"user":void 0}get multipleRendered(){return this.allowMultiple?"multiple":void 0}get showFileDecorator(){const e=this.isPlayingVideo,t=this.showLoadingIndicator;return!e&&!t}get showDragAreaPlaceholder(){return!this.isAnswered}get showLoadingIndicator(){return this.isUploading||this.isClearingFiles}get allowShowPreview(){const e=this.showLoadingIndicator,t=this.isPlayingVideo;return!e&&!t}get showPreviewContainer(){return this.previewValue&&this.previewValue.length>0}defaultImage(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage}removeFile(e){this.removeFileByContent(this.value.filter(t=>t.name===e)[0])}removeFileByContent(e){this.survey&&(this.isClearingFiles=!0,this.survey.clearFiles(this,this.name,this.value,e.name,(t,s)=>{if(t==="success"){var i=this.value;Array.isArray(i)?this.value=i.filter(n=>!Y.isTwoValueEquals(n,e,!0,!1,!1)):this.value=void 0,this.isClearingFiles=!1}}))}setValueFromResult(e){this.value=(this.value||[]).concat(e.map(t=>({name:t.file.name,type:t.file.type,content:t.content})))}loadFiles(e){if(this.survey&&(this.errors=[],!!this.allFilesOk(e))){var t=()=>{this.stateChanged("loading");var s=[];this.storeDataAsText?e.forEach(i=>{let n=new FileReader;n.onload=o=>{s=s.concat([{name:i.name,type:i.type,content:n.result}]),s.length===e.length&&(this.value=(this.value||[]).concat(s))},n.readAsDataURL(i)}):this.uploadFiles(e)};this.allowMultiple?t():this.clear(t)}}get camera(){return this.cameraValue||(this.cameraValue=new mt),this.cameraValue}canPreviewImage(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)}loadPreview(e){if(!(this.showPreview&&this.prevLoadedPreviewValue===e)&&(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!e))){this.prevLoadedPreviewValue=e;var t=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(t.forEach(s=>{var i=s.content||s;this.previewValue.push({name:s.name,type:s.type,content:i})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new qI(this,(s,i)=>{s!=="error"&&(i.forEach(n=>{this.previewValue.push(n)}),this.previewValueChanged()),this.isFileLoading=!1,this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t))}}allFilesOk(e){var t=this.errors?this.errors.length:0;return(e||[]).forEach(s=>{this.maxSize>0&&s.size>this.maxSize&&this.errors.push(new kF(this.maxSize,this))}),t===this.errors.length}isFileImage(e){if(!e||!e.content||!e.content.substring)return!1;const t="data:image";var s=e.content&&e.content.substring(0,t.length);s=s&&s.toLowerCase();var i=s===t||!!e.type&&e.type.toLowerCase().indexOf("image/")===0;return i}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t&&!this.isEmpty()){t.isNode=!1;var s=Array.isArray(this.value)?this.value:[this.value];t.data=s.map((i,n)=>({name:n,title:"File",value:i.content&&i.content||i,displayValue:i.name&&i.name||i,getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!1}))}return t}getImageWrapperCss(e){return new ge().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()}getActionsContainerCss(e){return new ge().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()}getRemoveButtonCss(){return new ge().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()}getChooseFileCss(){const e=this.isAnswered;return new ge().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()}getReadOnlyFileCss(){return new ge().append("form-control").append(this.cssClasses.placeholderInput).toString()}get fileRootCss(){return new ge().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()}getFileDecoratorCss(){return new ge().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()}onChange(e){if(!qe.isFileReaderAvailable()||!e||!e.files||e.files.length<1)return;let t=[],s=this.allowMultiple?e.files.length:1;for(let i=0;i<s;i++)t.push(e.files[i]);e.value="",this.loadFiles(t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=t.contextButton,this.actionsContainer.containerCss=t.actionsContainer,t}onSurveyLoad(){super.onSurveyLoad(),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)}needResponsiveness(){return this.supportResponsiveness()}supportResponsiveness(){return!0}getObservedElementSelector(){return Cr(this.cssClasses.dragArea)}getFileListSelector(){return Cr(this.cssClasses.fileList)}get renderedPages(){return this._renderedPages}set renderedPages(e){this.pagesAnimation.sync(e)}getPagesAnimationOptions(){return{getEnterOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new ge().append(`${t}--enter-from-left`,this.navigationDirection=="left"||this.navigationDirection=="left-delete").append(`${t}--enter-from-right`,this.navigationDirection=="right").toString():""}},getLeaveOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new ge().append(`${t}--leave-to-left`,this.navigationDirection=="right").append(`${t}--leave-to-right`,this.navigationDirection=="left").toString():""}},getAnimatedElement:e=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.querySelector(`#${e.id}`)},isAnimationEnabled:()=>this.animationAllowed&&!!this.rootElement,getRerenderEvent:()=>this.onElementRerendered}}triggerResponsiveness(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),super.triggerResponsiveness()}processResponsiveness(e,t){if(this._width=t,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){const i=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(i){const n=i.querySelector(Cr(this.cssClasses.page));if(n){const o=n.querySelector(Cr(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(Re.getComputedStyle(n).gap)),o&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(Re.getComputedStyle(o).width)))}}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=Math.max(this.calcAvailableItemsCount(t,this.calculatedItemWidth,this.calculatedGapBetweenItems),1),!0):!1}canDragDrop(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo}afterRenderQuestionElement(e){super.afterRenderQuestionElement(e),this.rootElement=e}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.stopVideo(),this.rootElement=void 0}clearFilesCore(){if(this.rootElement){const e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()}doRemoveFile(e,t){if(t.stopPropagation(),this.needConfirmRemoveFile){Pp({message:this.getConfirmRemoveMessage(e.name),funcOnYes:()=>{this.removeFileCore(e)},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeFileCore(e)}removeFileCore(e){const t=this.previewValue.indexOf(e);this.removeFileByContent(t===-1?e:this.value[t])}dispose(){this.cameraValue=void 0,this.closeVideoStream(),super.dispose()}}F([z()],Wt.prototype,"isDragging",void 0);F([_s({})],Wt.prototype,"previewValue",void 0);F([_s({})],Wt.prototype,"pages",void 0);F([z({defaultValue:0,onSet:(r,e)=>{e.updateRenderedPages()}})],Wt.prototype,"indexToShow",void 0);F([z({defaultValue:1,onSet:(r,e)=>{e.updateFileNavigator()}})],Wt.prototype,"pageSize",void 0);F([z({defaultValue:!1})],Wt.prototype,"containsMultiplyFiles",void 0);F([z()],Wt.prototype,"allowCameraAccess",void 0);F([z({onSet:(r,e)=>{e.isLoadingFromJson||e.updateCurrentMode()}})],Wt.prototype,"sourceType",void 0);F([z()],Wt.prototype,"canFlipCameraValue",void 0);F([z({localizable:{defaultStr:"confirmRemoveFile"}})],Wt.prototype,"confirmRemoveMessage",void 0);F([z({localizable:{defaultStr:"confirmRemoveAllFiles"}})],Wt.prototype,"confirmRemoveAllMessage",void 0);F([z({localizable:{defaultStr:"noFileChosen"}})],Wt.prototype,"noFileChosenCaption",void 0);F([z({localizable:{defaultStr:"chooseFileCaption"}})],Wt.prototype,"chooseButtonCaption",void 0);F([z({localizable:{defaultStr:"replaceFileCaption"}})],Wt.prototype,"replaceButtonCaption",void 0);F([z({localizable:{defaultStr:"removeFileCaption"}})],Wt.prototype,"removeFileCaption",void 0);F([z({localizable:{defaultStr:"loadingFile"}})],Wt.prototype,"loadingFileTitle",void 0);F([z({localizable:{defaultStr:"chooseFile"}})],Wt.prototype,"chooseFileTitle",void 0);F([z({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],Wt.prototype,"fileOrPhotoPlaceholder",void 0);F([z({localizable:{defaultStr:"photoPlaceholder"}})],Wt.prototype,"photoPlaceholder",void 0);F([z({localizable:{defaultStr:"filePlaceholder"}})],Wt.prototype,"filePlaceholder",void 0);F([z()],Wt.prototype,"locRenderedPlaceholderValue",void 0);F([z()],Wt.prototype,"isClearingFiles",void 0);F([_s()],Wt.prototype,"_renderedPages",void 0);ce.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:r=>!!r.showPreview},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general"},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general"},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general"},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new Wt("")},"question");gt.Instance.registerQuestion("file",r=>new Wt(r));class qI{constructor(e,t){this.fileQuestion=e,this.callback=t,this.loaded=[]}load(e){let t=0;this.loaded=new Array(e.length),e.forEach((s,i)=>{this.fileQuestion.survey&&this.fileQuestion.survey.downloadFile(this.fileQuestion,this.fileQuestion.name,s,(n,o)=>{!this.fileQuestion||!this.callback||(n!=="error"?(this.loaded[i]={content:o,name:s.name,type:s.type},t++,t===e.length&&this.callback(n,this.loaded)):this.callback("error",this.loaded))})})}dispose(){this.fileQuestion=void 0,this.callback=void 0}}class zI extends _x{constructor(e){super(e);var t=this.createLocalizableString("html",this);t.onGetTextCallback=s=>this.survey&&!this.ignoreHtmlProgressing?this.processHtml(s):s}getType(){return"html"}get isCompositeQuestion(){return!0}getProcessedText(e){return this.ignoreHtmlProgressing?e:super.getProcessedText(e)}get html(){return this.getLocalizableStringText("html","")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}get processedHtml(){return this.processHtml(this.html)}processHtml(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html}get isNewA11yStructure(){return!0}get renderCssRoot(){return new ge().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0}}ce.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"showNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new zI("")},"nonvalue");gt.Instance.registerQuestion("html",r=>new zI(r));class HI extends Pm{constructor(e){super(e)}getDefaultItemComponent(){return"survey-radiogroup-item"}getType(){return"radiogroup"}getFirstInputElementId(){return this.inputId+"_0"}get selectedItem(){return this.getSingleSelectedItem()}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get showClearButton(){return this.allowClear}set showClearButton(e){this.allowClear=e}get canShowClearButton(){return this.allowClear&&!this.isReadOnly}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}supportAutoAdvance(){var e;return this.isMouseDown===!0&&!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}getConditionJson(e=null,t=null){const s=super.getConditionJson(e,t);return delete s.allowClear,delete s.showClearButton,s}setNewComment(e){this.isMouseDown=!0,super.setNewComment(e),this.isMouseDown=!1}clickItemHandler(e){this.selectItem(e)}isOtherValueUnused(){var e;return!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new Ke({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new yt(()=>this.canShowClearButton)});e.push(t)}return e}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"radiogroup"}}ce.addClass("radiogroup",[{name:"allowClear:boolean",alternativeName:"showClearButton"},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new HI("")},"checkboxbase");gt.Instance.registerQuestion("radiogroup",r=>{var e=new HI(r);return e.choices=gt.DefaultChoices,e});class rl extends He{onStringChangedCallback(){this.text=this.itemValue.text}get value(){return this.itemValue.getPropertyValue("value")}get locText(){return this.locString||this.itemValue.locText}constructor(e,t=null){super(),this.itemValue=e,this.locString=t,this.locText.onStringChanged.add(this.onStringChangedCallback.bind(this)),this.onStringChangedCallback()}}F([z({defaultValue:""})],rl.prototype,"highlight",void 0);F([z({defaultValue:""})],rl.prototype,"text",void 0);F([z()],rl.prototype,"style",void 0);class DB extends Ze{constructor(e,t,s){super(e,t),this.description=s}}class jt extends rs{constructor(e){super(e),this.iCounter=0,this.createItemValues("rateValues"),this.createLocalizableString("ratingOptionsCaption",this,!1,!0),this.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],()=>this.resetRenderedItems()),this.registerFunctionOnPropertiesValueChanged(["rateType"],()=>{this.setIconsToRateValues(),this.resetRenderedItems(),this.updateRateCount()}),this.registerFunctionOnPropertiesValueChanged(["rateValues"],()=>{this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerSychProperties(["rateValues"],()=>{this.autoGenerate=this.rateValues.length==0,this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],()=>{this.updateColors(this.survey.themeVariables)}),this.registerFunctionOnPropertiesValueChanged(["displayMode"],()=>{this.updateRenderAsBasedOnDisplayMode(!0)}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.rateValues.length===0&&this.setPropertyValue("rateValues",this.visibleRateValues),this.autoGenerate&&(this.rateValues.splice(0,this.rateValues.length),this.updateRateMax()),this.resetRenderedItems()}),this.createLocalizableString("minRateDescription",this,!0).onStringChanged.add((t,s)=>{this.setPropertyValue("hasMinRateDescription",!t.isEmpty)}),this.createLocalizableString("maxRateDescription",this,!0).onStringChanged.add((t,s)=>{this.setPropertyValue("hasMaxRateDescription",!t.isEmpty)}),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText(),this.initPropertyDependencies()}setIconsToRateValues(){this.rateType=="smileys"&&this.rateValues.map(e=>e.icon=this.getItemSmiley(e))}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues()}useRateValues(){return!!this.rateValues.length&&!this.autoGenerate}updateRateMax(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)}updateRateMin(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)}updateRateCount(){let e=0;this.useRateValues()?e=this.rateValues.length:e=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,e>10&&this.rateDisplayMode=="smileys"&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)}initPropertyDependencies(){this.registerSychProperties(["rateCount"],()=>{if(!this.useRateValues())this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1);else if(this.rateCount<this.rateValues.length){if(this.rateCount>=10&&this.rateDisplayMode=="smileys")return;this.rateValues.splice(this.rateCount,this.rateValues.length-this.rateCount)}else for(let e=this.rateValues.length;e<this.rateCount;e++)this.rateValues.push(new Ze(os("choices_Item")+(e+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],()=>{this.updateRateCount()})}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return!this.readOnly&&((e=this.visibleRateValues.filter(t=>t.value==this.value)[0])===null||e===void 0?void 0:e.locText)}get rateValues(){return this.getPropertyValue("rateValues")}set rateValues(e){this.setPropertyValue("rateValues",e)}selectItem(e){!this.isReadOnly&&e&&(this.value=e.value)}get rateMin(){return this.getPropertyValue("rateMin")}set rateMin(e){this.setPropertyValue("rateMin",e)}get rateMax(){return this.getPropertyValue("rateMax")}set rateMax(e){this.setPropertyValue("rateMax",e)}get rateStep(){return this.getPropertyValue("rateStep")}set rateStep(e){this.setPropertyValue("rateStep",e)}updateColors(e){if(this.colorMode==="monochrome"||!Re.isAvailable()||jt.colorsCalculated)return;function t(i){const n=getComputedStyle(Re.getDocumentElement());return n.getPropertyValue&&n.getPropertyValue(i)}function s(i,n){let o=!!e&&e[i];if(o||(o=t(n)),!o)return null;const l=Re.createElement("canvas");if(!l)return null;var u=l.getContext("2d");u.fillStyle=o,u.fillStyle=="#000000"&&(u.fillStyle=t(n));const c=u.fillStyle;if(c.startsWith("rgba"))return c.substring(5,c.length-1).split(",").map(p=>+p.trim());var h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return h?[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16),1]:null}jt.badColor=s("--sjs-special-red","--sd-rating-bad-color"),jt.normalColor=s("--sjs-special-yellow","--sd-rating-normal-color"),jt.goodColor=s("--sjs-special-green","--sd-rating-good-color"),jt.badColorLight=s("--sjs-special-red-light","--sd-rating-bad-color-light"),jt.normalColorLight=s("--sjs-special-yellow-light","--sd-rating-normal-color-light"),jt.goodColorLight=s("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0,this.resetRenderedItems()}getDisplayValueCore(e,t){if(!this.useRateValues)return super.getDisplayValueCore(e,t);var s=Ze.getTextOrHtmlByValue(this.visibleRateValues,t);return s||t}get visibleRateValues(){return this.renderedRateItems.map(e=>e.itemValue)}supportEmptyValidation(){return this.renderAs==="dropdown"}itemValuePropertyChanged(e,t,s,i){!this.useRateValues()&&i!==void 0&&(this.autoGenerate=!1),super.itemValuePropertyChanged(e,t,s,i)}runConditionCore(e){super.runConditionCore(e),this.runRateItesmCondition(e)}runRateItesmCondition(e){var t;if(!this.useRateValues())return;let s=!1;if(!((t=this.survey)===null||t===void 0)&&t.areInvisibleElementsShowing?this.rateValues.forEach(i=>{s=s||!i.isVisible,i.setIsVisible(i,!0)}):s=Ze.runConditionsForItems(this.rateValues,void 0,void 0,e,!0),s&&(this.resetRenderedItems(),!this.isEmpty()&&!this.isReadOnly)){const i=Ze.getItemByValue(this.rateValues,this.value);i&&!i.isVisible&&this.clearValue()}}getRateValuesCore(){if(!this.useRateValues())return this.createRateValues();const e=new Array;return this.rateValues.forEach(t=>{t.isVisible&&e.push(t)}),e}calculateRateValues(){let e=this.getRateValuesCore();return this.rateType=="smileys"&&e.length>10&&(e=e.slice(0,10)),e}calculateRenderedRateItems(){const e=this.calculateRateValues();return e.map((t,s)=>{let i=null;return this.displayRateDescriptionsAsExtremeItems&&(s==0&&(i=new rl(t,this.minRateDescription&&this.locMinRateDescription||t.locText)),s==e.length-1&&(i=new rl(t,this.maxRateDescription&&this.locMaxRateDescription||t.locText))),i||(i=new rl(t)),i})}calculateVisibleChoices(){return this.calculateRateValues().map((t,s)=>this.getRatingItemValue(t,s))}resetRenderedItems(){if(this.autoGenerate){const e=this.getRateValuesCore();this.rateMax=e[e.length-1].value}Array.isArray(this.getPropertyValueWithoutDefault("renderedRateItems"))&&this.setArrayPropertyDirectly("renderedRateItems",this.calculateRenderedRateItems()),Array.isArray(this.getPropertyValueWithoutDefault("visibleChoices"))&&this.setArrayPropertyDirectly("visibleChoices",this.calculateVisibleChoices)}get renderedRateItems(){return this.getPropertyValue("renderedRateItems",void 0,()=>this.calculateRenderedRateItems())}get visibleChoices(){return this.getPropertyValue("visibleChoices",void 0,()=>this.calculateVisibleChoices())}createRateValues(){for(var e=[],t=this.rateMin,s=this.rateStep;t<=this.rateMax&&e.length<re.ratingMaximumRateValueCount;){let i=new Ze(t);i.locOwner=this,i.ownerPropertyName="rateValues",e.push(i),t=this.correctValue(t+s,s)}return e}getRatingItemValue(e,t){if(!e)return null;const s=e.value;let i;t===0&&(i=this.minRateDescription&&this.locMinRateDescription),t===this.rateCount-1&&(i=this.maxRateDescription&&this.locMaxRateDescription);let n=new DB(s,e.text,i);return n.locOwner=e.locOwner,n.ownerPropertyName=e.ownerPropertyName,n}correctValue(e,t){if(!e||Math.round(e)==e)return e;for(var s=0;Math.round(t)!=t;)t*=10,s++;return parseFloat(e.toFixed(s))}getType(){return"rating"}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get questionName(){return this.name+"_"+this.id}supportAutoAdvance(){return this.isMouseDown===!0||this.renderAs==="dropdown"}supportOther(){return!1}getPlainDataCalculatedValue(e){const t=super.getPlainDataCalculatedValue(e);if(t!==void 0||!this.useRateValues||this.isEmpty())return t;const s=Ze.getItemByValue(this.visibleRateValues,this.value);return s?s[e]:void 0}get minRateDescription(){return this.getLocalizableStringText("minRateDescription")}set minRateDescription(e){this.setLocalizableStringText("minRateDescription",e)}get locMinRateDescription(){return this.getLocalizableString("minRateDescription")}get maxRateDescription(){return this.getLocalizableStringText("maxRateDescription")}set maxRateDescription(e){this.setLocalizableStringText("maxRateDescription",e)}get locMaxRateDescription(){return this.getLocalizableString("maxRateDescription")}get hasMinRateDescription(){return this.getPropertyValue("hasMinRateDescription",void 0,()=>!!this.minRateDescription)}get hasMaxRateDescription(){return this.getPropertyValue("hasMaxRateDescription",void 0,()=>!!this.maxRateDescription)}get hasMinLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription}get hasMaxLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription}updateRenderAsBasedOnDisplayMode(e){this.isDesignMode?(e||this.renderAs==="dropdown")&&(this.renderAs="default"):(e||this.displayMode!=="auto")&&(this.renderAs=this.displayMode==="dropdown"?"dropdown":"default")}onSurveyLoad(){super.onSurveyLoad(),this.renderAs==="dropdown"&&this.displayMode==="auto"?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()}get rateDisplayMode(){return this.rateType}set rateDisplayMode(e){this.rateType=e}get isStar(){return this.rateType=="stars"}get isSmiley(){return this.rateType=="smileys"}getDefaultItemComponent(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}valueToData(e){if(this.useRateValues()){var t=Ze.getItemByValue(this.rateValues,e);return t?t.value:e}return isNaN(e)?e:parseFloat(e)}setValueFromClick(e){if(!this.isReadOnlyAttr){this.value===(typeof this.value=="string"?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(let t=0;t<this.renderedRateItems.length;t++)this.renderedRateItems[t].highlight="none"}}onItemMouseIn(e){if(ss||this.isReadOnly||!e.itemValue.isEnabled||this.isDesignMode)return;let t=!0,s=this.value!=null;if(this.rateType!=="stars"){e.highlight="highlighted";return}for(let i=0;i<this.renderedRateItems.length;i++)this.renderedRateItems[i].highlight=t&&!s&&"highlighted"||!t&&s&&"unhighlighted"||"none",this.renderedRateItems[i]==e&&(t=!1),this.renderedRateItems[i].itemValue.value==this.value&&(s=!1)}onItemMouseOut(e){ss||this.renderedRateItems.forEach(t=>t.highlight="none")}get itemSmallMode(){return!this.isSingleInputActive&&this.inMatrixMode&&re.matrix.rateSize=="small"}get ratingRootCss(){const e=this.hasMaxLabel||this.hasMinLabel;return new ge().append(this.cssClasses.root).append(this.cssClasses.rootWrappable,this.displayMode=="buttons"||!!this.survey&&this.survey.isDesignMode||this.displayMode=="auto"&&!this.supportResponsiveness()).append(this.cssClasses.rootLabelsTop,e&&this.rateDescriptionLocation=="top").append(this.cssClasses.rootLabelsBottom,e&&this.rateDescriptionLocation=="bottom").append(this.cssClasses.rootLabelsDiagonal,e&&this.rateDescriptionLocation=="topBottom").append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()}get itemStarIcon(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"}get itemStarIconAlt(){return this.itemStarIcon+"-2"}getItemSmiley(e){const t=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],s=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],i=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,n=s.slice(0,i),o=t.filter(l=>n.indexOf(l)!=-1);return this.useRateValues()?o[this.rateValues.indexOf(e)]:o[e.value-this.rateMin]}getItemSmileyIconName(e){return"icon-"+this.getItemSmiley(e)}getItemClassByText(e,t){return this.getItemClass(e)}getRenderedItemColor(e,t){let s=t?jt.badColorLight:jt.badColor,i=t?jt.goodColorLight:jt.goodColor;const n=(this.rateCount-1)/2,o=t?jt.normalColorLight:jt.normalColor;if(e<n?i=o:(s=o,e-=n),!s||!i)return null;const l=[0,0,0,0];for(let u=0;u<4;u++)l[u]=s[u]+(i[u]-s[u])*e/n,u<3&&(l[u]=Math.trunc(l[u]));return"rgba("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"}getItemStyle(e,t="none"){if(this.scaleColorMode==="monochrome"&&this.rateColorMode=="default"||this.isPreviewStyle||this.isReadOnlyStyle)return{};const s=this.visibleRateValues.indexOf(e),i=this.getRenderedItemColor(s,!1),n=t=="highlighted"&&this.scaleColorMode==="colored"&&this.getRenderedItemColor(s,!0);return n?{"--sd-rating-item-color":i,"--sd-rating-item-color-light":n}:{"--sd-rating-item-color":i}}getItemClass(e,t="none"){let s=this.value==e.value;this.isStar&&(this.useRateValues()?s=this.rateValues.indexOf(this.rateValues.filter(I=>I.value==this.value)[0])>=this.rateValues.indexOf(e):s=this.value>=e.value);const n=!(this.isReadOnly||!e.isEnabled)&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),o=this.renderedRateItems.filter(I=>I.itemValue==e)[0],l=this.isStar&&(o==null?void 0:o.highlight)=="highlighted",u=this.isStar&&(o==null?void 0:o.highlight)=="unhighlighted";let c=this.cssClasses.item,h=this.cssClasses.selected,p=this.cssClasses.itemDisabled,m=this.cssClasses.itemReadOnly,v=this.cssClasses.itemPreview,f=this.cssClasses.itemHover,b=this.cssClasses.itemOnError,x=null,g=null,y=null,w=null,S=null;this.isStar&&(c=this.cssClasses.itemStar,h=this.cssClasses.itemStarSelected,p=this.cssClasses.itemStarDisabled,m=this.cssClasses.itemStarReadOnly,v=this.cssClasses.itemStarPreview,f=this.cssClasses.itemStarHover,b=this.cssClasses.itemStarOnError,x=this.cssClasses.itemStarHighlighted,g=this.cssClasses.itemStarUnhighlighted,S=this.cssClasses.itemStarSmall),this.isSmiley&&(c=this.cssClasses.itemSmiley,h=this.cssClasses.itemSmileySelected,p=this.cssClasses.itemSmileyDisabled,m=this.cssClasses.itemSmileyReadOnly,v=this.cssClasses.itemSmileyPreview,f=this.cssClasses.itemSmileyHover,b=this.cssClasses.itemSmileyOnError,x=this.cssClasses.itemSmileyHighlighted,y=this.cssClasses.itemSmileyScaleColored,w=this.cssClasses.itemSmileyRateColored,S=this.cssClasses.itemSmileySmall);const P=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText)),V={item:e,css:""};return V.css=new ge().append(c).append(h,s).append(p,this.isDisabledStyle).append(m,this.isReadOnlyStyle).append(v,this.isPreviewStyle).append(f,n).append(x,l).append(y,this.scaleColorMode=="colored").append(w,this.rateColorMode=="scale"&&s).append(g,u).append(b,this.hasCssError()).append(S,this.itemSmallMode).append(this.cssClasses.itemFixedSize,P).toString(),this.survey&&this.survey.updateChoiceItemCss(this,V),V.css}getControlClass(){return this.isEmpty(),new ge().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}get placeholder(){return this.getLocalizableStringText("ratingOptionsCaption")}set placeholder(e){this.setLocalizableStringText("ratingOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("ratingOptionsCaption")}get allowClear(){return!0}get searchEnabled(){return!1}get renderedValue(){return this.value}set renderedValue(e){this.value=e}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}needResponsiveWidth(){this.getPropertyValue("rateValues");const e=this.getPropertyValue("rateStep"),t=this.getPropertyValue("rateMax"),s=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||e&&(t-s)/e>9)}supportResponsiveness(){return!this.inMatrixMode}onBeforeSetCompactRenderer(){!this.isDisposed&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new Os(this))}getCompactRenderAs(){return this.displayMode=="buttons"?"default":"dropdown"}getDesktopRenderAs(){return this.displayMode=="dropdown"?"dropdown":"default"}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),xm(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}themeChanged(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}get a11yInputAriaRole(){return this.renderAs==="dropdown"?"combobox":null}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"radiogroup"}}jt.colorsCalculated=!1;F([z({defaultValue:!1})],jt.prototype,"inputHasValue",void 0);F([z()],jt.prototype,"autoGenerate",void 0);F([z()],jt.prototype,"rateCount",void 0);F([z()],jt.prototype,"displayRateDescriptionsAsExtremeItems",void 0);F([z()],jt.prototype,"displayMode",void 0);F([z()],jt.prototype,"rateDescriptionLocation",void 0);F([z()],jt.prototype,"rateType",void 0);F([z()],jt.prototype,"scaleColorMode",void 0);F([z()],jt.prototype,"rateColorMode",void 0);ce.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(r){return r.rateDisplayMode=="smileys"},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(r){return r.rateDisplayMode=="smileys"&&r.scaleColorMode=="monochrome"},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:(r,e)=>e<2?2:e>re.ratingMaximumRateValueCount&&e>r.rateValues.length?re.ratingMaximumRateValueCount:e>10&&r.rateDisplayMode=="smileys"?10:e},{name:"rateValues:itemvalue[]",baseValue:function(){return os("choices_Item")},category:"rateValues",visibleIf:function(r){return!r.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:(r,e)=>e>r.rateMax-r.rateStep?r.rateMax-r.rateStep:e,visibleIf:function(r){return!!r.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:(r,e)=>e<r.rateMin+r.rateStep?r.rateMin+r.rateStep:e,visibleIf:function(r){return!!r.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:(r,e)=>(e<=0&&(e=1),e>r.rateMax-r.rateMin&&(e=r.rateMax-r.rateMin),e),visibleIf:function(r){return!!r.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(r){return r.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:r=>r?(r.getOriginalObj&&(r=r.getOriginalObj()),r.getDefaultItemComponent()):"sv-rating-item"}],function(){return new jt("")},"question");gt.Instance.registerQuestion("rating",r=>new jt(r));class QI extends Ze{getBaseType(){return"sliderlabel"}onGetText(e){return e||!this.locOwner?super.onGetText(e):this.locOwner.getTextByItem(this)}getCorrectValue(e){return typeof e=="number"?e:Y.isNumber(e)?parseFloat(e.toString()):this.value||0}}class ys extends rs{get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get labelCount(){return this.customLabels.length>0?this.customLabels.length:this.tickSize?Math.round(100/this.tickSize)+2:this.getPropertyValue("labelCount")}set labelCount(e){this.setPropertyValue("labelCount",e)}get customLabels(){return this.getPropertyValue("customLabels")}set customLabels(e){this.setPropertyValue("customLabels",e)}get allowSwap(){return this.minRangeLength?!1:this.getPropertyValue("allowSwap",!0)}set allowSwap(e){this.setPropertyValue("allowSwap",e)}constructor(e){super(e),this.getThumbContainerCss=t=>new ge().append(this.cssClasses.thumbContainer).append(this.cssClasses.thumbContainerIndeterminateMode,!!this.isIndeterminate).append(this.cssClasses.thumbContainerFocusedMode,t===this.focusedThumb).toString(),this.getLabelCss=t=>new ge().append(this.cssClasses.label).append(this.cssClasses.labelLongMod,t.renderedHtml.length>10).toString(),this.isIndeterminate=!1,this.getTrackPercentLeft=()=>{const{renderedValue:t,sliderType:s,renderedMin:i}=this;let n;return s==="single"?t[0]>0?n=this.getPercent(Math.max(0,i)):n=this.getPercent(t[0]):n=this.getPercent(Math.min(...t)),n},this.getTrackPercentRight=()=>{const{renderedValue:t,sliderType:s,renderedMax:i}=this;let n;return s==="single"?t[0]>0?n=this.getPercent(t[0]):n=this.getPercent(Math.min(0,i)):n=this.getPercent(Math.max(...t)),100-n},this.getPercent=t=>{const{renderedMax:s,renderedMin:i}=this,n=s-i;return Math.abs(t-i)/n*100},this.ensureMaxRangeBorders=(t,s)=>{const{renderedMaxRangeLength:i,renderedValue:n}=this,o=n.slice(),l=o[s];let u=!1;o[s]=t;for(let c=0;c<o.length-1;c++)if(Math.abs(o[c]-o[c+1])>i){u=!0;break}return u?l:t},this.ensureMinRangeBorders=(t,s)=>{const{renderedMinRangeLength:i,renderedValue:n,allowSwap:o,renderedMin:l,renderedMax:u}=this,c=n.slice(),h=c[s];let p=!1;c[s]=t;for(let m=0;m<c.length-1;m++)if(Math.abs(c[m]-c[m+1])<i){p=!0;break}if(!o){const m=s>0?c[s-1]:l,v=s<c.length-1?c[s+1]:u;(t<=m||t>=v)&&(p=!0)}return p?h:t},this.getClosestToStepValue=t=>{const{step:s,renderedMin:i,renderedMax:n}=this,o=i+Math.trunc((n-i)/s)*s;let l=i+Math.round((t-i)/s)*s;return l=Math.min(o,l),l},this.handleRangeOnChange=t=>{if(!this.isRangeMoving||!this.isAllowToChange())return;const{renderedMax:s,renderedMin:i,renderedValue:n,ensureMaxRangeBorders:o,ensureMinRangeBorders:l}=this,u=t.target,c=this.oldInputValue-+u.value;this.oldInputValue=+u.value;let h=!1;for(let p=0;p<n.length;p++){let m=n[p]-c;m=o(m,p),m=l(m,p),m<=s&&m>=i?n.splice(p,1,m):h=!0}if(h){h=!1;return}},this.prepareInputRangeForMoving=(t,s)=>{const{renderedMax:i,renderedMin:n}=this;this.isRangeMoving=!0,this.animatedThumb=!1;const o=t.target;o.style.setProperty("--sjs-range-slider-range-input-thumb-width","20px"),o.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","static");const u=(t.clientX-s.getBoundingClientRect().x)/s.getBoundingClientRect().width*100/100*(i-n)+n;o.value=""+u,this.oldInputValue=u},this.handleRangePointerDown=(t,s)=>{const{dragOrClickHelper:i,allowDragRange:n,step:o,prepareInputRangeForMoving:l}=this,u=t.target;o&&(u.step="0.1"),n&&(i.dragHandler=()=>{l.call(this,t,s)},i.onPointerDown(t))},this.handleRangePointerUp=(t,s)=>{const{step:i,renderedValue:n,getClosestToStepValue:o}=this,l=t.target;if(this.isRangeMoving){if(this.refreshInputRange(),this.isRangeMoving=!1,i){l.step=""+i;for(let u=0;u<n.length;u++)n[u]=o(n[u]);this.setSliderValue(n)}return}l.style.setProperty("--sjs-range-slider-range-input-thumb-width","0px"),l.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),l.style.setProperty("--sjs-range-slider-range-input-thumb-position","static"),this.setValueByClickOnPath(t,s)},this.refreshInputRange=t=>{const{allowDragRange:s,renderedValue:i,getPercent:n}=this;if(!s)return;const o=t||Re.getDocument().getElementById("sjs-slider-input-range-input");if(!o)return;const l=n(i[i.length-1]),u=n(i[0]);let c=l-u;o.style.setProperty("--sjs-range-slider-range-input-thumb-width",`calc(${c}% - 20px - 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-left",`calc(${u}% + 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","absolute")},this.setSliderValue=t=>{if(this.isAllowToChange()){let s;this.sliderType==="single"?s=Array.isArray(t)?t[0]:t:this.sliderType==="range"&&(s=t),this.value=s,this.resetPropertyValue("renderedValue")}},this.setValueByClickOnPath=(t,s)=>{const{renderedMax:i,renderedMin:n}=this;let o=Re.getComputedStyle(Re.getBody()).direction=="rtl",l=(t.clientX-s.getBoundingClientRect().x)/s.getBoundingClientRect().width*100;o&&(l=100-l);let u=l/100*(i-n)+n;this.setValueByClick(u,t.target)},this.setValueByClick=(t,s)=>{const{step:i,getClosestToStepValue:n,ensureMaxRangeBorders:o,ensureMinRangeBorders:l,renderedValue:u,refreshInputRange:c,setSliderValue:h}=this;this.animatedThumb=!0;const p=u.slice();let m=0;for(let v=0;v<p.length;v++){const f=Math.abs(p[m]-t);Math.abs(p[v]-t)<f&&(m=v)}if(p.length>1&&(t=o(t,m),t=l(t,m)),p[m]=t,i){const v=u.slice();for(let f=0;f<p.length;f++){const b=v[f]/i,x=p[f]/i;Math.round(x)===b&&(x>b?p[f]=p[f]+i:x<b&&(p[f]=p[f]-i)),p[f]=n(p[f])}}h(p),c()},this.handleOnChange=(t,s)=>{if(!this.isAllowToChange()||this.oldValue===null)return;const{allowSwap:i,ensureMaxRangeBorders:n,ensureMinRangeBorders:o,renderedValue:l}=this;let c=+t.target.value;l.length>1&&(c=n(c,s),i||(c=o(c,s))),l.splice(s,1,c)},this.handlePointerDown=t=>{const{step:s,renderedValue:i}=this;if(s)for(let n=0;n<i.length;n++){const o=Re.getDocument().getElementById(`sjs-slider-input-${n}`);o.step=.1}this.oldValue=this.renderedValue,this.animatedThumb=!1},this.handlePointerUp=t=>{t.stopPropagation();const{step:s,focusedThumb:i,renderedValue:n,allowSwap:o,renderedMinRangeLength:l,getClosestToStepValue:u,refreshInputRange:c,setSliderValue:h}=this,p=n[i];if(t.target,n.sort((m,v)=>m-v),this.focusedThumb=n.indexOf(p),s)for(let m=0;m<n.length;m++){n[m]=u(n[m]);const v=Re.getDocument().getElementById(`sjs-slider-input-${m}`);v.step=s}if(o){for(let m=0;m<n.length-1;m++)if(Math.abs(n[m]-n[m+1])<l){this.setPropertyValue("renderedValue",this.oldValue);break}}h(n),c(),this.oldValue=null},this.handleKeyDown=t=>{this.oldValue=this.renderedValue,this.animatedThumb=!0},this.handleKeyUp=t=>{this.oldValue=null,this.setSliderValue(this.renderedValue)},this.handleOnFocus=t=>{this.focusedThumb=t},this.handleOnBlur=()=>{this.focusedThumb=null},this.handleLabelPointerUp=(t,s)=>{const i=t.target;isNaN(s)||this.setValueByClick(s,i)},this.getTooltipValue=t=>{const{step:s,getClosestToStepValue:i,renderedValue:n,tooltipFormat:o,formatNumber:l}=this;let u=n[t];return u=s?i(u):u,u=l(u),o.replace("{0}",""+u)},this.getLabelText=t=>{const{step:s,renderedMax:i,renderedMin:n,renderedLabelCount:o,formatNumber:l}=this,u=i-n,c=s%1!=0,h=o-1;let p=h===0?0:t*u/h;return c?""+l(p+n):""+Math.round(p+n)},this.getLabelPosition=t=>{const{max:s,min:i,renderedLabelCount:n,customLabels:o}=this,l=n-1;if(l===0)return 0;const u=s-i;return i+t*u/l},this.isRangeMoving=!1,this.oldInputValue=null,this.oldValue=null,this.calcRenderedValue=()=>{const{renderedMax:t,renderedMin:s,renderedMaxRangeLength:i,getClosestToStepValue:n,sliderType:o}=this;let l;if(o==="single")return l=this.ensureValueRespectMinMax(this.value),typeof l>"u"||l===null||l.length===0?(this.isIndeterminate=!0,this.isNegativeScale?[Math.min(t,0)]:[s]):Array.isArray(l)?[l[0]]:[l];if(l=Array.isArray(this.value)?this.value.slice():[],l.length===0){const u=t-s;if(this.isIndeterminate=!0,Math.abs(u)>i){const c=(u-i)/2;return[n(s+c),n(t-c)]}return[s,t]}return l.map(u=>this.ensureValueRespectMinMax(u))},this.createItemValues("customLabels"),this.dragOrClickHelper=new Dx(null,!1),this.initPropertyDependencies()}get generatedLabels(){return this.getPropertyValue("generatedLabels",void 0,()=>this.calcGeneratedLabels())}get tooltipVisibilityPG(){return this.tooltipVisibility==="auto"}set tooltipVisibilityPG(e){this.tooltipVisibility=e?"auto":"never"}get renderedValue(){return this.getPropertyValue("renderedValue",void 0,()=>this.calcRenderedValue())}set renderedValue(e){this.setPropertyValue("renderedValue",e)}getType(){return"slider"}get rootCss(){return new ge().append(this.cssClasses.root).append(this.cssClasses.rootSingleMode,this.sliderType==="single").append(this.cssClasses.rootNegativeScaleMode,!!this.isNegativeScale).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.rootAnimatedThumbMode,!!this.animatedThumb).toString()}get tooltipCss(){return new ge().append(this.cssClasses.tooltip).append(this.cssClasses.tooltipOnHoverMode,this.tooltipVisibility==="auto").toString()}get renderedLabelCount(){return this.labelCount<0?6:this.labelCount}get renderedMax(){return this.max}get renderedMin(){return this.min}get renderedMaxRangeLength(){var e;return(e=this.maxRangeLength)!==null&&e!==void 0?e:this.renderedMax-this.renderedMin}get renderedMinRangeLength(){var e;return(e=this.minRangeLength)!==null&&e!==void 0?e:this.step}get renderedLabels(){const e=this.generatedLabels,t=this.customLabels;return this.autoGenerate?e:t}get isNegativeScale(){return this.renderedMin<0}getTextByItem(e){const t=e.value.toString();return this.labelFormat.replace("{0}",""+t)}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.customLabels!==void 0&&(this.autoGenerate=!1),!this.isDesignMode&&this.sliderType==="range"&&this.createNewArray("value")}updateValueFromSurvey(e,t){e=this.ensureValueRespectMinMax(e),super.updateValueFromSurvey(e,t),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}runConditionCore(e){super.runConditionCore(e),this.runExpressionByProperty("maxValueExpression",e,t=>{this.max=t??this.renderedMax}),this.runExpressionByProperty("minValueExpression",e,t=>{this.min=t??this.renderedMin})}initPropertyDependencies(){this.registerFunctionOnPropertiesValueChanged(["min","max","step","autoGenerate","labelFormat","labelCount"],()=>{this.resetPropertyValue("generatedLabels"),this.locStrsChanged()}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.customLabels.length===0&&this.setPropertyValue("customLabels",this.calcGeneratedLabels()),this.autoGenerate&&this.customLabels.splice(0,this.customLabels.length)}),this.registerFunctionOnPropertiesValueChanged(["min","max","step","maxRangeLength","minRangeLength","sliderType"],()=>{this.resetPropertyValue("renderedValue")})}setNewValue(e){e=this.ensureValueRespectMinMax(e),super.setNewValue(e),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}setDefaultValue(){super.setDefaultValue();const e=this.defaultValue;this.sliderType==="single"&&Array.isArray(e)&&this.setSliderValue(e),this.resetPropertyValue("renderedValue")}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new Ke({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new yt(()=>this.allowClear&&!this.isReadOnly)});e.push(t)}return e}getItemValueType(){return"sliderlabel"}createLabelItem(e){const t=new QI(e);return t.locOwner=this,t}calcGeneratedLabels(){const e=[];for(let t=0;t<this.renderedLabelCount;t++)e.push(this.createLabelItem(this.getLabelPosition(t)));return e}formatNumber(e){return parseFloat(e.toFixed(4))}ensureValueRespectMinMax(e){return Array.isArray(e)?e.forEach((t,s,i)=>{t<this.min&&(e[s]=this.min),t>this.max&&(e[s]=this.max),s===0?(typeof t>"u"||t===null)&&(e[s]=this.min):s===i.length-1&&(typeof t>"u"||t===null)&&(e[s]=this.max)}):(e<this.min&&(e=this.min),e>this.max&&(e=this.max)),e}isAllowToChange(){return!this.isReadOnly&&!this.isDisabledAttr&&!this.isPreviewStyle&&!this.isDisabledStyle}}F([z({defaultValue:"single"})],ys.prototype,"sliderType",void 0);F([z({defaultValue:100})],ys.prototype,"max",void 0);F([z({defaultValue:0})],ys.prototype,"min",void 0);F([z({defaultValue:null})],ys.prototype,"maxValueExpression",void 0);F([z({defaultValue:null})],ys.prototype,"minValueExpression",void 0);F([z({defaultValue:null})],ys.prototype,"maxRangeLength",void 0);F([z({defaultValue:null})],ys.prototype,"minRangeLength",void 0);F([z({defaultValue:"{0}"})],ys.prototype,"tooltipFormat",void 0);F([z({defaultValue:"{0}"})],ys.prototype,"labelFormat",void 0);F([z({defaultValue:"auto"})],ys.prototype,"tooltipVisibility",void 0);F([z({defaultValue:!0})],ys.prototype,"showLabels",void 0);F([z({defaultValue:!0})],ys.prototype,"autoGenerate",void 0);F([z({defaultValue:!0})],ys.prototype,"allowDragRange",void 0);F([z({defaultValue:null})],ys.prototype,"tickSize",void 0);F([z({defaultValue:!1})],ys.prototype,"allowClear",void 0);F([z({defaultValue:null})],ys.prototype,"focusedThumb",void 0);F([z({defaultValue:null})],ys.prototype,"animatedThumb",void 0);function n2(r,e,t,s){let i=t?e:r;return r>=e?t?r+s:e-s:i}ce.addClass("sliderlabel",[{name:"!value:number"},{name:"visibleIf",visible:!1},{name:"enableIf",visible:!1}],r=>new QI(r),"itemvalue");ce.addClass("slider",[{name:"sliderType",default:"single",choices:["single","range"]},{name:"autoGenerate",default:!0,isSerializable:!1,choices:[!0,!1]},{name:"min:number",default:0,onSettingValue:(r,e)=>n2(e,r.max,!1,r.step)},{name:"max:number",default:100,onSettingValue:(r,e)=>n2(r.min,e,!0,r.step)},{name:"step:number",default:1},{name:"minValueExpression",type:"expression"},{name:"maxValueExpression",type:"expression"},{name:"minRangeLength:number",visibleIf:function(r){return r.sliderType==="range"}},{name:"maxRangeLength:number",visibleIf:function(r){return r.sliderType==="range"}},{name:"customLabels:sliderlabel[]",visibleIf:function(r){return!r.autoGenerate}},{name:"showLabels:boolean",default:!0},{name:"tooltipVisibility:string",default:"auto",visible:!1,choices:["auto","never"]},{name:"tooltipVisibilityPG:boolean",default:!0,isSerializable:!1},{name:"labelFormat:string",default:"{0}"},{name:"tooltipFormat:string",default:"{0}"},{name:"allowDragRange:boolean",default:!0,visible:!1,visibleIf:function(r){return r.sliderType==="range"}},{name:"allowSwap:boolean",default:!0,visibleIf:function(r){return r.sliderType==="range"}},{name:"labelCount:number",default:-1,visibleIf:function(r){return r.autoGenerate}},{name:"allowClear:boolean",default:!1}],function(){return new ys("")},"question");gt.Instance.registerQuestion("slider",r=>new ys(r));class fa extends rs{constructor(e){super(e),this.createLocalizableString("labelFalse",this,!0,"booleanUncheckedLabel"),this.createLocalizableString("labelTrue",this,!0,"booleanCheckedLabel")}getType(){return"boolean"}isLayoutTypeSupported(e){return!0}supportAutoAdvance(){return this.renderAs!=="checkbox"}get isIndeterminate(){return this.isEmpty()}get booleanValue(){return this.isEmpty()?null:this.value==this.getValueTrue()}set booleanValue(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)}setBooleanValue(e){this.isValueEmpty(e)?this.value=void 0:this.value=e==!0?this.getValueTrue():this.getValueFalse()}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){e===!0&&(e="true"),e===!1&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()}getDefaultValue(){const e=this.defaultValue;if(!(e==="indeterminate"||e===void 0||e===null))return e=="true"?this.getValueTrue():this.getValueFalse()}get locTitle(){const e=this.getLocalizableString("title");return(this.isLabelRendered&&!this.showTitle||this.isValueEmpty(e.text))&&!this.isValueEmpty(this.locLabel.text)?this.locLabel:e}get labelRenderedAriaID(){return this.isLabelRendered?this.ariaTitleId:null}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.leftAnswerElement=void 0}get isLabelRendered(){return this.titleLocation==="hidden"&&this.useTitleAsLabel}get canRenderLabelDescription(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)}get labelTrue(){return this.getLocalizableStringText("labelTrue")}set labelTrue(e){this.setLocalizableStringText("labelTrue",e)}get locLabelTrue(){return this.getLocalizableString("labelTrue")}get isDeterminated(){return this.booleanValue!==null&&this.booleanValue!==void 0}get locLabelLeft(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")}get locLabelRight(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")}get labelFalse(){return this.getLocalizableStringText("labelFalse")}set labelFalse(e){this.setLocalizableStringText("labelFalse",e)}get locLabelFalse(){return this.getLocalizableString("labelFalse")}getValueTrue(){return this.valueTrue!==void 0?this.valueTrue:!0}getValueFalse(){return this.valueFalse!==void 0?this.valueFalse:!1}setDefaultValue(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);const e=this.defaultValue;(e==="indeterminate"||e===null||e===void 0)&&this.setBooleanValue(void 0)}isDefaultValueSet(e,t){return this.defaultValue==e||t!==void 0&&this.defaultValue===t}getDisplayValueCore(e,t){return t==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml}getItemCssValue(e){return new ge().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()}getItemCss(){return this.getItemCssValue(this.cssClasses)}getCheckboxItemCss(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})}getLabelCss(e){return new ge().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()}updateValueFromSurvey(e,t=!1){super.updateValueFromSurvey(e,t)}onValueChanged(){super.onValueChanged()}get svgIcon(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}get allowClick(){return this.isIndeterminate&&!this.isInputReadOnly}getCheckedLabel(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse}setQuestionValue(e,t=!0){e==="true"&&this.valueTrue!=="true"&&(e=!0),e==="false"&&this.valueFalse!=="false"&&(e=!1),(e==="indeterminate"||e===null)&&(e=void 0),super.setQuestionValue(e,t)}onLabelClick(e,t){return this.allowClick&&(Jw(e),this.booleanValue=t),!0}calculateBooleanValueByEvent(e,t){let s=!1;Re.isAvailable()&&(s=Re.getComputedStyle(e.target).direction=="rtl"),this.booleanValue=s?!t:t}onSwitchClickModel(e){if(this.allowClick){Jw(e);var t=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,t);return}return!0}onKeyDownCore(e){return(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,e.key==="ArrowRight")),!0}getRadioItemClass(e,t){let s;return e.radioItem&&(s=e.radioItem),e.radioItemChecked&&t===this.value&&(s=(s?s+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(s+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(s+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(s+=" "+e.radioItemPreview),s}supportResponsiveness(){return!0}getCompactRenderAs(){return"radio"}createActionContainer(e){return super.createActionContainer(this.renderAs!=="checkbox")}getIsTitleRenderedAsString(){return!1}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"switch"}}F([z({localizable:!0})],fa.prototype,"label",void 0);F([z({defaultValue:!0})],fa.prototype,"useTitleAsLabel",void 0);F([z({defaultValue:!1})],fa.prototype,"swapOrder",void 0);F([z()],fa.prototype,"valueTrue",void 0);F([z()],fa.prototype,"valueFalse",void 0);ce.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new fa("")},"question");gt.Instance.registerQuestion("boolean",r=>new fa(r));class Ox extends Vm{constructor(e,t,s){super(e,t,s),this.typeName=s,this.createLocalizableString("imageLink",this,!1)}getBaseType(){return"imageitemvalue"}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1}get locImageLink(){return this.getLocalizableString("imageLink")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,s){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,s):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}onErrorHandler(){this.contentNotLoaded=!0}set contentNotLoaded(e){this.locOwner instanceof Pr&&this.locOwner.contentMode=="video"?this.videoNotLoaded=e:this.imageNotLoaded=e}get contentNotLoaded(){return this.locOwner instanceof Pr&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded}}F([z({defaultValue:!1})],Ox.prototype,"videoNotLoaded",void 0);F([z({defaultValue:!1})],Ox.prototype,"imageNotLoaded",void 0);class Pr extends Pm{constructor(e){super(e),this.isResponsiveValue=!1,this.onContentLoaded=(t,s)=>{t.contentNotLoaded=!1;const i=s.target;this.contentMode=="video"?t.aspectRatio=i.videoWidth/i.videoHeight:t.aspectRatio=i.naturalWidth/i.naturalHeight,this._width&&this.processResponsiveness(0,this._width)},this.gridColCount=void 0,this.colCount=0,this.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],()=>{this._width&&this.processResponsiveness(0,this._width)}),this.registerPropertyChangedHandlers(["imageWidth","imageHeight"],()=>{this.calcIsResponsive()}),this.calcIsResponsive()}getType(){return"imagepicker"}supportAutoAdvance(){return!this.multiSelect}get hasSingleInput(){return!1}getItemValueType(){return"imageitemvalue"}get isCompositeQuestion(){return!0}get itemFlowDirection(){return"row"}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}isAnswerCorrect(){return this.multiSelect?Y.isArrayContainsEqual(this.value,this.correctAnswer):super.isAnswerCorrect()}get multiSelect(){return this.getPropertyValue("multiSelect")}set multiSelect(e){this.setPropertyValue("multiSelect",e)}isItemSelected(e){var t=this.value;const s=e;if(this.isValueEmpty(t)||!s.imageLink||s.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(t,e.value);if(!Array.isArray(t))return!1;for(var i=0;i<t.length;i++)if(this.isTwoValueEquals(t[i],e.value))return!0;return!1}getItemEnabled(e){const t=e;return!t.imageLink||t.contentNotLoaded?!1:super.getItemEnabled(e)}clearIncorrectValues(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||e.length==0){this.clearValue(!0);return}for(var t=[],s=0;s<e.length;s++)this.hasUnknownValue(e[s],!0)||t.push(e[s]);if(t.length==e.length)return;t.length==0?this.clearValue(!0):this.value=t}else super.clearIncorrectValues()}getDisplayValueCore(e,t){return!this.multiSelect&&!Array.isArray(t)?super.getDisplayValueCore(e,t):this.getDisplayArrayValue(e,t)}get showLabel(){return this.getPropertyValue("showLabel")}set showLabel(e){this.setPropertyValue("showLabel",e)}endLoadingFromJson(){super.endLoadingFromJson(),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()}getValueCore(){var e=super.getValueCore();return e!==void 0?e:this.multiSelect?[]:e}convertValToArrayForMultSelect(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]}renderedValueFromDataCore(e){return this.convertValToArrayForMultSelect(e)}renderedValueToDataCore(e){return this.convertValToArrayForMultSelect(e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageScale(){return this.survey?this.survey.widthScale/100:1}get renderedImageHeight(){const e=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight*this.imageScale;return e||150*this.imageScale}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedImageWidth(){const e=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth*this.imageScale;return e||200*this.imageScale}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}valueToData(e){return e}get inputType(){return this.multiSelect?"checkbox":"radio"}isBuiltInChoice(e){return!1}addToVisibleChoices(e,t){this.addNewItemToVisibleChoices(e,t)}getSelectBaseRootCss(){const e=this.isResponsive;return new ge().append(super.getSelectBaseRootCss()).append(this.cssClasses.rootResponsive,e).append(this.cssClasses.rootStatic,!e).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()}get isResponsive(){return this.isResponsiveValue}get exactSizesAreEmpty(){return!["imageHeight","imageWidth"].some(e=>this[e]!==void 0&&this[e]!==null)}calcIsResponsive(){this.isResponsiveValue=this.exactSizesAreEmpty}getObservedElementSelector(){return Cr(this.cssClasses.root)}supportResponsiveness(){return!0}needResponsiveness(){return this.supportResponsiveness()}needResponsiveWidth(){return this.colCount>2}getCurrentColCount(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount}getContainerStyle(){return this.isResponsive?{gridAutoFlow:this.gridColCount?null:"column",gridTemplateColumns:this.gridColCount?`repeat(${this.gridColCount}, 1fr)`:null}:{}}processResponsiveness(e,t){this._width=t=Math.floor(t);const s=(i,n,o)=>{let l=Math.floor(i/(n+o));return(l+1)*(n+o)-o<=i&&l++,l};if(this.isResponsive){const i=this.choices.length+(this.isDesignMode?1:0),n=(this.gapBetweenItems||0)*this.imageScale,o=this.minImageWidth*this.imageScale,l=this.maxImageWidth*this.imageScale,u=this.maxImageHeight*this.imageScale,c=this.minImageHeight*this.imageScale;let h=this.colCount,p;const m=s(t,o,n);h===0?((n+o)*i-n>t?p=Math.floor((t-n*(m-1))/m):p=Math.floor((t-n*(i-1))/i),this.gridColCount=Math.max(Math.min(i,m),1)):(m<h?(this.responsiveColCount=Math.max(m,1),h=this.responsiveColCount):this.responsiveColCount=h,this.gridColCount=this.responsiveColCount,p=Math.floor((t-n*(h-1))/h)),p=Math.max(o,Math.min(p,l));let v=Number.MIN_VALUE;this.choices.forEach(x=>{const g=p/x.aspectRatio;v=g>v?g:v}),v>u?v=u:v<c&&(v=c);const f=this.responsiveImageWidth,b=this.responsiveImageHeight;return this.responsiveImageWidth=p,this.responsiveImageHeight=v,f!==this.responsiveImageWidth||b!==this.responsiveImageHeight}return!1}triggerResponsiveness(e=!0){e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),super.triggerResponsiveness(e)}afterRender(e){super.afterRender(e);const t=this.getObservedElementSelector(),s=e&&t?e.querySelector(t):void 0;s&&(this.reCalcGapBetweenItemsCallback=()=>{this.gapBetweenItems=Math.ceil(Number.parseFloat(Re.getComputedStyle(s).gap))||16},this.reCalcGapBetweenItemsCallback())}get ariaRole(){return this.multiSelect?"group":"radiogroup"}get ariaRequired(){return null}get inputRequiredAttribute(){return this.multiSelect?this.hasRequiredError():null}}F([z({})],Pr.prototype,"responsiveImageHeight",void 0);F([z({})],Pr.prototype,"responsiveImageWidth",void 0);F([z({})],Pr.prototype,"isResponsiveValue",void 0);F([z({})],Pr.prototype,"maxImageWidth",void 0);F([z({})],Pr.prototype,"minImageWidth",void 0);F([z({})],Pr.prototype,"maxImageHeight",void 0);F([z({})],Pr.prototype,"minImageHeight",void 0);F([z({})],Pr.prototype,"responsiveColCount",void 0);F([z()],Pr.prototype,"gridColCount",void 0);ce.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],r=>new Ox(r),"itemvalue");ce.addClass("responsiveImageSize",[],void 0,"number");ce.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0},{name:"maxImageWidth:responsiveImageSize",default:3e3,minValue:0},{name:"maxImageHeight:responsiveImageSize",default:3e3,minValue:0},"showLabel:boolean",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]},"multiSelect:boolean"],function(){return new Pr("")},"checkboxbase");ce.getProperty("imagepicker","choices").type="imageitemvalue[]";gt.Instance.registerQuestion("imagepicker",r=>{var e=new Pr(r);return e});const o2=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],MB="https://www.youtube.com/",a2="embed";class Fx extends _x{constructor(e){super(e);const t=this.createLocalizableString("imageLink",this,!1);t.onGetTextCallback=s=>jB(s,this.contentMode=="youtube"),this.createLocalizableString("altText",this,!1),this.registerPropertyChangedHandlers(["contentMode","imageLink"],()=>this.calculateRenderedMode())}getType(){return"image"}get isCompositeQuestion(){return!1}onSurveyLoad(){super.onSurveyLoad(),this.calculateRenderedMode()}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e)}get locImageLink(){return this.getLocalizableString("imageLink")}get altText(){return this.getLocalizableStringText("altText")}set altText(e){this.setLocalizableStringText("altText",e)}get locAltText(){return this.getLocalizableString("altText")}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get renderedStyleHeight(){return this.imageHeight?Tp(this.imageHeight):void 0}get renderedHeight(){return this.imageHeight?ia(this.imageHeight):void 0}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedStyleWidth(){return this.imageWidth?Tp(this.imageWidth):void 0}get renderedWidth(){return this.imageWidth?ia(this.imageWidth):void 0}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}get renderedMode(){return this.getPropertyValue("renderedMode","image")}get ariaInvalid(){return null}get ariaLabel(){return null}get renderedAltText(){return this.altText||this.title}getImageCss(){const e=this.getPropertyByName("imageHeight"),t=this.getPropertyByName("imageWidth"),s=e.isDefaultValue(this.imageHeight)&&t.isDefaultValue(this.imageWidth);return new ge().append(this.cssClasses.image).append(this.cssClasses.adaptive,s).toString()}onLoadHandler(){this.contentNotLoaded=!1}onErrorHandler(){this.contentNotLoaded=!0}setRenderedMode(e){this.setPropertyValue("renderedMode",e)}calculateRenderedMode(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")}isYoutubeVideo(){return Y.isUrlYoutubeVideo(this.imageLink)}isVideo(){let e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(let t=0;t<o2.length;t++)if(e.endsWith(o2[t]))return!0;return!1}}F([z({defaultValue:!1})],Fx.prototype,"contentNotLoaded",void 0);function jB(r,e){if(!r||!Y.isUrlYoutubeVideo(r))return e?"":r;if(r.toLocaleLowerCase().indexOf(a2)>-1)return r;let s="";for(var i=r.length-1;i>=0&&!(r[i]==="="||r[i]==="/");i--)s=r[i]+s;return MB+a2+"/"+s}ce.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new Fx("")},"nonvalue");gt.Instance.registerQuestion("image",r=>new Fx(r));/*!
 * Signature Pad v4.2.0 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class Lp{constructor(e,t,s,i){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=s||0,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class Bx{static fromPoints(e,t){const s=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new Bx(e[1],s,i,e[2],t.start,t.end)}static calculateControlPoints(e,t,s){const i=e.x-t.x,n=e.y-t.y,o=t.x-s.x,l=t.y-s.y,u={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c={x:(t.x+s.x)/2,y:(t.y+s.y)/2},h=Math.sqrt(i*i+n*n),p=Math.sqrt(o*o+l*l),m=u.x-c.x,v=u.y-c.y,f=p/(h+p),b={x:c.x+m*f,y:c.y+v*f},x=t.x-b.x,g=t.y-b.y;return{c1:new Lp(u.x+x,u.y+g),c2:new Lp(c.x+x,c.y+g)}}constructor(e,t,s,i,n,o){this.startPoint=e,this.control2=t,this.control1=s,this.endPoint=i,this.startWidth=n,this.endWidth=o}length(){let t=0,s,i;for(let n=0;n<=10;n+=1){const o=n/10,l=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const c=l-s,h=u-i;t+=Math.sqrt(c*c+h*h)}s=l,i=u}return t}point(e,t,s,i,n){return t*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*i*(1-e)*e*e+n*e*e*e}}class _B{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,s){this._et.addEventListener(e,t,s)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,s){this._et.removeEventListener(e,t,s)}}function OB(r,e=250){let t=0,s=null,i,n,o;const l=()=>{t=Date.now(),s=null,i=r.apply(n,o),s||(n=null,o=[])};return function(...c){const h=Date.now(),p=e-(h-t);return n=this,o=c,p<=0||p>e?(s&&(clearTimeout(s),s=null),t=h,i=r.apply(n,o),s||(n=null,o=[])):s||(s=window.setTimeout(l,p)),i}}class Ap extends _B{constructor(e,t={}){super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=s=>{s.buttons===1&&this._strokeBegin(s)},this._handleMouseMove=s=>{this._strokeMoveUpdate(s)},this._handleMouseUp=s=>{s.buttons===1&&this._strokeEnd(s)},this._handleTouchStart=s=>{if(s.cancelable&&s.preventDefault(),s.targetTouches.length===1){const i=s.changedTouches[0];this._strokeBegin(i)}},this._handleTouchMove=s=>{s.cancelable&&s.preventDefault();const i=s.targetTouches[0];this._strokeMoveUpdate(i)},this._handleTouchEnd=s=>{if(s.target===this.canvas){s.cancelable&&s.preventDefault();const n=s.changedTouches[0];this._strokeEnd(n)}},this._handlePointerStart=s=>{s.preventDefault(),this._strokeBegin(s)},this._handlePointerMove=s=>{this._strokeMoveUpdate(s)},this._handlePointerEnd=s=>{this._drawingStroke&&(s.preventDefault(),this._strokeEnd(s))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in t?t.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?OB(Ap.prototype._strokeUpdate,this.throttle):Ap.prototype._strokeUpdate,this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((s,i)=>{const n=new Image,o=t.ratio||window.devicePixelRatio||1,l=t.width||this.canvas.width/o,u=t.height||this.canvas.height/o,c=t.xOffset||0,h=t.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,c,h,l,u),s()},n.onerror=p=>{i(p)},n.crossOrigin="anonymous",n.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return typeof t!="object"&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`;default:return typeof t!="number"&&(t=void 0),this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;this._drawingStroke=!0;const s=this._getPointGroupOptions(),i=Object.assign(Object.assign({},s),{points:[]});this._data.push(i),this._reset(s),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,s=e.clientY,i=e.pressure!==void 0?e.pressure:e.force!==void 0?e.force:0,n=this._createPoint(t,s,i),o=this._data[this._data.length-1],l=o.points,u=l.length>0&&l[l.length-1],c=u?n.distanceTo(u)<=this.minDistance:!1,h=this._getPointGroupOptions(o);if(!u||!(u&&c)){const p=this._addPoint(n,h);u?p&&this._drawCurve(p,h):this._drawDot(n,h),l.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._drawingStroke&&(this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,s){const i=this.canvas.getBoundingClientRect();return new Lp(e-i.left,t-i.top,s,new Date().getTime())}_addPoint(e,t){const{_lastPoints:s}=this;if(s.push(e),s.length>2){s.length===3&&s.unshift(s[0]);const i=this._calculateCurveWidths(s[1],s[2],t),n=Bx.fromPoints(s,i);return s.shift(),n}return null}_calculateCurveWidths(e,t,s){const i=s.velocityFilterWeight*t.velocityFrom(e)+(1-s.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i,s),o={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,o}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,s){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const s=this._ctx,i=e.endWidth-e.startWidth,n=Math.ceil(e.length())*2;s.beginPath(),s.fillStyle=t.penColor;for(let o=0;o<n;o+=1){const l=o/n,u=l*l,c=u*l,h=1-l,p=h*h,m=p*h;let v=m*e.startPoint.x;v+=3*p*l*e.control1.x,v+=3*h*u*e.control2.x,v+=c*e.endPoint.x;let f=m*e.startPoint.y;f+=3*p*l*e.control1.y,f+=3*h*u*e.control2.y,f+=c*e.endPoint.y;const b=Math.min(e.startWidth+c*i,t.maxWidth);this._drawCurveSegment(v,f,b)}s.closePath(),s.fill()}_drawDot(e,t){const s=this._ctx,i=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;s.beginPath(),this._drawCurveSegment(e.x,e.y,i),s.closePath(),s.fillStyle=t.penColor,s.fill()}_fromData(e,t,s){for(const i of e){const{points:n}=i,o=this._getPointGroupOptions(i);if(n.length>1)for(let l=0;l<n.length;l+=1){const u=n[l],c=new Lp(u.x,u.y,u.pressure,u.time);l===0&&this._reset(o);const h=this._addPoint(c,o);h&&t(h,o)}else this._reset(o),s(n[0],o)}}toSVG({includeBackgroundColor:e=!1}={}){const t=this._data,s=Math.max(window.devicePixelRatio||1,1),i=0,n=0,o=this.canvas.width/s,l=this.canvas.height/s,u=document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("viewBox",`${i} ${n} ${o} ${l}`),u.setAttribute("width",o.toString()),u.setAttribute("height",l.toString()),e&&this.backgroundColor){const c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),u.appendChild(c)}return this._fromData(t,(c,{penColor:h})=>{const p=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){const m=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),p.setAttribute("stroke",h),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),u.appendChild(p)}},(c,{penColor:h,dotSize:p,minWidth:m,maxWidth:v})=>{const f=document.createElement("circle"),b=p>0?p:(m+v)/2;f.setAttribute("r",b.toString()),f.setAttribute("cx",c.x.toString()),f.setAttribute("cy",c.y.toString()),f.setAttribute("fill",h),u.appendChild(f)}),u.outerHTML}}var FB=300,BB=200;class Vi extends Nm{getPenColorFromTheme(){const e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]}updateColors(e){const t=this.getPenColorFromTheme(),s=this.getPropertyByName("penColor");e.penColor=this.penColor||t||s.defaultValue||"#1ab394";const i=this.getPropertyByName("backgroundColor"),n=t?"transparent":void 0,o=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=o||n||i.defaultValue||"#ffffff"}getCssRoot(e){return new ge().append(super.getCssRoot(e)).append(e.small,this.signatureWidth.toString()==="300").toString()}getFormat(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""}updateValue(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}}constructor(e){super(e),this.valueIsUpdatingInternally=!1,this._loadedData=void 0,this.updateValueHandler=()=>{this._loadedData=void 0,this.scaleCanvas(!0,!0)}}getType(){return"signaturepad"}afterRenderQuestionElement(e){qe.isAvailable()&&e&&(this.isDesignMode||this.initSignaturePad(e),this.element=e),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){e&&this.destroySignaturePad(e)}themeChanged(e){this.signaturePad&&this.updateColors(this.signaturePad)}resizeCanvas(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight}scaleCanvas(e=!0,t=!1){const s=this.canvas,i=s.offsetWidth/this.containerWidth;(this.scale!=i||t)&&(this.scale=i,s.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*i,this.signaturePad.maxWidth=this.penMaxWidth*i,s.getContext("2d").scale(1/i,1/i),e&&this.loadPreview(this.value))}fromUrl(e){if(this.isFileLoading=!0,hF(e))this.fromDataUrl(e),this.isFileLoading=!1;else{const t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{if(this.canvas){const i=Re.createElement("canvas");i.width=this.containerWidth,i.height=this.containerHeight,i.getContext("2d").drawImage(t,0,0);var s=i.toDataURL(this.getFormat());this.fromDataUrl(s)}this.isFileLoading=!1},t.onerror=()=>{this.isFileLoading=!1}}}fromDataUrl(e){if(this._loadedData=e,this.signaturePad){let t=1,s=this.scale;this.dataFormat==="svg"&&(t=qe.getDevicePixelRatio()||1,s=1);const i={width:this.canvas.width*s/t,height:this.canvas.height*s/t};this.signaturePad.fromDataURL(e,i)}}get loadedData(){return this._loadedData}loadPreview(e){if(!e){this.signaturePad&&this.canvas&&(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear()),this.valueWasChangedFromLastUpload=!1;return}if(this.storeDataAsText)this.fromDataUrl(e);else if(this.loadedData)this.fromDataUrl(this.loadedData);else{var t=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new qI(this,(s,i)=>{s==="success"&&i&&i.length>0&&i[0].content?(this.fromDataUrl(i[0].content),this.isFileLoading=!1):s==="skipped"&&this.fromUrl(e),this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t)}}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||(this._loadedData=void 0,this.loadPreview(e))}onSurveyLoad(){super.onSurveyLoad(),this.loadPreview(this.value)}initSignaturePad(e){var t=e.getElementsByTagName("canvas")[0];this.canvas=t,this.resizeCanvas();var s=new Ap(t,{backgroundColor:"#ffffff"});this.signaturePad=s,this.isInputReadOnly&&s.off(),this.readOnlyChangedCallback=()=>{this.isInputReadOnly?s.off():s.on()},this.updateColors(s),s.addEventListener("beginStroke",()=>{this.scaleCanvas(),this.isDrawingValue=!0,t.focus()},{once:!1}),s.addEventListener("endStroke",()=>{this.isDrawingValue=!1,this.storeDataAsText?this.updateValue():this.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var i=(n,o)=>{(o.name==="signatureWidth"||o.name==="signatureHeight")&&(this.valueIsUpdatingInternally||this.updateValueHandler())};this.onPropertyChanged.add(i),this.signaturePad.propertyChangedHandler=i}destroySignaturePad(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null}get dataFormat(){return this.getPropertyValue("dataFormat")}set dataFormat(e){this.setPropertyValue("dataFormat",Xv(e))}get signatureWidth(){return this.getPropertyValue("signatureWidth")}set signatureWidth(e){this.setPropertyValue("signatureWidth",e)}get signatureHeight(){return this.getPropertyValue("signatureHeight")}set signatureHeight(e){this.setPropertyValue("signatureHeight",e)}get containerHeight(){return this.signatureHeight||BB}get containerWidth(){return this.signatureWidth||FB}get renderedCanvasWidth(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"}get height(){return this.getPropertyValue("height")}set height(e){this.setPropertyValue("height",e)}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get canShowClearButton(){const e=!this.nothingIsDrawn(),t=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!t}get penColor(){return this.getPropertyValue("penColor")}set penColor(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundColor(){return this.getPropertyValue("backgroundColor")}set backgroundColor(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundImage(){return this.getPropertyValue("backgroundImage")}set backgroundImage(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}get locRenderedPlaceholder(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder}nothingIsDrawn(){const e=this.isDrawingValue,t=this.isEmpty(),s=this.isUploading,i=this.valueWasChangedFromLastUpload;return!e&&t&&!s&&!i}needShowPlaceholder(){return this.showPlaceholder&&this.nothingIsDrawn()}onBlurCore(e){if(super.onBlurCore(e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([AB(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+Xv(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}}uploadResultItemToValue(e){return e.content}setValueFromResult(e){this.valueIsUpdatingInternally=!0,this.value=e!=null&&e.length?e.map(t=>t.content)[0]:void 0,this.valueIsUpdatingInternally=!1}clearValue(e){this.valueWasChangedFromLastUpload=!1,super.clearValue(e),this._loadedData=void 0,this.loadPreview(this.value)}endLoadingFromJson(){super.endLoadingFromJson(),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(Ur.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(Ur.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)}}F([z({defaultValue:!1})],Vi.prototype,"isDrawingValue",void 0);F([z({defaultValue:!1})],Vi.prototype,"isReadyForUpload",void 0);F([z({defaultValue:!1})],Vi.prototype,"valueWasChangedFromLastUpload",void 0);F([z()],Vi.prototype,"signatureAutoScaleEnabled",void 0);F([z()],Vi.prototype,"penMinWidth",void 0);F([z()],Vi.prototype,"penMaxWidth",void 0);F([z({})],Vi.prototype,"showPlaceholder",void 0);F([z({localizable:{defaultStr:"signaturePlaceHolder"}})],Vi.prototype,"placeholder",void 0);F([z({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],Vi.prototype,"placeholderReadOnly",void 0);function Xv(r){return r||(r="png"),r=r.replace("image/","").replace("+xml",""),r!=="jpeg"&&r!=="svg"&&(r="png"),r}ce.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:r=>r.showPlaceholder},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:r=>r.showPlaceholder},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"jpeg",text:"JPEG"},{value:"svg",text:"SVG"}],onSettingValue:(r,e)=>Xv(e)},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Vi("")},"question");gt.Instance.registerQuestion("signaturepad",r=>new Vi(r));class qB extends yI{constructor(e){super(),this.item=e}getIndex(){return this.panelIndex}getQuestionData(){return this.item.data}getValue(e,t,s,i){if(e.length===0)return;if(e.length===1){const c=this.getPanelValue(e[0].name);if(c!==void 0)return{isFound:!0,value:c,context:this}}const n=re.expressionVariables,o=n.panel;if(e.length>1&&e[0].name.toLocaleLowerCase()===n.parentPanel.toLocaleLowerCase()){const c=this.item.data;if(c&&c.parentQuestion&&c.parent&&c.parent.data)return e[0].name=o,c.parent.data.getValueGetterContext().getValue(e,!0,s,i)}const l=this.item.panel,u=e[0].name===o;if(u||!t){u&&e.shift();const c=new Lx(l.questions).getValue(e,!1,s,i);if(c&&c.isFound)return c;const h=this.item.getAllValues();if(t){const p=this.getValueFromBindedQuestions(e,h);if(p)return p}return new bi(h).getValue(e,!1,s,i)}}getTextValue(e,t,s){return e=e.toLocaleLowerCase(),[this.indexVar,this.visIndexVar].indexOf(e)>-1&&t>-1&&t++,super.getTextValue(e,t,s)}get indexVar(){return re.expressionVariables.panelIndex.toLocaleLowerCase()}get visIndexVar(){return re.expressionVariables.visiblePanelIndex.toLocaleLowerCase()}getPanelValue(e){if(e=e.toLocaleLowerCase(),e===this.indexVar)return this.panelIndex;if(e==this.visIndexVar)return this.visiblePanelIndex}get panelIndex(){return this.getPanels(!1).indexOf(this.item.panel)}get visiblePanelIndex(){return this.getPanels(!0).indexOf(this.item.panel)}getPanels(e){const t=this.item.data;return t?e?t.visiblePanels:t.panels:[]}}class zB extends bm{constructor(e){super(e),this.question=e}getValue(e,t,s,i){if(!i&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(s>-1){const n=this.question;return s>=0&&s<n.panels.length?n.panels[s].data.getValueGetterContext().getValue(e,!1,s,i):{isFound:!1,value:void 0,context:this}}return super.getValue(e,t,s,i)}}class HB extends Ke{constructor(e){super(e)}}class l2{constructor(e,t){this.data=e,this.data=e,this.panelValue=t,this.textPreProcessor=new wm(this),this.setSurveyImpl()}get panel(){return this.panelValue}setSurveyImpl(){this.panel.setSurveyImpl(this)}getValueGetterContext(){return new qB(this)}getValue(e){var t=this.getAllValues();return t[e]}setValue(e,t){const s=this.data.getPanelItemData(this),i=s?s[e]:void 0;if(Y.isTwoValueEquals(t,i,!1,!0,!1))return;this.data.setPanelItemData(this,e,Y.getUnbindValue(t));const n=this.panel.questions;for(var o=0;o<n.length;o++){const l=n[o];l.getValueName()!==e&&l.checkBindings(e,t);const u=re.commentSuffix;if(e.endsWith(u)){e=e.substring(0,e.length-u.length);const h=this.panel.getQuestionByName(e);h&&(t=h.value)}const c=re.expressionVariables.panel+"."+e;l.runTriggers(c,t)}}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getValue(e+re.commentSuffix);return t||""}setComment(e,t,s){this.setValue(e+re.commentSuffix,t)}findQuestionByName(e){if(!e)return;const t=re.expressionVariables.panel+".";if(e.indexOf(t)===0)return this.panel.getQuestionByName(e.substring(t.length));const s=this.getSurvey();return s?s.getQuestionByName(e):null}getEditingSurveyElement(){}getAllValues(){return this.data.getPanelItemData(this)}getFilteredProperties(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}}class QB{constructor(e){this.data=e}getSurveyData(){return null}getSurvey(){return this.data.getSurvey()}getTextProcessor(){return null}}class Cn extends rs{constructor(e){super(e),this._renderedPanels=[],this.isPanelsAnimationRunning=!1,this.isAddingNewPanels=!1,this.isSetPanelItemData={},this.createNewArray("panels",t=>{this.onPanelAdded(t)},t=>{this.onPanelRemoved(t)}),this.createNewArray("visiblePanels"),this.templateValue=this.createAndSetupNewPanelObject(),this.template.renderWidth="100%",this.template.selectedElementInDesign=this,this.template.addElementCallback=t=>{this.addOnPropertyChangedCallback(t),this.rebuildPanels()},this.template.removeElementCallback=()=>{this.rebuildPanels()},this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete"),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("addPanelText",this,!1,"addPanel"),this.createLocalizableString("removePanelText",this,!1,"removePanel"),this.createLocalizableString("prevPanelText",this,!1,"pagePrevText"),this.createLocalizableString("nextPanelText",this,!1,"pageNextText"),this.createLocalizableString("noEntriesText",this,!1,"noEntriesText"),this.createLocalizableString("editPanelText",this,!1,"editText"),this.createLocalizableString("templateTabTitle",this,!0,"panelDynamicTabTextFormat"),this.createLocalizableString("tabTitlePlaceholder",this,!0,"tabTitlePlaceholder"),this.registerPropertyChangedHandlers(["panelsState"],()=>{this.setPanelsState()}),this.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],()=>{this.updateFooterActions()}),this.registerPropertyChangedHandlers(["allowAddPanel"],()=>{this.updateNoEntriesTextDefaultLoc()}),this.registerPropertyChangedHandlers(["minPanelCount"],()=>{this.onMinPanelCountChanged()}),this.registerPropertyChangedHandlers(["maxPanelCount"],()=>{this.onMaxPanelCountChanged()}),this.registerPropertyChangedHandlers(["templateQuestionTitleLocation","templateQuestionTitleWidth"],()=>{const t=this.visiblePanelsCore;t&&t.forEach(s=>{s.updateElementCss(!0)})})}get isCompositeQuestion(){return!0}get hasSingleInput(){return!1}get isContainer(){return!0}getFirstQuestionToFocus(e){for(var t=0;t<this.visiblePanelsCore.length;t++){const s=this.visiblePanelsCore[t].getFirstQuestionToFocus(e);if(s)return s}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.showAddPanelButton?this.addButtonId:super.getFirstInputElementId()}getFirstErrorInputElementId(){const e=this.getFirstQuestionToFocus(!0);return e?e.inputId:super.getFirstErrorInputElementId()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()}assignOnPropertyChangedToTemplate(){for(var e=this.template.elements,t=0;t<e.length;t++)this.addOnPropertyChangedCallback(e[t])}addOnPropertyChangedCallback(e){e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add((t,s)=>{this.onTemplateElementPropertyChanged(t,s)}),e.isPanel&&(e.addElementCallback=t=>{this.addOnPropertyChangedCallback(t)})}onTemplateElementPropertyChanged(e,t){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var s=ce.findProperty(e.getType(),t.name);if(s)for(var i=this.panelsCore,n=0;n<i.length;n++){var o=i[n].getQuestionByName(e.name);o&&o[t.name]!==t.newValue&&(o[t.name]=t.newValue)}}}get useTemplatePanel(){return this.isDesignMode&&!this.isContentElement}getType(){return"paneldynamic"}clearOnDeletingContainer(){this.panelsCore.forEach(e=>{e.clearOnDeletingContainer()})}get isAllowTitleLeft(){return!1}removeElement(e){return this.template.removeElement(e)}get template(){return this.templateValue}getPanel(){return this.template}get templateElements(){return this.template.elements}get templateTitle(){return this.template.title}set templateTitle(e){this.template.title=e}get locTemplateTitle(){return this.template.locTitle}get templateTabTitle(){return this.locTemplateTabTitle.text}set templateTabTitle(e){this.locTemplateTabTitle.text=e}get locTemplateTabTitle(){return this.getLocalizableString("templateTabTitle")}get tabTitlePlaceholder(){return this.locTabTitlePlaceholder.text}set tabTitlePlaceholder(e){this.locTabTitlePlaceholder.text=e}get locTabTitlePlaceholder(){return this.getLocalizableString("tabTitlePlaceholder")}get templateDescription(){return this.template.description}set templateDescription(e){this.template.description=e}get locTemplateDescription(){return this.template.locDescription}get templateVisibleIf(){return this.getPropertyValue("templateVisibleIf")}set templateVisibleIf(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e}get items(){for(var e=[],t=0;t<this.panelsCore.length;t++)e.push(this.panelsCore[t].data);return e}get panels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore}get visiblePanels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore}get panelsCore(){return this.getPropertyValue("panels")}get visiblePanelsCore(){return this.getPropertyValue("visiblePanels")}onPanelAdded(e){if(this.onPanelRemovedCore(e),!e.visible)return;let t=0;const s=this.panelsCore;for(var i=0;i<s.length&&s[i]!==e;i++)s[i].visible&&t++;this.visiblePanelsCore.splice(t,0,e),this.addTabFromToolbar(e,t),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}onPanelRemoved(e){let t=this.onPanelRemovedCore(e);if(this.currentPanel===e){const s=this.visiblePanelsCore;t>=s.length&&(t=s.length-1),this.currentPanel=t>=0?s[t]:null}this.updateRenderedPanels()}onPanelRemovedCore(e){const t=this.visiblePanelsCore;let s=t.indexOf(e);return s>-1&&(t.splice(s,1),this.removeTabFromToolbar(e)),s}get currentIndex(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)}set currentIndex(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])}get currentPanel(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;let e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e}set currentPanel(e){if(this.isRenderModeList||this.useTemplatePanel)return;const t=this.getPropertyValue("currentPanel"),s=e?this.visiblePanelsCore.indexOf(e):-1;if(!(e&&s<0||e===t)&&(t&&t.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),s>-1&&this.survey)){const i={panel:e,visiblePanelIndex:s};this.survey.dynamicPanelCurrentIndexChanged(this,i)}}updateRenderedPanels(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]}set renderedPanels(e){this.renderedPanels.length==0||e.length==0?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))}get renderedPanels(){return this._renderedPanels}getPanelsAnimationOptions(){const e=()=>{if(this.isRenderModeList)return"";let t=new ge,s=!1;const i=this.renderedPanels.filter(o=>o!==this.currentPanel)[0];let n=this.visiblePanels.indexOf(i);return n<0&&(s=!0,n=this.removedPanelIndex),t.append("sv-pd-animation-adding",!!this.focusNewPanelCallback).append("sv-pd-animation-removing",s).append("sv-pd-animation-left",n<=this.currentIndex).append("sv-pd-animation-right",n>this.currentIndex).toString()};return{getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement:t=>{var s,i;if(t&&this.cssContent){const n=Cr(this.cssContent);return(i=(s=this.getWrapperElement())===null||s===void 0?void 0:s.querySelector(`:scope ${n} #${t.id}`))===null||i===void 0?void 0:i.parentElement}},getEnterOptions:()=>{const t=new ge().append(this.cssClasses.panelWrapperEnter).append(e()).toString();return{onBeforeRunAnimation:s=>{if(this.focusNewPanelCallback){const i=this.isRenderModeList?s:s.parentElement;Vt.ScrollElementToViewCore(i,!1,!1,{behavior:"smooth"})}!this.isRenderModeList&&s.parentElement?Rd(s.parentElement,{heightTo:s.offsetHeight+"px"}):pn(s)},onAfterRunAnimation:s=>{Br(s),s.parentElement&&Br(s.parentElement)},cssClass:t}},getLeaveOptions:()=>{const t=new ge().append(this.cssClasses.panelWrapperLeave).append(e()).toString();return{onBeforeRunAnimation:s=>{!this.isRenderModeList&&s.parentElement?Rd(s.parentElement,{heightFrom:s.offsetHeight+"px"}):pn(s)},onAfterRunAnimation:s=>{Br(s),s.parentElement&&Br(s.parentElement)},cssClass:t}},isAnimationEnabled:()=>this.animationAllowed&&!!this.getWrapperElement()}}disablePanelsAnimations(){this.panelsCore.forEach(e=>{e.blockAnimations()})}enablePanelsAnimations(){this.panelsCore.forEach(e=>{e.releaseAnimations()})}updatePanelsAnimation(){this._panelsAnimations=new(this.isRenderModeList?ra:cI)(this.getPanelsAnimationOptions(),(e,t)=>{this._renderedPanels=e,t||(this.isPanelsAnimationRunning=!1,this.focusNewPanel())},()=>this._renderedPanels)}get panelsAnimation(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations}onHidingContent(){super.onHidingContent(),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(e=>e.onHidingContent())}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get prevPanelText(){return this.getLocalizableStringText("prevPanelText")}set prevPanelText(e){this.setLocalizableStringText("prevPanelText",e)}get locPrevPanelText(){return this.getLocalizableString("prevPanelText")}get panelPrevText(){return this.prevPanelText}set panelPrevText(e){this.prevPanelText=e}get locPanelPrevText(){return this.locPrevPanelText}get nextPanelText(){return this.getLocalizableStringText("nextPanelText")}set nextPanelText(e){this.setLocalizableStringText("nextPanelText",e)}get locNextPanelText(){return this.getLocalizableString("nextPanelText")}get panelNextText(){return this.nextPanelText}set panelNextText(e){this.nextPanelText=e}get locPanelNextText(){return this.locNextPanelText}get addPanelText(){return this.getLocalizableStringText("addPanelText")}set addPanelText(e){this.setLocalizableStringText("addPanelText",e)}get locAddPanelText(){return this.getLocalizableString("addPanelText")}get panelAddText(){return this.addPanelText}set panelAddText(e){this.addPanelText=e}get locPanelAddText(){return this.locAddPanelText}get removePanelText(){return this.getLocalizableStringText("removePanelText")}set removePanelText(e){this.setLocalizableStringText("removePanelText",e)}get locRemovePanelText(){return this.getLocalizableString("removePanelText")}get panelRemoveText(){return this.removePanelText}set panelRemoveText(e){this.removePanelText=e}get locPanelRemoveText(){return this.locRemovePanelText}get isProgressTopShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="top"||this.progressBarLocation==="topBottom")}get isProgressBottomShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="bottom"||this.progressBarLocation==="topBottom")}get isPrevButtonVisible(){return this.currentIndex>0}get isPrevButtonShowing(){return this.isPrevButtonVisible}get isNextButtonVisible(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1}get isNextButtonShowing(){return this.isNextButtonVisible}get isRangeShowing(){return this.showProgressBar&&this.currentIndex>=0&&this.visiblePanelCount>1}getElementsInDesign(e=!1){return e?[this.template]:this.templateElements}prepareValueForPanelCreating(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1}setValueAfterPanelsCreating(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)}getValueCore(){return this.isAddingNewPanels?this.addingNewPanelsValue:super.getValueCore()}setValueCore(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):super.setValueCore(e)}setIsMobile(e){super.setIsMobile(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(s=>{s.setIsMobile(e)}))}themeChanged(e){super.themeChanged(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(s=>{s.themeChanged(e)}))}get panelCount(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length}set panelCount(e){if(e<0)return;if(!this.isLoadingFromJson&&this.isDesignMode){const s=this.minPanelCount;e<s&&(e=s);const i=this.maxPanelCount;i>0&&e>i&&(e=i)}if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e),this.updateFooterActions();return}if(e==this.panelsCore.length||this.useTemplatePanel)return;this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();const t=e-this.panelCount===1;for(let s=this.panelCount;s<e;s++){const i=this.createNewPanel();this.panelsCore.push(i),this.displayMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expanded"?i.expand():i.title&&i.collapse())}t&&this.singleInputOnAddItem(this.settingPanelCountBasedOnValue),e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}get visiblePanelCount(){return this.visiblePanels.length}get panelsState(){return this.getPropertyValue("panelsState")}set panelsState(e){this.setPropertyValue("panelsState",e)}getStructuredValue(e=-1){if(e<0||this.isEmpty()||!Array.isArray(this.value))return this.value;const t=new Array,s=Math.min(this.visiblePanelCount,this.value.length);for(let i=0;i<s;i++){const n=this.visiblePanels[i],o={};n.collectValues(o,e),t.push(o)}return t}setTemplatePanelSurveyImpl(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new QB(this))}setPanelsSurveyImpl(){for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsCore[e];t!=this.template&&t.setSurveyImpl(t.data)}}setPanelsState(){if(!(this.useTemplatePanel||this.displayMode!="list"||!this.templateTitle))for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsState;t==="firstExpanded"&&(t=e===0?"expanded":"collapsed"),this.panelsCore[e].state=t}}setValueBasedOnPanelCount(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var t=e.length;t<this.panelCount;t++){const s=this.panels[t].getValue(),i=Y.isValueEmpty(s)?{}:s;e.push(i)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}}get minPanelCount(){return this.getPropertyValue("minPanelCount")}set minPanelCount(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)}onMinPanelCountChanged(){const e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)}get maxPanelCount(){return this.getPropertyValue("maxPanelCount")}set maxPanelCount(e){e<=0||(e>re.panel.maxPanelCount&&(e=re.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())}onMaxPanelCountChanged(){const e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()}get allowAddPanel(){return this.getPropertyValue("allowAddPanel")}set allowAddPanel(e){this.setPropertyValue("allowAddPanel",e)}get addButtonId(){return this.id+"addPanel"}get newPanelPosition(){return this.getPropertyValue("newPanelPosition")}set newPanelPosition(e){this.setPropertyValue("newPanelPosition",e)}get allowRemovePanel(){return this.getPropertyValue("allowRemovePanel")}set allowRemovePanel(e){this.setPropertyValue("allowRemovePanel",e)}get templateQuestionTitleLocation(){return this.getPropertyValue("templateQuestionTitleLocation")}set templateQuestionTitleLocation(e){this.setPropertyValue("templateQuestionTitleLocation",e)}get templateTitleLocation(){return this.templateQuestionTitleLocation}set templateTitleLocation(e){this.templateQuestionTitleLocation=e}get templateQuestionTitleWidth(){return this.template.questionTitleWidth}set templateQuestionTitleWidth(e){this.template.questionTitleWidth=e}get templateErrorLocation(){return this.getPropertyValue("templateErrorLocation")}set templateErrorLocation(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())}resetSingleInput(){super.resetSingleInput(),this.locTemplateTitle.onGetTextCallback=null}getSingleInputQuestionsCore(e,t){this.onFirstRendering();const s=new Array,i=this.visiblePanels;if(t)for(let n=0;n<i.length;n++){const o=i[n];(!o.hasValueAnyQuestion(!0)||!o.validate(!1,!1))&&this.fillSingleInputQuestionsByPanel(s,o)}return this.getSingleInputQuestionsForDynamic(e,s)}fillSingleInputQuestionsInContainer(e,t){const s=this.getPanelByQuestion(t);this.fillSingleInputQuestionsByPanel(e,s)}fillSingleInputQuestionsByPanel(e,t){t&&t.visibleQuestions.forEach(s=>s.addNestedQuestion(e,!0,!1,!1))}getSingleQuestionLocTitleCore(){const e=this.locTemplateTitle;return e.onGetTextCallback=t=>{const s=this.singleInputQuestion;return s?this.processSingleInputTitle(t,this.getPanelByQuestion(s)):t},e}processSingleInputTitle(e,t){return e||(e=this.getSingleInputTitleTemplate()),t?t.getProcessedText(e):e}getSingleInputTitleTemplate(){return this.getLocalizationString("panelDynamicTabTextFormat")}getPanelByQuestion(e){let t=e.parent;for(;t&&t.parent;)t=t.parent;return t}getSingleInputAddTextCore(){if(this.canAddPanel)return this.panelAddText}singleInputAddItemCore(){this.addPanelUI()}singleInputRemoveItemCore(e){const t=this.getPanelByQuestion(e),s=this.visiblePanelsCore.indexOf(t);this.removePanelUI(s)}getSingleQuestionOnChange(e){const t=this.visiblePanelsCore;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const i=t[e].visibleQuestions;if(i.length>0)return i[0]}return null}createSingleInputSummary(){const e=new TI(this,this.locNoEntriesText),t=new Array;return this.visiblePanels.forEach(s=>{const i=new as(this,!0,void 0,this.locTemplateTitle.localizationName);i.setJson(this.locTemplateTitle.getJson()),i.onGetTextCallback=l=>this.processSingleInputTitle(this.templateTitle,s);const n=new Ke({locTitle:this.getLocalizableString("editPanelText"),action:()=>{this.singInputEditPanel(s)}}),o=this.canRemovePanel?new Ke({locTitle:this.locPanelRemoveText,action:()=>{this.removePanelUI(s)}}):void 0;t.push(new II(i,n,o))}),e.items=t,e}singleInputMoveToFirstCore(){var e;let t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.parent;for(;t&&t.parent;)t=t.parent;this.singInputEditPanel(t)}singInputEditPanel(e){if(!e)return;const t=e.visibleQuestions;t.length>0&&this.setSingleInputQuestion(t[0])}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)}notifySurveyOnChildrenVisibilityChanged(){return this.showQuestionNumbers==="onSurvey"}get removePanelButtonLocation(){return this.getPropertyValue("removePanelButtonLocation")}set removePanelButtonLocation(e){this.setPropertyValue("removePanelButtonLocation",e)}get panelRemoveButtonLocation(){return this.removePanelButtonLocation}set panelRemoveButtonLocation(e){this.removePanelButtonLocation=e}get showRangeInProgress(){return this.showProgressBar}set showRangeInProgress(e){this.showProgressBar=e}get renderMode(){let e=this.displayMode;if(e=="carousel"){const t=this.progressBarLocation;if(t=="top")return"progressTop";if(t=="bottom")return"progressBottom";if(t=="topBottom")return"progressTopBottom"}return e}set renderMode(e){(e||"").startsWith("progress")?(e=="progressTop"?this.progressBarLocation="top":e=="progressBottom"?this.progressBarLocation="bottom":e=="progressTopBottom"&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e}updatePanelView(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()}get tabAlign(){return this.getPropertyValue("tabAlign")}set tabAlign(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.tabbedMenu.containerCss=this.getTabbedMenuCss())}get isRenderModeList(){return this.displayMode==="list"||this.isSingleInputActive}get isRenderModeTab(){return this.displayMode==="tab"&&!this.isSingleInputActive}setVisibleIndex(e){if(!this.isVisible)return 0;const t=this.showQuestionNumbers==="onSurvey";let s=t?e:0;const i=this.isDesignMode?[this.template]:this.visiblePanelsCore;for(let n=0;n<i.length;n++){let o=this.setPanelVisibleIndex(i[n],s,this.showQuestionNumbers!="off");t&&(s+=o)}return super.setVisibleIndex(t?-1:e),t?s-e:1}setPanelVisibleIndex(e,t,s){return s?e.setVisibleIndex(t):(e.setVisibleIndex(-1),0)}get canAddPanel(){return this.isDesignMode||!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount}get canRemovePanel(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount}rebuildPanels(){if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var e=[];if(this.useTemplatePanel)new l2(this,this.template),e.push(this.template);else for(var t=0;t<this.panelCount;t++)e.push(this.createNewPanel());this.panelsCore.splice(0,this.panelsCore.length,...e),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}}get defaultPanelValue(){return this.getPropertyValue("defaultPanelValue")}set defaultPanelValue(e){this.setPropertyValue("defaultPanelValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastPanel(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastPanel(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultPanelValue)}setDefaultValue(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.panelCount==0)){for(var e=[],t=0;t<this.panelCount;t++)e.push(this.defaultPanelValue);this.value=e}}get isValueArray(){return!0}isEmpty(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!this.isRowEmpty(e[t]))return!1;return!0}getProgressInfo(){return Vt.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)}isRowEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}addPanelUI(){return this.addPanel(void 0,!0)}addPanel(e,t){const s=t===!0;if(s&&(!this.canAddPanel||!this.canLeaveCurrentPanel()))return null;const i=this.addPanelCore(e);return s&&(this.displayMode==="list"&&this.panelsState!=="default"&&i.expand(),this.focusNewPanelCallback=()=>{i==null||i.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel()),i}addPanelCore(e){const t=this.currentIndex;return e===void 0&&(e=t<0?this.panelCount:t+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(t<0?this.panelCount-1:t,e),this.isRenderModeList||(this.currentIndex=e),this.notifyOnPanelAddedRemoved(!0,e),this.panelsCore[e]}focusNewPanel(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)}updateValueOnAddingPanel(e,t){this.panelCount++;let s=this.value;if(!Array.isArray(s)||s.length!==this.panelCount)return;let i=!1;const n=this.panelCount-1;if(t<n){i=!0;const o=s[n];s.splice(n,1),s.splice(t,0,o)}if(this.isValueEmpty(this.defaultPanelValue)||(i=!0,this.copyValue(s[t],this.defaultPanelValue)),this.copyDefaultValueFromLastEntry&&s.length>1){const o=e>-1&&e<=n?e:n;i=!0,this.copyValue(s[t],s[o])}i&&(this.value=s)}canLeaveCurrentPanel(){return this.displayMode==="list"||!this.currentPanel||this.currentPanel.validate(!0,!0)}copyValue(e,t){for(var s in t)e[s]=t[s]}getPanelRemoveButtonId(e){return e.id+"_remove_button"}isRequireConfirmOnDelete(e){if(!this.confirmDelete)return!1;const t=this.getVisualPanelIndex(e);if(t<0||t>=this.visiblePanelCount)return!1;const s=this.visiblePanelsCore[t].getValue();return!this.isValueEmpty(s)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(s,this.defaultPanelValue))}goToNextPanel(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)}goToPrevPanel(){this.currentIndex<0||this.currentIndex--}removePanelUI(e){this.removePanel(e,this.isRequireConfirmOnDelete(e))}removePanel(e,t){const s=this.getVisualPanelIndex(e);if(s<0||s>=this.visiblePanelCount)return;if(t!==void 0){if(!this.canRemovePanel)return;const n=()=>{var o;this.removePanelCore(s);const l=this.visiblePanelCount,u=s>=l?l-1:s;let c=l===0?this.addButtonId:u>-1?this.getPanelRemoveButtonId(this.visiblePanels[u]):"";c&&Vt.FocusElement(c,!0,(o=this.survey)===null||o===void 0?void 0:o.rootElement)};t?Pp({message:this.confirmDeleteText,funcOnYes:()=>{n()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog}):n()}else this.removePanelCore(s)}removePanelCore(e){this.removedPanelIndex=e;const t=this.visiblePanelsCore[e],s=this.panelsCore.indexOf(t);if(!(s<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,s,t))){this.panelsCore.splice(s,1),this.updateBindings("panelCount",this.panelCount),this.singleInputOnRemoveItem(e);var i=this.value;!i||!Array.isArray(i)||s>=i.length?this.updateFooterActions():(this.isValueChangingInternally=!0,i.splice(s,1),this.value=i,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.notifyOnPanelAddedRemoved(!1,s,t),this.isValueChangingInternally=!1)}}notifyOnPanelAddedRemoved(e,t,s){if(s||(s=this.panelsCore[t]),this.survey){const i=this.showQuestionNumbers==="onSurvey";e?this.survey.dynamicPanelAdded(this,t,s,i):this.survey.dynamicPanelRemoved(this,t,s,i)}e&&s&&this.showQuestionNumbers==="onPanel"&&s.setVisibleIndex(0)}getVisualPanelIndex(e){if(Y.isNumber(e))return e;const t=this.visiblePanelsCore;for(var s=0;s<t.length;s++)if(t[s]===e||t[s].data===e)return s;return-1}getPanelVisibleIndexById(e){const t=this.visiblePanelsCore;for(var s=0;s<t.length;s++)if(t[s].id===e)return s;return-1}locStrsChanged(){super.locStrsChanged(),this.locTemplateTitle.strChanged();for(var e=this.panelsCore,t=0;t<e.length;t++)e[t].locStrsChanged();this.tabbedMenu&&this.tabbedMenu.locStrsChanged()}clearIncorrectValues(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)}clearErrors(){super.clearErrors();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()}getQuestionFromArray(e,t){return t<0||t>=this.panelsCore.length?null:this.panelsCore[t].getQuestionByName(e)}clearIncorrectValuesInPanel(e){var t=this.panelsCore[e];t.clearIncorrectValues();var s=this.value,i=s&&e<s.length?s[e]:null;if(i){var n=!1;for(var o in i)if(!this.getSharedQuestionFromArray(o,e)){var l=t.getQuestionByValueName(o);l||this.iscorrectValueWithPostPrefix(t,o,re.commentSuffix)||this.iscorrectValueWithPostPrefix(t,o,re.matrix.totalsSuffix)||(delete i[o],n=!0)}n&&(s[e]=i,this.value=s)}}iscorrectValueWithPostPrefix(e,t,s){return t.indexOf(s)!==t.length-s.length?!1:!!e.getQuestionByName(t.substring(0,t.indexOf(s)))}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}addConditionObjectsByContext(e,t){const s=t!=null&&t.isValidator?t.errorOwner:t,i=!!t&&(t===!0||this.template.questions.indexOf(s)>-1),n=new Array,o=this.template.questions;for(var l=0;l<o.length;l++)o[l].addConditionObjectsByContext(n,t);for(var u=0;u<re.panel.maxPanelCountInCondition;u++){const c="["+u+"].",h=this.getValueName()+c,p=this.processedTitle+c;for(var l=0;l<n.length;l++)n[l].context?e.push(n[l]):e.push({name:h+n[l].name,text:p+n[l].text,question:n[l].question})}if(i){const c=t===!0?this.getValueName()+".":"",h=t===!0?this.processedTitle+".":"",p=re.expressionVariables.panel+".";for(var l=0;l<n.length;l++){if(n[l].question==t)continue;const v={name:c+p+n[l].name,text:h+p+n[l].text,question:n[l].question};v.context=this,e.push(v)}}}collectNestedQuestionsCore(e,t,s,i){i&&e.push(this);const n=t?this.visiblePanelsCore:this.panelsCore;Array.isArray(n)&&n.forEach(o=>{o.questions.forEach(l=>l.addNestedQuestion(e,t,s,i))})}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var s=t,i=t.indexOf(".");i>-1&&(s=t.substring(0,i),t=t.substring(i+1));var n=this.template.getQuestionByName(s);return n?n.getConditionJson(e,t):null}onReadOnlyChanged(){var e=this.isReadOnly;this.template.readOnly=e;for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),super.onReadOnlyChanged()}updateNoEntriesTextDefaultLoc(){const e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText")}onSurveyLoad(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),super.onSurveyLoad()}buildPanelsFirstTime(e=!1){if(!this.hasPanelBuildFirstTime&&!(!e&&this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.data&&this.isValueChangedWithoutPanels&&(this.isValueChangedWithoutPanels=!1,this.runTriggersOnBuildPanelsFirstTime()),this.survey)for(var t=0;t<this.panelCount;t++)this.notifyOnPanelAddedRemoved(!0,t);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}}runTriggersOnBuildPanelsFirstTime(){this.value,this.visiblePanelsCore.forEach(e=>{const t=this.getPanelItemData(e.data);if(!Y.isValueEmpty(t)){const s=Y.createCopyWithPrefix(t,re.expressionVariables.panel+".");e.questions.forEach(i=>i.runTriggers("",void 0,s))}})}get showAddPanelButton(){return this.allowAddPanel&&!this.isReadOnly}get wasNotRenderedInSurvey(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey}get canBuildPanels(){return!this.isLoadingFromJson&&!this.useTemplatePanel}onFirstRenderingCore(){super.onFirstRenderingCore(),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()}localeChanged(){super.localeChanged();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()}runConditionCore(e){super.runConditionCore(e),this.runPanelsCondition(this.panelsCore,e)}runTriggers(e,t,s){super.runTriggers(e,t,s),this.visiblePanelsCore.forEach(i=>{i.questions.forEach(n=>n.runTriggers(e,t,s))})}reRunCondition(){this.data&&this.runCondition(this.getDataFilteredProperties())}runPanelsCondition(e,t){this.isValueChangingInternally=!0;for(var s=0;s<e.length;s++){const i=e[s],n=re.expressionVariables.panel,o=Y.createCopy(t);o[n]=i,i.runCondition(o),i.isVisible}this.isValueChangingInternally=!1}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),!this.hasPanelBuildFirstTime&&e===this.getValueName()&&(this.isValueChangedWithoutPanels=!0);for(var s=0;s<this.panelsCore.length;s++)this.panelsCore[s].onAnyValueChanged(e,t),this.panelsCore[s].onAnyValueChanged(re.expressionVariables.panel,"")}hasKeysDuplicated(e){for(var t=[],s,i=0;i<this.panelsCore.length;i++)s=this.isValueDuplicated(this.panelsCore[i],t,e)||s;return s}updatePanelsContainsErrors(){for(var e=this.changingValueQuestion,t=e.parent;t;)t.updateContainsErrors(),t=t.parent;this.updateContainsErrors()}validateElementCore(e){if(this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!0;let t=!0;if(this.changingValueQuestion){const s=this.changingValueQuestion.validateElement(e);t=!this.hasKeysDuplicated(e)&&s,this.updatePanelsContainsErrors()}else t=this.validateInPanels(e);return super.validateElementCore(e)&&t}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.panelsCore,s=0;s<t.length;s++)if(t[s].containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=this.visiblePanelsCore,t=0;t<e.length;t++){var s=[];e[t].addQuestionsToList(s,!0);for(var i=0;i<s.length;i++)if(!s[i].isAnswered)return!1}return!0}clearValueOnHidding(e){if(!e){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}super.clearValueOnHidding(e)}clearValueIfInvisible(e="onHidden"){const t=e==="onHidden"?"onHiddenContainer":e;this.clearValueInPanelsIfInvisible(t),super.clearValueIfInvisible(e)}clearValueInPanelsIfInvisible(e){for(var t=0;t<this.panelsCore.length;t++){const n=this.panelsCore[t];var s=n.questions;this.isSetPanelItemData={};for(var i=0;i<s.length;i++){const o=s[i];o.visible&&!n.isVisible||(o.clearValueIfInvisible(e),this.isSetPanelItemData[o.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.panelsCore.length;e++)for(var t=this.panelsCore[e].questions,s=0;s<t.length;s++)if(t[s].isRunningValidators)return!0;return!1}getAllErrors(){var e=super.getAllErrors();const t=this.visiblePanelsCore;for(var s=0;s<t.length;s++)for(var i=t[s].questions,n=0;n<i.length;n++){var o=i[n].getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}getValueGetterContext(){return new zB(this)}getDisplayValueCore(e,t){var s=this.getUnbindValue(t);if(!s||!Array.isArray(s))return s;for(var i=0;i<this.panelsCore.length&&i<s.length;i++){var n=s[i];n&&(s[i]=this.getPanelDisplayValue(i,n,e))}return s}getPanelDisplayValue(e,t,s){if(!t)return t;for(var i=this.panelsCore[e],n=Object.keys(t),o=0;o<n.length;o++){var l=n[o],u=i.getQuestionByValueName(l);if(u||(u=this.getSharedQuestionFromArray(l,e)),u){var c=u.getDisplayValue(s,t[l]);t[l]=c,s&&u.title&&u.title!==l&&(t[u.title]=c,delete t[l])}}return t}validateInPanels(e){let t=!0;const s=this.visiblePanels,i=[];for(let n=0;n<s.length;n++){let o=s[n].validateElement(e);o=!this.isValueDuplicated(s[n],i,e)&&o,!this.isRenderModeList&&!o&&t&&e.focusOnFirstError&&(this.currentIndex=n),t=o&&t}return t}isValueDuplicated(e,t,s){if(!this.keyName)return!1;var i=e.getQuestionByValueName(this.keyName);if(!i||i.isEmpty())return!1;var n=i.value;this.changingValueQuestion&&i!=this.changingValueQuestion&&i.validateElement(s);for(var o=0;o<t.length;o++)if(n==t[o])return s.fireCallback&&i.addError(new gI(this.keyDuplicationError,this)),s.setError(i),!0;return t.push(n),!1}getPanelActions(e){let t=e.footerActions;return this.removePanelButtonLocation!=="right"&&t.push(new Ke({id:`remove-panel-${e.id}`,component:"sv-paneldynamic-remove-btn",visible:new yt(()=>[this.canRenderRemovePanel(e,"bottom")].every(s=>s===!0)),data:{question:this,panel:e}})),this.survey&&(t=this.survey.getUpdatedPanelFooterActions(e,t,this)),t}canRenderRemovePanelOnRight(e){return this.canRenderRemovePanel(e,"right")}canRenderRemovePanel(e,t){const s=this.canRemovePanel,i=e.state!=="collapsed";return this.removePanelButtonLocation===t&&s&&i}createNewPanel(){var e=this.createAndSetupNewPanelObject(),t=this.template.toJSON();return new _t().toObject(t,e),e.renderWidth="100%",e.updateCustomWidgets(),e.questions.forEach(s=>s.setParentQuestion(this)),new l2(this,e),this.wasRendered&&(e.onFirstRendering(),e.locStrsChanged()),e.onGetFooterActionsCallback=()=>this.getPanelActions(e),e.onGetFooterToolbarCssCallback=()=>this.cssClasses.panelFooter,e.registerPropertyChangedHandlers(["visible"],()=>{e.visible?this.onPanelAdded(e):this.onPanelRemoved(e),this.updateFooterActions()}),e}createAndSetupNewPanelObject(){var e=this.createNewPanelObject();return e.isInteractiveDesignElement=!1,e.setParentQuestion(this),e.onGetQuestionTitleLocation=()=>this.getTemplateQuestionTitleLocation(),e.onGetQuestionTitleWidth=()=>this.templateQuestionTitleWidth,e}getTemplateQuestionTitleLocation(){return this.templateQuestionTitleLocation!="default"?this.templateQuestionTitleLocation:this.getTitleLocationCore()}getChildErrorLocation(e){return this.templateErrorLocation!=="default"?this.templateErrorLocation:super.getChildErrorLocation(e)}createNewPanelObject(){return ce.createClass("panel")}setPanelCountBasedOnValue(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var e=this.value,t=e&&Array.isArray(e)?e.length:0;t==0&&this.getPropertyValue("panelCount")>0&&(t=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=t,this.settingPanelCountBasedOnValue=!1}}setQuestionValue(e){if(!this.settingPanelCountBasedOnValue){super.setQuestionValue(e,!1),this.setPanelCountBasedOnValue();for(var t=0;t<this.panelsCore.length;t++)this.panelUpdateValueFromSurvey(this.panelsCore[t]);this.updateIsAnswered()}}onSurveyValueChanged(e){if(!(e===void 0&&this.isAllPanelsEmpty())){super.onSurveyValueChanged(e);for(var t=0;t<this.panelsCore.length;t++)this.panelSurveyValueChanged(this.panelsCore[t]);e===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}}isAllPanelsEmpty(){for(var e=0;e<this.panelsCore.length;e++)if(!Y.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0}panelUpdateValueFromSurvey(e){const t=e.questions;for(var s=this.getPanelItemData(e.data),i=0;i<t.length;i++){const n=t[i];n.updateValueFromSurvey(s[n.getValueName()]),n.updateCommentFromSurvey(s[n.getValueName()+re.commentSuffix]),n.initDataUI()}}panelSurveyValueChanged(e){for(var t=e.questions,s=this.getPanelItemData(e.data),i=0;i<t.length;i++){var n=t[i];n.onSurveyValueChanged(s[n.getValueName()])}}onSetData(){super.onSetData(),!this.isLoadingFromJson&&this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())}isNewValueCorrect(e){return Array.isArray(e)}getValueChangingOptions(e){let t=e.parent;for(;t.parent;)t=t.parent;const s=t,i=this.panels.indexOf(s);return{question:this,panel:s,name:e.name,panelIndex:i,panelData:this.getPanelItemDataByIndex(i),oldValue:e.value}}getItemIndex(e){var t=this.items.indexOf(e);return t>-1?t:this.items.length}getVisibleItemIndex(e){const t=this.visiblePanelsCore;for(var s=0;s<t.length;s++)if(t[s].data===e)return s;return t.length}getPanelItemData(e){return this.getPanelItemDataByIndex(this.items.indexOf(e))}getPanelItemDataByIndex(e){const t=this.items;var s=this.value;return e<0&&Array.isArray(s)&&s.length>t.length&&(e=t.length),e<0?{}:!s||!Array.isArray(s)||s.length<=e?{}:s[e]}setPanelItemData(e,t,s){if(!(this.isSetPanelItemData[t]>this.maxCheckCount)){this.isSetPanelItemData[t]||(this.isSetPanelItemData[t]=0),this.isSetPanelItemData[t]++;var i=this.items,n=i.indexOf(e);n<0&&(n=i.length);var o=this.getUnbindValue(this.value);if((!o||!Array.isArray(o))&&(o=[]),o.length<=n)for(var l=o.length;l<=n;l++)o.push({});o[n]||(o[n]={}),o[n][t],this.isValueEmpty(s)?delete o[n][t]:o[n][t]=s,n>=0&&n<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[n].getQuestionByValueName(t)),this.value=o,this.changingValueQuestion=null,this.isSetPanelItemData[t]--,this.isSetPanelItemData[t]-1&&delete this.isSetPanelItemData[t]}}getRootData(){return this.data}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const s=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.panels.map((i,n)=>{var o={name:i.name||n,title:i.title||"Panel",value:i.getValue(),displayValue:i.getValue(),getString:l=>typeof l=="object"?JSON.stringify(l):l,isNode:!0,data:i.questions.map(l=>l.getPlainData(e)).filter(l=>!!l)};return(e.calculations||[]).forEach(l=>{o[l.propertyName]=i[l.propertyName]}),o}),t.data=t.data.concat(s)}return t}updateElementCss(e){super.updateElementCss(e);for(var t=0;t<this.panelsCore.length;t++){var s=this.panelsCore[t];s.updateElementCss(e)}}get progressText(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)}get progress(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"}get progressBarAriaLabel(){return os("progressbar",this.getLocale())}getRootCss(){return new ge().append(super.getRootCss()).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()}get cssHeader(){const e=this.isRenderModeTab&&!!this.visiblePanelCount;return new ge().append(super.getCssHeader(this.cssClasses)).append(this.cssClasses.headerTab,this.hasTitleOnTop&&e).toString()}getTabsContainerCss(){return new ge().append(this.cssClasses.tabsContainer).append(this.cssClasses.tabsContainerWithHeader,this.hasTitleOnTop).toString()}getPanelWrapperCss(e){return new ge().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,this.removePanelButtonLocation==="right").toString()}getPanelRemoveButtonCss(){return new ge().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.removePanelButtonLocation==="right").toString()}getAddButtonCss(){return new ge().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.displayMode==="list").toString()}getPrevButtonCss(){return new ge().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()}getNextButtonCss(){return new ge().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()}get noEntriesText(){return this.getLocalizableStringText("noEntriesText")}set noEntriesText(e){this.setLocalizableStringText("noEntriesText",e)}get locNoEntriesText(){return this.getLocalizableString("noEntriesText")}getShowNoEntriesPlaceholder(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0}needResponsiveWidth(){const e=this.getPanel();return!!(e&&e.needResponsiveWidth())}get hasTabbedMenu(){return this.isRenderModeTab&&this.visiblePanels.length>0}get tabbedMenu(){return this.isRenderModeTab?(this.tabbedMenuValue||(this.tabbedMenuValue=new fm,this.tabbedMenuValue.dotsItem.popupModel.showPointer=!1,this.tabbedMenuValue.dotsItem.popupModel.verticalPosition="bottom",this.tabbedMenuValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.tabbedMenuValue):null}get showFooterToolbar(){return this.footerToolbar&&this._showFooterToolbar}get footerToolbar(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}updateFooterActions(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()}initFooterToolbar(){this.footerToolbarValue=this.createActionContainer();const e=[],t=new Ke({id:"sv-pd-prev-btn",title:this.prevPanelText,action:()=>{this.goToPrevPanel()}}),s=new Ke({id:"sv-pd-next-btn",title:this.nextPanelText,action:()=>{this.goToNextPanel()}}),i=new Ke({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),n=new Ke({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),o=new Ke({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),l=new Ke({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});e.push(t,s,i,n,o,l),this.updateFooterActionsCallback=()=>{const u=this.legacyNavigation,c=this.isRenderModeList,h=this.isMobile,p=!u&&!c;t.visible=p&&this.currentIndex>0,s.visible=p&&this.currentIndex<this.visiblePanelCount-1,s.needSpace=h&&s.visible&&t.visible,i.visible=this.canAddPanel,i.needSpace=this.isMobile&&!s.visible&&t.visible,o.visible=!this.isRenderModeList&&!h,o.needSpace=!u&&!this.isMobile;const m=u&&!c;n.visible=m,l.visible=m,n.needSpace=m},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(e),this.footerToolbar.flushUpdates(),this._showFooterToolbar=new yt(()=>{var u;return(u=this.footerToolbarValue)===null||u===void 0?void 0:u.hasVisibleActions})}createTabByPanel(e,t){if(!this.isRenderModeTab)return;const s=new as(e,!0);s.onGetTextCallback=l=>{if(l||(l=this.locTabTitlePlaceholder.renderedHtml),!this.survey)return l;const u={title:l,panel:e,visiblePanelIndex:t};return this.survey.dynamicPanelGetTabTitle(this,u),u.title},s.sharedData=this.locTemplateTabTitle;const i=e.id,n=this.getPanelVisibleIndexById(i)===this.currentIndex;return new HB({id:`${this.id}_tab_${i}`,panelId:i,pressed:n,locTitle:s,disableHide:n,action:()=>{this.currentIndex=this.getPanelVisibleIndexById(i)}})}getTabbedMenuCss(e){const t=e??this.cssClasses;return new ge().append(t.tabsRoot).append(t.tabsLeft,this.tabAlign==="left").append(t.tabsRight,this.tabAlign==="right").append(t.tabsCenter,this.tabAlign==="center").toString()}updateTabToolbarItemsPressedState(){if(!this.isRenderModeTab||this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)return;const e=this.visiblePanelsCore[this.currentIndex];this.tabbedMenu.actions.forEach(t=>{const s=t.panelId===e.id;t.pressed=s,t.disableHide=s})}updateTabToolbar(){if(!this.isRenderModeTab)return;const e=[],t=this.visiblePanelsCore;for(let s=0;s<t.length;s++)this.visiblePanelsCore.forEach(i=>e.push(this.createTabByPanel(t[s],s)));this.tabbedMenu.setItems(e)}addTabFromToolbar(e,t){if(!this.isRenderModeTab)return;const s=this.createTabByPanel(e,t);this.tabbedMenu.actions.splice(t,0,s),this.updateTabToolbarItemsPressedState()}removeTabFromToolbar(e){if(!this.isRenderModeTab)return;const t=this.tabbedMenu.actions.find(s=>s.panelId==e.id);t&&(this.tabbedMenu.actions.splice(this.tabbedMenu.actions.indexOf(t),1),this.updateTabToolbarItemsPressedState())}get showNavigation(){return this.isReadOnly&&this.visiblePanelCount==1?!1:this.visiblePanelCount>0&&!!this.cssClasses.footer}showSeparator(e){return this.isRenderModeList&&e<this.renderedPanels.length-1}calcCssClasses(e){const t=super.calcCssClasses(e),s=this.tabbedMenu;return s&&(s.containerCss=this.getTabbedMenuCss(t),s.cssClasses=t.tabs,s.dotsItem.cssClasses=t.tabs,s.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),t}onMobileChanged(){super.onMobileChanged(),this.updateFooterActions()}}Cn.maxCheckCount=3;F([_s({})],Cn.prototype,"_renderedPanels",void 0);F([z({onSet:(r,e)=>{e.fireCallback(e.renderModeChangedCallback),e.updatePanelView()}})],Cn.prototype,"displayMode",void 0);F([z({onSet:(r,e)=>{e.fireCallback(e.currentIndexChangedCallback)}})],Cn.prototype,"showProgressBar",void 0);F([z({onSet:(r,e)=>{}})],Cn.prototype,"progressBarLocation",void 0);F([z({defaultValue:!1})],Cn.prototype,"_showFooterToolbar",void 0);F([z({defaultValue:!1,onSet:(r,e)=>{e.updateFooterActions()}})],Cn.prototype,"legacyNavigation",void 0);ce.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:r=>r.displayMode==="tab"},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:r=>r.displayMode==="tab"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",defaultFunc:()=>re.panel.maxPanelCount},"defaultPanelValue:panelvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastPanel"},{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:r=>r.displayMode==="list"},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:r=>r.confirmDelete},{name:"addPanelText",alternativeName:"panelAddText",serializationProperty:"locAddPanelText",visibleIf:r=>r.allowAddPanel},{name:"removePanelText",alternativeName:"panelRemoveText",serializationProperty:"locRemovePanelText",visibleIf:r=>r.allowRemovePanel},{name:"prevPanelText",alternativeName:"panelPrevText",serializationProperty:"locPrevPanelText",visibleIf:r=>r.displayMode!=="list"},{name:"nextPanelText",alternativeName:"panelNextText",serializationProperty:"locNextPanelText",visibleIf:r=>r.displayMode!=="list"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"renderMode",visible:!1,isSerializable:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",alternativeName:"showRangeInProgress",default:!0,visibleIf:r=>r.displayMode==="carousel"},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:r=>r.showProgressBar&&r.displayMode==="carousel"},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:r=>r.displayMode==="tab"},{name:"templateQuestionTitleLocation",alternativeName:"questionTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateQuestionTitleWidth",visibleIf:function(r){return!!r&&r.template.availableQuestionTitleWidth()}},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"removePanelButtonLocation",alternativeName:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:r=>r.allowRemovePanel}],function(){return new Cn("")},"question");gt.Instance.registerQuestion("paneldynamic",r=>new Cn(r));class u2{static getProgressTextInBarCss(e){return new ge().append(e.progressText).append(e.progressTextInBar).toString()}static getProgressTextUnderBarCss(e){return new ge().append(e.progressText).append(e.progressTextUnderBar).toString()}}class ri extends He{static get operators(){return ri.operatorsValue!=null||(ri.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||e.indexOf(t)==-1},greater:function(e,t){return e>t},less:function(e,t){return e<t},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return e<=t}}),ri.operatorsValue}constructor(){super(),this.idValue=ri.idCounter++}get id(){return this.idValue}getType(){return"triggerbase"}toString(){var e=this.getType().replace("trigger",""),t=this.expression;return t&&(e+=", "+t),e}get isInternal(){return this.isGhost===!0}get operator(){return this.getPropertyValue("operator","equal")}set operator(e){e&&(e=e.toLowerCase(),ri.operators[e]&&this.setPropertyValue("operator",e))}get value(){return this.getPropertyValue("value",null)}set value(e){this.setPropertyValue("value",e)}get name(){return this.getPropertyValue("name","")}set name(e){this.setPropertyValue("name",e)}get expression(){return this.getPropertyValue("expression",this.buildExpression())}set expression(e){this.setPropertyValue("expression",e)}canBeExecuted(e){return!0}canBeExecutedOnComplete(){return!1}checkExpression(e){if(this.isExecutingOnNextPage=e.isOnNextPage,this.isExecutingOnNavigation=e.isOnNavigation||e.isOnNextPage,!this.canBeExecuted(e.isOnNextPage)||e.isOnComplete&&!this.canBeExecutedOnComplete())return;const t=Object.keys(e.keys);if(Array.isArray(t)&&!this.canBeExecuteOnKeysChange(t))return;const s=e.properties||null;this.runExpressionByProperty("expression",s,i=>{this.triggerResult(i===!0,s)},i=>this.isCheckRequired(i,e.keys))||this.isCheckRequired(null,e.keys)&&this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,s)}canBeExecuteOnKeysChange(e){return!0}canSuccessOnEmptyExpression(){return!1}check(e){var t=ri.operators[this.operator](e,this.value);t?this.onSuccess(null):this.onFailure()}get requireValidQuestion(){return!1}triggerResult(e,t){e?(this.onSuccess(t),this.onSuccessExecuted()):this.onFailure()}onSuccess(e){}onFailure(){}onSuccessExecuted(){}buildExpression(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+at.toOperandString(this.value)}isCheckRequired(e,t){return t?(e==null?void 0:e.hasFunction())===!0?!0:new Zn().isAnyKeyChanged(t,this.getUsedVariables(e)):!1}getUsedVariables(e){if(!e)return[];const t=e.getVariables();if(Array.isArray(t)){const s=re.expressionVariables.unwrapPostfix;for(let i=t.length-1;i>=0;i--){const n=t[i];n.endsWith(s)&&t.push(n.substring(0,n.length-s.length))}}return t}get isRequireValue(){return this.operator!=="empty"&&this.operator!="notempty"}}ri.idCounter=1;ri.operatorsValue=null;class Gl extends ri{constructor(){super(),this.ownerValue=null}get owner(){return this.ownerValue}setOwner(e){this.ownerValue=e}getSurvey(e=!1){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null}isRealExecution(){return!0}onSuccessExecuted(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)}}class WB extends Gl{constructor(){super(),this.pages=[],this.questions=[]}getType(){return"visibletrigger"}onSuccess(e){this.onTrigger(this.onItemSuccess)}onFailure(){this.onTrigger(this.onItemFailure)}onTrigger(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),s=0;s<t.length;s++)e(t[s])}onItemSuccess(e){e.visible=!0}onItemFailure(e){e.visible=!1}}class UB extends Gl{constructor(){super()}getType(){return"completetrigger"}get requireValidQuestion(){return!0}isRealExecution(){return!re.triggers.executeCompleteOnValueChanged===this.isExecutingOnNavigation}onSuccess(e){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))}onFailure(){this.owner.canBeCompleted(this,!1)}}class $B extends Gl{constructor(){super()}getType(){return"setvaluetrigger"}canBeExecuted(e){return!e&&!!this.setToName}canBeExecuteOnKeysChange(e){return e.length===1&&e[0]===this.setToName?!1:super.canBeExecuteOnKeysChange(e)}onPropertyValueChanged(e,t,s){if(super.onPropertyValueChanged(e,t,s),e==="setToName"){var i=this.getSurvey();i&&!i.isLoadingFromJson&&i.isDesignMode&&(this.setValue=void 0)}}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get setValue(){return this.getPropertyValue("setValue")}set setValue(e){this.setPropertyValue("setValue",e)}get isVariable(){return this.getPropertyValue("isVariable")}set isVariable(e){this.setPropertyValue("isVariable",e)}onSuccess(e){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,Y.getUnbindValue(this.setValue),this.isVariable)}}class GB extends Gl{constructor(){super()}getType(){return"skiptrigger"}get requireValidQuestion(){return this.canBeExecuted(!1)}get gotoName(){return this.getPropertyValue("gotoName","")}set gotoName(e){this.setPropertyValue("gotoName",e)}canBeExecuted(e){return e===!re.triggers.executeSkipOnValueChanged}onSuccess(e){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)}}class ZB extends Gl{constructor(){super()}getType(){return"runexpressiontrigger"}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get runExpression(){return this.getPropertyValue("runExpression","")}set runExpression(e){this.setPropertyValue("runExpression",e)}canBeExecuted(e){return!e}onSuccess(e){this.owner&&this.runExpressionByProperty("runExpression",e,t=>{this.onCompleteRunExpression(t)})}onCompleteRunExpression(e){this.setToName&&e!==void 0&&this.owner.setTriggerValue(this.setToName,Y.convertValToQuestionVal(e),!1)}}class JB extends Gl{constructor(){super()}canBeExecuted(e){return!e&&!!this.setToName&&!!this.fromName}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get fromName(){return this.getPropertyValue("fromName","")}set fromName(e){this.setPropertyValue("fromName",e)}get copyDisplayValue(){return this.getPropertyValue("copyDisplayValue")}set copyDisplayValue(e){this.setPropertyValue("copyDisplayValue",e)}getType(){return"copyvaluetrigger"}canBeExecuteOnKeysChange(e){return e.length===1&&e[0]===this.setToName?!1:super.canBeExecuteOnKeysChange(e)}onSuccess(e){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)}canSuccessOnEmptyExpression(){return!0}getUsedVariables(e){const t=super.getUsedVariables(e);return t.length===0&&this.fromName&&t.push(this.fromName),t}}ce.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]);ce.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger");ce.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new WB},"surveytrigger");ce.addClass("completetrigger",[],function(){return new UB},"surveytrigger");ce.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(r){return!!r&&!!r.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new $B},"surveytrigger");ce.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new JB},"surveytrigger");ce.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new GB},"surveytrigger");ce.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new ZB},"surveytrigger");class KB extends He{constructor(e,t=null){super(),this.closeOnCompleteTimeout=0,t?this.surveyValue=t:this.surveyValue=this.createSurvey(e),this.surveyValue.fitToContainer=!0,this.windowElement=Re.createElement("div"),this.survey.onComplete.add((s,i)=>{this.onSurveyComplete()}),this.registerPropertyChangedHandlers(["isShowing"],()=>{this.showingChangedCallback&&this.showingChangedCallback()}),this.registerPropertyChangedHandlers(["isExpanded"],()=>{this.onExpandedChanged()}),this.width=new yt(()=>this.survey.width),this.width=this.survey.width,this.updateCss(),this.onCreating()}onCreating(){}getType(){return"popupsurvey"}get survey(){return this.surveyValue}get isShowing(){return this.getPropertyValue("isShowing",!1)}set isShowing(e){this.setPropertyValue("isShowing",e)}get isFullScreen(){return this.getPropertyValue("isFullScreen",!1)}set isFullScreen(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()}show(){this.isShowing=!0}hide(){this.isShowing=!1}toggleFullScreen(){this.isFullScreen=!this.isFullScreen}get isExpanded(){return this.getPropertyValue("isExpanded",!1)}set isExpanded(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)}get isCollapsed(){return!this.isExpanded}onExpandedChanged(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()}get title(){return this.survey.title}set title(e){this.survey.title=e}get locTitle(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle}get locDescription(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription}expand(){this.isExpanded=!0}collapse(){this.isExpanded=!1}changeExpandCollapse(){this.isExpanded=!this.isExpanded}get allowClose(){return this.getPropertyValue("allowClose",!1)}set allowClose(e){this.setPropertyValue("allowClose",e)}get allowFullScreen(){return this.getPropertyValue("allowFullScreen",!1)}set allowFullScreen(e){this.setPropertyValue("allowFullScreen",e)}get css(){return this.survey.css}get cssButton(){return this.getPropertyValue("cssButton","")}get cssRoot(){let e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e}get cssRootCollapsedMod(){return this.getPropertyValue("cssRootCollapsedMod")}get cssRootContent(){return this.getPropertyValue("cssRootContent")}get cssBody(){return this.getPropertyValue("cssBody","")}get cssHeaderRoot(){return this.getPropertyValue("cssHeaderRoot","")}get cssHeaderTitleCollapsed(){return this.getPropertyValue("cssHeaderTitleCollapsed","")}get cssHeaderButtonsContainer(){return this.getPropertyValue("cssHeaderButtonsContainer","")}get cssHeaderCollapseButton(){return this.getPropertyValue("cssHeaderCollapseButton","")}get cssHeaderCloseButton(){return this.getPropertyValue("cssHeaderCloseButton","")}get cssHeaderFullScreenButton(){return this.getPropertyValue("cssHeaderFullScreenButton","")}get renderedWidth(){let e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e=e+"px"),e}updateCss(){if(!this.css||!this.css.window)return;const e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);const t=e.header;t&&(this.setPropertyValue("cssHeaderRoot",t.root),this.setPropertyValue("cssHeaderTitleCollapsed",t.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",t.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",t.collapseButton),this.setPropertyValue("cssHeaderCloseButton",t.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",t.fullScreenButton),this.updateCssButton())}setCssRoot(){const e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)}updateCssButton(){const e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)}setCssButton(e){e&&this.setPropertyValue("cssButton",e)}createSurvey(e){return new tt(e)}onSurveyComplete(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var e=this,t=null,s=function(){e.hide(),clearInterval(t)};t=setInterval(s,this.closeOnCompleteTimeout*1e3)}}onScroll(){this.survey.onScroll()}}F([z()],KB.prototype,"width",void 0);class YB{constructor(){this._lockScroll=!1}setRootElement(e){this._containerElementValue=e==null?void 0:e.querySelector(".sv-scroll__scroller"),this._scrollbarElement=e==null?void 0:e.querySelector(".sv-scroll__scrollbar"),this._scrollbarSizerElement=e==null?void 0:e.querySelector(".sv-scroll__scrollbar-sizer"),this._containerBodyElement=e==null?void 0:e.querySelector(".sv-scroll__container"),!(!e||!qe.isAvailable())&&(this._containerBodyResizeObserver=new ResizeObserver(t=>{for(let s of t){const i=s.contentBoxSize?s.contentBoxSize[0].blockSize:s.contentRect.width;this._scrollbarSizerElement.style.height=i+"px"}this.onInnerHeightChanged&&this.onInnerHeightChanged(this._containerBodyElement.clientHeight>this._containerElementValue.clientHeight)}),this._containerBodyResizeObserver.observe(this._containerBodyElement))}onScrollContainer(){this._lockScroll=!0,this._scrollbarElement.scrollTop=this._containerElementValue.scrollTop}onScrollScrollbar(){if(this._lockScroll){this._lockScroll=!1;return}this._containerElementValue.scrollTop=this._scrollbarElement.scrollTop}unsubscribeRootElement(){this._containerBodyResizeObserver&&(this._containerBodyResizeObserver.disconnect(),this._containerBodyResizeObserver=void 0)}}const d2='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])';class wn extends He{updateIsVisible(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})}updateBeforeShowing(){this.model.onShow()}updateAfterHiding(){this.model.onHiding()}getLeaveOptions(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:e=>{e.setAttribute("inert","")},onAfterRunAnimation:e=>e.removeAttribute("inert")}}getEnterOptions(){return{cssClass:"sv-popup--enter"}}getAnimatedElement(){return this.getAnimationContainer()}isAnimationEnabled(){return this.model.displayMode!=="overlay"&&re.animationEnabled}getRerenderEvent(){return this.onElementRerendered}getAnimationContainer(){var e;return(e=this.container)===null||e===void 0?void 0:e.querySelector(this.fixedPopupContainer)}get isVisible(){return this._isVisible}set isVisible(e){this.visibilityAnimation.sync(e)}get container(){return this.containerElement||this.createdContainer}getLocale(){return this.locale?this.locale:super.getLocale()}hidePopup(){this.model.isVisible=!1}getStyleClass(){return new ge().append(this.model.cssClass)}getShowFooter(){return this.isOverlay}getShowHeader(){return!1}getPopupHeaderTemplate(){}createFooterActionBar(){this.footerToolbarValue=new cs}resetDimensionsAndPositionStyleProperties(){const e="";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e}onModelChanging(e){}setupModel(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()}get model(){return this._model}set model(e){this.setupModel(e)}constructor(e){super(),this.popupSelector=".sv-popup",this.fixedPopupContainer=".sv-popup",this.containerSelector=".sv-popup__container",this.scrollingContentSelector=".sv-popup__scrolling-content",this.visibilityAnimation=new dI(this,t=>{this._isVisible!==t&&(t?(this.updateBeforeShowing(),this.updateIsVisible(t)):(this.updateOnHiding(),this.updateIsVisible(t),this.updateAfterHiding(),this._isPositionSetValue=!1))},()=>this._isVisible),this.onVisibilityChanged=new li,this.onModelIsVisibleChangedCallback=()=>{this.isVisible=this.model.isVisible},this._isPositionSetValue=!1,this.model=e,this.locale=this.model.locale}get title(){return this.model.title}get contentComponentName(){return this.model.contentComponentName}get contentComponentData(){return this.model.contentComponentData}get isModal(){return this.model.isModal}get isFocusedContent(){return this.model.isFocusedContent}get isFocusedContainer(){return this.model.isFocusedContainer}get showFooter(){return this.getShowFooter()}get showHeader(){return this.getShowHeader()}get popupHeaderTemplate(){return this.getPopupHeaderTemplate()}get isOverlay(){return this.model.displayMode==="overlay"}get styleClass(){return this.getStyleClass().toString()}get cancelButtonText(){return this.getLocalizationString("modalCancelButtonText")}get footerToolbar(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue}onKeyDown(e){e.key==="Tab"||e.keyCode===9?this.trapFocus(e):(e.key==="Escape"||e.keyCode===27)&&this.hidePopup()}trapFocus(e){const t=this.container.querySelectorAll(d2),s=t[0],i=t[t.length-1];e.shiftKey?re.environment.root.activeElement===s&&(i.focus(),e.preventDefault()):re.environment.root.activeElement===i&&(s.focus(),e.preventDefault())}switchFocus(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()}get isPositionSet(){return this._isPositionSetValue}updateOnShowing(){this.prevActiveElement=re.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0}updateOnHiding(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})}focusContainer(){if(!this.container)return;const e=this.container.querySelector(this.popupSelector);e==null||e.focus()}focusFirstInput(){setTimeout(()=>{if(this.container){var e=this.container.querySelector(this.model.focusFirstInputSelector||d2);e?e.focus():this.focusContainer()}},100)}clickOutside(e){this.hidePopup(),e==null||e.stopPropagation()}blur(e){this.model.onBlur()}cancel(){this.model.onCancel(),this.hidePopup()}dispose(){super.dispose(),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()}initializePopupContainer(){if(!this.container){const e=Re.createElement("div");this.createdContainer=e,uF(re.environment.popupMountContainer).appendChild(e)}}setComponentElement(e){e&&(this.containerElement=e)}resetComponentElement(){this.containerElement=void 0,this.prevActiveElement=void 0}preventScrollOuside(e,t){let s=e.target;for(;s!==this.container;){if(Re.getComputedStyle(s).overflowY==="auto"&&s.scrollHeight!==s.offsetHeight){const{scrollHeight:i,scrollTop:n,clientHeight:o}=s;if(!(t>0&&Math.abs(i-o-n)<1)&&!(t<0&&n<=0))return}s=s.parentElement}e.cancelable&&e.preventDefault()}}F([z({defaultValue:"0px"})],wn.prototype,"top",void 0);F([z({defaultValue:"0px"})],wn.prototype,"left",void 0);F([z({defaultValue:"auto"})],wn.prototype,"height",void 0);F([z({defaultValue:"auto"})],wn.prototype,"width",void 0);F([z({defaultValue:"auto"})],wn.prototype,"minWidth",void 0);F([z({defaultValue:!1})],wn.prototype,"_isVisible",void 0);F([z()],wn.prototype,"locale",void 0);class Gg{constructor(e,t,s,i){this.x=e,this.y=t,this.width=s,this.height=i}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}}class Ni{static calculatePosition(e,t,s,i,n,o="flex"){let l=e.left,u=e.top;return o==="flex"&&(n=="center"?l=(e.left+e.right-s)/2:n=="left"?l=e.left-s:l=e.right),i=="middle"?u=(e.top+e.bottom-t)/2:i=="top"?u=e.top-t:u=e.bottom,n!="center"&&i!="middle"&&(i=="top"?u=u+e.height:u=u-e.height),{left:Math.round(l),top:Math.round(u)}}static getCorrectedVerticalDimensions(e,t,s,i,n=!0,o={top:0,bottom:0}){let l;const u=s-Ni.bottomIndent;if(i==="top"&&(l={height:t,top:e}),e<-o.top)l={height:n?t+e:t,top:-o.top};else if(t+e>s){let c=Math.min(t,u-e);l={height:n?c:t,top:n?e:e-(t-c)}}return l&&(l.height=Math.min(l.height,u),l.top=Math.max(l.top,-o.top)),l}static updateHorizontalDimensions(e,t,s,i,n="flex",o={left:0,right:0}){t+=o.left+o.right;let l,u=e;return i==="center"&&(n==="fixed"?(e+t>s&&(l=s-e),u-=o.left):e<0?(u=o.left,l=Math.min(t,s)):t+e>s&&(u=s-t,u=Math.max(u,o.left),l=Math.min(t,s))),i==="left"&&e<0&&(u=o.left,l=Math.min(t,s)),i==="right"&&t+e>s&&(l=s-e),{width:l-o.left-o.right,left:u}}static updateVerticalPosition(e,t,s,i,n){if(i==="middle")return i;let o=t-(e.top+(s!=="center"?e.height:0)),l=t+e.bottom-(s!=="center"?e.height:0)-n;return o>0&&l<=0&&i=="top"?i="bottom":l>0&&o<=0&&i=="bottom"?i="top":l>0&&o>0&&(i=o<l?"top":"bottom"),i}static updateHorizontalPosition(e,t,s,i){if(s==="center")return s;let n=t-e.left,o=t+e.right-i;return n>0&&o<=0&&s=="left"?s="right":o>0&&n<=0&&s=="right"?s="left":o>0&&n>0&&(s=n<o?"left":"right"),s}static calculatePopupDirection(e,t){var s;return t=="center"&&e!="middle"?s=e:t!="center"&&(s=t),s}static calculatePointerTarget(e,t,s,i,n,o=0,l=0){var u={};return n!="center"?(u.top=e.top+e.height/2,u.left=e[n]):i!="middle"&&(u.top=e[i],u.left=e.left+e.width/2),u.left=Math.round(u.left-s),u.top=Math.round(u.top-t),n=="left"&&(u.left-=o+l),n==="center"&&(u.left-=o),u}}Ni.bottomIndent=16;class Rm extends wn{createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.setCssClasses({root:fi.root,defaultSizeMode:fi.defaultSizeMode,smallSizeMode:fi.smallSizeMode,item:"sd-action sv-menu-popup__button"},!1),this.footerToolbar.containerCss="sv-menu-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}getAvailableAreaRect(){const e=this.model.getAreaCallback?this.model.getAreaCallback(this.container):void 0;if(e){const t=e.getBoundingClientRect();return new Gg(t.x,t.y,t.width,t.height)}return new Gg(0,0,qe.getInnerWidth(),qe.getInnerHeight())}getTargetElementRect(e){const t=this.container;let s=this.model.getTargetCallback?this.model.getTargetCallback(t):void 0;if(t&&t.parentElement&&!this.isModal&&!s&&(s=t.parentElement),!s)return null;const i=s.getBoundingClientRect();return new Gg(i.left-e.left,i.top-e.top,i.width,i.height)}_updatePosition(){var e,t,s;const i=this.getAvailableAreaRect(),n=this.getTargetElementRect(i);if(!n)return;const o=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(!o)return;const l=(t=this.container)===null||t===void 0?void 0:t.querySelector(this.fixedPopupContainer),u=o.querySelector(this.scrollingContentSelector),c=Re.getComputedStyle(o),h=parseFloat(c.marginLeft)||0,p=parseFloat(c.marginRight)||0,m=parseFloat(c.marginTop)||0,v=parseFloat(c.marginBottom)||0;let f=o.offsetHeight-u.offsetHeight+u.scrollHeight;const b=o.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=n.width+"px");let x=this.model.verticalPosition,g=this.getActualHorizontalPosition();if(qe.isAvailable()){const w=[f,qe.getInnerHeight()*.9,(s=qe.getVisualViewport())===null||s===void 0?void 0:s.height];f=Math.ceil(Math.min(...w.filter(S=>typeof S=="number"))),x=Ni.updateVerticalPosition(n,f,this.model.horizontalPosition,this.model.verticalPosition,i.height),g=Ni.updateHorizontalPosition(n,b,g,i.width)}this.popupDirection=Ni.calculatePopupDirection(x,g);const y=Ni.calculatePosition(n,f,b+h+p,x,g,this.model.positionMode);if(qe.isAvailable()){const w=Ni.getCorrectedVerticalDimensions(y.top,f,i.height,x,this.model.canShrink,{top:m,bottom:v});if(w&&(this.height=w.height+"px",y.top=w.top),this.model.setWidthByTarget)this.width=n.width+"px",y.left=n.left;else{const S=Ni.updateHorizontalDimensions(y.left,b,qe.getInnerWidth(),g,this.model.positionMode,{left:h,right:p});S&&(this.width=S.width?S.width+"px":void 0,y.left=S.left)}}if(l){const w=l.getBoundingClientRect();y.top-=w.top,y.left-=w.left}this.showHeader&&(this.pointerTarget=Ni.calculatePointerTarget(n,y.top,y.left,x,g,h,p),this.pointerTarget.top+="px",this.pointerTarget.left+="px"),y.left+=i.left,y.top+=i.top,this.left=y.left+"px",this.top=y.top+"px"}getActualHorizontalPosition(){let e=this.model.horizontalPosition;return Re.isAvailable()&&Re.getComputedStyle(Re.getBody()).direction=="rtl"&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left")),e}getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--menu-phone",e==="menu-overlay").append("sv-popup--menu-tablet",e==="menu-popup-overlay").append("sv-popup--menu-popup",e==="menu-popup").append("sv-popup--show-pointer",e==="menu-popup"&&this.showHeader).append(`sv-popup--${this.popupDirection}`,e==="menu-popup"&&(this.showHeader||this.popupDirection=="top"||this.popupDirection=="bottom"))}getShowHeader(){return this.model.showPointer&&!this.isOverlay}getPopupHeaderTemplate(){return"popup-pointer"}constructor(e){super(e),this.scrollEventCallBack=t=>{if(this.isOverlay&&ss){t.stopPropagation(),t.preventDefault();return}this.hidePopup()},this.resizeEventCallback=()=>{if(!qe.isAvailable())return;const t=qe.getVisualViewport(),s=Re.getDocumentElement();s&&t&&s.style.setProperty("--sv-popup-overlay-height",`${t.height*t.scale}px`)},this.resizeWindowCallback=()=>{this.isOverlay||this.updatePosition(!0,tt.platform==="vue"||tt.platform==="vue3"||tt.platform=="react"||tt.platform=="js-ui")},this.clientY=0,this.touchStartEventCallback=t=>{this.clientY=t.touches[0].clientY},this.touchMoveEventCallback=t=>{this.preventScrollOuside(t,this.clientY-t.changedTouches[0].clientY)},this.model.onRecalculatePosition.add(this.recalculatePositionHandler)}setComponentElement(e){super.setComponentElement(e)}resetComponentElement(){super.resetComponentElement()}updateOnShowing(){const{root:e}=re.environment;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),qe.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(qe.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.resizeEventCallback()),qe.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0}get shouldCreateResizeCallback(){return!!qe.getVisualViewport()&&this.isOverlay}updatePosition(e,t=!0){e&&(this.height="auto"),t?setTimeout(()=>{this._updatePosition()},1):this._updatePosition()}updateOnHiding(){super.updateOnHiding(),qe.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(qe.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),qe.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)}onModelChanging(e){this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=(t,s)=>{this.isOverlay||this.updatePosition(s.isResetHeight)}),super.onModelChanging(e),e.onRecalculatePosition.add(this.recalculatePositionHandler)}dispose(){super.dispose(),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()}}Rm.tabletSizeBreakpoint=600;F([z({defaultValue:"left"})],Rm.prototype,"popupDirection",void 0);F([z({defaultValue:{left:"0px",top:"0px"}})],Rm.prototype,"pointerTarget",void 0);class WI extends wn{getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--modal-popup",e==="modal-popup").append("sv-popup--modal-overlay",e==="modal-overlay")}getShowFooter(){return!0}createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.setCssClasses({root:fi.root,defaultSizeMode:fi.defaultSizeMode,smallSizeMode:fi.smallSizeMode,item:"sv-popup__body-footer-item sv-popup__button sv-modal-popup__button sd-btn sd-btn--small"},!1),this.footerToolbar.containerCss="sv-modal-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}},{id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__button--apply sd-btn--action",action:()=>{this.apply()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}constructor(e){super(e),this.onScrollOutsideCallback=t=>{this.preventScrollOuside(t,t.deltaY)}}get applyButtonText(){return this.getLocalizationString("modalApplyButtonText")}apply(){this.model.onApply&&!this.model.onApply()||this.hidePopup()}clickOutside(){}onKeyDown(e){(e.key==="Escape"||e.keyCode===27)&&this.model.onCancel(),super.onKeyDown(e)}updateOnShowing(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),super.updateOnShowing()}updateOnHiding(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),super.updateOnHiding()}}function XB(r,e){var t;const s=Object.assign({},r);s.verticalPosition="top",s.horizontalPosition="left",s.showPointer=!1,s.isModal=!0,s.displayMode=r.displayMode||"popup";const i=new Ps(r.componentName,r.data,s);i.isFocusedContent=(t=r.isFocusedContent)!==null&&t!==void 0?t:!0;const n=new WI(i);if(e&&e.appendChild){var o=Re.createElement("div");e.appendChild(o),n.setComponentElement(o)}n.container||n.initializePopupContainer();const l=(u,c)=>{c.isVisible||o&&n.resetComponentElement(),n.onVisibilityChanged.remove(l)};return n.onVisibilityChanged.add(l),n}function eq(r){return r.isModal?new WI(r):new Rm(r)}class Lm extends Vm{getBaseType(){return"buttongroupitemvalue"}}F([z()],Lm.prototype,"iconName",void 0);F([z()],Lm.prototype,"iconSize",void 0);F([z()],Lm.prototype,"showCaption",void 0);class UI extends Pm{constructor(e){super(e),this._allowClear=!0,this.createLocalizableString("buttongroupOptionsCaption",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getType(){return"buttongroup"}getItemValueType(){return"buttongroupitemvalue"}supportOther(){return!1}getControlClass(){return this.isEmpty(),new ge().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get placeholder(){return this.getLocalizableStringText("buttongroupOptionsCaption")}set placeholder(e){this.setLocalizableStringText("buttongroupOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("buttongroupOptionsCaption")}get allowClear(){return this._allowClear}set allowClear(e){this._allowClear=e}get searchEnabled(){return!1}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return(e=this.selectedItem)===null||e===void 0?void 0:e.locText}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}get selectedItem(){return this.getSingleSelectedItem()}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),xm(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}needResponsiveWidth(){return!0}supportResponsiveness(){return!0}getCompactRenderAs(){return"dropdown"}getObservedElementSelector(){return".sd-button-group-scrollable-container"}onBeforeSetCompactRenderer(){!this.isDisposed&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new Os(this))}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}F([z({defaultValue:!1})],UI.prototype,"inputHasValue",void 0);ce.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new UI("")},"checkboxbase");ce.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],r=>new Lm(r),"choiceitem");class tq{constructor(e,t,s){this.question=e,this.item=t,this.index=s}get value(){return this.item.value}get iconName(){return this.item.iconName}get iconSize(){return this.item.iconSize||24}get caption(){return this.item.locText}get showCaption(){return this.item.showCaption||this.item.showCaption===void 0}get isRequired(){return this.question.isRequired}get selected(){return this.question.isItemSelected(this.item)}get readOnly(){return this.question.isInputReadOnly||!this.item.isEnabled}get name(){return this.question.name+"_"+this.question.id}get id(){return this.question.inputId+"_"+this.index}get hasErrors(){return this.question.errors.length>0}get describedBy(){return this.question.errors.length>0?this.question.id+"_errors":null}get labelClass(){return new ge().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()}get css(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}}onChange(){this.question.selectItem(this.item)}}class Am extends He{getSurvey(e=!1){var t;return(t=this.owner)===null||t===void 0?void 0:t.getSurvey()}getType(){return"masksettings"}setData(e){ce.getProperties(this.getType()).forEach(s=>{const i=e[s.name];this[s.name]=i!==void 0?i:s.getDefaultValue(this)})}getData(){const e={};return ce.getProperties(this.getType()).forEach(s=>{const i=this[s.name];s.isDefaultValue(i)||(e[s.name]=i)}),e}processInput(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}}getUnmaskedValue(e){return e}getMaskedValue(e){return e}getTextAlignment(){return"auto"}getTypeForExpressions(){return"text"}}F([z()],Am.prototype,"saveMaskedValue",void 0);ce.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(r){return r?r.getType()!=="masksettings":!1}}],function(){return new Am});function qx(r){const e=[];let t=!1;const s=Object.keys(re.maskSettings.patternDefinitions);for(let i=0;i<r.length;i++){const n=r[i];n===re.maskSettings.patternEscapeChar?t=!0:t?(t=!1,e.push({type:"fixed",value:n})):e.push({type:s.indexOf(n)!==-1?"regex":"const",value:n})}return e}function sq(r,e,t){const s=re.maskSettings.patternDefinitions[t.value];for(;e<r.length;){if(r[e].match(s))return e;e++}return e}function rq(r,e,t){const s=r??"";let i="",n=0;const o=typeof e=="string"?qx(e):e;for(let l=0;l<o.length;l++)switch(o[l].type){case"regex":if(n<s.length&&(n=sq(s,n,o[l])),n<s.length)i+=s[n];else if(t)i+=re.maskSettings.patternPlaceholderChar;else return i;n++;break;case"const":case"fixed":i+=o[l].value,o[l].value===s[n]&&n++;break}return i}function Zg(r,e,t,s=!1){let i="";if(!r)return i;let n=typeof e=="string"?qx(e):e;for(let o=0;o<n.length;o++)if(n[o].type==="fixed"&&!s&&(i+=n[o].value),n[o].type==="regex"){const l=re.maskSettings.patternDefinitions[n[o].value];if(r[o]&&r[o].match(l))i+=r[o];else if(t){i="";break}else break}return i}class zx extends Am{constructor(){super(...arguments),this.literals=[]}updateLiterals(){this.literals=qx(this.pattern||"")}onPropertyValueChanged(e,t,s){super.onPropertyValueChanged(e,t,s),e==="pattern"&&this.updateLiterals()}getType(){return"patternmask"}fromJSON(e,t){super.fromJSON(e,t),this.updateLiterals()}_getMaskedValue(e,t=!1){return rq(e??"",this.literals,t)}_getUnmaskedValue(e,t=!1){return Zg(e??"",this.literals,t)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return t;const s=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),i=Zg(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),n=Zg(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return t.value=this._getMaskedValue(i+(e.insertedChars||"")+n,!0),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(s).length,t}getMaskedValue(e){return this._getMaskedValue(e,!0)}getUnmaskedValue(e){return this._getUnmaskedValue(e,!0)}}F([z()],zx.prototype,"pattern",void 0);ce.addClass("patternmask",[{name:"pattern"}],function(){return new zx},"masksettings");function iq(r,e=!0,t=3){let s=[];if(e){for(let i=r.length-t;i>-t;i-=t)s.push(r.substring(i,i+t));s=s.reverse()}else for(let i=0;i<r.length;i+=t)s.push(r.substring(i,i+t));return s}class Co extends Am{calccaretPosition(e,t,s){const i=e?this.displayNumber(this.parseNumber(e),!1).length:0;let n=0,o=t.selectionStart;const l=!t.insertedChars&&t.inputDirection==="forward";for(let u=0;u<s.length;u++)if(s[u]!==this.thousandsSeparator&&n++,n===i+(l?1:0)){l?o=u:o=u+1;break}return o}numericalCompositionIsEmpty(e){return!e.integralPart&&!e.fractionalPart}displayNumber(e,t=!0,s=!1){let i=e.integralPart;t&&i&&(i=iq(i).join(this.thousandsSeparator));let n=e.fractionalPart;const o=e.isNegative?"-":"";if(n===""){if(s)return!i||i==="0"?i:o+i;{const l=e.hasDecimalSeparator&&!s?this.decimalSeparator:"",u=i+l;return u==="0"?u:o+u}}else return i=i||"0",n=n.substring(0,this.precision),[o+i,n].join(this.decimalSeparator)}convertNumber(e){let t;const s=e.isNegative?"-":"";return e.fractionalPart?t=parseFloat(s+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):t=parseInt(s+e.integralPart||"0"),t}validateNumber(e,t){const s=this.min||Number.MIN_SAFE_INTEGER,i=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(this.min!==void 0||this.max!==void 0){let n=this.convertNumber(e);if(Number.isNaN(n)||n>=s&&n<=i)return!0;if(!t){if(!e.hasDecimalSeparator&&n!=0){let o=n,l=n;if(n>0){if(n+1>s&&n<=i)return!0;for(;o=o*10+9,l=l*10,!(l>i);)if(o>s)return!0;return!1}if(n<0){if(n>=s&&n-1<i)return!0;for(;o=o*10,l=l*10-9,!(o<s);)if(l<i)return!0;return!1}}else{const o=Math.pow(.1,(e.fractionalPart||"").length);if(n>=0)return n+o>s&&n<=i;if(n<0)return n>=s&&n-o<i}return n>=0&&n<=i||n<0&&n>=s}return!1}return!0}parseNumber(e){const t={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},s=e==null?"":e.toString();let i=0;for(let n=0;n<s.length;n++){const o=s[n];switch(o){case"-":{this.allowNegativeValues&&(this.min===void 0||this.min<0)&&i++;break}case this.decimalSeparator:{this.precision>0&&(t.hasDecimalSeparator=!0);break}case this.thousandsSeparator:break;default:o.match(Yv)&&(t.hasDecimalSeparator?t.fractionalPart+=o:t.integralPart+=o)}}return t.isNegative=i%2!==0,t.integralPart.length>1&&t.integralPart[0]==="0"&&(t.integralPart=t.integralPart.slice(1)),t}getNumberMaskedValue(e,t=!1){const s=this.parseNumber(e);return this.validateNumber(s,t)?this.displayNumber(s,!0,t):null}getNumberUnmaskedValue(e){const t=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(t))return this.convertNumber(t)}getTextAlignment(){return"right"}getMaskedValue(e){let t=e==null?"":e.toString();return t=t.replace(".",this.decimalSeparator),this.getNumberMaskedValue(t,!0)}getUnmaskedValue(e){return this.getNumberUnmaskedValue(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},s=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),i=e.prevValue.slice(e.selectionEnd),n=s+i,o=this.parseNumber(n);if(!this.validateNumber(o,!1))return t;const l=this.getNumberMaskedValue(n),u=this.calccaretPosition(s,e,l);return t.value=l,t.caretPosition=u,t}getType(){return"numericmask"}isValueUndefined(e){return e===""||super.isValueUndefined(e)}}F([z()],Co.prototype,"allowNegativeValues",void 0);F([z()],Co.prototype,"decimalSeparator",void 0);F([z()],Co.prototype,"precision",void 0);F([z()],Co.prototype,"thousandsSeparator",void 0);F([z()],Co.prototype,"min",void 0);F([z()],Co.prototype,"max",void 0);ce.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new Co},"masksettings");function c2(r,e){switch(r){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return e;default:return 1}}function nq(r,e){let t=e;return r.count<r.maxCount&&(r.type==="day"&&parseInt(e[0])===0||r.type==="month"&&parseInt(e[0])===0)&&(t=e.slice(1,e.length)),t}function oq(r){const e=[];let t;const s=(i,n,o=!1)=>{if(t&&t===i){e[e.length-1].count++;const l=c2(i,e[e.length-1].count);e[e.length-1].maxCount=l}else{const l=c2(i,1);e.push({type:i,value:n,count:1,maxCount:l,upperCase:o})}};for(let i=0;i<r.length;i++){const n=r[i];switch(n){case"m":s("month",n);break;case"d":s("day",n);break;case"y":s("year",n);break;case"h":s("hour",n,!1);break;case"H":s("hour",n,!0);break;case"M":s("minute",n);break;case"s":s("second",n);break;case"t":s("timeMarker",n);break;case"T":s("timeMarker",n,!0);break;default:e.push({type:"separator",value:n,count:1,maxCount:1,upperCase:!1});break}t=e[e.length-1].type}return e}class Hx extends zx{constructor(){super(...arguments),this.defaultDate="1970-01-01T",this.turnOfTheCentury=68,this.twelve=12,this.lexems=[],this.inputDateTimeData=[],this.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1}}get hasDatePart(){return this.lexems.some(e=>e.type==="day"||e.type==="month"||e.type==="year")}get hasTimePart(){return this.lexems.some(e=>e.type==="hour"||e.type==="minute"||e.type==="second")}get is12Hours(){return this.lexems.filter(e=>e.type==="hour"&&!e.upperCase).length>0}getType(){return"datetimemask"}getTypeForExpressions(){return this.hasTimePart?"datetime-local":"datetime"}updateLiterals(){this.lexems=oq(this.pattern||"")}leaveOnlyNumbers(e){let t="";for(let s=0;s<e.length;s++)e[s].match(Yv)&&(t+=e[s]);return t}getMaskedStrFromISO(e){let t=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(t=new Date(e+"T00:00:00")),this.hasDatePart||(t=new Date(this.defaultDate+e)),isNaN(t)||this.lexems.forEach((s,i)=>{let n=this.inputDateTimeData[i];switch(n.isCompleted=!0,s.type){case"hour":{this.is12Hours?n.value=((t.getHours()-1)%this.twelve+1).toString():n.value=t.getHours().toString();break}case"minute":{n.value=t.getMinutes().toString();break}case"second":{n.value=t.getSeconds().toString();break}case"timeMarker":{const o=t.getHours()>=this.twelve?"pm":"am";n.value=s.upperCase?o.toUpperCase():o;break}case"day":{n.value=t.getDate().toString();break}case"month":{n.value=(t.getMonth()+1).toString();break}case"year":{let o=t.getFullYear();s.count==2&&(o=o%100),n.value=o.toString();break}}}),this.getFormatedString(!0)}initInputDateTimeData(){this.inputDateTimeData=[],this.lexems.forEach(e=>{this.inputDateTimeData.push({lexem:e,isCompleted:!1,value:void 0})})}getISO_8601Format(e){const t=[],s=[];if(e.year!==void 0){const n=this.getPlaceholder(4,e.year.toString(),"0")+e.year;t.push(n)}if(e.month!==void 0&&e.year!==void 0){const n=this.getPlaceholder(2,e.month.toString(),"0")+e.month;t.push(n)}if(e.day!==void 0&&e.month!==void 0&&e.year!==void 0){const n=this.getPlaceholder(2,e.day.toString(),"0")+e.day;t.push(n)}if(e.hour!==void 0){const n=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;s.push(n)}if(e.minute!==void 0&&e.hour!==void 0){const n=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;s.push(n)}if(e.second!==void 0&&e.minute!==void 0&&e.hour!==void 0){const n=this.getPlaceholder(2,e.second.toString(),"0")+e.second;s.push(n)}const i=[];return t.length>0&&i.push(t.join("-")),s.length>1&&i.push(s.join(":")),i.join("T")}isYearValid(e){if(e.min===void 0&&e.max===void 0)return!1;const t=e.year.toString(),s=e.min.toISOString().slice(0,t.length),i=e.max.toISOString().slice(0,t.length);return e.year>=parseInt(s)&&e.year<=parseInt(i)}createIDateTimeCompositionWithDefaults(e,t){const s=e.day==29&&e.month==2;let i=e.min.getFullYear(),n=e.max.getFullYear();s&&(i=Math.ceil(i/4)*4,n=Math.floor(n/4)*4,i>n&&(i=void 0,n=void 0));const o=e.year!==void 0?e.year:t?n:i,l=e.month!==void 0?e.month:t&&this.hasDatePart?12:1,u=e.day!==void 0?e.day:t&&this.hasDatePart?this.getMaxDateForMonth(o,l):1,c=e.hour!==void 0?e.hour:t?23:0,h=e.minute!==void 0?e.minute:t?59:0,p=e.second!==void 0?e.second:t?59:0;return{year:o,month:l,day:u,hour:c,minute:h,second:p}}getMaxDateForMonth(e,t){return t==2?e%4==0&&e%100!=0||e%400==0?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]}isDateValid(e){const t=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),s=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(t)&&(t.getDate()===e.day||e.day===void 0)&&(t.getMonth()===e.month-1||e.month===void 0)&&(t.getFullYear()===e.year||e.year===void 0)&&s>=e.min&&t<=e.max}getPlaceholder(e,t,s){const i=e-(t||"").length;return i>0?s.repeat(i):""}isDateValid12(e){return this.is12Hours?this.is12Hours&&e.hour>this.twelve?!1:e.timeMarker?e.timeMarker[0].toLowerCase()==="p"?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):this.isDateValid(e)?!0:(e.hour+=this.twelve,this.isDateValid(e)):this.isDateValid(e)}updateTimeMarkerInputDateTimeData(e,t){let s=e.value;if(!s)return;const i="timeMarker",n=Object.assign({},t);n[i]=s,this.isDateValid12(n)?e.isCompleted=!0:s=s.slice(0,s.length-1),e.value=s||void 0,t[i]=s||void 0}updateInputDateTimeData(e,t){let s=e.value;if(!s)return;const i=e.lexem.type,n=Object.assign({},t);if(n[i]=parseInt(this.parseTwoDigitYear(e)),s.length===e.lexem.maxCount)if(this.isDateValid12(n)){e.isCompleted=!0,e.value=s||void 0,t[i]=parseInt(s)>0?parseInt(s):void 0;return}else s=s.slice(0,s.length-1);n[i]=parseInt(s);const o=parseInt(s[0]),l=this.validBeginningOfNumbers[i+(e.lexem.upperCase?"U":"")];i==="year"&&!this.isYearValid(n)?(s=s.slice(0,s.length-1),e.isCompleted=!1):l!==void 0&&o>l?this.isDateValid12(n)?e.isCompleted=!0:s=s.slice(0,s.length-1):l!==void 0&&o!==0&&o<=l&&(this.checkValidationDateTimePart(n,i,e),e.isCompleted&&!this.isDateValid12(n)&&(s=s.slice(0,s.length-1))),e.value=s||void 0,t[i]=parseInt(s)>0?parseInt(s):void 0}checkValidationDateTimePart(e,t,s){const i=e[t];let n=i*10,o=10;t==="month"&&(o=3),t==="hour"&&(o=this.is12Hours?3:5),s.isCompleted=!0;for(let l=0;l<o;l++)if(e[t]=n+l,this.isDateValid12(e)){s.isCompleted=!1;break}e[t]=i}getCorrectDatePartFormat(e,t){const s=e.lexem;let i=e.value||"";return i&&s.type==="timeMarker"?(t&&(i=i+this.getPlaceholder(s.count,i,s.value)),i):(i&&e.isCompleted&&(i=parseInt(i).toString()),i&&e.isCompleted?i=this.getPlaceholder(s.count,i,"0")+i:(i=nq(s,i),t&&(i+=this.getPlaceholder(s.count,i,s.value))),i)}createIDateTimeComposition(){let e,t;return this.hasDatePart?(e=this.min||"0001-01-01",t=this.max||"9996-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),t=this.defaultDate+(this.max||"23:59:59")),{hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(t)}}parseTwoDigitYear(e){const t=e.value;return e.lexem.type!=="year"||e.lexem.count>2?t:(this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4))),(parseInt(t)>this.turnOfTheCentury?"19":"20")+t)}getFormatedString(e){let t="",s="",i=!1,n=this.inputDateTimeData.length-1;if(!e){const o=this.inputDateTimeData.filter(l=>!!l.value);n=this.inputDateTimeData.indexOf(o[o.length-1])}for(let o=0;o<this.inputDateTimeData.length;o++){const l=this.inputDateTimeData[o];switch(l.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(l.value===void 0&&!e)return t+=i?s:"",t;{const u=e||n>o,c=this.getCorrectDatePartFormat(l,u);t+=s+c,i=l.isCompleted}break;case"separator":s=l.lexem.value;break}}return t}cleanTimeMarker(e,t){let s="";e=e.toUpperCase();for(let i=0;i<e.length;i++)(!s&&(e[i]=="P"||e[i]=="A")||s&&e[i]=="M")&&(s+=e[i]);return t?s=s.toUpperCase():s=s.toLowerCase(),s}setInputDateTimeData(e){let t=0;this.initInputDateTimeData(),this.lexems.forEach((s,i)=>{if(e.length>0&&t<e.length){if(s.type==="separator")return;const n=this.inputDateTimeData[i],o=e[t];let l;s.type==="timeMarker"?l=this.cleanTimeMarker(o,s.upperCase):l=this.leaveOnlyNumbers(o),n.value=l.slice(0,s.maxCount),t++}})}_getMaskedValue(e,t=!0){let s=e==null?"":e.toString();const i=this.getParts(s);this.setInputDateTimeData(i);const n=this.createIDateTimeComposition();return this.inputDateTimeData.forEach(l=>{l.lexem.type==="timeMarker"?this.updateTimeMarkerInputDateTimeData(l,n):this.updateInputDateTimeData(l,n)}),this.getFormatedString(t)}getParts(e){const t=[],s=this.lexems.filter(u=>u.type!=="separator"),i=this.lexems.filter(u=>u.type==="separator").map(u=>u.value);let n="",o=!1,l=!1;for(let u=0;u<e.length;u++){const c=e[u];if(c.match(Yv)||c===s[t.length].value||s[t.length].type==="timeMarker"?(o=!1,l=!1,n+=c):i.indexOf(c)!==-1?l||(o=!0,t.push(n),n=""):o||(l=!0,t.push(n),n=""),t.length>=s.length){o=!1;break}}return(n!=""||o)&&t.push(n),t}getUnmaskedValue(e){var t;let s=e==null?"":e.toString();const i=this.getParts(s);this.setInputDateTimeData(i);const n=(t=this.inputDateTimeData.filter(u=>u.lexem.type==="timeMarker")[0])===null||t===void 0?void 0:t.value.toLowerCase()[0],o=this.createIDateTimeComposition();let l=!1;return this.inputDateTimeData.forEach(u=>{let c=u.value;if(u.lexem.type=="timeMarker"||u.lexem.type=="separator")return;if(!c||c.length<u.lexem.count){l=!0;return}let h=parseInt(this.parseTwoDigitYear(u));u.lexem.type=="hour"&&n==="p"&&h!=this.twelve&&(h+=this.twelve),o[u.lexem.type]=h}),l?"":this.getISO_8601Format(o)}getMaskedValue(e){return this.getMaskedStrFromISO(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},s=e.prevValue.slice(0,e.selectionStart),i=e.prevValue.slice(e.selectionEnd);return t.value=this._getMaskedValue(s+(e.insertedChars||"")+i),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(s+(e.insertedChars||""),!1).length,t}}F([z()],Hx.prototype,"min",void 0);F([z()],Hx.prototype,"max",void 0);ce.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:r=>!!r.pattern},{name:"max",type:"datetime",enableIf:r=>!!r.pattern}],function(){return new Hx},"patternmask");class Qx extends Co{getType(){return"currencymask"}wrapText(e){const t=this.prefix||"",s=this.suffix||"";let i=e;return i&&(i.indexOf(t)===-1&&(i=t+i),i.indexOf(s)===-1&&(i+=s),i)}unwrapInputArgs(e){let t=e.prevValue;if(t){if(this.prefix&&t.indexOf(this.prefix)!==-1){t=t.slice(t.indexOf(this.prefix)+this.prefix.length);const s=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-s,0),e.selectionEnd-=s}this.suffix&&t.indexOf(this.suffix)!==-1&&(t=t.slice(0,t.indexOf(this.suffix))),e.prevValue=t}}processInput(e){this.unwrapInputArgs(e);const t=super.processInput(e),s=(this.prefix||"").length;return t.value&&(t.caretPosition+=s),t.value=this.wrapText(t.value),t}getMaskedValue(e){const t=super.getMaskedValue(e);return this.wrapText(t)}}F([z()],Qx.prototype,"prefix",void 0);F([z()],Qx.prototype,"suffix",void 0);ce.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],()=>new Qx,"numericmask");var Dp;Dp="2.3.7";re.version=Dp;function aq(r,e){if(Dp!=r){const t="survey-core has version '"+Dp+"' and "+e+" has version '"+r+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(t)}}class lq{constructor(){this.icons={},this.iconPrefix="icon-",this.onIconsChanged=new li}processId(e,t){return e.indexOf(t)==0&&(e=e.substring(t.length)),e=hI[e]||e,e}registerIconFromSymbol(e,t){this.icons[e]=t}registerIconFromSvgViaElement(e,t,s=this.iconPrefix){if(!Re.isAvailable())return;e=this.processId(e,s);let i=Re.createElement("div");i.innerHTML=t;let n=Re.createElement("symbol"),o=i.querySelector("svg");n.innerHTML=o.innerHTML;for(var l=0;l<o.attributes.length;l++)n.setAttributeNS("http://www.w3.org/2000/svg",o.attributes[l].name,o.attributes[l].value);n.id=s+e,this.registerIconFromSymbol(e,n.outerHTML)}registerIconFromSvg(e,t,s=this.iconPrefix){e=this.processId(e,s);const i="<svg ",n="</svg>";t=t.trim();const o=t.toLowerCase();return o.substring(0,i.length)===i&&o.substring(o.length-n.length,o.length)===n?(this.registerIconFromSymbol(e,'<symbol id="'+s+e+'" '+t.substring(i.length,o.length-n.length)+"</symbol>"),!0):!1}registerIconsFromFolder(e){e.keys().forEach(t=>{this.registerIconFromSvg(t.substring(2,t.length-4).toLowerCase(),e(t))})}registerIcons(e){for(const t in e)this.registerIconFromSvg(t,e[t]);this.updateMarkup()}registerIcon(e,t,s="v2"){this.registerIconFromSvg(e,t),Wx(s,{[e]:t})}iconsRenderedHtml(){return Object.keys(this.icons).map(e=>this.icons[e]).join("")}updateMarkup(){this.onIconsChanged.fire(this,{})}}const Lh=new lq,Jg={};function Wx(r,e){Jg[r]||(Jg[r]={});const t=Jg[r];for(const s in e)t[s]=e[s]}/*!
 * surveyjs - Survey JavaScript library v2.3.7
 * Copyright (c) 2015-2025 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */class Ce{constructor(){this.creatorHash={}}registerElement(e,t){this.creatorHash[e]=t}getAllTypes(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()}isElementRegistered(e){return!!this.creatorHash[e]}createElement(e,t){var s=this.creatorHash[e];return s==null?null:s(t)}}Ce.Instance=new Ce;class wi{static wrapRow(e,t,s){const i=e.getRowWrapperComponentName(s),n=e.getRowWrapperComponentData(s);return Ce.Instance.createElement(i,{element:t,row:s,componentData:n})}static wrapElement(e,t,s){const i=e.getElementWrapperComponentName(s),n=e.getElementWrapperComponentData(s);return Ce.Instance.createElement(i,{element:t,question:s,componentData:n})}static wrapQuestionContent(e,t,s){const i=e.getQuestionContentWrapperComponentName(s),n=e.getElementWrapperComponentData(s);return Ce.Instance.createElement(i,{element:t,question:s,componentData:n})}static wrapItemValue(e,t,s,i){const n=e.getItemValueWrapperComponentName(i,s),o=e.getItemValueWrapperComponentData(i,s);return Ce.Instance.createElement(n,{key:t==null?void 0:t.key,element:t,question:s,item:i,componentData:o})}static wrapMatrixCell(e,t,s,i="cell"){const n=e.getElementWrapperComponentName(s,i),o=e.getElementWrapperComponentData(s,i);return Ce.Instance.createElement(n,{element:t,cell:s,componentData:o})}}tt.platform="react";class Ye extends d.Component{static renderLocString(e,t=null,s){return Ce.Instance.createElement(e.renderAs,{locStr:e.renderAsData,style:t,key:s})}static renderQuestionDescription(e){var t=Ye.renderLocString(e.locDescription);return d.createElement("div",{style:e.hasDescription?void 0:{display:"none"},id:e.ariaDescriptionId,className:e.cssDescription},t)}constructor(e){super(e),this._allowComponentUpdate=!0,this.prevStateElements=[],this.propertyValueChangedHandler=(t,s,i)=>{if(t[s]!==i){if(t[s]=i,!this.canUsePropInState(s)||this.isRendering)return;this.changedStatePropNameValue=s,this.setState(n=>{var o={};return o[s]=i,o})}}}componentDidMount(){this.makeBaseElementsReact()}componentWillUnmount(){this.unMakeBaseElementsReact(),this.disableStateElementsRerenderEvent(this.getStateElements())}componentDidUpdate(e,t){var s;this.makeBaseElementsReact();const i=this.getStateElements();this.disableStateElementsRerenderEvent(((s=this.prevStateElements)!==null&&s!==void 0?s:[]).filter(n=>!i.find(o=>o==n))),this.prevStateElements=[],this.getStateElements().forEach(n=>{n.afterRerender()})}allowComponentUpdate(){this._allowComponentUpdate=!0,this.forceUpdate()}denyComponentUpdate(){this._allowComponentUpdate=!1}shouldComponentUpdate(e,t){return this._allowComponentUpdate&&(this.unMakeBaseElementsReact(),this.prevStateElements=this.getStateElements()),this._allowComponentUpdate}render(){if(!this.canRender())return null;this.startEndRendering(1);var e=this.renderElement();return this.startEndRendering(-1),e&&(e=this.wrapElement(e)),this.changedStatePropNameValue=void 0,e}wrapElement(e){return e}get isRendering(){var e=this.getRenderedElements();for(let t of e)if(t.reactRendering>0)return!0;return!1}getRenderedElements(){return this.getStateElements()}startEndRendering(e){var t=this.getRenderedElements();for(let s of t)s.reactRendering||(s.reactRendering=0),s.reactRendering+=e}canRender(){return!0}renderElement(){return null}get changedStatePropName(){return this.changedStatePropNameValue}makeBaseElementsReact(){for(var e=this.getStateElements(),t=0;t<e.length;t++)e[t].enableOnElementRerenderedEvent(),this.makeBaseElementReact(e[t])}unMakeBaseElementsReact(){var e=this.getStateElements();this.unMakeBaseElementsReactive(e)}unMakeBaseElementsReactive(e){for(var t=0;t<e.length;t++)this.unMakeBaseElementReact(e[t])}disableStateElementsRerenderEvent(e){e.forEach(t=>{t.disableOnElementRerenderedEvent()})}getStateElements(){var e=this.getStateElement();return e?[e]:[]}getStateElement(){return null}get isDisplayMode(){return this.props.isDisplayMode||!1}renderLocString(e,t=null,s){return Ye.renderLocString(e,t,s)}canMakeReact(e){return!!e&&!!e.iteratePropertiesHash}isCurrentStateElement(e){return!!e&&!!e.setPropertyValueCoreHandler&&e.setPropertyValueCoreHandler===this.propertyValueChangedHandler}makeBaseElementReact(e){this.canMakeReact(e)&&(e.iteratePropertiesHash((t,s)=>{if(this.canUsePropInState(s)){var i=t[s];if(Array.isArray(i)){var i=i;i.onArrayChanged=o=>{this.isRendering||(this.changedStatePropNameValue=s,this.setState(l=>{var u={};return u[s]=i,u}))}}}}),e.setPropertyValueCoreHandler=this.propertyValueChangedHandler)}canUsePropInState(e){return!0}unMakeBaseElementReact(e){this.canMakeReact(e)&&(this.isCurrentStateElement(e),e.setPropertyValueCoreHandler=void 0,e.iteratePropertiesHash((t,s)=>{var i=t[s];if(Array.isArray(i)){var i=i;i.onArrayChanged=()=>{}}}))}}class Ft extends Ye{constructor(e){super(e)}get cssClasses(){return this.props.cssClasses}}class hs extends Ye{constructor(e){super(e)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateDomElement()}componentDidMount(){super.componentDidMount(),this.updateDomElement()}componentWillUnmount(){if(super.componentWillUnmount(),this.questionBase){const e=this.content||this.control;this.questionBase.beforeDestroyQuestionElement(e),e&&e.removeAttribute("data-rendered")}}updateDomElement(){const e=this.content||this.control;e&&e.getAttribute("data-rendered")!=="r"&&(e.setAttribute("data-rendered","r"),this.questionBase.afterRenderQuestionElement(e))}get questionBase(){return this.props.question}getRenderedElements(){return[this.questionBase]}get creator(){return this.props.creator}canRender(){return!!this.questionBase&&!!this.creator}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?!this.questionBase.customWidget||!!this.questionBase.customWidgetData.isNeedRender||!!this.questionBase.customWidget.widgetJson.isDefaultRender||!!this.questionBase.customWidget.widgetJson.render:!1}get isDisplayMode(){return this.props.isDisplayMode||!!this.questionBase&&this.questionBase.isInputReadOnly||!1}wrapCell(e,t,s){if(!s)return t;const i=this.questionBase.survey;let n=null;return i&&(n=wi.wrapMatrixCell(i,t,e,s)),n??t}setControl(e){e&&(this.control=e)}setContent(e){e&&(this.content=e)}}class ac extends hs{constructor(e){super(e),this.updateValueOnEvent=t=>{Y.isTwoValueEquals(this.questionBase.value,t.target.value,!1,!0,!1)||this.setValueCore(t.target.value)},this.updateValueOnEvent=this.updateValueOnEvent.bind(this)}get question(){return this.questionBase}setValueCore(e){this.questionBase.value=e}getValueCore(){return this.questionBase.value}updateDomElement(){if(this.control){const e=this.control,t=this.getValueCore();Y.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.getValue(t))}super.updateDomElement()}getValue(e){return Y.isValueEmpty(e)?"":e}}class uq extends Ye{constructor(e){super(e),this.element.cssClasses,this.rootRef=d.createRef()}getStateElement(){return this.element}get element(){return this.props.element}get index(){return this.props.index}get row(){return this.props.row}get survey(){return this.props.survey}get creator(){return this.props.creator}get css(){return this.props.css}componentDidMount(){super.componentDidMount(),this.rootRef.current&&this.element.setWrapperElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.element.setWrapperElement(void 0)}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.element!==this.element&&(e.element&&e.element.setWrapperElement(this.rootRef.current),this.element&&this.element.setWrapperElement(void 0)),this.element.cssClasses,!0):!1}renderElement(){const e=this.element,t=this.createElement(e,this.index),s=e.cssClassesValue,i=()=>{const n=e;n&&n.isQuestion&&n.focusIn()};return d.createElement("div",{className:s.questionWrapper,style:e.rootStyle,"data-key":e.name+this.index,onFocus:i,ref:this.rootRef},t)}createElement(e,t){if(!this.row.isNeedRender)return Ce.Instance.createElement(e.skeletonComponentName,{element:e,css:this.css});let s=e.getTemplate();return Ce.Instance.isElementRegistered(s)||(s="question"),Ce.Instance.createElement(s,{element:e,creator:this.creator,survey:this.survey,css:this.css})}}class dq extends Ye{constructor(e){super(e),this.rootRef=d.createRef(),this.recalculateCss()}recalculateCss(){this.row.visibleElements.map(e=>e.cssClasses)}getStateElement(){return this.row}get row(){return this.props.row}get survey(){return this.props.survey}get creator(){return this.props.creator}get css(){return this.props.css}canRender(){return!!this.row&&!!this.survey&&!!this.creator}renderElementContent(){const e=this.row.visibleElements.map((t,s)=>d.createElement(uq,{element:t,index:s,row:this.row,survey:this.survey,creator:this.creator,css:this.css,key:t.id}));return d.createElement("div",{ref:this.rootRef,className:this.row.getRowCss()},e)}renderElement(){const e=this.survey,t=this.renderElementContent();return wi.wrapRow(e,t,this.row)||t}componentDidMount(){super.componentDidMount();var e=this.rootRef.current;if(this.rootRef.current&&this.row.setRootElement(this.rootRef.current),e&&!this.row.isNeedRender){var t=e;this.lazyRenderingTimeout=setTimeout(()=>{this.row.startLazyRendering(t)},10)}}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.row!==this.row&&(e.row.isNeedRender=this.row.isNeedRender,e.row.setRootElement(this.rootRef.current),this.row.setRootElement(void 0),this.stopLazyRendering()),this.recalculateCss(),!0):!1}stopLazyRendering(){clearTimeout(this.lazyRenderingTimeout),this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}componentWillUnmount(){const e=this.isCurrentStateElement(this.getStateElement());super.componentWillUnmount(),e&&(this.row.setRootElement(void 0),this.stopLazyRendering())}createElement(e,t){const s=t?"-"+t:0;var i=e.getType();return Ce.Instance.isElementRegistered(i)||(i="question"),Ce.Instance.createElement(i,{key:e.name+s,element:e,creator:this.creator,survey:this.survey,css:this.css})}}class $I extends Ye{constructor(e){super(e),this.rootRef=d.createRef()}getStateElement(){return this.panelBase}canUsePropInState(e){return e!=="elements"&&super.canUsePropInState(e)}get survey(){return this.getSurvey()}get creator(){return this.props.creator}get css(){return this.getCss()}get panelBase(){return this.getPanelBase()}getPanelBase(){return this.props.element||this.props.question}getSurvey(){return this.props.survey||(this.panelBase?this.panelBase.survey:null)}getCss(){return this.props.css}componentDidMount(){super.componentDidMount(),this.doAfterRender()}componentWillUnmount(){super.componentWillUnmount();var e=this.rootRef.current;e&&e.removeAttribute("data-rendered")}componentDidUpdate(e,t){super.componentDidUpdate(e,t),!(e.page&&this.survey&&this.survey.activePage&&e.page.id===this.survey.activePage.id)&&this.doAfterRender()}doAfterRender(){var e=this.rootRef.current;e&&this.survey&&(this.panelBase.isPanel?this.panelBase.afterRender(e):this.survey.afterRenderPage(e))}getIsVisible(){return this.panelBase.isVisible}canRender(){return super.canRender()&&!!this.survey&&!!this.panelBase&&!!this.panelBase.survey&&this.getIsVisible()}renderRows(e){return this.panelBase.visibleRows.map(t=>this.createRow(t,e))}createRow(e,t){return d.createElement(dq,{key:e.id,row:e,survey:this.survey,creator:this.creator,css:t})}}class Nt extends d.Component{constructor(e){super(e),this.svgIconRef=d.createRef()}updateSvg(){this.props.iconName&&gF(this.props.size,this.props.width,this.props.height,this.props.iconName,this.svgIconRef.current,this.props.title)}componentDidUpdate(){this.updateSvg()}render(){let e="sv-svg-icon";return this.props.className&&(e+=" "+this.props.className),this.props.iconName?d.createElement("svg",{className:e,style:this.props.style,onClick:this.props.onClick,ref:this.svgIconRef,role:"presentation"},d.createElement("use",null)):null}componentDidMount(){this.updateSvg()}}Ce.Instance.registerElement("sv-svg-icon",r=>d.createElement(Nt,r));class GI extends d.Component{constructor(e){super(e)}render(){var e=`sv-action-bar-separator ${this.props.cssClasses}`;return d.createElement("div",{className:e})}}Ce.Instance.registerElement("sv-action-bar-separator",r=>d.createElement(GI,r));class Ju extends Ye{constructor(e){super(e),this.ref=d.createRef()}get item(){return this.props.item}getStateElement(){return this.item}renderElement(){const e=this.item.getActionRootCss(),t=this.item.needSeparator?d.createElement(GI,null):null,s=Ce.Instance.createElement(this.item.component||"sv-action-bar-item",{item:this.item});return d.createElement("div",{className:e,id:this.item.id,ref:this.ref},d.createElement("div",{className:"sv-action__content"},t,s))}componentWillUnmount(){super.componentWillUnmount(),this.item.updateModeCallback=void 0}componentDidMount(){super.componentDidMount(),this.item.updateModeCallback=(e,t)=>{queueMicrotask(()=>{cn.flushSync?cn.flushSync(()=>{this.item.mode=e}):this.item.mode=e,queueMicrotask(()=>{t(e,this.ref.current)})})},this.item.afterRender()}}class ZI extends Ye{get item(){return this.props.item}getStateElement(){return this.item}renderElement(){return d.createElement(d.Fragment,null,this.renderInnerButton())}renderText(){if(!this.item.hasTitle)return null;const e=this.item.getActionBarItemTitleCss();return d.createElement("span",{className:e},this.item.title)}renderButtonContent(){const e=this.renderText(),t=this.item.iconName?d.createElement(Nt,{className:this.item.cssClasses.itemIcon,size:this.item.iconSize,iconName:this.item.iconName,title:this.item.tooltip||this.item.title}):null;return d.createElement(d.Fragment,null,t,e)}renderInnerButton(){const e=this.item.getActionBarItemCss(),t=this.item.tooltip||this.item.title,s=this.renderButtonContent(),i=this.item.disableTabStop?-1:void 0;return Kx(d.createElement("button",{className:e,type:"button",disabled:this.item.disabled,onMouseDown:o=>this.item.doMouseDown(o),onFocus:o=>this.item.doFocus(o),onClick:o=>this.item.doAction(o),title:t,tabIndex:i,"aria-checked":this.item.ariaChecked,"aria-expanded":this.item.ariaExpanded,role:this.item.ariaRole},s),this.item,{processEsc:!1})}}Ce.Instance.registerElement("sv-action-bar-item",r=>d.createElement(ZI,r));class lc extends Ye{constructor(e){super(e),this.containerRef=d.createRef(),this.createModel()}get model(){return this.props.model}getStateElement(){return this.model}createModel(){this.popup=eq(this.props.model)}setTargetElement(){const e=this.containerRef.current;this.popup.setComponentElement(e)}componentDidMount(){super.componentDidMount(),this.setTargetElement()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.setTargetElement()}componentWillUnmount(){super.componentWillUnmount(),this.popup.resetComponentElement()}shouldComponentUpdate(e,t){var s;if(!super.shouldComponentUpdate(e,t))return!1;const i=e.model!==this.popup.model;return i&&((s=this.popup)===null||s===void 0||s.dispose(),this.createModel()),i}render(){this.popup.model=this.model;let e;return this.model.isModal?e=d.createElement(Ux,{model:this.popup}):e=d.createElement(cq,{model:this.popup}),d.createElement("div",{ref:this.containerRef},e)}}Ce.Instance.registerElement("sv-popup",r=>d.createElement(lc,r));class Ux extends Ye{constructor(e){super(e),this.handleKeydown=t=>{this.model.onKeyDown(t)},this.clickInside=t=>{t.stopPropagation()}}get model(){return this.props.model}getStateElement(){return this.model}componentDidUpdate(e,t){super.componentDidUpdate(e,t),!this.model.isPositionSet&&this.model.isVisible&&this.model.updateOnShowing()}renderContainer(e){const t=e.showHeader?this.renderHeaderPopup(e):null,s=e.title?this.renderHeaderContent():null,i=this.renderContent(),n=e.showFooter?this.renderFooter(this.model):null;return d.createElement("div",{className:"sv-popup__container",style:{left:e.left,top:e.top,height:e.height,width:e.width,minWidth:e.minWidth},onClick:o=>{this.clickInside(o)}},t,d.createElement("div",{className:"sv-popup__body-content"},s,d.createElement("div",{className:"sv-popup__scrolling-content"},i),n))}renderHeaderContent(){return d.createElement("div",{className:"sv-popup__body-header"},this.model.title)}renderContent(){const e=Ce.Instance.createElement(this.model.contentComponentName,this.model.contentComponentData);return d.createElement("div",{className:"sv-popup__content"},e)}renderHeaderPopup(e){return null}renderFooter(e){return d.createElement("div",{className:"sv-popup__body-footer"},d.createElement($r,{model:e.footerToolbar}))}render(){const e=this.renderContainer(this.model),t=new ge().append("sv-popup").append(this.model.styleClass).toString(),s={display:this.model.isVisible?"":"none"};return d.createElement("div",{tabIndex:-1,className:t,style:s,onClick:i=>{this.model.clickOutside(i)},onBlur:i=>{this.model.blur(i)},onKeyDown:this.handleKeydown},e)}componentDidMount(){super.componentDidMount(),this.model.isVisible&&this.model.updateOnShowing()}}class cq extends Ux{renderHeaderPopup(e){const t=e;return t?d.createElement("span",{style:{left:t.pointerTarget.left,top:t.pointerTarget.top},className:"sv-popup__pointer"}):null}}class hq extends ZI{constructor(e){super(e)}renderInnerButton(){const e=super.renderInnerButton();return d.createElement(d.Fragment,null,e,d.createElement(lc,{model:this.item.popupModel}))}componentDidMount(){this.viewModel=new rF(this.item)}componentWillUnmount(){super.componentWillUnmount(),this.viewModel.dispose()}}Ce.Instance.registerElement("sv-action-bar-item-dropdown",r=>d.createElement(hq,r));class $r extends Ye{constructor(e){super(e),this.rootRef=d.createRef()}get handleClick(){return this.props.handleClick!==void 0?this.props.handleClick:!0}get model(){return this.props.model}componentDidMount(){if(super.componentDidMount(),!this.model.hasVisibleActions)return;const e=this.rootRef.current;e&&this.model.initResponsivityManager(e,t=>{setTimeout(t,100)})}componentWillUnmount(){super.componentWillUnmount(),this.model.resetResponsivityManager()}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),e.model!=this.props.model&&e.model.resetResponsivityManager(),this.model.hasVisibleActions){const s=this.rootRef.current;s&&this.model.initResponsivityManager(s,i=>{setTimeout(i,100)})}}getStateElement(){return this.model}renderElement(){if(!this.model.hasActions)return null;const e=this.renderItems();return d.createElement("div",{ref:this.rootRef,style:this.model.getRootStyle(),className:this.model.getRootCss(),onClick:this.handleClick?function(t){t.stopPropagation()}:void 0},e)}renderItems(){return this.model.renderedActions.concat([]).map((e,t)=>d.createElement(Ju,{item:e,key:e.renderedId}))}}Ce.Instance.registerElement("sv-action-bar",r=>d.createElement($r,r));class JI extends d.Component{constructor(e){super(e)}get cssClasses(){return this.props.cssClasses}get element(){return this.props.element}render(){if(this.element.isTitleRenderedAsString)return Ye.renderLocString(this.element.locRenderedTitle);var e=this.renderTitleSpans(this.element.getTitleOwner(),this.cssClasses);return d.createElement(d.Fragment,null,e)}renderTitleSpans(e,t){var s=o=>d.createElement("span",{"data-key":o,key:o},""),i=[];e.isRequireTextOnStart&&(i.push(this.renderRequireText(e)),i.push(s("req-sp")));var n=e.no;return n&&(i.push(d.createElement("span",{"data-key":"q_num",key:"q_num",className:e.cssTitleNumber,style:{position:"static"},"aria-hidden":!0},n)),i.push(s("num-sp"))),e.isRequireTextBeforeTitle&&(i.push(this.renderRequireText(e)),i.push(s("req-sp"))),i.push(Ye.renderLocString(e.locRenderedTitle,null,"q_title")),e.isRequireTextAfterTitle&&(i.push(s("req-sp")),i.push(this.renderRequireText(e))),i}renderRequireText(e){return d.createElement("span",{"data-key":"req-text",key:"req-text",className:e.cssRequiredMark,"aria-hidden":!0},e.requiredMark)}}class $x extends d.Component{get cssClasses(){return this.props.cssClasses}get element(){return this.props.element}render(){const e=d.createElement(JI,{element:this.element,cssClasses:this.cssClasses});return this.element.hasTitleActions?d.createElement("div",{className:"sv-title-actions"},d.createElement("span",{className:"sv-title-actions__title"},e),d.createElement($r,{model:this.element.getTitleToolbar()})):e}}mn.Instance.registerRenderer("element","title-actions","sv-title-actions");Ce.Instance.registerElement("sv-title-actions",r=>d.createElement($x,r));class Zl extends d.Component{constructor(e){super(e)}get element(){return this.props.element}renderTitleExpandableSvg(){if(!this.element.getCssTitleExpandableSvg())return null;let e=this.element.isExpanded?"icon-collapse-16x16":"icon-expand-16x16";return d.createElement(Nt,{className:this.element.getCssTitleExpandableSvg(),iconName:e,size:"auto"})}render(){const e=this.element;if(!e||!e.hasTitle)return null;const t=e.titleAriaLabel||void 0,s=this.renderTitleExpandableSvg(),i=d.createElement($x,{element:e,cssClasses:e.cssClasses});let n,o;e.hasTitleEvents&&(o=u=>{kx(u.nativeEvent)});const l=e.titleTagName;return d.createElement(l,{className:e.cssTitle,id:e.ariaTitleId,"aria-label":t,tabIndex:e.titleTabIndex,"aria-expanded":e.titleAriaExpanded,role:e.titleAriaRole,onClick:n,onKeyUp:o},s,i)}}class ft{constructor(){this.creatorHash={}}registerQuestion(e,t){this.creatorHash[e]=t}getAllTypes(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()}createQuestion(e,t){var s=this.creatorHash[e];return s==null?null:s(t)}}ft.Instance=new ft;class Gx extends Ye{getStateElement(){return this.props.counter}renderElement(){return d.createElement("div",{className:this.props.remainingCharacterCounter},this.props.counter.remainingCharacterCounter)}}Ce.Instance.registerElement("sv-character-counter",r=>d.createElement(Gx,r));class Zx extends Ye{constructor(e){super(e),this.initialValue=this.viewModel.getTextValue()||"",this.textareaRef=d.createRef()}get viewModel(){return this.props.viewModel}canRender(){return!!this.viewModel.question}componentDidMount(){super.componentDidMount();let e=this.textareaRef.current;e&&this.viewModel.setElement(e)}componentWillUnmount(){super.componentWillUnmount(),this.viewModel.resetElement()}renderElement(){return d.createElement("textarea",{id:this.viewModel.id,className:this.viewModel.className,ref:this.textareaRef,disabled:this.viewModel.isDisabledAttr,readOnly:this.viewModel.isReadOnlyAttr,rows:this.viewModel.rows,cols:this.viewModel.cols,placeholder:this.viewModel.placeholder,maxLength:this.viewModel.maxLength,defaultValue:this.initialValue,onChange:e=>{this.viewModel.onTextAreaInput(e)},onFocus:e=>{this.viewModel.onTextAreaFocus(e)},onBlur:e=>{this.viewModel.onTextAreaBlur(e)},onKeyDown:e=>{this.viewModel.onTextAreaKeyDown(e)},"aria-required":this.viewModel.ariaRequired,"aria-label":this.viewModel.ariaLabel,"aria-labelledby":this.viewModel.ariaLabelledBy,"aria-describedby":this.viewModel.ariaDescribedBy,"aria-invalid":this.viewModel.ariaInvalid,"aria-errormessage":this.viewModel.ariaErrormessage,style:{resize:this.viewModel.question.resizeStyle}})}}Ce.Instance.registerElement("sv-text-area",r=>d.createElement(Zx,r));class pq extends ac{renderCharacterCounter(){let e=null;return this.question.getMaxLength()&&(e=d.createElement(Gx,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter})),e}constructor(e){super(e)}renderElement(){if(this.question.isReadOnlyRenderDiv())return d.createElement("div",null,this.question.value);const e=this.renderCharacterCounter(),t=this.props.question.textAreaModel;return d.createElement(d.Fragment,null,d.createElement(Zx,{viewModel:t}),e)}}class KI extends Ft{constructor(e){super(e),this.textAreaModel=this.getTextAreaModel()}canRender(){return!!this.props.question}getTextAreaModel(){return this.props.question.commentTextAreaModel}renderElement(){if(this.props.question.isReadOnlyRenderDiv()){const t=this.textAreaModel.getTextValue()||"";return d.createElement("div",null,t)}return d.createElement(Zx,{key:this.getKey(),viewModel:this.textAreaModel})}getKey(){}}class Dm extends KI{constructor(e){super(e)}getTextAreaModel(){return this.props.question.getCommentTextAreaModel(this.props.item)}getKey(){return this.props.item.normalizedId}}ft.Instance.registerQuestion("comment",r=>d.createElement(pq,r));class mq extends hs{constructor(e){super(e),this.widgetRef=d.createRef()}_afterRender(){if(this.questionBase.customWidget){let e=this.widgetRef.current;e&&(this.questionBase.customWidget.afterRender(this.questionBase,e),this.questionBase.customWidgetData.isNeedRender=!1)}}componentDidMount(){super.componentDidMount(),this.questionBase&&this._afterRender()}componentDidUpdate(e,t){super.componentDidUpdate(e,t);var s=!!this.questionBase.customWidget&&this.questionBase.customWidget.isDefaultRender;this.questionBase&&!s&&this._afterRender()}componentWillUnmount(){if(super.componentWillUnmount(),this.questionBase.customWidget){let e=this.widgetRef.current;e&&this.questionBase.customWidget.willUnmount(this.questionBase,e)}}canRender(){return super.canRender()&&this.questionBase.visible}renderElement(){let e=this.questionBase.customWidget;if(e.isDefaultRender)return d.createElement("div",{ref:this.widgetRef},this.creator.createQuestionElement(this.questionBase));let t=null;if(e.widgetJson.render)t=e.widgetJson.render(this.questionBase);else if(e.htmlTemplate){let s={__html:e.htmlTemplate};return d.createElement("div",{ref:this.widgetRef,dangerouslySetInnerHTML:s})}return d.createElement("div",{ref:this.widgetRef},t)}}class YI extends Ye{get element(){return this.props.element}getRenderedElements(){return[this.element]}renderElement(){const e=this.element,t=e.hasTitle?d.createElement(Zl,{element:e}):null,s=e.hasDescriptionUnderTitle?Ye.renderQuestionDescription(this.element):null,i=e.hasAdditionalTitleToolbar?d.createElement($r,{model:e.additionalTitleToolbar}):null,n={width:void 0};return e instanceof rs&&(n.width=e.titleWidth),d.createElement("div",{className:e.cssHeader,onClick:o=>e.clickTitleFunction&&e.clickTitleFunction(o.nativeEvent),style:n},t,s,i)}}class XI extends Ft{constructor(e){super(e)}get css(){return this.props.css}get summary(){return this.props.summary}renderElement(){return this.summary?this.summary.isEmpty()?this.renderNoItems():this.renderItems():null}renderItems(){return d.createElement("div",{className:this.css.summary},this.summary.items.map((e,t)=>this.renderItem(e,t)))}renderNoItems(){const e=this.summary.question;return Ce.Instance.createElement("sv-placeholder-"+e.getTemplate(),{cssClasses:this.css,question:e})||d.createElement("div",null,this.renderLocString(this.summary.noEntry))}renderItem(e,t){const s=e.btnEdit?d.createElement("button",{className:this.css.summaryRowActionEdit,onClick:()=>e.btnEdit.action(),title:e.btnEdit.title},d.createElement(Nt,{iconName:"icon-editsmall-16x16",iconSize:"auto"})):null,i=e.showRemove&&e.btnRemove?d.createElement("button",{className:this.css.summaryRowActionDelete,onClick:()=>e.btnRemove.action(),title:e.btnRemove.title},d.createElement(Nt,{iconName:"icon-delete-16x16",iconSize:"auto"})):null;return d.createElement("div",{className:this.css.summaryRow,key:t},d.createElement("div",{className:this.css.summaryRowContent},this.renderLocString(e.locText)),d.createElement("div",{className:this.css.summaryRowActions},s,i))}}Ce.Instance.registerElement("sv-singleinput-summary",r=>d.createElement(XI,r));class e3 extends Ye{constructor(e){super(e)}getStateElement(){return this.props.model}get items(){return this.props.model.actions}get css(){return this.props.css}renderElement(){if(!this.items||!this.items.length)return null;const e=this.renderItems();return d.createElement("div",{className:this.css.breadcrumbsRoot},e)}renderItems(){const e=[];return this.items.concat([]).forEach((t,s)=>{s&&e.push(d.createElement(Nt,{key:t.renderedId+"_separator",className:this.css.breadcrumbsSeparator,iconName:"arrowright-16x16",size:"auto"})),e.push(d.createElement(Ju,{key:t.renderedId,item:t}))}),e}}Ce.Instance.registerElement("sv-breadcrumbs",r=>d.createElement(e3,r));class co extends Ye{static renderQuestionBody(e,t){var s=t.customWidget;return s?d.createElement(mq,{creator:e,question:t}):e.createQuestionElement(t)}constructor(e){super(e),this.isNeedFocus=!1,this.rootRef=d.createRef()}getStateElement(){return this.question}get question(){return this.props.element}get creator(){return this.props.creator}componentDidMount(){super.componentDidMount(),this.question&&(this.question.react=this),this.doAfterRender()}componentWillUnmount(){super.componentWillUnmount(),this.question&&(this.question.react=null);const e=this.rootRef.current;e&&e.removeAttribute("data-rendered")}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.doAfterRender()}doAfterRender(){if(this.isNeedFocus&&(this.question.isCollapsed||this.question.clickTitleFunction(),this.isNeedFocus=!1),this.question){var e=this.rootRef.current;e&&e.getAttribute("data-rendered")!=="r"&&(e.setAttribute("data-rendered","r"),this.question.afterRender&&this.question.afterRender(e))}}canRender(){return super.canRender()&&!!this.question&&!!this.creator}renderQuestionContent(){let e=this.question;var t={display:this.question.renderedIsExpanded?"":"none"},s=e.cssClasses,i=this.renderQuestion(),n=e&&e.hasComment?this.renderComment(s):null,o=e.hasDescriptionUnderInput?this.renderDescription():null;return d.createElement("div",{className:e.cssContent||void 0,style:t,"aria-hidden":e.contentAriaHidden,role:"presentation"},i,n,o)}renderElement(){var e=this.question,t=e.cssClasses,s=this.renderHeader(e),i=e.hasTitleOnLeftTop?s:null,n=e.hasTitleOnBottom?s:null;const o=this.question.showErrorsAboveQuestion?this.renderErrors(t,""):null,l=this.question.showErrorsBelowQuestion?this.renderErrors(t,""):null,u=e.getRootStyle(),c=e.singleInputHasActions?this.renderSingleInputBreadcrumbs(e,t):void 0,m=(e.singleInputSummary?this.renderSingleInputSummary(e,t):void 0)||(e.singleInputQuestion?this.renderSingleInputQuestion(e,t):void 0)||this.wrapQuestionContent(this.renderQuestionContent());return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.rootRef,id:e.id,className:e.getRootCss(),style:u,"data-name":e.name,role:e.ariaRole,"aria-required":this.question.ariaRequired,"aria-invalid":this.question.ariaInvalid,"aria-label":this.question.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,"aria-expanded":e.ariaExpanded},c,o,i,m,n,l))}renderSingleInputQuestion(e,t){const s=e.singleInputQuestion,i=s.id;return d.createElement(co,{key:i,element:s,creator:this.creator,css:t})}renderSingleInputBreadcrumbs(e,t){return d.createElement(e3,{model:e.singleInputActions,css:t})}renderSingleInputSummary(e,t){return d.createElement(XI,{summary:e.singleInputSummary,creator:this.creator,css:t})}wrapElement(e){const t=this.question.survey;let s=null;return t&&(s=wi.wrapElement(t,e,this.question)),s??e}wrapQuestionContent(e){const t=this.question.survey;let s=null;return t&&(s=wi.wrapQuestionContent(t,e,this.question)),s??e}renderQuestion(){return co.renderQuestionBody(this.creator,this.question)}renderDescription(){return Ye.renderQuestionDescription(this.question)}renderComment(e){const t=Ye.renderLocString(this.question.locCommentText);return d.createElement("div",{className:this.question.getCommentAreaCss()},d.createElement("div",null,t),d.createElement(KI,{question:this.question,cssClasses:e,isDisplayMode:this.question.isInputReadOnly}))}renderHeader(e){return e.singleInputHideHeader?null:d.createElement(YI,{element:e})}renderErrors(e,t){return d.createElement(Mm,{element:this.question,cssClasses:e,creator:this.creator,location:t,id:this.question.id+"_errors"})}}Ce.Instance.registerElement("question",r=>d.createElement(co,r));class Mm extends Ft{constructor(e){super(e),this.state=this.getState()}get id(){return this.props.element.id+"_errors"}get element(){return this.props.element}get creator(){return this.props.creator}getState(e=null){return e?{error:e.error+1}:{error:0}}canRender(){return!!this.element&&this.element.hasVisibleErrors}componentWillUnmount(){}renderElement(){const e=[];for(let t=0;t<this.element.errors.length;t++){const s="error"+t;e.push(this.creator.renderError(s,this.element.errors[t],this.cssClasses,this.element))}return d.createElement("div",{className:this.element.cssError,id:this.id},e)}}class t3 extends Ft{constructor(e){super(e)}getStateElement(){return this.question}get question(){return this.getQuestion()}get creator(){return this.props.creator}getQuestion(){return this.props.question}get itemCss(){return this.props.itemCss}componentDidMount(){super.componentDidMount(),this.doAfterRender()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.doAfterRender()}doAfterRender(){}canRender(){return!!this.question}renderContent(){var e=this.renderQuestion();return d.createElement(d.Fragment,null,e)}getShowErrors(){return this.question.isVisible}renderQuestion(){return co.renderQuestionBody(this.creator,this.question)}}class gq extends t3{constructor(e){super(e),this.cellRef=d.createRef()}componentWillUnmount(){if(super.componentWillUnmount(),this.question){var e=this.cellRef.current;e&&e.removeAttribute("data-rendered")}}renderCellContent(){return d.createElement("div",{className:this.props.cell.cellQuestionWrapperClassName},this.renderQuestion())}renderElement(){var e=this.getCellStyle();const t=this.props.cell,s=()=>{t.focusIn()};return d.createElement("td",{ref:this.cellRef,className:this.itemCss,colSpan:t.colSpans,title:t.getTitle(),style:e,onFocus:s},this.wrapCell(this.props.cell,this.renderCellContent()))}getCellStyle(){return null}getHeaderText(){return""}wrapCell(e,t){if(!e)return t;const s=this.question.survey;let i=null;return s&&(i=wi.wrapMatrixCell(s,t,e,this.props.reason)),i??t}}class s3 extends d.Component{constructor(e){super(e),this.state={changed:0},this.question&&this.registerCallback(this.question)}get question(){return this.props.question}update(){this.setState({changed:this.state.changed+1})}getQuestionPropertiesToTrack(){return["errors"]}registerCallback(e){e.registerFunctionOnPropertiesValueChanged(this.getQuestionPropertiesToTrack(),()=>{this.update()},"__reactSubscription")}unRegisterCallback(e){e.unRegisterFunctionOnPropertiesValueChanged(this.getQuestionPropertiesToTrack(),"__reactSubscription")}componentDidUpdate(e){e.question&&e.question!==this.question&&this.unRegisterCallback(e.cell),this.question&&this.registerCallback(this.question)}componentWillUnmount(){this.question&&this.unRegisterCallback(this.question)}render(){return d.createElement(Mm,{element:this.question,creator:this.props.creator,cssClasses:this.question.cssClasses})}}class fq extends $I{constructor(e){super(e)}getPanelBase(){return this.props.page}get page(){return this.panelBase}renderElement(){var e=this.renderTitle(),t=this.renderDescription(),s=this.renderRows(this.panelBase.cssClasses);const i=d.createElement(Mm,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator});return d.createElement("div",{ref:this.rootRef,className:this.page.cssRoot},e,t,i,s)}renderTitle(){return d.createElement(Zl,{element:this.page})}renderDescription(){if(!this.page._showDescription)return null;var e=Ye.renderLocString(this.page.locDescription);return d.createElement("div",{className:this.panelBase.cssClasses.page.description},e)}}class r3 extends d.Component{constructor(e){super(e),this.state={changed:0},this.rootRef=d.createRef()}get survey(){return this.props.survey}get css(){return this.survey.css}componentDidMount(){const e=this;this.survey.afterRenderHeader(this.rootRef.current),this.survey.locLogo.onChanged=function(){e.setState({changed:e.state.changed+1})}}componentWillUnmount(){this.survey.locLogo.onChanged=function(){}}renderTitle(){if(!this.survey.renderedHasTitle)return null;const e=Ye.renderLocString(this.survey.locDescription);return d.createElement("div",{className:this.css.headerText,style:{maxWidth:this.survey.titleMaxWidth}},d.createElement(Zl,{element:this.survey}),this.survey.renderedHasDescription?d.createElement("div",{className:this.css.description},e):null)}renderLogoImage(e){if(!e)return null;const t=this.survey.getElementWrapperComponentName(this.survey,"logo-image"),s=this.survey.getElementWrapperComponentData(this.survey,"logo-image");return Ce.Instance.createElement(t,{data:s})}render(){return this.survey.renderedHasHeader?d.createElement("div",{className:this.css.header,ref:this.rootRef},this.renderLogoImage(this.survey.isLogoBefore),this.renderTitle(),this.renderLogoImage(this.survey.isLogoAfter),d.createElement("div",{className:this.css.headerClose})):null}}Ce.Instance.registerElement("survey-header",r=>d.createElement(r3,r));class vq extends d.Component{render(){return d.createElement("div",{className:"sv-brand-info"},d.createElement("a",{className:"sv-brand-info__logo",href:"https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page"},d.createElement("img",{src:"https://surveyjs.io/Content/Images/poweredby.svg"})),d.createElement("div",{className:"sv-brand-info__text"},"Try and see how easy it is to ",d.createElement("a",{href:"https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"},"create a survey")),d.createElement("div",{className:"sv-brand-info__terms"},d.createElement("a",{href:"https://surveyjs.io/TermsOfUse"},"Terms of Use & Privacy Statement")))}}class i3 extends Ye{get notifier(){return this.props.notifier}getStateElement(){return this.notifier}renderElement(){if(!this.notifier.isDisplayed)return null;const e={visibility:this.notifier.active?"visible":"hidden"};return d.createElement("div",{className:this.notifier.css,style:e,role:"alert","aria-live":"polite"},d.createElement("span",null,this.notifier.message),d.createElement($r,{model:this.notifier.actionBar}))}}Ce.Instance.registerElement("sv-notifier",r=>d.createElement(i3,r));class Ki extends d.Component{render(){const e=this.props.survey.getContainerContent(this.props.container),t=this.props.needRenderWrapper!==!1;return e.length==0?null:t?d.createElement("div",{className:"sv-components-column sv-components-container-"+this.props.container},e.map(s=>Ce.Instance.createElement(s.component,{survey:this.props.survey,model:s.data,container:this.props.container,key:s.id}))):d.createElement(d.Fragment,null,e.map(s=>Ce.Instance.createElement(s.component,{survey:this.props.survey,model:s.data,container:this.props.container,key:s.id})))}}Ce.Instance.registerElement("sv-components-container",r=>d.createElement(Ki,r));class yq extends d.Component{constructor(e){super(e),this.onIconsChanged=()=>{this.containerRef.current&&(this.containerRef.current.innerHTML=Lh.iconsRenderedHtml())},this.containerRef=d.createRef()}componentDidMount(){this.onIconsChanged(),Lh.onIconsChanged.add(this.onIconsChanged)}componentWillUnmount(){Lh.onIconsChanged.remove(this.onIconsChanged)}render(){const e={display:"none"};return d.createElement("svg",{style:e,id:"sv-icon-holder-global-container",ref:this.containerRef})}}class Md extends Ye{constructor(e){super(e),this.isInitialized=!1,this.init=()=>{this.isInitialized||(re.showDialog=(t,s)=>this.showDialog(t,s),this.isInitialized=!0)},this.clean=()=>{this.isInitialized&&(re.showDialog=void 0,this.isInitialized=!1)},this.state={changed:0},this.descriptor={init:this.init,clean:this.clean}}static addModalDescriptor(e){re.showDialog||e.init(),this.modalDescriptors.push(e)}static removeModalDescriptor(e){e.clean(),this.modalDescriptors.splice(this.modalDescriptors.indexOf(e),1),!re.showDialog&&this.modalDescriptors[0]&&this.modalDescriptors[0].init()}renderElement(){return this.model?cn.createPortal(d.createElement(Ux,{model:this.model}),this.model.container):null}showDialog(e,t){this.model=XB(e,t);const s=(i,n)=>{n.isVisible||(this.model.dispose(),this.model=void 0,this.setState({changed:this.state.changed+1}))};return this.model.onVisibilityChanged.add(s),this.model.model.isVisible=!0,this.setState({changed:this.state.changed+1}),this.model}componentDidMount(){Md.addModalDescriptor(this.descriptor)}componentWillUnmount(){this.model&&(this.model.dispose(),this.model=void 0),Md.removeModalDescriptor(this.descriptor)}}Md.modalDescriptors=[];/*!
 * surveyjs - Survey JavaScript library v2.3.7
 * Copyright (c) 2015-2025 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var xq={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 11H17V13H13V17H11V13H7V11H11V7H13V11ZM23 12C23 18.1 18.1 23 12 23C5.9 23 1 18.1 1 12C1 5.9 5.9 1 12 1C18.1 1 23 5.9 23 12ZM21 12C21 7 17 3 12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.4L8.7 13.3L7.3 14.7L0.599998 7.99999L7.3 1.29999L8.7 2.69999L4.4 6.99999H15V8.99999Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.003 14.413L0.292999 9.70303L1.703 8.29303L5.003 11.583L14.293 2.29303L15.703 3.70303L5.003 14.413Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.4101 12L20.7001 4.71C21.0901 4.32 21.0901 3.69 20.7001 3.3C20.3101 2.91 19.6801 2.91 19.2901 3.3L12.0001 10.59L4.71006 3.29C4.32006 2.9 3.68006 2.9 3.29006 3.29C2.90006 3.68 2.90006 4.32 3.29006 4.71L10.5801 12L3.29006 19.29C2.90006 19.68 2.90006 20.31 3.29006 20.7C3.49006 20.9 3.74006 20.99 4.00006 20.99C4.26006 20.99 4.51006 20.89 4.71006 20.7L12.0001 13.41L19.2901 20.7C19.4901 20.9 19.7401 20.99 20.0001 20.99C20.2601 20.99 20.5101 20.89 20.7101 20.7C21.1001 20.31 21.1001 19.68 20.7101 19.29L13.4201 12H13.4101Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 6L3 5L8 10L13 5L14 6L8 12L2 6Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"delete-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 2H14H11V1C11 0.4 10.6 0 10 0H7C6.4 0 6 0.4 6 1V2H3H2V4H3V14C3 15.1 3.9 16 5 16H12C13.1 16 14 15.1 14 14V4H15V2ZM7 1H10V2H7V1ZM12 14H5V4H12V14ZM7 13H6V5H7V13ZM9 13H8V5H9V13ZM11 13H10V5H11V13Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 6C13 4.9 13.9 4 15 4C16.1 4 17 4.9 17 6C17 7.1 16.1 8 15 8C13.9 8 13 7.1 13 6ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16ZM9 16C7.9 16 7 16.9 7 18C7 19.1 7.9 20 9 20C10.1 20 11 19.1 11 18C11 16.9 10.1 16 9 16Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M18 9C19.1 9 20 9.9 20 11C20 12.1 19.1 13 18 13C16.9 13 16 12.1 16 11C16 9.9 16.9 9 18 9ZM20 5C20 3.9 19.1 3 18 3C16.9 3 16 3.9 16 5C16 6.1 16.9 7 18 7C19.1 7 20 6.1 20 5ZM14 11C14 9.9 13.1 9 12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11ZM14 5C14 3.9 13.1 3 12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5ZM8 11C8 9.9 7.1 9 6 9C4.9 9 4 9.9 4 11C4 12.1 4.9 13 6 13C7.1 13 8 12.1 8 11ZM8 5C8 3.9 7.1 3 6 3C4.9 3 4 3.9 4 5C4 6.1 4.9 7 6 7C7.1 7 8 6.1 8 5Z"></path></svg>',"editsmall-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.59 4.5884L11.42 2.4184C11.03 2.0284 10.52 1.8284 10.01 1.8284C9.5 1.8284 8.99 2.0284 8.6 2.4184L3.76 7.2384C2.63 8.3684 2 9.8884 2 11.4784V12.9884C2 13.5384 2.45 13.9884 3 13.9884H4.51C6.1 13.9884 7.63 13.3584 8.75 12.2284L13.58 7.3984C14.36 6.6184 14.36 5.3484 13.58 4.5684L13.59 4.5884ZM7.35 10.8284C6.59 11.5884 5.59 11.9984 4.52 11.9984H4.01V11.4884C4.01 10.4184 4.43 9.4184 5.18 8.6584L7.72 6.1184L9.89 8.2884L7.35 10.8284ZM11.3 6.8784L9.13 4.7084L10.01 3.8284L12.18 5.9984L11.3 6.8784Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 14L5 13L10 8L5 3L6 2L12 8L6 14Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.93 9H21V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H10L8 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5L2 21H21L23.89 11.63C23.9916 11.3244 24.0179 10.9988 23.9667 10.6809C23.9155 10.363 23.7882 10.0621 23.5958 9.80392C23.4034 9.54571 23.1514 9.33779 22.8614 9.19782C22.5714 9.05786 22.2519 8.99 21.93 9ZM4 5H7.17L8.59 6.41L9.17 7H19V9H6L4 15V5ZM22 11L19.54 19H4.77L7.44 11H22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M36 8H12C9.79 8 8 9.79 8 12V36C8 38.21 9.79 40 12 40H36C38.21 40 40 38.21 40 36V12C40 9.79 38.21 8 36 8ZM38 36C38 37.1 37.1 38 36 38H12C10.9 38 10 37.1 10 36V12C10 10.9 10.9 10 12 10H36C37.1 10 38 10.9 38 12V36ZM14 17C14 15.34 15.34 14 17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17ZM27 24L36 36H12L19 27L23 29L27 24Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 5L12 0L7 5H11V9H13V5H17Z"></path><path d="M13 19V15H11V19H7L12 24L17 19H13Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 6C15 6.55 14.55 7 14 7H10C9.45 7 9 6.55 9 6V2C9 1.45 9.45 1 10 1C10.55 1 11 1.45 11 2V3.59L13.29 1.29C13.49 1.09 13.74 1 14 1C14.26 1 14.51 1.1 14.71 1.29C15.1 1.68 15.1 2.31 14.71 2.7L12.42 4.99H14.01C14.56 4.99 15.01 5.44 15.01 5.99L15 6ZM6 9H2C1.45 9 0.999998 9.45 0.999998 10C0.999998 10.55 1.45 11 2 11H3.59L1.29 13.29C0.899998 13.68 0.899998 14.31 1.29 14.7C1.68 15.09 2.31 15.09 2.7 14.7L4.99 12.41V14C4.99 14.55 5.44 15 5.99 15C6.54 15 6.99 14.55 6.99 14V10C6.99 9.45 6.54 9 5.99 9H6Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};/*!
 * surveyjs - Survey JavaScript library v2.3.7
 * Copyright (c) 2015-2025 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var n3={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 12C15.75 12.41 15.41 12.75 15 12.75H12.75V15C12.75 15.41 12.41 15.75 12 15.75C11.59 15.75 11.25 15.41 11.25 15V12.75H9C8.59 12.75 8.25 12.41 8.25 12C8.25 11.59 8.59 11.25 9 11.25H11.25V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V11.25H15C15.41 11.25 15.75 11.59 15.75 12ZM21.75 12C21.75 17.38 17.38 21.75 12 21.75C6.62 21.75 2.25 17.38 2.25 12C2.25 6.62 6.62 2.25 12 2.25C17.38 2.25 21.75 6.62 21.75 12ZM20.25 12C20.25 7.45 16.55 3.75 12 3.75C7.45 3.75 3.75 7.45 3.75 12C3.75 16.55 7.45 20.25 12 20.25C16.55 20.25 20.25 16.55 20.25 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.7475 7.9975C14.7475 8.4075 14.4075 8.7475 13.9975 8.7475H3.8075L7.5275 12.4675C7.8175 12.7575 7.8175 13.2375 7.5275 13.5275C7.3775 13.6775 7.1875 13.7475 6.9975 13.7475C6.8075 13.7475 6.6175 13.6775 6.4675 13.5275L1.4675 8.5275C1.1775 8.2375 1.1775 7.7575 1.4675 7.4675L6.4675 2.4675C6.7575 2.1775 7.2375 2.1775 7.5275 2.4675C7.8175 2.7575 7.8175 3.2375 7.5275 3.5275L3.8075 7.2475H13.9975C14.4075 7.2475 14.7475 7.5875 14.7475 7.9975Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 8.5275L9.53 13.5275C9.38 13.6775 9.19 13.7475 9 13.7475C8.81 13.7475 8.62 13.6775 8.47 13.5275C8.18 13.2375 8.18 12.7575 8.47 12.4675L12.19 8.7475H2C1.59 8.7475 1.25 8.4075 1.25 7.9975C1.25 7.5875 1.59 7.2475 2 7.2475H12.19L8.47 3.5275C8.18 3.2375 8.18 2.7575 8.47 2.4675C8.76 2.1775 9.24 2.1775 9.53 2.4675L14.53 7.4675C14.82 7.7575 14.82 8.2375 14.53 8.5275Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.19 4.25H17.12C16.72 4.25 16.35 4.03 16.17 3.67C15.73 2.8 14.86 2.25 13.88 2.25H10.12C9.14 2.25 8.27 2.79 7.83 3.67C7.65 4.03 7.29 4.25 6.88 4.25H4.81C3.4 4.25 2.25 5.4 2.25 6.81V18.19C2.25 19.6 3.4 20.75 4.81 20.75H19.19C20.6 20.75 21.75 19.6 21.75 18.19V6.81C21.75 5.4 20.6 4.25 19.19 4.25ZM20.25 18.19C20.25 18.77 19.78 19.25 19.19 19.25H4.81C4.23 19.25 3.75 18.78 3.75 18.19V6.81C3.75 6.23 4.22 5.75 4.81 5.75H6.88C7.86 5.75 8.73 5.21 9.17 4.33C9.35 3.97 9.71 3.75 10.12 3.75H13.88C14.28 3.75 14.65 3.97 14.83 4.33C15.27 5.2 16.14 5.75 17.12 5.75H19.19C19.77 5.75 20.25 6.22 20.25 6.81V18.19ZM12 6.25C8.83 6.25 6.25 8.83 6.25 12C6.25 15.17 8.83 17.75 12 17.75C15.17 17.75 17.75 15.17 17.75 12C17.75 8.83 15.17 6.25 12 6.25ZM12 16.25C9.66 16.25 7.75 14.34 7.75 12C7.75 9.66 9.66 7.75 12 7.75C14.34 7.75 16.25 9.66 16.25 12C16.25 14.34 14.34 16.25 12 16.25ZM14.75 12C14.75 13.52 13.52 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25C12.69 13.25 13.25 12.69 13.25 12C13.25 11.59 13.59 11.25 14 11.25C14.41 11.25 14.75 11.59 14.75 12Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M25 7.25H22.19C21.73 7.25 21.31 7 21.09 6.59L20.89 6.22C20.23 5.01 18.97 4.25 17.59 4.25H14.41C13.03 4.25 11.77 5 11.11 6.22L10.91 6.6C10.69 7 10.27 7.26 9.81 7.26H7C4.93 7.26 3.25 8.94 3.25 11.01V24.01C3.25 26.08 4.93 27.76 7 27.76H25C27.07 27.76 28.75 26.08 28.75 24.01V11C28.75 8.93 27.07 7.25 25 7.25ZM27.25 24C27.25 25.24 26.24 26.25 25 26.25H7C5.76 26.25 4.75 25.24 4.75 24V11C4.75 9.76 5.76 8.75 7 8.75H9.81C10.82 8.75 11.75 8.2 12.23 7.31L12.43 6.94C12.82 6.21 13.58 5.76 14.41 5.76H17.59C18.42 5.76 19.18 6.21 19.57 6.94L19.77 7.31C20.25 8.2 21.18 8.76 22.19 8.76H25C26.24 8.76 27.25 9.77 27.25 11.01V24.01V24ZM16 10.25C12.28 10.25 9.25 13.28 9.25 17C9.25 20.72 12.28 23.75 16 23.75C19.72 23.75 22.75 20.72 22.75 17C22.75 13.28 19.72 10.25 16 10.25ZM16 22.25C13.11 22.25 10.75 19.89 10.75 17C10.75 14.11 13.11 11.75 16 11.75C18.89 11.75 21.25 14.11 21.25 17C21.25 19.89 18.89 22.25 16 22.25ZM19.75 17C19.75 19.07 18.07 20.75 16 20.75C15.59 20.75 15.25 20.41 15.25 20C15.25 19.59 15.59 19.25 16 19.25C17.24 19.25 18.25 18.24 18.25 17C18.25 16.59 18.59 16.25 19 16.25C19.41 16.25 19.75 16.59 19.75 17Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.8099 11.75L15.2799 9.28C15.5699 8.99 15.5699 8.51 15.2799 8.22C14.9899 7.93 14.5099 7.93 14.2199 8.22L11.7499 10.69L9.27994 8.22C8.98994 7.93 8.50994 7.93 8.21994 8.22C7.92994 8.51 7.92994 8.99 8.21994 9.28L10.6899 11.75L8.21994 14.22C7.92994 14.51 7.92994 14.99 8.21994 15.28C8.36994 15.43 8.55994 15.5 8.74994 15.5C8.93994 15.5 9.12994 15.43 9.27994 15.28L11.7499 12.81L14.2199 15.28C14.3699 15.43 14.5599 15.5 14.7499 15.5C14.9399 15.5 15.1299 15.43 15.2799 15.28C15.5699 14.99 15.5699 14.51 15.2799 14.22L12.8099 11.75Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.0275 5.0275L6.5275 12.5275C6.3775 12.6775 6.1875 12.7475 5.9975 12.7475C5.8075 12.7475 5.6175 12.6775 5.4675 12.5275L2.4675 9.5275C2.1775 9.2375 2.1775 8.7575 2.4675 8.4675C2.7575 8.1775 3.2375 8.1775 3.5275 8.4675L5.9975 10.9375L12.9675 3.9675C13.2575 3.6775 13.7375 3.6775 14.0275 3.9675C14.3175 4.2575 14.3175 4.7375 14.0275 5.0275Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 7.5275L9.5275 17.5275C9.3775 17.6775 9.1875 17.7475 8.9975 17.7475C8.8075 17.7475 8.6175 17.6775 8.4675 17.5275L4.4675 13.5275C4.1775 13.2375 4.1775 12.7575 4.4675 12.4675C4.7575 12.1775 5.2375 12.1775 5.5275 12.4675L8.9975 15.9375L18.4675 6.4675C18.7575 6.1775 19.2375 6.1775 19.5275 6.4675C19.8175 6.7575 19.8175 7.2375 19.5275 7.5275Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5275 10.5275L12.5275 14.5275C12.3775 14.6775 12.1875 14.7475 11.9975 14.7475C11.8075 14.7475 11.6175 14.6775 11.4675 14.5275L7.4675 10.5275C7.1775 10.2375 7.1775 9.7575 7.4675 9.4675C7.7575 9.1775 8.2375 9.1775 8.5275 9.4675L11.9975 12.9375L15.4675 9.4675C15.7575 9.1775 16.2375 9.1775 16.5275 9.4675C16.8175 9.7575 16.8175 10.2375 16.5275 10.5275Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.35 8.34627L7.35 12.3463C7.25 12.4463 7.12 12.4963 7 12.4963C6.88 12.4963 6.74 12.4463 6.65 12.3463C6.45 12.1463 6.45 11.8363 6.65 11.6363L10.3 7.98627L6.65 4.34627C6.45 4.15627 6.45 3.83627 6.65 3.64627C6.85 3.45627 7.16 3.44627 7.35 3.64627L11.35 7.64627C11.55 7.84627 11.55 8.15627 11.35 8.35627V8.34627Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 11.65C12.55 11.85 12.55 12.16 12.35 12.36C12.25 12.46 12.12 12.51 12 12.51C11.88 12.51 11.74 12.46 11.65 12.36L8 8.71L4.35 12.36C4.25 12.46 4.12 12.51 4 12.51C3.88 12.51 3.74 12.46 3.65 12.36C3.45 12.16 3.45 11.85 3.65 11.65L7.3 8L3.65 4.35C3.45 4.16 3.45 3.84 3.65 3.65C3.85 3.46 4.16 3.45 4.35 3.65L8 7.3L11.65 3.65C11.85 3.45 12.16 3.45 12.36 3.65C12.56 3.85 12.56 4.16 12.36 4.36L8.71 8.01L12.36 11.66L12.35 11.65Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.12 10.9325C20.64 10.4125 20.93 9.7225 20.93 8.9925C20.93 8.2625 20.64 7.5725 20.12 7.0525L16.95 3.8825C15.88 2.8125 14.13 2.8125 13.06 3.8825L3.88 13.0525C3.36 13.5725 3.07 14.2625 3.07 14.9925C3.07 15.7225 3.36 16.4125 3.88 16.9325L5.64 18.6925C6.57 19.6225 7.78 20.0825 9 20.0825C10.22 20.0825 11.43 19.6225 12.36 18.6925L20.12 10.9325ZM14.12 4.9325C14.36 4.6925 14.67 4.5625 15 4.5625C15.33 4.5625 15.65 4.6925 15.88 4.9325L19.05 8.1025C19.54 8.5925 19.54 9.3825 19.05 9.8725L12.99 15.9325L8.05 10.9925L14.12 4.9325ZM6.7 17.6325L4.94 15.8725C4.45 15.3825 4.45 14.5925 4.94 14.1025L7 12.0425L11.94 16.9825L11.3 17.6225C10.07 18.8525 7.93 18.8525 6.7 17.6225V17.6325ZM22.75 20.9925C22.75 21.4025 22.41 21.7425 22 21.7425H14C13.59 21.7425 13.25 21.4025 13.25 20.9925C13.25 20.5825 13.59 20.2425 14 20.2425H22C22.41 20.2425 22.75 20.5825 22.75 20.9925ZM4.75 20.9925C4.75 21.4025 4.41 21.7425 4 21.7425H2C1.59 21.7425 1.25 21.4025 1.25 20.9925C1.25 20.5825 1.59 20.2425 2 20.2425H4C4.41 20.2425 4.75 20.5825 4.75 20.9925Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.5275 12.4675C13.8175 12.7575 13.8175 13.2375 13.5275 13.5275C13.3775 13.6775 13.1875 13.7475 12.9975 13.7475C12.8075 13.7475 12.6175 13.6775 12.4675 13.5275L7.9975 9.0575L3.5275 13.5275C3.3775 13.6775 3.1875 13.7475 2.9975 13.7475C2.8075 13.7475 2.6175 13.6775 2.4675 13.5275C2.1775 13.2375 2.1775 12.7575 2.4675 12.4675L6.9375 7.9975L2.4675 3.5275C2.1775 3.2375 2.1775 2.7575 2.4675 2.4675C2.7575 2.1775 3.2375 2.1775 3.5275 2.4675L7.9975 6.9375L12.4675 2.4675C12.7575 2.1775 13.2375 2.1775 13.5275 2.4675C13.8175 2.7575 13.8175 3.2375 13.5275 3.5275L9.0575 7.9975L13.5275 12.4675Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 18.4675C19.8175 18.7575 19.8175 19.2375 19.5275 19.5275C19.3775 19.6775 19.1875 19.7475 18.9975 19.7475C18.8075 19.7475 18.6175 19.6775 18.4675 19.5275L11.9975 13.0575L5.5275 19.5275C5.3775 19.6775 5.1875 19.7475 4.9975 19.7475C4.8075 19.7475 4.6175 19.6775 4.4675 19.5275C4.1775 19.2375 4.1775 18.7575 4.4675 18.4675L10.9375 11.9975L4.4675 5.5275C4.1775 5.2375 4.1775 4.7575 4.4675 4.4675C4.7575 4.1775 5.2375 4.1775 5.5275 4.4675L11.9975 10.9375L18.4675 4.4675C18.7575 4.1775 19.2375 4.1775 19.5275 4.4675C19.8175 4.7575 19.8175 5.2375 19.5275 5.5275L13.0575 11.9975L19.5275 18.4675Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"delete-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 3.25H10.75V3C10.75 2.04 9.96 1.25 9 1.25H7C6.04 1.25 5.25 2.04 5.25 3V3.25H3C2.59 3.25 2.25 3.59 2.25 4C2.25 4.41 2.59 4.75 3 4.75H3.25V13C3.25 13.96 4.04 14.75 5 14.75H11C11.96 14.75 12.75 13.96 12.75 13V4.75H13C13.41 4.75 13.75 4.41 13.75 4C13.75 3.59 13.41 3.25 13 3.25ZM6.75 3C6.75 2.86 6.86 2.75 7 2.75H9C9.14 2.75 9.25 2.86 9.25 3V3.25H6.75V3ZM11.25 13C11.25 13.14 11.14 13.25 11 13.25H5C4.86 13.25 4.75 13.14 4.75 13V4.75H11.25V13ZM9.25 6.25C9.66 6.25 10 6.59 10 7V11C10 11.41 9.66 11.75 9.25 11.75C8.84 11.75 8.5 11.41 8.5 11V7C8.5 6.59 8.84 6.25 9.25 6.25ZM7.5 7V11C7.5 11.41 7.16 11.75 6.75 11.75C6.34 11.75 6 11.41 6 11V7C6 6.59 6.34 6.25 6.75 6.25C7.16 6.25 7.5 6.59 7.5 7Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.75 9V17C12.75 17.41 12.41 17.75 12 17.75C11.59 17.75 11.25 17.41 11.25 17V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9ZM14.25 9V17C14.25 17.41 14.59 17.75 15 17.75C15.41 17.75 15.75 17.41 15.75 17V9C15.75 8.59 15.41 8.25 15 8.25C14.59 8.25 14.25 8.59 14.25 9ZM9 8.25C8.59 8.25 8.25 8.59 8.25 9V17C8.25 17.41 8.59 17.75 9 17.75C9.41 17.75 9.75 17.41 9.75 17V9C9.75 8.59 9.41 8.25 9 8.25ZM20.75 6C20.75 6.41 20.41 6.75 20 6.75H18.75V18C18.75 19.52 17.52 20.75 16 20.75H8C6.48 20.75 5.25 19.52 5.25 18V6.75H4C3.59 6.75 3.25 6.41 3.25 6C3.25 5.59 3.59 5.25 4 5.25H8.25V4C8.25 3.04 9.04 2.25 10 2.25H14C14.96 2.25 15.75 3.04 15.75 4V5.25H20C20.41 5.25 20.75 5.59 20.75 6ZM9.75 5.25H14.25V4C14.25 3.86 14.14 3.75 14 3.75H10C9.86 3.75 9.75 3.86 9.75 4V5.25ZM17.25 6.75H6.75V18C6.75 18.69 7.31 19.25 8 19.25H16C16.69 19.25 17.25 18.69 17.25 18V6.75Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 8.75C15.19 8.75 15.75 8.19 15.75 7.5C15.75 6.81 15.19 6.25 14.5 6.25C13.81 6.25 13.25 6.81 13.25 7.5C13.25 8.19 13.81 8.75 14.5 8.75ZM14.5 7.25C14.64 7.25 14.75 7.36 14.75 7.5C14.75 7.78 14.25 7.78 14.25 7.5C14.25 7.36 14.36 7.25 14.5 7.25ZM9.5 6.25C8.81 6.25 8.25 6.81 8.25 7.5C8.25 8.19 8.81 8.75 9.5 8.75C10.19 8.75 10.75 8.19 10.75 7.5C10.75 6.81 10.19 6.25 9.5 6.25ZM9.25 7.5C9.25 7.36 9.36 7.25 9.5 7.25C9.64 7.25 9.75 7.36 9.75 7.5C9.75 7.78 9.25 7.78 9.25 7.5ZM14.5 11.25C13.81 11.25 13.25 11.81 13.25 12.5C13.25 13.19 13.81 13.75 14.5 13.75C15.19 13.75 15.75 13.19 15.75 12.5C15.75 11.81 15.19 11.25 14.5 11.25ZM14.25 12.5C14.25 12.36 14.36 12.25 14.5 12.25C14.64 12.25 14.75 12.36 14.75 12.5C14.75 12.78 14.25 12.78 14.25 12.5ZM9.5 11.25C8.81 11.25 8.25 11.81 8.25 12.5C8.25 13.19 8.81 13.75 9.5 13.75C10.19 13.75 10.75 13.19 10.75 12.5C10.75 11.81 10.19 11.25 9.5 11.25ZM9.25 12.5C9.25 12.36 9.36 12.25 9.5 12.25C9.64 12.25 9.75 12.36 9.75 12.5C9.75 12.78 9.25 12.78 9.25 12.5ZM14.5 16.25C13.81 16.25 13.25 16.81 13.25 17.5C13.25 18.19 13.81 18.75 14.5 18.75C15.19 18.75 15.75 18.19 15.75 17.5C15.75 16.81 15.19 16.25 14.5 16.25ZM14.25 17.5C14.25 17.36 14.36 17.25 14.5 17.25C14.64 17.25 14.75 17.36 14.75 17.5C14.75 17.78 14.25 17.78 14.25 17.5ZM9.5 16.25C8.81 16.25 8.25 16.81 8.25 17.5C8.25 18.19 8.81 18.75 9.5 18.75C10.19 18.75 10.75 18.19 10.75 17.5C10.75 16.81 10.19 16.25 9.5 16.25ZM9.25 17.5C9.25 17.36 9.36 17.25 9.5 17.25C9.64 17.25 9.75 17.36 9.75 17.5C9.75 17.78 9.25 17.78 9.25 17.5Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 9.25C16.81 9.25 16.25 9.81 16.25 10.5C16.25 11.19 16.81 11.75 17.5 11.75C18.19 11.75 18.75 11.19 18.75 10.5C18.75 9.81 18.19 9.25 17.5 9.25ZM17.25 10.5C17.25 10.36 17.36 10.25 17.5 10.25C17.64 10.25 17.75 10.36 17.75 10.5C17.75 10.78 17.25 10.78 17.25 10.5ZM17.5 6.75C18.19 6.75 18.75 6.19 18.75 5.5C18.75 4.81 18.19 4.25 17.5 4.25C16.81 4.25 16.25 4.81 16.25 5.5C16.25 6.19 16.81 6.75 17.5 6.75ZM17.5 5.25C17.64 5.25 17.75 5.36 17.75 5.5C17.75 5.78 17.25 5.78 17.25 5.5C17.25 5.36 17.36 5.25 17.5 5.25ZM12.5 9.25C11.81 9.25 11.25 9.81 11.25 10.5C11.25 11.19 11.81 11.75 12.5 11.75C13.19 11.75 13.75 11.19 13.75 10.5C13.75 9.81 13.19 9.25 12.5 9.25ZM12.25 10.5C12.25 10.36 12.36 10.25 12.5 10.25C12.64 10.25 12.75 10.36 12.75 10.5C12.75 10.78 12.25 10.78 12.25 10.5ZM12.5 4.25C11.81 4.25 11.25 4.81 11.25 5.5C11.25 6.19 11.81 6.75 12.5 6.75C13.19 6.75 13.75 6.19 13.75 5.5C13.75 4.81 13.19 4.25 12.5 4.25ZM12.25 5.5C12.25 5.36 12.36 5.25 12.5 5.25C12.64 5.25 12.75 5.36 12.75 5.5C12.75 5.78 12.25 5.78 12.25 5.5ZM7.5 9.25C6.81 9.25 6.25 9.81 6.25 10.5C6.25 11.19 6.81 11.75 7.5 11.75C8.19 11.75 8.75 11.19 8.75 10.5C8.75 9.81 8.19 9.25 7.5 9.25ZM7.25 10.5C7.25 10.36 7.36 10.25 7.5 10.25C7.64 10.25 7.75 10.36 7.75 10.5C7.75 10.78 7.25 10.78 7.25 10.5ZM7.5 4.25C6.81 4.25 6.25 4.81 6.25 5.5C6.25 6.19 6.81 6.75 7.5 6.75C8.19 6.75 8.75 6.19 8.75 5.5C8.75 4.81 8.19 4.25 7.5 4.25ZM7.25 5.5C7.25 5.36 7.36 5.25 7.5 5.25C7.64 5.25 7.75 5.36 7.75 5.5C7.75 5.78 7.25 5.78 7.25 5.5Z"></path></svg>',"editsmall-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.1209 3.05249L12.9509 2.88249C11.8809 1.81249 10.1309 1.81249 9.06089 2.88249L3.47089 8.46249C3.37089 8.56249 3.31089 8.68249 3.27089 8.81249L2.27089 12.8125C2.21089 13.0625 2.28089 13.3425 2.47089 13.5225C2.61089 13.6625 2.80089 13.7425 3.00089 13.7425C3.06089 13.7425 3.12089 13.7425 3.18089 13.7225L7.18089 12.7225C7.31089 12.6925 7.43089 12.6225 7.53089 12.5225L13.1209 6.93249C14.1909 5.86249 14.1909 4.11249 13.1209 3.04249V3.05249ZM6.62089 11.3125L4.04089 11.9625L4.69089 9.38249L8.01089 6.06249L9.95089 8.00249L6.63089 11.3225L6.62089 11.3125ZM12.0609 5.87249L11.0009 6.93249L9.06089 4.99249L10.1209 3.93249C10.6109 3.44249 11.4009 3.44249 11.8909 3.93249L12.0609 4.10249C12.5509 4.59249 12.5509 5.38249 12.0609 5.87249Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 17.4775C14.82 17.7675 14.82 18.2475 14.53 18.5375L11.53 21.5375C11.38 21.6875 11.19 21.7575 11 21.7575C10.81 21.7575 10.62 21.6875 10.47 21.5375C10.18 21.2475 10.18 20.7675 10.47 20.4775L12.2 18.7475C12.13 18.7475 12.07 18.7475 12 18.7475C6.62 18.7475 2.25 15.7475 2.25 12.0575C2.25 10.2975 3.22 8.6375 4.99 7.3875C5.33 7.1475 5.8 7.2275 6.03 7.5675C6.27 7.9075 6.19 8.3775 5.85 8.6075C4.49 9.5675 3.74 10.7875 3.74 12.0575C3.74 14.9175 7.44 17.2475 11.99 17.2475C12.05 17.2475 12.11 17.2475 12.17 17.2475L10.46 15.5375C10.17 15.2475 10.17 14.7675 10.46 14.4775C10.75 14.1875 11.23 14.1875 11.52 14.4775L14.52 17.4775H14.53ZM12 5.2575C11.93 5.2575 11.87 5.2575 11.8 5.2575L13.53 3.5275C13.82 3.2375 13.82 2.7575 13.53 2.4675C13.24 2.1775 12.76 2.1775 12.47 2.4675L9.47 5.4675C9.18 5.7575 9.18 6.2375 9.47 6.5275L12.47 9.5275C12.62 9.6775 12.81 9.7475 13 9.7475C13.19 9.7475 13.38 9.6775 13.53 9.5275C13.82 9.2375 13.82 8.7575 13.53 8.4675L11.82 6.7575C11.88 6.7575 11.94 6.7575 12 6.7575C16.55 6.7575 20.25 9.0875 20.25 11.9475C20.25 13.2075 19.5 14.4375 18.14 15.3975C17.8 15.6375 17.72 16.1075 17.96 16.4475C18.11 16.6575 18.34 16.7675 18.57 16.7675C18.72 16.7675 18.87 16.7275 19 16.6275C20.77 15.3775 21.75 13.7175 21.75 11.9575C21.75 8.2675 17.38 5.2675 12 5.2675V5.2575Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.72 9.24C21.45 8.92 21.12 8.67 20.75 8.5V8C20.75 6.48 19.52 5.25 18 5.25H10.65C10.32 4.1 9.26 3.25 8 3.25H6C4.48 3.25 3.25 4.48 3.25 6V18C3.25 19.52 4.48 20.75 6 20.75H18.33C19.66 20.75 20.8 19.8 21.04 18.49L22.31 11.49C22.46 10.69 22.24 9.86 21.72 9.24ZM4.75 18V6C4.75 5.31 5.31 4.75 6 4.75H8C8.69 4.75 9.25 5.31 9.25 6C9.25 6.41 9.59 6.75 10 6.75H18C18.69 6.75 19.25 7.31 19.25 8V8.25H9.27C7.94 8.25 6.8 9.2 6.56 10.51L5.29 17.51C5.19 18.07 5.27 18.64 5.51 19.15C5.06 18.96 4.75 18.52 4.75 18ZM20.83 11.22L19.56 18.22C19.45 18.81 18.94 19.25 18.33 19.25H8C7.63 19.25 7.28 19.09 7.04 18.8C6.8 18.51 6.7 18.14 6.77 17.78L8.04 10.78C8.15 10.19 8.66 9.75 9.27 9.75H19.6C19.97 9.75 20.32 9.91 20.56 10.2C20.8 10.49 20.9 10.86 20.83 11.22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.25H4C3.04 3.25 2.25 4.04 2.25 5V11C2.25 11.96 3.04 12.75 4 12.75H12C12.96 12.75 13.75 11.96 13.75 11V5C13.75 4.04 12.96 3.25 12 3.25ZM12.25 11C12.25 11.14 12.14 11.25 12 11.25H4C3.86 11.25 3.75 11.14 3.75 11V5C3.75 4.86 3.86 4.75 4 4.75H12C12.14 4.75 12.25 4.86 12.25 5V11Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M33 10.25H15C12.38 10.25 10.25 12.38 10.25 15V33C10.25 35.62 12.38 37.75 15 37.75H33C35.62 37.75 37.75 35.62 37.75 33V15C37.75 12.38 35.62 10.25 33 10.25ZM36.25 33C36.25 34.79 34.79 36.25 33 36.25H15C13.21 36.25 11.75 34.79 11.75 33V15C11.75 13.21 13.21 11.75 15 11.75H33C34.79 11.75 36.25 13.21 36.25 15V33ZM30.5 14.25C28.71 14.25 27.25 15.71 27.25 17.5C27.25 19.29 28.71 20.75 30.5 20.75C32.29 20.75 33.75 19.29 33.75 17.5C33.75 15.71 32.29 14.25 30.5 14.25ZM30.5 19.25C29.54 19.25 28.75 18.46 28.75 17.5C28.75 16.54 29.54 15.75 30.5 15.75C31.46 15.75 32.25 16.54 32.25 17.5C32.25 18.46 31.46 19.25 30.5 19.25ZM29.26 26.28C28.94 25.92 28.49 25.71 28.01 25.7C27.54 25.68 27.07 25.87 26.73 26.2L24.95 27.94L22.28 25.23C21.94 24.89 21.5 24.71 21 24.71C20.52 24.71 20.06 24.93 19.74 25.28L14.74 30.78C14.25 31.3 14.12 32.06 14.41 32.72C14.69 33.36 15.28 33.75 15.95 33.75H32.07C32.74 33.75 33.33 33.35 33.61 32.72C33.89 32.06 33.77 31.31 33.29 30.79L29.27 26.29L29.26 26.28ZM32.22 32.12C32.18 32.2 32.13 32.25 32.06 32.25H15.94C15.87 32.25 15.81 32.21 15.78 32.12C15.77 32.09 15.71 31.93 15.83 31.8L20.84 26.29C20.9 26.22 20.99 26.21 21.02 26.21C21.06 26.21 21.14 26.22 21.2 26.29L24.4 29.54C24.69 29.83 25.16 29.84 25.46 29.54L27.77 27.27C27.83 27.21 27.9 27.2 27.94 27.2C28.01 27.2 28.06 27.21 28.13 27.28L32.16 31.79C32.16 31.79 32.16 31.79 32.17 31.8C32.29 31.93 32.23 32.09 32.22 32.12Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 3V7C13.75 7.41 13.41 7.75 13 7.75C12.59 7.75 12.25 7.41 12.25 7V4.81L9.53 7.53C9.38 7.68 9.19 7.75 9 7.75C8.81 7.75 8.62 7.68 8.47 7.53C8.18 7.24 8.18 6.76 8.47 6.47L11.19 3.75H9C8.59 3.75 8.25 3.41 8.25 3C8.25 2.59 8.59 2.25 9 2.25H13C13.1 2.25 13.19 2.27 13.29 2.31C13.47 2.39 13.62 2.53 13.7 2.72C13.74 2.81 13.76 2.91 13.76 3.01L13.75 3ZM7.53 8.47C7.24 8.18 6.76 8.18 6.47 8.47L3.75 11.19V9C3.75 8.59 3.41 8.25 3 8.25C2.59 8.25 2.25 8.59 2.25 9V13C2.25 13.1 2.27 13.19 2.31 13.29C2.39 13.47 2.53 13.62 2.72 13.7C2.81 13.74 2.91 13.76 3.01 13.76H7.01C7.42 13.76 7.76 13.42 7.76 13.01C7.76 12.6 7.42 12.26 7.01 12.26H4.82L7.54 9.54C7.83 9.25 7.83 8.77 7.54 8.48L7.53 8.47Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 8C13.75 8.41 13.41 8.75 13 8.75H3C2.59 8.75 2.25 8.41 2.25 8C2.25 7.59 2.59 7.25 3 7.25H13C13.41 7.25 13.75 7.59 13.75 8Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.25C11.04 10.25 10.25 11.04 10.25 12C10.25 12.96 11.04 13.75 12 13.75C12.96 13.75 13.75 12.96 13.75 12C13.75 11.04 12.96 10.25 12 10.25ZM11.75 12C11.75 11.86 11.86 11.75 12 11.75C12.14 11.75 12.25 11.86 12.25 12C12.25 12.28 11.75 12.28 11.75 12ZM19 10.25C18.04 10.25 17.25 11.04 17.25 12C17.25 12.96 18.04 13.75 19 13.75C19.96 13.75 20.75 12.96 20.75 12C20.75 11.04 19.96 10.25 19 10.25ZM18.75 12C18.75 11.86 18.86 11.75 19 11.75C19.14 11.75 19.25 11.86 19.25 12C19.25 12.28 18.75 12.28 18.75 12ZM5 10.25C4.04 10.25 3.25 11.04 3.25 12C3.25 12.96 4.04 13.75 5 13.75C5.96 13.75 6.75 12.96 6.75 12C6.75 11.04 5.96 10.25 5 10.25ZM4.75 12C4.75 11.86 4.86 11.75 5 11.75C5.14 11.75 5.25 11.86 5.25 12C5.25 12.28 4.75 12.28 4.75 12Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.25 7C3.25 6.59 3.59 6.25 4 6.25H15C15.41 6.25 15.75 6.59 15.75 7C15.75 7.41 15.41 7.75 15 7.75H4C3.59 7.75 3.25 7.41 3.25 7ZM20 11.25H4C3.59 11.25 3.25 11.59 3.25 12C3.25 12.41 3.59 12.75 4 12.75H20C20.41 12.75 20.75 12.41 20.75 12C20.75 11.59 20.41 11.25 20 11.25ZM9 16.25H4C3.59 16.25 3.25 16.59 3.25 17C3.25 17.41 3.59 17.75 4 17.75H9C9.41 17.75 9.75 17.41 9.75 17C9.75 16.59 9.41 16.25 9 16.25Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M30.4975 14.2475C28.7075 14.2475 27.2475 15.7075 27.2475 17.4975C27.2475 19.2875 28.7075 20.7475 30.4975 20.7475C32.2875 20.7475 33.7475 19.2875 33.7475 17.4975C33.7475 15.7075 32.2875 14.2475 30.4975 14.2475ZM30.4975 19.2475C29.5375 19.2475 28.7475 18.4575 28.7475 17.4975C28.7475 16.5375 29.5375 15.7475 30.4975 15.7475C31.4575 15.7475 32.2475 16.5375 32.2475 17.4975C32.2475 18.4575 31.4575 19.2475 30.4975 19.2475ZM13.5175 11.2175C13.4375 10.8075 13.7075 10.4175 14.1175 10.3375C14.4275 10.2775 14.7175 10.2475 14.9975 10.2475H32.9975C35.6175 10.2475 37.7475 12.3775 37.7475 14.9975V32.9975C37.7475 33.2775 37.7175 33.5675 37.6575 33.8775C37.5875 34.2375 37.2775 34.4875 36.9175 34.4875C36.8675 34.4875 36.8275 34.4875 36.7775 34.4775C36.3675 34.3975 36.1075 34.0075 36.1775 33.5975C36.2175 33.3775 36.2375 33.1775 36.2375 32.9975V14.9975C36.2375 13.2075 34.7775 11.7475 32.9875 11.7475H14.9975C14.8075 11.7475 14.6175 11.7675 14.3975 11.8075C13.9875 11.8875 13.5975 11.6175 13.5175 11.2075V11.2175ZM34.4775 36.7775C34.5575 37.1875 34.2875 37.5775 33.8775 37.6575C33.5675 37.7175 33.2775 37.7475 32.9975 37.7475H14.9975C12.3775 37.7475 10.2475 35.6175 10.2475 32.9975V14.9975C10.2475 14.7175 10.2775 14.4275 10.3375 14.1175C10.4175 13.7075 10.8075 13.4375 11.2175 13.5175C11.6275 13.5975 11.8875 13.9875 11.8175 14.3975C11.7775 14.6175 11.7575 14.8175 11.7575 14.9975V32.9975C11.7575 34.7875 13.2175 36.2475 15.0075 36.2475H33.0075C33.1975 36.2475 33.3875 36.2275 33.6075 36.1875C34.0075 36.1075 34.4075 36.3775 34.4875 36.7875L34.4775 36.7775ZM15.8275 31.7975C15.6975 31.9375 15.7575 32.0875 15.7775 32.1175C15.8175 32.1975 15.8675 32.2475 15.9375 32.2475H29.8175C30.2275 32.2475 30.5675 32.5875 30.5675 32.9975C30.5675 33.4075 30.2275 33.7475 29.8175 33.7475H15.9375C15.2675 33.7475 14.6775 33.3475 14.3975 32.7175C14.1075 32.0575 14.2375 31.2975 14.7275 30.7775L19.7275 25.2775C20.0475 24.9275 20.5075 24.7175 20.9875 24.7075C21.4875 24.7275 21.9375 24.8875 22.2675 25.2275L25.4675 28.4775C25.7575 28.7675 25.7575 29.2475 25.4675 29.5375C25.1675 29.8275 24.6975 29.8275 24.4075 29.5375L21.2075 26.2875C21.1475 26.2175 21.0675 26.1875 21.0275 26.2075C20.9875 26.2075 20.9075 26.2175 20.8475 26.2875L15.8375 31.7975H15.8275ZM38.5275 38.5275C38.3775 38.6775 38.1875 38.7475 37.9975 38.7475C37.8075 38.7475 37.6175 38.6775 37.4675 38.5275L9.4675 10.5275C9.1775 10.2375 9.1775 9.7575 9.4675 9.4675C9.7575 9.1775 10.2375 9.1775 10.5275 9.4675L38.5275 37.4675C38.8175 37.7575 38.8175 38.2375 38.5275 38.5275Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.9444 10.75H15.0544C15.7144 10.75 16.3144 10.39 16.6144 9.80002C16.9144 9.22002 16.8644 8.52002 16.4844 7.98002L13.4244 3.71002C12.7644 2.79002 11.2344 2.79002 10.5744 3.71002L7.5244 7.99002C7.1444 8.53002 7.0944 9.22002 7.3944 9.81002C7.6944 10.4 8.2944 10.76 8.9544 10.76L8.9444 10.75ZM8.7444 8.86002L11.7944 4.58002C11.8644 4.49002 11.9544 4.48002 11.9944 4.48002C12.0344 4.48002 12.1344 4.49002 12.1944 4.58002L15.2544 8.86002C15.3344 8.97002 15.3044 9.07002 15.2744 9.12002C15.2444 9.17002 15.1844 9.26002 15.0544 9.26002H8.9444C8.8144 9.26002 8.7444 9.18002 8.7244 9.12002C8.7044 9.06002 8.6644 8.97002 8.7444 8.86002ZM15.0544 13.25H8.9444C8.2844 13.25 7.6844 13.61 7.3844 14.2C7.0844 14.78 7.1344 15.48 7.5144 16.02L10.5744 20.3C10.9044 20.76 11.4344 21.03 11.9944 21.03C12.5544 21.03 13.0944 20.76 13.4144 20.3L16.4744 16.02C16.8544 15.48 16.9044 14.79 16.6044 14.2C16.3044 13.61 15.7044 13.25 15.0444 13.25H15.0544ZM15.2644 15.15L12.2044 19.43C12.0744 19.61 11.9244 19.61 11.7944 19.43L8.7344 15.15C8.6544 15.04 8.6844 14.94 8.7144 14.89C8.7444 14.84 8.8044 14.75 8.9344 14.75H15.0444C15.1744 14.75 15.2444 14.83 15.2644 14.89C15.2844 14.95 15.3244 15.04 15.2444 15.15H15.2644Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.69 8.71C7.73 8.8 7.75 8.9 7.75 9V13C7.75 13.41 7.41 13.75 7 13.75C6.59 13.75 6.25 13.41 6.25 13V10.81L3.53 13.53C3.38 13.68 3.19 13.75 3 13.75C2.81 13.75 2.62 13.68 2.47 13.53C2.18 13.24 2.18 12.76 2.47 12.47L5.19 9.75H3C2.59 9.75 2.25 9.41 2.25 9C2.25 8.59 2.59 8.25 3 8.25H7C7.1 8.25 7.19 8.27 7.29 8.31C7.47 8.39 7.62 8.53 7.7 8.72L7.69 8.71ZM13 6.25H10.81L13.53 3.53C13.82 3.24 13.82 2.76 13.53 2.47C13.24 2.18 12.76 2.18 12.47 2.47L9.75 5.19V3C9.75 2.59 9.41 2.25 9 2.25C8.59 2.25 8.25 2.59 8.25 3V7C8.25 7.1 8.27 7.19 8.31 7.29C8.39 7.47 8.53 7.62 8.72 7.7C8.81 7.74 8.91 7.76 9.01 7.76H13.01C13.42 7.76 13.76 7.42 13.76 7.01C13.76 6.6 13.42 6.26 13.01 6.26L13 6.25Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.9975 2.25C9.7275 2.25 6.2475 5.73 6.2475 10C6.2475 11.87 6.9075 13.58 8.0175 14.92L2.4675 20.47C2.1775 20.76 2.1775 21.24 2.4675 21.53C2.6175 21.68 2.8075 21.75 2.9975 21.75C3.1875 21.75 3.3775 21.68 3.5275 21.53L9.0775 15.98C10.4175 17.08 12.1275 17.75 13.9975 17.75C18.2675 17.75 21.7475 14.27 21.7475 10C21.7475 5.73 18.2675 2.25 13.9975 2.25ZM13.9975 16.25C10.5475 16.25 7.7475 13.45 7.7475 10C7.7475 6.55 10.5475 3.75 13.9975 3.75C17.4475 3.75 20.2475 6.55 20.2475 10C20.2475 13.45 17.4475 16.25 13.9975 16.25Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};class ey extends d.Component{constructor(e){super(e),this.rootRef=d.createRef(),this.model=new YB,this.model.onInnerHeightChanged=t=>{this.props.onInnerHeightChanged&&this.props.onInnerHeightChanged(t)}}componentDidMount(){const e=this.rootRef.current;e&&this.model.setRootElement(e)}componentWillUnmount(){this.model.unsubscribeRootElement(),this.model.setRootElement(void 0)}render(){return this.props.disabled?d.createElement(d.Fragment,null,this.props.children):d.createElement("div",{ref:this.rootRef,className:"sv-scroll__wrapper"},d.createElement("div",{className:"sv-scroll__scroller sv-drag-target-skipped",onScroll:()=>this.model.onScrollContainer()},d.createElement("div",{className:"sv-scroll__container"},this.props.children)),d.createElement("div",{className:"sv-scroll__scrollbar",onScroll:()=>this.model.onScrollScrollbar()},d.createElement("div",{className:"sv-scroll__scrollbar-sizer"})))}}Ce.Instance.registerElement("svc-scroll",r=>d.createElement(ey,r));Wx("v1",xq);Wx("v2",n3);Lh.registerIcons(n3);class Jx extends Ye{constructor(e){super(e),this.previousJSON={},this.isSurveyUpdated=!1,this.createSurvey(e),this.updateSurvey(e,{}),this.rootRef=d.createRef(),this.rootNodeId=e.id||null,this.rootNodeClassName=e.className||""}getStateElement(){return this.survey}onSurveyUpdated(){if(this.survey){const e=this.rootRef.current;e&&this.survey.afterRenderSurvey(e),this.survey.startTimerFromUI(),this.setSurveyEvents()}}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(this.isModelJSONChanged(e)&&(this.destroySurvey(),this.createSurvey(e),this.updateSurvey(e,{}),this.isSurveyUpdated=!0),!0):!1}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateSurvey(this.props,e),this.isSurveyUpdated&&(this.onSurveyUpdated(),this.isSurveyUpdated=!1)}componentDidMount(){super.componentDidMount(),this.onSurveyUpdated()}destroySurvey(){this.survey&&(this.survey.renderCallback=void 0,this.survey.onPartialSend.clear(),this.survey.stopTimer(),this.survey.destroyResizeObserver())}componentWillUnmount(){super.componentWillUnmount(),this.destroySurvey()}doRender(){let e;this.survey.state=="completed"?e=this.renderCompleted():this.survey.state=="completedbefore"?e=this.renderCompletedBefore():this.survey.state=="loading"?e=this.renderLoading():this.survey.state=="empty"?e=this.renderEmptySurvey():e=this.renderSurvey();const t=this.survey.backgroundImage?d.createElement("div",{className:this.css.rootBackgroundImage,style:this.survey.backgroundImageStyle}):null,s=this.survey.headerView==="basic"?d.createElement(r3,{survey:this.survey}):null,i=function(u){u.preventDefault()};let n=d.createElement("div",{className:"sv_custom_header"});this.survey.hasLogo&&(n=null);const o=this.survey.getRootCss(),l=this.rootNodeClassName?this.rootNodeClassName+" "+o:o;return d.createElement("div",{id:this.rootNodeId,ref:this.rootRef,className:l,style:this.survey.themeVariables,lang:this.survey.locale||"en",dir:this.survey.localeDir},d.createElement(ey,{disabled:this.survey.rootScrollDisabled},this.survey.needRenderIcons?d.createElement(yq,null):null,d.createElement(Md,null),d.createElement("div",{className:this.survey.wrapperFormCss},t,d.createElement("form",{onSubmit:i},d.createElement(ey,{disabled:this.survey.formScrollDisabled},n,d.createElement("div",{className:this.css.container},s,d.createElement(Ki,{survey:this.survey,container:"header",needRenderWrapper:!1}),e,d.createElement(Ki,{survey:this.survey,container:"footer",needRenderWrapper:!1})))),d.createElement(i3,{notifier:this.survey.notifier}))))}renderElement(){return this.doRender()}get css(){return this.survey.css}set css(e){this.survey.css=e}renderCompleted(){if(!this.survey.showCompletedPage)return null;var e={__html:this.survey.processedCompletedHtml};return d.createElement(d.Fragment,null,d.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.completedCss}),d.createElement(Ki,{survey:this.survey,container:"completePage",needRenderWrapper:!1}))}renderCompletedBefore(){var e={__html:this.survey.processedCompletedBeforeHtml};return d.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.completedBeforeCss})}renderLoading(){var e={__html:this.survey.processedLoadingHtml};return d.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.loadingBodyCss})}renderSurvey(){var e=this.survey.activePage?this.renderPage(this.survey.activePage):null;this.survey.isShowStartingPage;var t=this.survey.activePage?this.survey.activePage.id:"";let s=this.survey.bodyCss;const i={};return this.survey.renderedWidth&&(i.maxWidth=this.survey.renderedWidth),d.createElement("div",{className:this.survey.bodyContainerCss},d.createElement(Ki,{survey:this.survey,container:"left"}),d.createElement("div",{className:"sv-components-column sv-components-column--expandable"},d.createElement(Ki,{survey:this.survey,container:"center"}),d.createElement("div",{id:t,className:s,style:i},d.createElement(Ki,{survey:this.survey,container:"contentTop"}),e,d.createElement(Ki,{survey:this.survey,container:"contentBottom"}),this.survey.showBrandInfo?d.createElement(vq,null):null)),d.createElement(Ki,{survey:this.survey,container:"right"}))}renderPage(e){return d.createElement(fq,{survey:this.survey,page:e,css:this.css,creator:this})}renderEmptySurvey(){return d.createElement("div",{className:this.css.bodyEmpty},this.survey.emptySurveyText)}createSurvey(e){e||(e={}),this.previousJSON={},e?e.model?this.survey=e.model:e.json&&(this.previousJSON=e.json,this.survey=new tt(e.json)):this.survey=new tt,e.css&&(this.survey.css=this.css)}isModelJSONChanged(e){return e.model?this.survey!==e.model:e.json?!Y.isTwoValueEquals(e.json,this.previousJSON):!1}updateSurvey(e,t){if(e){t=t||{};for(var s in e)if(!(s=="model"||s=="children"||s=="json")){if(s=="css"){this.survey.mergeValues(e.css,this.survey.getCss()),this.survey.updateNavigationCss(),this.survey.updateElementCss();continue}e[s]!==t[s]&&(s.indexOf("on")==0&&this.survey[s]&&this.survey[s].add?(t[s]&&this.survey[s].remove(t[s]),this.survey[s].add(e[s])):this.survey[s]=e[s])}}}setSurveyEvents(){var e=this;this.survey.renderCallback=function(){var t=e.state&&e.state.modelChanged?e.state.modelChanged:0;e.setState({modelChanged:t+1})},this.survey.onPartialSend.add(t=>{e.state&&e.setState(e.state)})}createQuestionElement(e){return ft.Instance.createQuestion(e.isDefaultRendering()?e.getTemplate():e.getComponentName(),{question:e,isDisplayMode:e.isInputReadOnly,creator:this})}renderError(e,t,s,i){return Ce.Instance.createElement(this.survey.questionErrorComponent,{key:e,error:t,cssClasses:s,element:i})}questionTitleLocation(){return this.survey.questionTitleLocation}questionErrorLocation(){return this.survey.questionErrorLocation}}Ce.Instance.registerElement("survey",r=>d.createElement(Jx,r));function Kx(r,e,t={processEsc:!0,disableTabStop:!1}){return e&&e.disableTabStop||t&&t.disableTabStop?d.cloneElement(r,{tabIndex:-1}):(t=Object.assign({},t),d.cloneElement(r,{tabIndex:0,onKeyUp:s=>(s.preventDefault(),s.stopPropagation(),kx(s,t),!1),onKeyDown:s=>vF(s,t),onBlur:s=>pI(s)}))}class Yx extends d.Component{constructor(e){super(e),this.updateStateFunction=null,this.state={update:0}}get survey(){return this.props.survey}get css(){return this.props.css||this.survey.css}componentDidMount(){if(this.survey){var e=this;this.updateStateFunction=function(){e.setState({update:e.state.update+1})},this.survey.onPageVisibleChanged.add(this.updateStateFunction)}}componentWillUnmount(){this.survey&&this.updateStateFunction&&(this.survey.onPageVisibleChanged.remove(this.updateStateFunction),this.updateStateFunction=null)}}class bq extends Ft{constructor(e){super(e),this.circleLength=440}getStateElement(){return this.timerModel}get timerModel(){return this.props.model}get progress(){return-this.timerModel.progress*this.circleLength}render(){if(!this.timerModel.isRunning)return null;let e=d.createElement("div",{className:this.timerModel.survey.getCss().timerRoot},this.timerModel.text);if(this.timerModel.showTimerAsClock){let t={strokeDasharray:this.circleLength,strokeDashoffset:this.progress};const s=this.timerModel.showProgress?d.createElement(Nt,{className:this.timerModel.getProgressCss(),style:t,iconName:"icon-timercircle",size:"auto"}):null;e=d.createElement("div",{className:this.timerModel.rootCss},s,d.createElement("div",{className:this.timerModel.textContainerCss},d.createElement("span",{className:this.timerModel.majorTextCss},this.timerModel.clockMajorText),this.timerModel.clockMinorText?d.createElement("span",{className:this.timerModel.minorTextCss},this.timerModel.clockMinorText):null))}return e}}Ce.Instance.registerElement("sv-timerpanel",r=>d.createElement(bq,r));class uc extends $I{constructor(e){super(e),this.hasBeenExpanded=!1}get panel(){return this.panelBase}renderElement(){const e=this.renderHeader(),t=d.createElement(Mm,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator}),s={paddingLeft:this.panel.innerPaddingLeft,display:this.panel.renderedIsExpanded?void 0:"none"};let i=null;if(this.panel.renderedIsExpanded){const o=this.renderRows(this.panelBase.cssClasses),l=this.panelBase.cssClasses.panel.content;i=this.renderContent(s,o,l)}const n=()=>{this.panelBase&&this.panelBase.focusIn()};return d.createElement("div",{ref:this.rootRef,className:this.panelBase.getContainerCss(),onFocus:n,id:this.panelBase.id},this.panel.showErrorsAbovePanel?t:null,e,this.panel.showErrorsAbovePanel?null:t,i)}renderHeader(){return!this.panel.hasTitle&&!this.panel.hasDescription?null:d.createElement(YI,{element:this.panel})}wrapElement(e){const t=this.panel.survey;let s=null;return t&&(s=wi.wrapElement(t,e,this.panel)),s??e}renderContent(e,t,s){const i=this.renderBottom();return d.createElement("div",{style:e,className:s,id:this.panel.contentId,role:this.panel.ariaRole,"aria-labelledby":this.panel.ariaLabelledBy,"aria-label":this.panel.ariaLabel},t,i)}renderTitle(){return this.panelBase.title?d.createElement(Zl,{element:this.panelBase}):null}renderDescription(){if(!this.panelBase.description)return null;var e=Ye.renderLocString(this.panelBase.locDescription);return d.createElement("div",{className:this.panel.cssClasses.panel.description},e)}renderBottom(){const e=this.panel.getFooterToolbar();return e.hasActions?d.createElement($r,{model:e}):null}getIsVisible(){return this.panelBase.getIsContentVisible()}}Ce.Instance.registerElement("panel",r=>d.createElement(uc,r));class Cq extends uc{constructor(e){super(e)}get flowPanel(){return this.panel}componentDidMount(){super.componentDidMount(),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=function(){return""},this.flowPanel.onGetHtmlForQuestion=this.renderQuestion)}componentWillUnmount(){super.componentWillUnmount(),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=null,this.flowPanel.onGetHtmlForQuestion=null)}getQuestion(e){return this.flowPanel.getQuestionByName(e)}renderQuestion(e){return"<question>"+e.name+"</question>"}renderRows(){const e=this.renderHtml();return e?[e]:[]}getNodeIndex(){return this.renderedIndex++}renderHtml(){if(!this.flowPanel)return null;const e="<span>"+this.flowPanel.produceHtml()+"</span>";if(!DOMParser){const s={__html:e};return d.createElement("div",{dangerouslySetInnerHTML:s})}const t=new DOMParser().parseFromString(e,"text/xml");return this.renderedIndex=0,this.renderParentNode(t)}renderNodes(e){const t=[];for(let s=0;s<e.length;s++){const i=this.renderNode(e[s]);i&&t.push(i)}return t}getStyle(e){const t={};return e.toLowerCase()==="b"&&(t.fontWeight="bold"),e.toLowerCase()==="i"&&(t.fontStyle="italic"),e.toLowerCase()==="u"&&(t.textDecoration="underline"),t}renderParentNode(e){const t=e.nodeName.toLowerCase(),s=this.renderNodes(this.getChildDomNodes(e));return t==="div"?d.createElement("div",{key:this.getNodeIndex()},s):d.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},s)}renderNode(e){if(!this.hasTextChildNodesOnly(e))return this.renderParentNode(e);const t=e.nodeName.toLowerCase();if(t==="question"){const s=this.flowPanel.getQuestionByName(e.textContent);if(!s)return null;const i=d.createElement(co,{key:s.name,element:s,creator:this.creator,css:this.css});return d.createElement("span",{key:this.getNodeIndex()},i)}return t==="div"?d.createElement("div",{key:this.getNodeIndex()},e.textContent):d.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},e.textContent)}getChildDomNodes(e){const t=[];for(let s=0;s<e.childNodes.length;s++)t.push(e.childNodes[s]);return t}hasTextChildNodesOnly(e){const t=e.childNodes;for(let s=0;s<t.length;s++)if(t[s].nodeName.toLowerCase()!=="#text")return!1;return!0}renderContent(e,t){return d.createElement("f-panel",{style:e},t)}}Ce.Instance.registerElement("flowpanel",r=>d.createElement(Cq,r));class wq extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return d.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),ref:t=>this.setControl(t),role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage},d.createElement("legend",{className:"sv-hidden"},this.question.locTitle.renderedHtml),this.getHeader(),this.question.hasColumns?this.getColumnedBody(e):this.getBody(e),this.getFooter())}getHeader(){if(this.question.hasHeadItems)return this.question.headItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getFooter(){if(this.question.hasFootItems)return this.question.footItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getColumnedBody(e){return d.createElement("div",{className:e.rootMultiColumn},this.getColumns(e))}getColumns(e){return this.question.columns.map((t,s)=>{var i=t.map((n,o)=>this.renderItem(n,s===0&&o===0,e,""+s+o));return d.createElement("div",{key:"column"+s+this.question.getItemsColumnKey(t),className:this.question.getColumnClass(),role:"presentation"},i)})}getBody(e){return this.question.blockedRow?d.createElement("div",{className:e.rootRow},this.getItems(e,this.question.dataChoices)):d.createElement(d.Fragment,null,this.getItems(e,this.question.bodyItems))}getItems(e,t){for(var s=[],i=0;i<t.length;i++){var n=t[i],o=this.renderItem(n,i==0,e,""+i);o&&s.push(o)}return s}get textStyle(){return null}renderItem(e,t,s,i){const n=Ce.Instance.createElement(this.question.itemComponent,{key:e.value,question:this.question,cssClasses:s,isDisplayMode:this.isDisplayMode,item:e,textStyle:this.textStyle,index:i,isFirst:t}),o=this.question.survey;let l=null;return o&&n&&(l=wi.wrapItemValue(o,n,this.question,e)),l??n}}class o3 extends Ft{constructor(e){super(e),this.handleOnChange=t=>{this.question.clickItemHandler(this.item,t.target.checked)},this.rootRef=d.createRef()}getStateElement(){return this.item}get question(){return this.props.question}get item(){return this.props.item}get textStyle(){return this.props.textStyle}get isFirst(){return this.props.isFirst}get index(){return this.props.index}get hideCaption(){return this.props.hideCaption===!0}get ariaLabel(){return this.props.ariaLabel||null}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.item!==this.props.item&&!this.question.isDesignMode&&(this.props.item&&this.props.item.setRootElement(this.rootRef.current),e.item&&e.item.setRootElement(void 0))}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render:!1}canRender(){return!!this.item&&!!this.question}renderElement(){const e=this.question.isItemSelected(this.item);return d.createElement(d.Fragment,null,this.renderCheckbox(e,null),this.renderComment())}get inputStyle(){return null}renderComment(){return this.item.isCommentShowing?d.createElement("div",{className:this.question.getCommentAreaCss(!0)},d.createElement(Dm,{question:this.question,item:this.item,cssClasses:this.question.cssClasses})):null}renderCheckbox(e,t){const s=this.question.getItemId(this.item),i=this.question.getItemClass(this.item),n=this.question.getLabelClass(this.item),o=this.hideCaption?null:d.createElement("span",{className:this.cssClasses.controlLabel},this.renderLocString(this.item.locText,this.textStyle));return d.createElement("div",{className:i,role:"presentation",ref:this.rootRef},d.createElement("label",{className:n},d.createElement("input",{className:this.cssClasses.itemControl,type:"checkbox",name:this.question.name+this.item.id,value:this.item.value,id:s,style:this.inputStyle,disabled:!this.question.getItemEnabled(this.item),readOnly:this.question.isReadOnlyAttr,checked:e,onChange:this.handleOnChange,required:this.question.hasRequiredError(),"aria-label":this.ariaLabel}),this.cssClasses.materialDecorator?d.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?d.createElement("svg",{className:this.cssClasses.itemDecorator},d.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,o),t)}componentDidMount(){super.componentDidMount(),this.question.isDesignMode||this.item.setRootElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.question.isDesignMode||this.item.setRootElement(void 0)}}Ce.Instance.registerElement("survey-checkbox-item",r=>d.createElement(o3,r));ft.Instance.registerQuestion("checkbox",r=>d.createElement(wq,r));class Sq extends hs{get question(){return this.questionBase}renderElement(){return this.question.selectToRankEnabled?d.createElement("div",{className:this.question.rootClass,ref:t=>this.setControl(t)},d.createElement("div",{className:this.question.getContainerClasses("from"),"data-ranking":"from-container"},this.getItems(this.question.renderedUnRankingChoices,!0),this.question.renderedUnRankingChoices.length===0?d.createElement("div",{className:this.question.cssClasses.containerPlaceholder}," ",this.renderLocString(this.question.locSelectToRankEmptyRankedAreaText)," "):null),d.createElement("div",{className:this.question.cssClasses.containersDivider}),d.createElement("div",{className:this.question.getContainerClasses("to"),"data-ranking":"to-container"},this.getItems(),this.question.renderedRankingChoices.length===0?d.createElement("div",{className:this.question.cssClasses.containerPlaceholder}," ",this.renderLocString(this.question.locSelectToRankEmptyUnrankedAreaText)," "):null)):d.createElement("div",{className:this.question.rootClass,ref:e=>this.setControl(e)},this.getItems())}getItems(e=this.question.renderedRankingChoices,t){const s=[];for(let i=0;i<e.length;i++){const n=e[i];s.push(this.renderItem(n,i,o=>{this.question.handleKeydown.call(this.question,o,n)},o=>{o.persist(),this.question.handlePointerDown.call(this.question,o,n,o.currentTarget)},o=>{o.persist(),this.question.handlePointerUp.call(this.question,o,n,o.currentTarget)},this.question.cssClasses,this.question.getItemClass(n),this.question,t))}return s}renderItem(e,t,s,i,n,o,l,u,c){""+e.renderedId;const h=this.renderLocString(e.locText),p=t,m=this.question.getNumberByIndex(p),v=this.question.getItemTabIndex(e),f=d.createElement(Eq,{key:e.value,text:h,index:p,indexText:m,itemTabIndex:v,handleKeydown:s,handlePointerDown:i,handlePointerUp:n,cssClasses:o,itemClass:l,question:u,unrankedItem:c,item:e}),b=this.question.survey;let x=null;return b&&(x=wi.wrapItemValue(b,f,this.question,e)),x??f}}class Eq extends Ft{get text(){return this.props.text}get index(){return this.props.index}get indexText(){return this.props.indexText}get handleKeydown(){return this.props.handleKeydown}get handlePointerDown(){return this.props.handlePointerDown}get handlePointerUp(){return this.props.handlePointerUp}get cssClasses(){return this.props.cssClasses}get itemClass(){return this.props.itemClass}get itemTabIndex(){return this.props.itemTabIndex}get question(){return this.props.question}get unrankedItem(){return this.props.unrankedItem}get item(){return this.props.item}renderEmptyIcon(){return d.createElement("svg",null,d.createElement("use",{xlinkHref:this.question.dashSvgIcon}))}renderElement(){let e=Ce.Instance.createElement(this.question.itemComponent,{item:this.item,cssClasses:this.cssClasses});return d.createElement("div",{id:this.question.getItemId(this.item),tabIndex:this.itemTabIndex,className:this.itemClass,onKeyDown:this.handleKeydown,onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp,"data-sv-drop-target-ranking-item":this.index},d.createElement("div",{tabIndex:-1,style:{outline:"none"}},d.createElement("div",{className:this.cssClasses.itemGhostNode}),d.createElement("div",{className:this.cssClasses.itemContent},d.createElement("div",{className:this.cssClasses.itemIconContainer},d.createElement("svg",{className:this.question.getIconHoverCss()},d.createElement("use",{xlinkHref:this.question.dragDropSvgIcon})),d.createElement("svg",{className:this.question.getIconFocusCss()},d.createElement("use",{xlinkHref:this.question.arrowsSvgIcon}))),d.createElement("div",{className:this.question.getItemIndexClasses(this.item)},!this.unrankedItem&&this.indexText?this.indexText:this.renderEmptyIcon()),e)))}}class Vq extends Ft{get item(){return this.props.item}get cssClasses(){return this.props.cssClasses}renderElement(){return d.createElement("div",{className:this.cssClasses.controlLabel},Ye.renderLocString(this.item.locText))}}Ce.Instance.registerElement("sv-ranking-item",r=>d.createElement(Vq,r));ft.Instance.registerQuestion("ranking",r=>d.createElement(Sq,r));class Xx extends Ye{constructor(e){super(e),this.handleOnMouseDown=this.handleOnMouseDown.bind(this)}get question(){return this.props.question}get item(){return this.props.item}get index(){return this.props.index}getStateElement(){return this.item}handleOnMouseDown(e){this.question.onMouseDown()}}class Pq extends Xx{render(){var e=this.renderLocString(this.item.locText);return d.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClassByText(this.item.itemValue,this.item.text)},d.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-label":this.question.ariaLabel}),d.createElement("span",{className:this.question.cssClasses.itemText,"data-text":this.item.text},e))}componentDidMount(){super.componentDidMount()}}Ce.Instance.registerElement("sv-rating-item",r=>d.createElement(Pq,r));class Iq extends Xx{render(){return d.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClass(this.item.itemValue),onMouseOver:e=>this.question.onItemMouseIn(this.item),onMouseOut:e=>this.question.onItemMouseOut(this.item),title:this.item.text},d.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-label":this.question.ariaLabel}),d.createElement(Nt,{className:"sv-star",size:"auto",iconName:this.question.itemStarIcon}),d.createElement(Nt,{className:"sv-star-2",size:"auto",iconName:this.question.itemStarIconAlt}))}}Ce.Instance.registerElement("sv-rating-item-star",r=>d.createElement(Iq,r));class Tq extends Xx{render(){return d.createElement("label",{onMouseDown:this.handleOnMouseDown,style:this.question.getItemStyle(this.item.itemValue,this.item.highlight),className:this.question.getItemClass(this.item.itemValue),onMouseOver:e=>this.question.onItemMouseIn(this.item),onMouseOut:e=>this.question.onItemMouseOut(this.item),title:this.item.text},d.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-label":this.question.ariaLabel}),d.createElement(Nt,{size:"auto",iconName:this.question.getItemSmileyIconName(this.item.itemValue)}))}}Ce.Instance.registerElement("sv-rating-item-smiley",r=>d.createElement(Tq,r));class kq extends Ye{get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.props.item,t=this.renderDescription(e);return d.createElement("div",{className:"sd-rating-dropdown-item"},d.createElement("span",{className:"sd-rating-dropdown-item_text"},e.title),t)}renderDescription(e){return e.description?d.createElement("div",{className:"sd-rating-dropdown-item_description"},this.renderLocString(e.description,void 0,"locString")):null}}Ce.Instance.registerElement("sv-rating-dropdown-item",r=>d.createElement(kq,r));class a3 extends Ye{get model(){return this.props.model}get question(){return this.props.question}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateDomElement()}componentDidMount(){super.componentDidMount(),this.updateDomElement()}updateDomElement(){if(this.inputElement){const e=this.inputElement,t=this.model.inputStringRendered;Y.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.model.inputStringRendered)}}onChange(e){var t;const s=(t=e.target.getRootNode())===null||t===void 0?void 0:t.activeElement;e.target===s&&(this.model.inputStringRendered=e.target.value)}keyhandler(e){this.model.inputKeyHandler(e)}onBlur(e){this.question.onBlur(e)}onFocus(e){this.question.onFocus(e)}constructor(e){super(e)}getStateElement(){return this.model}render(){return d.createElement("div",{className:this.question.cssClasses.hint},this.model.showHintPrefix?d.createElement("div",{className:this.question.cssClasses.hintPrefix},d.createElement("span",null,this.model.hintStringPrefix)):null,d.createElement("div",{className:this.question.cssClasses.hintSuffixWrapper},this.model.showHintString?d.createElement("div",{className:this.question.cssClasses.hintSuffix},d.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},this.model.inputStringRendered),d.createElement("span",null,this.model.hintStringSuffix)):null,d.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),inputMode:this.model.inputMode,ref:e=>this.inputElement=e,className:this.question.cssClasses.filterStringInput,disabled:this.question.isInputReadOnly,readOnly:this.model.filterReadOnly?!0:void 0,size:this.model.inputStringRendered?void 0:1,role:this.model.ariaInputRole,"aria-required":this.model.ariaInputRequired,"aria-invalid":this.model.ariaInputInvalid,"aria-errormessage":this.model.ariaInputErrorMessage,"aria-expanded":this.model.ariaInputExpanded,"aria-label":this.model.ariaInputLabel,"aria-labelledby":this.model.ariaInputLabelledby,"aria-describedby":this.model.ariaInputDescribedby,"aria-controls":this.model.ariaInputControls,"aria-activedescendant":this.model.ariaInputActivedescendant,placeholder:this.model.filterStringPlaceholder,onKeyDown:e=>{this.keyhandler(e)},onChange:e=>{this.onChange(e)},onBlur:e=>{this.onBlur(e)},onFocus:e=>{this.onFocus(e)}})))}}ft.Instance.registerQuestion("sv-tagbox-filter",r=>d.createElement(a3,r));class Nq extends Ft{constructor(e){super(e),this.state={changed:0},this.setupModel()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.setupModel()}componentDidMount(){super.componentDidMount(),this.setupModel()}componentWillUnmount(){super.componentWillUnmount(),this.item&&(this.item.locText.onChanged=()=>{})}setupModel(){if(!this.item.locText)return;const e=this;this.item.locText.onChanged=()=>{e.setState({changed:e.state.changed+1})}}getStateElement(){return this.item}get item(){return this.props.item}canRender(){return!!this.item}renderElement(){return d.createElement("option",{value:this.item.value,disabled:!this.item.isEnabled},this.item.text)}}class jm extends ac{constructor(){super(...arguments),this.click=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.onClick(e)},this.chevronPointerDown=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.chevronPointerDown(e)},this.clear=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.onClear(e)},this.keyhandler=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.keyHandler(e)},this.blur=e=>{this.updateInputDomElement(),this.question.onBlur(e)},this.focus=e=>{this.question.onFocus(e)}}get dropdownListModel(){return this.question.dropdownListModel}getStateElement(){return this.question.dropdownListModel}setValueCore(e){this.questionBase.renderedValue=e}getValueCore(){return this.questionBase.renderedValue}renderReadOnlyElement(){return this.question.locReadOnlyText?d.createElement("div",{className:this.question.cssClasses.controlValue},this.renderLocString(this.question.locReadOnlyText)):null}renderSelect(e){let t=null;const s=this.dropdownListModel;return this.question.isReadOnly?t=d.createElement("div",{id:this.question.inputId,role:s==null?void 0:s.ariaQuestionRole,"aria-label":s==null?void 0:s.ariaQuestionLabel,"aria-labelledby":s==null?void 0:s.ariaQuestionLabelledby,"aria-describedby":s==null?void 0:s.ariaQuestionDescribedby,"aria-expanded":"false","aria-readonly":"true","aria-disabled":"true",tabIndex:this.question.isDisabledAttr?void 0:0,className:this.question.getControlClass(),ref:i=>this.setControl(i)},this.renderReadOnlyElement(),this.renderEditorButtons()):t=d.createElement(d.Fragment,null,this.renderInput(),this.question.isInputReadOnly?null:d.createElement(lc,{model:s.popupModel})),d.createElement("div",{className:e.selectWrapper,onClick:this.click},t)}renderValueElement(){return this.question.showInputFieldComponent?Ce.Instance.createElement(this.question.inputFieldComponentName,{item:this.dropdownListModel.getSelectedAction(),question:this.question}):this.question.showSelectedItemLocText?this.renderLocString(this.question.selectedItemLocText):null}renderInput(){const e=this.dropdownListModel;let t=this.renderValueElement();return d.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:e.noTabIndex?void 0:0,disabled:this.question.isDisabledAttr,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,onFocus:this.focus,role:e.ariaQuestionRole,"aria-required":e.ariaQuestionRequired,"aria-invalid":e.ariaQuestionInvalid,"aria-errormessage":e.ariaQuestionErrorMessage,"aria-expanded":e.ariaQuestionExpanded,"aria-label":e.ariaQuestionLabel,"aria-labelledby":e.ariaQuestionLabelledby,"aria-describedby":e.ariaQuestionDescribedby,"aria-controls":e.ariaQuestionControls,"aria-activedescendant":e.ariaQuestionActivedescendant,ref:s=>this.setControl(s)},e.showHintPrefix?d.createElement("div",{className:this.question.cssClasses.hintPrefix},d.createElement("span",null,e.hintStringPrefix)):null,d.createElement("div",{className:this.question.cssClasses.controlValue},e.showHintString?d.createElement("div",{className:this.question.cssClasses.hintSuffix},d.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},e.inputStringRendered),d.createElement("span",null,e.hintStringSuffix)):null,t,e.needRenderInput?this.renderFilterInput():null),this.renderEditorButtons())}renderFilterInput(){const{root:e}=re.environment,t=this.dropdownListModel,s=i=>{var n;const o=(n=i.target.getRootNode())===null||n===void 0?void 0:n.activeElement;i.target===o&&(t.inputStringRendered=i.target.value)};return d.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),ref:i=>this.inputElement=i,className:this.question.cssClasses.filterStringInput,role:t.ariaInputRole,"aria-required":t.ariaInputRequired,"aria-invalid":t.ariaInputInvalid,"aria-errormessage":t.ariaInputErrorMessage,"aria-expanded":t.ariaInputExpanded,"aria-label":t.ariaInputLabel,"aria-labelledby":t.ariaInputLabelledby,"aria-describedby":t.ariaInputDescribedby,"aria-controls":t.ariaInputControls,"aria-activedescendant":t.ariaInputActivedescendant,placeholder:t.placeholderRendered,readOnly:t.filterReadOnly?!0:void 0,tabIndex:t.noTabIndex?void 0:-1,disabled:this.question.isDisabledAttr,inputMode:t.inputMode,onChange:i=>{s(i)},onBlur:this.blur,onFocus:this.focus})}renderOther(e,t){return!e||!e.isCommentShowing?null:d.createElement("div",{key:e.normalizedId,className:this.question.getCommentAreaCss(!0)},d.createElement(Dm,{question:this.question,item:e,cssClasses:this.question.cssClasses}))}renderEditorButtons(){return d.createElement($r,{model:this.dropdownListModel.editorButtons})}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateInputDomElement()}componentDidMount(){super.componentDidMount(),this.updateInputDomElement()}componentWillUnmount(){super.componentWillUnmount(),this.question.dropdownListModel&&(this.question.dropdownListModel.focused=!1)}updateInputDomElement(){if(this.inputElement){const e=this.inputElement,t=this.question.dropdownListModel.inputStringRendered;Y.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.question.dropdownListModel.inputStringRendered)}}}class l3 extends jm{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.renderOther(this.question.selectedItem,e),s=this.renderSelect(e);return d.createElement("div",{className:this.question.renderCssRoot},s,t)}}ft.Instance.registerQuestion("dropdown",r=>d.createElement(l3,r));class Rq extends Ft{constructor(e){super(e)}get question(){return this.props.question}get item(){return this.props.item}canRender(){return!!this.item&&!!this.question}renderElement(){const e=this.renderLocString(this.item.locText),t=s=>{this.question.dropdownListModel.deselectItem(this.item.value),s.stopPropagation()};return d.createElement("div",{className:"sv-tagbox__item"},d.createElement("div",{className:"sv-tagbox__item-text"},e),d.createElement("div",{className:this.question.cssClasses.cleanItemButton,onClick:t},d.createElement(Nt,{className:this.question.cssClasses.cleanItemButtonSvg,iconName:this.question.cssClasses.cleanItemButtonIconId,size:"auto"})))}}class Lq extends jm{constructor(e){super(e)}renderItem(e,t){return d.createElement(Rq,{key:e,question:this.question,item:t})}renderInput(){const e=this.dropdownListModel,t=this.question.selectedChoices.map((s,i)=>this.renderItem("item"+i,s));return d.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:e.noTabIndex?void 0:0,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:e.ariaQuestionRole,"aria-required":e.ariaQuestionRequired,"aria-invalid":e.ariaQuestionInvalid,"aria-errormessage":e.ariaQuestionErrorMessage,"aria-label":e.ariaQuestionLabel,"aria-labelledby":e.ariaQuestionLabelledby,"aria-describedby":e.ariaQuestionDescribedby,"aria-expanded":e.ariaQuestionExpanded,"aria-controls":e.ariaQuestionControls,"aria-activedescendant":e.ariaQuestionActivedescendant,ref:s=>this.setControl(s)},d.createElement("div",{className:this.question.cssClasses.controlValue},t,e.needRenderInput?d.createElement(a3,{model:e,question:this.question}):null),this.renderEditorButtons())}renderElement(){const e=this.question.cssClasses,t=this.renderOther(this.question.otherItem,e),s=this.renderSelect(e);return d.createElement("div",{className:this.question.renderCssRoot},s,t)}}ft.Instance.registerQuestion("tagbox",r=>d.createElement(Lq,r));class Aq extends l3{constructor(e){super(e)}renderSelect(e){const t=n=>{this.question.onClick(n)},s=n=>{this.question.onKeyUp(n)},i=this.isDisplayMode?d.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},this.question.readOnlyText):d.createElement("select",{id:this.question.inputId,className:this.question.getControlClass(),ref:n=>this.setControl(n),autoComplete:this.question.autocomplete,onChange:this.updateValueOnEvent,onInput:this.updateValueOnEvent,onClick:t,onKeyUp:s,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage,required:this.question.isRequired},this.question.allowClear?d.createElement("option",{value:""},this.question.placeholder):null,this.question.visibleChoices.map((n,o)=>d.createElement(Nq,{key:"item"+o,item:n})));return d.createElement("div",{className:e.selectWrapper},i,this.createChevronButton())}createChevronButton(){return this.question.cssClasses.chevronButtonIconId?d.createElement("div",{className:this.question.cssClasses.chevronButton,"aria-hidden":"true",onPointerDown:this.chevronPointerDown},d.createElement(Nt,{className:this.question.cssClasses.chevronButtonSvg,iconName:this.question.cssClasses.chevronButtonIconId,size:"auto"})):null}}ft.Instance.registerQuestion("sv-dropdown-select",r=>d.createElement(Aq,r));mn.Instance.registerRenderer("dropdown","select","sv-dropdown-select");class Dq extends hs{constructor(e){super(e),this.state={rowsChanged:0}}get question(){return this.questionBase}componentDidMount(){if(super.componentDidMount(),this.question){var e=this;this.question.visibleRowsChangedCallback=function(){e.setState({rowsChanged:e.state.rowsChanged+1})}}}componentWillUnmount(){super.componentWillUnmount(),this.question&&(this.question.visibleRowsChangedCallback=null)}renderElement(){for(var e=this.question.cssClasses,t=this.question.hasRows?d.createElement("td",null):null,s=[],i=0;i<this.question.visibleColumns.length;i++){var n=this.question.visibleColumns[i],o="column"+i,l=this.renderLocString(n.locText);const m={};this.question.columnMinWidth&&(m.minWidth=this.question.columnMinWidth,m.width=this.question.columnMinWidth),s.push(d.createElement("th",{className:this.question.cssClasses.headerCell,style:m,key:o},this.wrapCell({column:n},l,"column-header")))}for(var u=[],c=this.question.visibleRows,i=0;i<c.length;i++){var h=c[i],o="row-"+h.name+"-"+i;u.push(d.createElement(Mq,{key:o,question:this.question,cssClasses:e,row:h,isFirst:i==0}))}var p=this.question.showHeader?d.createElement("thead",{role:"presentation"},d.createElement("tr",null,t,s)):null;return d.createElement("div",{className:e.tableWrapper,ref:m=>this.setControl(m)},d.createElement("fieldset",{role:"radiogroup"},d.createElement("legend",{className:"sv-visuallyhidden"},this.question.locTitle.renderedHtml),d.createElement("table",{className:this.question.getTableCss(),role:"presentation"},p,d.createElement("tbody",null,u))))}}class Mq extends Ft{constructor(e){super(e)}getStateElement(){return this.row?this.row.item:super.getStateElement()}get question(){return this.props.question}get row(){return this.props.row}wrapCell(e,t,s){if(!s)return t;const i=this.question.survey;let n=null;return i&&(n=wi.wrapMatrixCell(i,t,e,s)),n??t}canRender(){return!!this.row}renderElement(){var e=null;if(this.question.hasRows){var t=this.renderLocString(this.row.locText);const i={};this.question.rowTitleWidth&&(i.minWidth=this.question.rowTitleWidth,i.width=this.question.rowTitleWidth),e=d.createElement("td",{style:i,className:this.row.rowTextClasses},this.wrapCell({row:this.row},t,"row-header"))}var s=this.generateTds();return d.createElement("tr",{className:this.row.rowClasses||void 0},e,s)}generateTds(){const e=[],t=this.row,s=this.question.cellComponent;for(var i=0;i<this.question.visibleColumns.length;i++){let n=null;const o=this.question.visibleColumns[i],l="value"+i;let u=this.question.getItemClass(t,o);if(this.question.hasCellText){const c=h=>()=>this.cellClick(t,h);n=d.createElement("td",{key:l,className:u,onClick:c?c(o):()=>{}},this.renderLocString(this.question.getCellDisplayLocText(t.name,o)))}else{const c=Ce.Instance.createElement(s,{question:this.question,row:this.row,column:o,columnIndex:i,cssClasses:this.cssClasses,cellChanged:()=>{this.cellClick(this.row,o)}});n=d.createElement("td",{key:l,"data-responsive-title":o.locText.renderedHtml,className:this.question.cssClasses.cell},c)}e.push(n)}return e}cellClick(e,t){e.cellClick(t),this.setState({value:e.value})}}class jq extends Ft{constructor(e){super(e),this.handleOnMouseDown=this.handleOnMouseDown.bind(this),this.handleOnChange=this.handleOnChange.bind(this)}handleOnChange(e){this.props.cellChanged&&this.props.cellChanged(),this.setState({value:this.row.isChecked(this.column)})}handleOnMouseDown(e){this.question.onMouseDown()}get question(){return this.props.question}get row(){return this.props.row}get column(){return this.props.column}get columnIndex(){return this.props.columnIndex}canRender(){return!!this.question&&!!this.row}renderElement(){const e=this.row.isChecked(this.column),t=this.question.inputId+"_"+this.row.name+"_"+this.columnIndex,s=this.question.getItemClass(this.row,this.column),i=this.question.getItemSvgIcon(this.row,this.column),n=this.question.isMobile?d.createElement("span",{className:this.question.cssClasses.cellResponsiveTitle},this.renderLocString(this.column.locText)):void 0;return d.createElement("label",{onMouseDown:this.handleOnMouseDown,className:s},this.renderInput(t,e),d.createElement("span",{className:this.question.cssMaterialDecorator},i?d.createElement("svg",{className:this.question.cssItemDecorator},d.createElement("use",{xlinkHref:i})):null),n)}renderInput(e,t){return d.createElement("input",{id:e,type:this.question.checkType,className:this.question.cssItemValue,name:this.row.fullName,value:this.column.value,disabled:this.row.isDisabledAttr,readOnly:this.row.isReadOnlyAttr,checked:t,onChange:this.handleOnChange,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.getCellAriaLabel(this.row,this.column),"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage})}}Ce.Instance.registerElement("survey-matrix-cell",r=>d.createElement(jq,r));ft.Instance.registerQuestion("matrix",r=>d.createElement(Dq,r));class _q extends hs{constructor(e){super(e)}get question(){return this.questionBase}componentDidMount(){this.reactOnStrChanged()}componentWillUnmount(){this.question.locHtml.onChanged=function(){}}componentDidUpdate(e,t){this.reactOnStrChanged()}reactOnStrChanged(){this.question.locHtml.onChanged=()=>{this.setState({changed:this.state&&this.state.changed?this.state.changed+1:1})}}canRender(){return super.canRender()&&!!this.question.html}renderElement(){var e={__html:this.question.locHtml.renderedHtml};return d.createElement("div",{className:this.question.renderCssRoot,dangerouslySetInnerHTML:e})}}ft.Instance.registerQuestion("html",r=>d.createElement(_q,r));class u3 extends d.Component{render(){return d.createElement("div",{className:"sd-loading-indicator"},d.createElement(Nt,{iconName:"icon-loading",size:"auto"}))}}class Oq extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){const e=this.question.allowShowPreview?this.renderPreview():null,t=this.question.showLoadingIndicator?this.renderLoadingIndicator():null,s=this.question.isPlayingVideo?this.renderVideo():null,i=this.question.showFileDecorator?this.renderFileDecorator():null,n=this.question.fileNavigatorVisible?d.createElement($r,{model:this.question.fileNavigator}):null;let o;return this.question.isReadOnlyAttr?o=d.createElement("input",{readOnly:!0,type:"file",className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:l=>this.setControl(l),style:this.isDisplayMode?{color:"transparent"}:{},multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):this.question.isDisabledAttr?o=d.createElement("input",{disabled:!0,type:"file",className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:l=>this.setControl(l),style:this.isDisplayMode?{color:"transparent"}:{},multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):this.question.hasFileUI?o=d.createElement("input",{type:"file",disabled:this.isDisplayMode,tabIndex:-1,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:l=>this.setControl(l),style:this.isDisplayMode?{color:"transparent"}:{},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage,multiple:this.question.allowMultiple,title:this.question.inputTitle,accept:this.question.acceptedTypes,capture:this.question.renderCapture}):o=null,d.createElement("div",{className:this.question.fileRootCss,ref:l=>this.setContent(l)},o,d.createElement("div",{className:this.question.cssClasses.dragArea,onDrop:this.question.onDrop,onDragOver:this.question.onDragOver,onDragLeave:this.question.onDragLeave,onDragEnter:this.question.onDragEnter},i,t,s,e,n))}renderFileDecorator(){const e=this.question.actionsContainerVisible?d.createElement($r,{model:this.question.actionsContainer}):null;return d.createElement("div",{className:this.question.getFileDecoratorCss()},this.question.showDragAreaPlaceholder?d.createElement("span",{className:this.question.cssClasses.dragAreaPlaceholder},this.renderLocString(this.question.locRenderedPlaceholder)):!1,d.createElement("div",{className:this.question.cssClasses.wrapper},e))}renderPreview(){return Ce.Instance.createElement("sv-file-preview",{question:this.question})}renderLoadingIndicator(){return d.createElement("div",{className:this.question.cssClasses.loadingIndicator},d.createElement(u3,null))}renderVideo(){return d.createElement("div",{className:this.question.cssClasses.videoContainer},d.createElement(Ju,{item:this.question.changeCameraAction}),d.createElement(Ju,{item:this.question.closeCameraAction}),d.createElement("video",{autoPlay:!0,playsInline:!0,id:this.question.videoId,className:this.question.cssClasses.video}),d.createElement(Ju,{item:this.question.takePictureAction}))}}ft.Instance.registerQuestion("file",r=>d.createElement(Oq,r));class Fq extends Ft{constructor(e){super(e)}get question(){return this.props.item&&this.props.item.data.question||this.props.data.question}render(){return Kx(d.createElement("label",{tabIndex:0,className:this.question.getChooseFileCss(),htmlFor:this.question.inputId,"aria-label":this.question.chooseButtonText,onClick:e=>this.question.chooseFile(e.nativeEvent)},this.question.cssClasses.chooseFileIconId?d.createElement(Nt,{title:this.question.chooseButtonText,iconName:this.question.cssClasses.chooseFileIconId,size:"auto"}):null,d.createElement("span",null,this.question.chooseButtonText)))}}Ce.Instance.registerElement("sv-file-choose-btn",r=>d.createElement(Fq,r));class Bq extends Ye{get question(){return this.props.question}get page(){return this.props.page}renderElement(){const e=this.page.items.map((t,s)=>Ce.Instance.createElement("sv-file-item",{item:t,question:this.question,key:s}));return d.createElement("div",{className:this.page.css,id:this.page.id},e)}}class qq extends Ye{get question(){return this.props.question}renderFileSign(e,t){return!e||!t.name?null:d.createElement("div",{className:e},d.createElement("a",{href:t.content,onClick:s=>{this.question.doDownloadFile(s,t)},title:t.name,download:t.name,style:{width:this.question.imageWidth}},t.name))}renderElement(){const e=this.question.renderedPages.map((t,s)=>d.createElement(Bq,{page:t,question:this.question,key:t.id}));return d.createElement("div",{className:this.question.cssClasses.fileList||void 0},e)}canRender(){return this.question.showPreviewContainer}}Ce.Instance.registerElement("sv-file-preview",r=>d.createElement(qq,r));class zq extends Ye{get question(){return this.props.question}get item(){return this.props.item}renderFileSign(e,t){return!e||!t.name?null:d.createElement("div",{className:e},d.createElement("a",{href:t.content,onClick:s=>{this.question.doDownloadFile(s,t)},title:t.name,download:t.name,style:{width:this.question.imageWidth}},t.name))}renderElement(){const e=this.item;return d.createElement("span",{className:this.question.cssClasses.previewItem,onClick:t=>this.question.doDownloadFileFromContainer(t)},this.renderFileSign(this.question.cssClasses.fileSign,e),d.createElement("div",{className:this.question.getImageWrapperCss(e)},this.question.canPreviewImage(e)?d.createElement("img",{src:e.content,style:{height:this.question.imageHeight,width:this.question.imageWidth},alt:"File preview"}):this.question.cssClasses.defaultImage?d.createElement(Nt,{iconName:this.question.cssClasses.defaultImageIconId,size:"auto",className:this.question.cssClasses.defaultImage}):null,e.name&&!this.question.isReadOnly?d.createElement("div",{className:this.question.getRemoveButtonCss(),onClick:t=>this.question.doRemoveFile(e,t)},d.createElement("span",{className:this.question.cssClasses.removeFile},this.question.removeFileCaption),this.question.cssClasses.removeFileSvgIconId?d.createElement(Nt,{title:this.question.removeFileCaption,iconName:this.question.cssClasses.removeFileSvgIconId,size:"auto",className:this.question.cssClasses.removeFileSvg}):null):null),this.renderFileSign(this.question.cssClasses.fileSignBottom,e))}canRender(){return this.question.showPreviewContainer}}Ce.Instance.registerElement("sv-file-item",r=>d.createElement(zq,r));class Hq extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){for(var e=this.question.cssClasses,t=this.question.getRows(),s=[],i=0;i<t.length;i++)t[i].isVisible&&s.push(this.renderRow(i,t[i].cells,e));return d.createElement("table",{className:this.question.getQuestionRootCss()},d.createElement("tbody",null,s))}renderCell(e,t,s){let i;const n=()=>{e.item.focusIn()};return e.isErrorsCell?i=d.createElement(s3,{question:e.item.editor,creator:this.creator}):i=d.createElement(Qq,{question:this.question,item:e.item,creator:this.creator,cssClasses:t}),d.createElement("td",{key:"item"+s,className:e.className,onFocus:n},i)}renderRow(e,t,s){const i="item"+e,n=[];for(let o=0;o<t.length;o++){const l=t[o];n.push(this.renderCell(l,s,o))}return d.createElement("tr",{key:i,className:s.row},n)}}class Qq extends Ft{get question(){return this.props.question}get item(){return this.props.item}getStateElements(){return[this.item,this.item.editor]}get creator(){return this.props.creator}renderElement(){const e=this.item,t=this.cssClasses,s={};return this.question.itemTitleWidth&&(s.minWidth=this.question.itemTitleWidth,s.width=this.question.itemTitleWidth),d.createElement("label",{className:this.question.getItemLabelCss(e)},d.createElement("span",{className:t.itemTitle,style:s},d.createElement(JI,{element:e.editor,cssClasses:e.editor.cssClasses})),d.createElement(Wq,{cssClasses:t,itemCss:this.question.getItemCss(),question:e.editor,creator:this.creator}))}}class Wq extends t3{renderElement(){return d.createElement("div",{className:this.itemCss},this.renderContent())}}ft.Instance.registerQuestion("multipletext",r=>d.createElement(Hq,r));class Uq extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses,t=null;return this.question.showClearButtonInContent&&(t=d.createElement("div",null,d.createElement("input",{type:"button",className:this.question.cssClasses.clearButton,onClick:()=>this.question.clearValue(!0),value:this.question.clearButtonCaption}))),d.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),ref:s=>this.setControl(s),role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage},this.question.hasColumns?this.getColumnedBody(e):this.getBody(e),this.getFooter(),t)}getFooter(){if(this.question.hasFootItems)return this.question.footItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getColumnedBody(e){return d.createElement("div",{className:e.rootMultiColumn},this.getColumns(e))}getColumns(e){var t=this.getStateValue();return this.question.columns.map((s,i)=>{var n=s.map((o,l)=>this.renderItem(o,t,e,""+i+l));return d.createElement("div",{key:"column"+i+this.question.getItemsColumnKey(s),className:this.question.getColumnClass(),role:"presentation"},n)})}getBody(e){return this.question.blockedRow?d.createElement("div",{className:e.rootRow},this.getItems(e,this.question.dataChoices)):d.createElement(d.Fragment,null,this.getItems(e,this.question.bodyItems))}getItems(e,t){for(var s=[],i=this.getStateValue(),n=0;n<t.length;n++){var o=t[n],l=this.renderItem(o,i,e,""+n);s.push(l)}return s}get textStyle(){return null}renderItem(e,t,s,i){const n=Ce.Instance.createElement(this.question.itemComponent,{key:e.value,question:this.question,cssClasses:s,isDisplayMode:this.isDisplayMode,item:e,textStyle:this.textStyle,index:i,isChecked:t===e.value}),o=this.question.survey;let l=null;return o&&(l=wi.wrapItemValue(o,n,this.question,e)),l??n}getStateValue(){return this.question.isEmpty()?"":this.question.renderedValue}}class d3 extends Ft{constructor(e){super(e),this.rootRef=d.createRef(),this.handleOnChange=this.handleOnChange.bind(this),this.handleOnMouseDown=this.handleOnMouseDown.bind(this)}getStateElement(){return this.item}get question(){return this.props.question}get item(){return this.props.item}get textStyle(){return this.props.textStyle}get index(){return this.props.index}get isChecked(){return this.props.isChecked}get hideCaption(){return this.props.hideCaption===!0}get ariaLabel(){return this.props.ariaLabel||null}shouldComponentUpdate(e,t){return!super.shouldComponentUpdate(e,t)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render}handleOnChange(e){this.question.clickItemHandler(this.item)}handleOnMouseDown(e){this.question.onMouseDown()}canRender(){return!!this.question&&!!this.item}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.item!==this.props.item&&!this.question.isDesignMode&&(this.props.item&&this.props.item.setRootElement(this.rootRef.current),e.item&&e.item.setRootElement(void 0))}renderElement(){return d.createElement(d.Fragment,null,this.renderRadioButton(),this.renderComment())}renderComment(){return this.item.isCommentShowing?d.createElement("div",{className:this.question.getCommentAreaCss(!0)},d.createElement(Dm,{question:this.question,item:this.item,cssClasses:this.question.cssClasses})):null}renderRadioButton(){var e=this.question.getItemClass(this.item),t=this.question.getLabelClass(this.item),s=this.question.getControlLabelClass(this.item);const i=this.hideCaption?null:d.createElement("span",{className:s},this.renderLocString(this.item.locText,this.textStyle));return d.createElement("div",{className:e,role:"presentation",ref:this.rootRef},d.createElement("label",{onMouseDown:this.handleOnMouseDown,className:t},d.createElement("input",{"aria-errormessage":this.question.ariaErrormessage,className:this.cssClasses.itemControl,id:this.question.getItemId(this.item),type:"radio",name:this.question.questionName,checked:this.isChecked,value:this.item.value,disabled:!this.question.getItemEnabled(this.item),readOnly:this.question.isReadOnlyAttr,onChange:this.handleOnChange,"aria-label":this.ariaLabel}),this.cssClasses.materialDecorator?d.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?d.createElement("svg",{className:this.cssClasses.itemDecorator},d.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,i))}componentDidMount(){super.componentDidMount(),this.question.isDesignMode||this.item.setRootElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.question.isDesignMode||this.item.setRootElement(void 0)}}Ce.Instance.registerElement("survey-radiogroup-item",r=>d.createElement(d3,r));ft.Instance.registerQuestion("radiogroup",r=>d.createElement(Uq,r));class $q extends ac{constructor(e){super(e)}renderInput(){const e=this.question.getControlClass(),t=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return d.createElement("div",null,this.question.inputValue);const s=this.question.getMaxLength()?d.createElement(Gx,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return d.createElement(d.Fragment,null,d.createElement("input",{id:this.question.inputId,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,className:e,type:this.question.inputType,ref:i=>this.setControl(i),style:this.question.inputStyle,maxLength:this.question.getMaxLength(),min:this.question.renderedMin,max:this.question.renderedMax,step:this.question.renderedStep,size:this.question.inputSize,placeholder:t,list:this.question.dataListId,autoComplete:this.question.autocomplete,onBlur:i=>{this.question.onBlur(i)},onFocus:i=>{this.question.onFocus(i)},onChange:this.question.onChange,onClick:this.question.readOnlyBlocker,onPointerDown:this.question.readOnlyBlocker,onKeyUp:this.question.onKeyUp,onKeyDown:this.question.onKeyDown,onCompositionUpdate:i=>this.question.onCompositionUpdate(i.nativeEvent),"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),s)}renderElement(){return this.question.dataListId?d.createElement("div",null,this.renderInput(),this.renderDataList()):this.renderInput()}setValueCore(e){this.question.inputValue=e}getValueCore(){return this.question.inputValue}renderDataList(){if(!this.question.dataListId)return null;var e=this.question.dataList;if(e.length==0)return null;for(var t=[],s=0;s<e.length;s++)t.push(d.createElement("option",{key:"item"+s,value:e[s]}));return d.createElement("datalist",{id:this.question.dataListId},t)}}ft.Instance.registerQuestion("text",r=>d.createElement($q,r));class e1 extends hs{constructor(e){super(e),this.handleOnChange=this.handleOnChange.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.handleOnLabelClick=this.handleOnLabelClick.bind(this),this.handleOnSwitchClick=this.handleOnSwitchClick.bind(this),this.handleOnKeyDown=this.handleOnKeyDown.bind(this),this.checkRef=d.createRef()}getStateElement(){return this.question}get question(){return this.questionBase}doCheck(e){this.question.booleanValue=e}handleOnChange(e){this.doCheck(e.target.checked)}handleOnClick(e){this.question.onLabelClick(e,!0)}handleOnSwitchClick(e){this.question.onSwitchClickModel(e.nativeEvent)}handleOnLabelClick(e,t){this.question.onLabelClick(e,t)}handleOnKeyDown(e){this.question.onKeyDownCore(e)}updateDomElement(){if(!this.question)return;const e=this.checkRef.current;e&&(e.indeterminate=this.question.isIndeterminate),this.setControl(e),super.updateDomElement()}renderElement(){const e=this.question.cssClasses,t=this.question.getItemCss();return d.createElement("div",{className:e.root,onKeyDown:this.handleOnKeyDown},d.createElement("label",{className:t},d.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:e.control,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),d.createElement("div",{className:e.sliderGhost,onClick:s=>this.handleOnLabelClick(s,this.question.swapOrder)},d.createElement("span",{className:this.question.getLabelCss(this.question.swapOrder)},this.renderLocString(this.question.locLabelLeft))),d.createElement("div",{className:e.switch,onClick:this.handleOnSwitchClick},d.createElement("span",{className:e.slider},this.question.isDeterminated&&e.sliderText?d.createElement("span",{className:e.sliderText},this.renderLocString(this.question.getCheckedLabel())):null)),d.createElement("div",{className:e.sliderGhost,onClick:s=>this.handleOnLabelClick(s,!this.question.swapOrder)},d.createElement("span",{className:this.question.getLabelCss(!this.question.swapOrder)},this.renderLocString(this.question.locLabelRight)))))}}ft.Instance.registerQuestion("boolean",r=>d.createElement(e1,r));class Gq extends e1{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.question.getCheckboxItemCss(),s=this.question.canRenderLabelDescription?Ye.renderQuestionDescription(this.question):null;return d.createElement("div",{className:e.rootCheckbox},d.createElement("div",{className:t},d.createElement("label",{className:e.checkboxLabel},d.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:e.controlCheckbox,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),d.createElement("span",{className:e.checkboxMaterialDecorator},this.question.svgIcon?d.createElement("svg",{className:e.checkboxItemDecorator},d.createElement("use",{xlinkHref:this.question.svgIcon})):null,d.createElement("span",{className:"check"})),this.question.isLabelRendered&&d.createElement("span",{className:e.checkboxControlLabel,id:this.question.labelRenderedAriaID},d.createElement($x,{element:this.question,cssClasses:this.question.cssClasses}))),s))}}ft.Instance.registerQuestion("sv-boolean-checkbox",r=>d.createElement(Gq,r));mn.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox");class Zq extends e1{constructor(e){super(e)}renderRadioItem(e,t){const s=this.question.cssClasses,i=()=>{this.question.value=e};return d.createElement("div",{role:"presentation",className:this.question.getRadioItemClass(s,e)},d.createElement("label",{className:s.radioLabel},d.createElement("input",{type:"radio",name:this.question.name,value:e,"aria-errormessage":this.question.ariaErrormessage,checked:e===this.question.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,className:s.itemRadioControl,onChange:i}),this.question.cssClasses.materialRadioDecorator?d.createElement("span",{className:s.materialRadioDecorator},this.question.itemSvgIcon?d.createElement("svg",{className:s.itemRadioDecorator},d.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,d.createElement("span",{className:s.radioControlLabel},this.renderLocString(t))))}renderElement(){const e=this.question.cssClasses;return d.createElement("div",{className:e.rootRadio},d.createElement("fieldset",{role:"presentation",className:e.radioFieldset},this.question.swapOrder?d.createElement(d.Fragment,null,this.renderRadioItem(this.question.getValueTrue(),this.question.locLabelTrue),this.renderRadioItem(this.question.getValueFalse(),this.question.locLabelFalse)):d.createElement(d.Fragment,null,this.renderRadioItem(this.question.getValueFalse(),this.question.locLabelFalse),this.renderRadioItem(this.question.getValueTrue(),this.question.locLabelTrue))))}}ft.Instance.registerQuestion("sv-boolean-radio",r=>d.createElement(Zq,r));mn.Instance.registerRenderer("boolean","radio","sv-boolean-radio");class Jq extends hs{constructor(e){super(e),this.state={value:this.question.value}}get question(){return this.questionBase}renderElement(){return d.createElement("div",null)}}ft.Instance.registerQuestion("empty",r=>d.createElement(Jq,r));class c3 extends Ye{constructor(e){super(e),this.root=d.createRef(),this.onPointerDownHandler=t=>{this.parentMatrix.onPointerDown(t.nativeEvent,this.model.row)}}get model(){return this.props.model}get parentMatrix(){return this.props.parentMatrix}getStateElement(){return this.model}componentDidMount(){super.componentDidMount(),this.root.current&&this.model.setRootElement(this.root.current)}componentWillUnmount(){super.componentWillUnmount(),this.model.setRootElement(void 0)}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.model!==this.model&&(e.element&&e.element.setRootElement(this.root.current),this.model&&this.model.setRootElement(void 0)),!0):!1}render(){const e=this.model;return e.visible?d.createElement("tr",{ref:this.root,className:e.className,"data-sv-drop-target-matrix-row":e.dropTargetId,onPointerDown:t=>this.onPointerDownHandler(t)},this.props.children):null}}Ce.Instance.registerElement("sv-matrix-row",r=>d.createElement(c3,r));class h3 extends Ft{get question(){return this.props.item.data.question}renderElement(){return d.createElement("div",null,this.renderIcon())}renderIcon(){return this.question.iconDragElement?d.createElement("svg",{className:this.question.cssClasses.dragElementDecorator},d.createElement("use",{xlinkHref:this.question.iconDragElement})):d.createElement("span",{className:this.question.cssClasses.iconDrag})}}Ce.Instance.registerElement("sv-matrix-drag-drop-icon",r=>d.createElement(h3,r));class Kq extends Ye{get question(){return this.props.question}get creator(){return this.props.creator}get table(){return this.question.renderedTable}getStateElement(){return this.table}wrapCell(e,t,s){return this.props.wrapCell(e,t,s)}renderHeader(){const e=this.question.renderedTable;if(!e.showHeader)return null;const t=[],s=e.headerRow.cells;for(var i=0;i<s.length;i++){const n=s[i],o="column"+i,l={};n.width&&(l.width=n.width),n.minWidth&&(l.minWidth=n.minWidth);const u=this.renderCellContent(n,"column-header",{}),c=n.hasTitle?d.createElement("th",{className:n.className,key:o,style:l}," ",u," "):d.createElement("td",{className:n.className,key:o,style:l});t.push(c)}return d.createElement("thead",null,d.createElement("tr",null,t))}renderFooter(){const e=this.question.renderedTable;if(!e.showFooter)return null;const t=this.renderRow("footer",e.footerRow,this.question.cssClasses,"row-footer");return d.createElement("tfoot",null,t)}renderRows(){const e=this.question.cssClasses,t=[],s=this.question.renderedTable.renderedRows;for(var i=0;i<s.length;i++)t.push(this.renderRow(s[i].id,s[i],e));return d.createElement("tbody",null,t)}renderRow(e,t,s,i){const n=[],o=t.cells;for(var l=0;l<o.length;l++)n.push(this.renderCell(o[l],s,i));const u="row"+e;return d.createElement(d.Fragment,{key:u},i=="row-footer"?d.createElement("tr",null,n):d.createElement(c3,{model:t,parentMatrix:this.question},n))}renderCell(e,t,s){const i="cell"+e.id;if(e.hasQuestion)return d.createElement(ez,{key:i,cssClasses:t,cell:e,creator:this.creator,reason:s});if(e.isErrorsCell&&e.isErrorsCell)return d.createElement(Xq,{cell:e,key:i,keyValue:i,question:e.question,creator:this.creator});let n=s;n||(n=e.hasTitle?"row-header":"");const o=this.renderCellContent(e,n,t);let l=null;return(e.width||e.minWidth)&&(l={},e.width&&(l.width=e.width),e.minWidth&&(l.minWidth=e.minWidth)),d.createElement("td",{className:e.className,key:i,style:l,colSpan:e.colSpans,title:e.getTitle()},o)}renderCellContent(e,t,s){let i=null,n=null;if((e.width||e.minWidth)&&(n={},e.width&&(n.width=e.width),e.minWidth&&(n.minWidth=e.minWidth)),e.hasTitle){t="row-header";const l=this.renderLocString(e.locTitle),u=e.column?d.createElement(m3,{column:e.column,question:this.question}):null;i=d.createElement(d.Fragment,null,l,u)}if(e.isDragHandlerCell&&(i=d.createElement(d.Fragment,null,d.createElement(h3,{item:{data:{row:e.row,question:this.question}}}))),e.isActionsCell&&(i=Ce.Instance.createElement("sv-matrixdynamic-actions-cell",{question:this.question,cssClasses:s,cell:e,model:e.item.getData()})),e.hasPanel&&(i=d.createElement(uc,{key:e.panel.id,element:e.panel,survey:this.question.survey,cssClasses:s,isDisplayMode:this.isDisplayMode,creator:this.creator})),!i)return null;const o=d.createElement(d.Fragment,null,i);return this.wrapCell(e,o,t)}renderElement(){const e=this.renderHeader(),t=this.renderFooter(),s=this.renderRows();return d.createElement("table",{className:this.question.getTableCss()},e,s,t)}}class p3 extends hs{constructor(e){super(e),this.question.renderedTable,this.state=this.getState()}get question(){return this.questionBase}getState(e=null){return{rowCounter:e?e.rowCounter+1:0}}updateStateOnCallback(){this.isRendering||this.setState(this.getState(this.state))}componentDidMount(){super.componentDidMount(),this.question.onRenderedTableResetCallback=()=>{this.updateStateOnCallback()}}componentWillUnmount(){super.componentWillUnmount(),this.question.onRenderedTableResetCallback=()=>{}}renderElement(){return this.renderTableDiv()}renderTableDiv(){return d.createElement("div",{className:this.question.cssClasses.tableWrapper,"data-sv-drop-target-matrix-row":this.question.renderedTable.wrapperDropTargetId,ref:e=>this.setControl(e)},d.createElement(Kq,{question:this.question,creator:this.creator,wrapCell:(e,t,s)=>this.wrapCell(e,t,s)}))}}class Yq extends Ft{constructor(e){super(e)}get model(){return this.props.model}renderElement(){return d.createElement($r,{model:this.model,handleClick:!1})}}class Xq extends s3{constructor(e){super(e)}get key(){return this.props.keyValue}get cell(){return this.props.cell}render(){return this.cell.isVisible?d.createElement("td",{className:this.cell.className,key:this.key,colSpan:this.cell.colSpans,title:this.cell.getTitle()},super.render()):null}getQuestionPropertiesToTrack(){return super.getQuestionPropertiesToTrack().concat(["visible"])}}Ce.Instance.registerElement("sv-matrixdynamic-actions-cell",r=>d.createElement(Yq,r));class m3 extends Ft{constructor(e){super(e)}get column(){return this.props.column}get question(){return this.props.question}getStateElement(){return this.column}renderElement(){return this.column.isRenderedRequired?d.createElement(d.Fragment,null,d.createElement("span",null,""),d.createElement("span",{className:this.question.cssClasses.cellRequiredMark},this.column.requiredMark)):null}}class ez extends gq{constructor(e){super(e)}get cell(){return this.props.cell}get itemCss(){return this.cell?this.cell.className:""}getQuestion(){var e=super.getQuestion();return e||(this.cell?this.cell.question:null)}doAfterRender(){var e=this.cellRef.current;if(e&&this.cell&&this.question&&this.question.survey&&e.getAttribute("data-rendered")!=="r"){e.setAttribute("data-rendered","r");const t={cell:this.cell,cellQuestion:this.question,htmlElement:e,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(t),this.question.afterRenderCore(e)}}getShowErrors(){return this.question.isVisible&&(!this.cell.isChoice||this.cell.isFirstChoice)}getCellStyle(){var e=super.getCellStyle();return(this.cell.width||this.cell.minWidth)&&(e||(e={}),this.cell.width&&(e.width=this.cell.width),this.cell.minWidth&&(e.minWidth=this.cell.minWidth)),e}getHeaderText(){return this.cell.headers}renderElement(){return this.cell.isVisible?super.renderElement():null}renderCellContent(){const e=super.renderCellContent(),t=this.cell.showResponsiveTitle?d.createElement("span",{className:this.cell.responsiveTitleCss},this.renderLocString(this.cell.responsiveLocTitle),d.createElement(m3,{column:this.cell.column,question:this.cell.matrix})):null;return d.createElement(d.Fragment,null,t,e)}renderQuestion(){return this.question.isVisible?this.cell.isChoice?this.cell.isOtherChoice?this.renderOtherComment():this.cell.isCheckbox?this.renderCellCheckboxButton():this.renderCellRadiogroupButton():co.renderQuestionBody(this.creator,this.question):d.createElement(d.Fragment,null)}renderOtherComment(){const e=this.cell.question,t=e.cssClasses||{};return d.createElement(Dm,{question:e,item:e.otherItem,cssClasses:t})}renderCellCheckboxButton(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return d.createElement(o3,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,isFirst:this.cell.isFirstChoice,index:this.cell.choiceIndex.toString(),hideCaption:!0,ariaLabel:this.getCellAriaLabel()})}renderCellRadiogroupButton(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return d.createElement(d3,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,index:this.cell.choiceIndex.toString(),isChecked:this.cell.question.value===this.cell.item.value,isDisabled:this.cell.question.isReadOnly||!this.cell.item.isEnabled,hideCaption:!0,ariaLabel:this.getCellAriaLabel()})}getCellAriaLabel(){return this.question.parentQuestion.getCellAriaLabel(this.cell.row,this.cell.column)}}class tz extends p3{constructor(e){super(e)}}ft.Instance.registerQuestion("matrixdropdown",r=>d.createElement(tz,r));class sz extends p3{constructor(e){super(e),this.handleOnRowAddClick=this.handleOnRowAddClick.bind(this)}get matrix(){return this.questionBase}handleOnRowAddClick(e){this.matrix.addRowUI()}renderElement(){var e=this.question.cssClasses,t=this.question.renderedTable.showTable,s=t?this.renderTableDiv():this.renderNoRowsContent(e);return d.createElement("div",null,this.renderAddRowButtonOnTop(e),s,this.renderAddRowButtonOnBottom(e))}renderAddRowButtonOnTop(e){return this.matrix.renderedTable.showAddRowOnTop?this.renderAddRowButton(e):null}renderAddRowButtonOnBottom(e){return this.matrix.renderedTable.showAddRowOnBottom?this.renderAddRowButton(e):null}renderNoRowsContent(e){return Ce.Instance.createElement("sv-placeholder-matrixdynamic",{cssClasses:e,question:this.matrix})}renderAddRowButton(e,t=!1){return Ce.Instance.createElement("sv-matrixdynamic-add-btn",{question:this.question,cssClasses:e,isEmptySection:t})}}ft.Instance.registerQuestion("matrixdynamic",r=>d.createElement(sz,r));class rz extends Ft{constructor(e){super(e),this.handleOnRowAddClick=this.handleOnRowAddClick.bind(this)}get matrix(){return this.props.question}handleOnRowAddClick(e){this.matrix.addRowUI()}renderElement(){const e=this.renderLocString(this.matrix.locAddRowText),t=d.createElement("button",{className:this.matrix.getAddRowButtonCss(this.props.isEmptySection),type:"button",disabled:this.matrix.isInputReadOnly,onClick:this.matrix.isDesignMode?void 0:this.handleOnRowAddClick},e,d.createElement("span",{className:this.props.cssClasses.iconAdd}));return this.props.isEmptySection?t:d.createElement("div",{className:this.props.cssClasses.footer},t)}}class iz extends Ft{constructor(e){super(e)}renderElement(){const e=this.props.cssClasses,t=this.props.question,s=t.renderedTable.showAddRow,i=this.renderLocString(t.locNoRowsText),n=d.createElement("div",{className:e.noRowsText},i),o=s?this.renderAddRowButton(e,t):void 0;return d.createElement("div",{className:e.noRowsSection},n,o)}renderAddRowButton(e,t){return Ce.Instance.createElement("sv-matrixdynamic-add-btn",{question:t,cssClasses:e,isEmptySection:!0})}}Ce.Instance.registerElement("sv-matrixdynamic-add-btn",r=>d.createElement(rz,r));Ce.Instance.registerElement("sv-placeholder-matrixdynamic",r=>d.createElement(iz,r));class nz extends hs{constructor(e){super(e)}get question(){return this.questionBase}componentDidMount(){super.componentDidMount(),this.setState({panelCounter:0});const e=this;this.question.panelCountChangedCallback=function(){e.updateQuestionRendering()},this.question.currentIndexChangedCallback=function(){e.updateQuestionRendering()},this.question.renderModeChangedCallback=function(){e.updateQuestionRendering()}}componentWillUnmount(){super.componentWillUnmount(),this.question.panelCountChangedCallback=()=>{},this.question.currentIndexChangedCallback=()=>{},this.question.renderModeChangedCallback=()=>{}}updateQuestionRendering(){this.setState({panelCounter:this.state?this.state.panelCounter+1:1})}renderElement(){const e=[],t=this.question.cssClasses;this.question.renderedPanels.forEach((o,l)=>{e.push(d.createElement(oz,{key:o.id,element:o,question:this.question,index:l,cssClasses:t,isDisplayMode:this.isDisplayMode,creator:this.creator}))});const s=this.question.isRangeShowing&&this.question.isProgressTopShowing?this.renderRange():null,i=this.renderNavigatorV2(),n=this.renderPlaceholder(t);return d.createElement("div",{className:t.root},this.question.hasTabbedMenu?d.createElement("div",{className:this.question.getTabsContainerCss()},d.createElement($r,{model:this.question.tabbedMenu})):null,n,s,d.createElement("div",{className:this.question.cssClasses.panelsContainer},e),i)}renderRange(){return d.createElement("div",{className:this.question.cssClasses.progress},d.createElement("div",{className:this.question.cssClasses.progressBar,style:{width:this.question.progress},role:"progressbar","aria-label":this.question.progressBarAriaLabel}))}renderAddRowButton(){return Ce.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:this.question}})}renderNavigatorV2(){if(!this.question.showNavigation)return null;const e=this.question.isRangeShowing&&this.question.isProgressBottomShowing?this.renderRange():null;return d.createElement("div",{className:this.question.cssClasses.footer},d.createElement("hr",{className:this.question.cssClasses.separator}),e,this.question.showFooterToolbar?d.createElement("div",{className:this.question.cssClasses.footerButtonsContainer},d.createElement($r,{model:this.question.footerToolbar})):null)}renderPlaceholder(e){return this.question.getShowNoEntriesPlaceholder()?Ce.Instance.createElement("sv-placeholder-paneldynamic",{cssClasses:e,question:this.question}):null}}class oz extends uc{get question(){return this.props.question}get index(){return this.props.index}getSurvey(){return this.question?this.question.survey:null}getCss(){const e=this.getSurvey();return e?e.getCss():{}}render(){const e=super.render(),t=this.renderButton(),s=this.question.showSeparator(this.index)?d.createElement("hr",{className:this.question.cssClasses.separator}):null;return d.createElement(d.Fragment,null,d.createElement("div",{className:this.question.getPanelWrapperCss(this.panel)},e,t),s)}renderButton(){return this.question.canRenderRemovePanelOnRight(this.panel)?Ce.Instance.createElement("sv-paneldynamic-remove-btn",{data:{question:this.question,panel:this.panel}}):null}}ft.Instance.registerQuestion("paneldynamic",r=>d.createElement(nz,r));class az extends Ft{constructor(e){super(e)}renderElement(){const e=this.props.cssClasses,t=this.props.question;return d.createElement("div",{className:e.noEntriesPlaceholder},d.createElement("span",null,this.renderLocString(t.locNoEntriesText)),this.renderAddRowButton(t))}renderAddRowButton(e){return Ce.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:e}})}}Ce.Instance.registerElement("sv-placeholder-paneldynamic",r=>d.createElement(az,r));class _m extends Yx{constructor(e){super(e)}get isTop(){return this.props.isTop}get progress(){return this.survey.progressValue}get progressText(){return this.survey.progressText}get progressBarAriaLabel(){return this.survey.progressBarAriaLabel}render(){var e={width:this.progress+"%"};return d.createElement("div",{className:this.survey.getProgressCssClasses(this.props.container)},d.createElement("div",{style:e,className:this.css.progressBar,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-label":this.progressBarAriaLabel},d.createElement("span",{className:u2.getProgressTextInBarCss(this.css)},this.progressText)),d.createElement("span",{className:u2.getProgressTextUnderBarCss(this.css)},this.progressText))}}Ce.Instance.registerElement("sv-progress-pages",r=>d.createElement(_m,r));Ce.Instance.registerElement("sv-progress-questions",r=>d.createElement(_m,r));Ce.Instance.registerElement("sv-progress-correctquestions",r=>d.createElement(_m,r));Ce.Instance.registerElement("sv-progress-requiredquestions",r=>d.createElement(_m,r));class lz extends Yx{constructor(e){super(e),this.listContainerRef=d.createRef()}get model(){return this.props.model}get container(){return this.props.container}onResize(e){this.setState({canShowItemTitles:e}),this.setState({canShowHeader:!e})}onUpdateScroller(e){this.setState({hasScroller:e})}onUpdateSettings(){this.setState({canShowItemTitles:this.model.showItemTitles}),this.setState({canShowFooter:!this.model.showItemTitles})}render(){return d.createElement("div",{className:this.model.getRootCss(this.props.container),style:{maxWidth:this.model.progressWidth},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-label":this.model.progressBarAriaLabel},this.state.canShowHeader?d.createElement("div",{className:this.css.progressButtonsHeader},d.createElement("div",{className:this.css.progressButtonsPageTitle,title:this.model.headerText},this.model.headerText)):null,d.createElement("div",{className:this.css.progressButtonsContainer},d.createElement("div",{className:this.model.getScrollButtonCss(this.state.hasScroller,!0),role:"button",onClick:()=>this.clickScrollButton(this.listContainerRef.current,!0)}),d.createElement("div",{className:this.css.progressButtonsListContainer,ref:this.listContainerRef},d.createElement("ul",{className:this.css.progressButtonsList},this.getListElements())),d.createElement("div",{className:this.model.getScrollButtonCss(this.state.hasScroller,!1),role:"button",onClick:()=>this.clickScrollButton(this.listContainerRef.current,!1)})),this.state.canShowFooter?d.createElement("div",{className:this.css.progressButtonsFooter},d.createElement("div",{className:this.css.progressButtonsPageTitle,title:this.model.footerText},this.model.footerText)):null)}getListElements(){let e=[];return this.survey.visiblePages.forEach((t,s)=>{e.push(this.renderListElement(t,s))}),e}renderListElement(e,t){const s=Ye.renderLocString(e.locNavigationTitle);return d.createElement("li",{key:"listelement"+t,className:this.model.getListElementCss(t),onClick:this.model.isListElementClickable(t)?()=>this.model.clickListElement(e):void 0,"data-page-number":this.model.getItemNumber(e)},d.createElement("div",{className:this.css.progressButtonsConnector}),this.state.canShowItemTitles?d.createElement(d.Fragment,null,d.createElement("div",{className:this.css.progressButtonsPageTitle,title:e.renderedNavigationTitle},s),d.createElement("div",{className:this.css.progressButtonsPageDescription,title:e.navigationDescription},e.navigationDescription)):null,d.createElement("div",{className:this.css.progressButtonsButton},d.createElement("div",{className:this.css.progressButtonsButtonBackground}),d.createElement("div",{className:this.css.progressButtonsButtonContent}),d.createElement("span",null,this.model.getItemNumber(e))))}clickScrollButton(e,t){e&&(e.scrollLeft+=(t?-1:1)*70)}componentDidMount(){super.componentDidMount(),setTimeout(()=>{this.respManager=new pB(this.model,this.listContainerRef.current,this)},10)}componentWillUnmount(){this.respManager&&this.respManager.dispose(),super.componentWillUnmount()}}Ce.Instance.registerElement("sv-progress-buttons",r=>d.createElement(lz,r));class g3 extends Ye{constructor(){super(...arguments),this.handleKeydown=e=>{this.model.onKeyDown(e)}}get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.model.getItemClass(this.item),t=this.item.component||this.model.itemComponent,s=Ce.Instance.createElement(t,{item:this.item,key:this.item.id,model:this.model}),i=d.createElement("div",{style:this.model.getItemStyle(this.item),className:this.model.cssClasses.itemBody,title:this.item.getTooltip(),onMouseOver:u=>{this.model.onItemHover(this.item)},onMouseLeave:u=>{this.model.onItemLeave(this.item)}},s),n=this.item.needSeparator?d.createElement("div",{className:this.model.cssClasses.itemSeparator}):null,l={display:this.model.isItemVisible(this.item)?null:"none"};return Kx(d.createElement("li",{className:e,role:this.model.listItemRole,style:l,id:this.item.elementId,"aria-selected":this.model.getA11yItemAriaSelected(this.item),"aria-checked":this.model.getA11yItemAriaChecked(this.item),onClick:u=>{this.model.onItemClick(this.item),u.stopPropagation()},onPointerDown:u=>this.model.onPointerDown(u,this.item)},n,i),this.item)}componentDidMount(){super.componentDidMount(),this.model.onLastItemRended(this.item)}}Ce.Instance.registerElement("sv-list-item",r=>d.createElement(g3,r));class f3 extends Ye{constructor(e){super(e),this.handleKeydown=t=>{this.model.onKeyDown(t)},this.handleMouseMove=t=>{this.model.onMouseMove(t)},this.state={filterString:this.model.filterString||""},this.listContainerRef=d.createRef()}get model(){return this.props.model}getStateElement(){return this.model}componentDidMount(){super.componentDidMount(),this.listContainerRef&&this.listContainerRef.current&&this.model.initListContainerHtmlElement(this.listContainerRef.current)}componentDidUpdate(e,t){var s;super.componentDidUpdate(e,t),this.model!==e.model&&(this.model&&(!((s=this.listContainerRef)===null||s===void 0)&&s.current)&&this.model.initListContainerHtmlElement(this.listContainerRef.current),e.model&&e.model.initListContainerHtmlElement(void 0))}componentWillUnmount(){super.componentWillUnmount(),this.model&&this.model.initListContainerHtmlElement(void 0)}renderElement(){return d.createElement("div",{className:this.model.cssClasses.root,ref:this.listContainerRef},this.searchElementContent(),this.emptyContent(),this.renderList())}renderList(){if(!this.model.renderElements)return null;const e=this.renderItems(),t={display:this.model.isEmpty?"none":null};return d.createElement("ul",{className:this.model.getListClass(),style:t,role:this.model.listRole,"aria-label":this.model.a11ya11y_input_ariaLabel,id:this.model.elementId,onMouseDown:s=>{s.preventDefault()},onKeyDown:this.handleKeydown,onMouseMove:this.handleMouseMove},e)}renderItems(){if(!this.model)return null;const e=this.model.renderedActions;return e?e.map((t,s)=>d.createElement(g3,{model:this.model,item:t,key:"item"+s})):null}searchElementContent(){if(this.model.showFilter){const e=i=>{var n;const o=(n=i.target.getRootNode())===null||n===void 0?void 0:n.activeElement;i.target===o&&(this.model.filterString=i.target.value)},t=i=>{this.model.goToItems(i)},s=this.model.showSearchClearButton&&this.model.filterString?d.createElement("button",{className:this.model.cssClasses.searchClearButtonIcon,onClick:i=>{this.model.onClickSearchClearButton(i)}},d.createElement(Nt,{iconName:"icon-searchclear",size:"auto"})):null;return d.createElement("div",{className:this.model.cssClasses.filter},d.createElement("div",{className:this.model.cssClasses.filterIcon},d.createElement(Nt,{iconName:"icon-search",size:"auto"})),d.createElement("input",{type:"text",className:this.model.cssClasses.filterInput,"aria-label":this.model.filterStringPlaceholder,placeholder:this.model.filterStringPlaceholder,value:this.state.filterString,onKeyUp:t,onChange:e}),s)}else return null}emptyContent(){const e={display:this.model.isEmpty?null:"none"};return d.createElement("div",{className:this.model.cssClasses.emptyContainer,style:e},d.createElement("div",{className:this.model.cssClasses.emptyText,"aria-label":this.model.emptyMessage},this.model.emptyMessage))}}Ce.Instance.registerElement("sv-list",r=>d.createElement(f3,r));class uz extends Yx{componentDidMount(){super.componentDidMount(),this.props.model.updateStickyTOCSize(this.survey.rootElement)}render(){const e=this.props.model;let t;return e.isMobile?t=d.createElement("div",{onClick:e.togglePopup},d.createElement(Nt,{iconName:e.icon,size:24}),d.createElement(lc,{model:e.popupModel})):t=d.createElement(f3,{model:e.listModel}),d.createElement("div",{className:e.containerCss},t)}}Ce.Instance.registerElement("sv-navigation-toc",r=>d.createElement(uz,r));class dz extends hs{constructor(e){super(e),this.handleOnClick=this.handleOnClick.bind(this)}get question(){return this.questionBase}handleOnClick(e){this.question.setValueFromClick(e.target.value),this.setState({value:this.question.value})}renderItem(e,t){return Ce.Instance.createElement(this.question.itemComponent,{question:this.question,item:e,index:t,key:"value"+t,handleOnClick:this.handleOnClick,isDisplayMode:this.isDisplayMode})}renderElement(){var e=this.question.cssClasses,t=this.question.minRateDescription?this.renderLocString(this.question.locMinRateDescription):null,s=this.question.maxRateDescription?this.renderLocString(this.question.locMaxRateDescription):null;return d.createElement("div",{className:this.question.ratingRootCss,ref:i=>this.setControl(i)},d.createElement("fieldset",{role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage},d.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.question.hasMinLabel?d.createElement("span",{className:e.minText},t):null,this.question.renderedRateItems.map((i,n)=>this.renderItem(i,n)),this.question.hasMaxLabel?d.createElement("span",{className:e.maxText},s):null))}}ft.Instance.registerQuestion("rating",r=>d.createElement(dz,r));class cz extends jm{constructor(e){super(e)}renderElement(){var e=this.question.cssClasses,t=this.renderSelect(e);return d.createElement("div",{className:this.question.cssClasses.rootDropdown},t)}}ft.Instance.registerQuestion("sv-rating-dropdown",r=>d.createElement(cz,r));mn.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown");class hz extends hs{constructor(e){super(e),this.rangeInputRef=d.createRef()}componentDidMount(){super.componentDidMount(),this.question.refreshInputRange(this.rangeInputRef.current)}get question(){return this.questionBase}getStateElement(){return this.question}renderElement(){const{cssClasses:e,showLabels:t,sliderType:s,getTrackPercentLeft:i,getTrackPercentRight:n,allowDragRange:o,setValueByClickOnPath:l}=this.question,u=s==="single"&&o?null:this.getRangeInput(),c=this.getInputsAndThumbs(),h=t?this.getLabels():null;return d.createElement("div",{className:this.question.rootCss,ref:p=>this.setControl(p)},u,d.createElement("div",{className:e.visualContainer,onPointerUp:p=>{l(p.nativeEvent,this.control)}},d.createElement("div",{className:e.visualContainerSlider},d.createElement("div",{className:e.inverseTrackLeft,style:{width:i()+"%"}}),d.createElement("div",{className:e.inverseTrackRight,style:{width:n()+"%"}}),d.createElement("div",{className:e.rangeTrack,style:{left:i()+"%",right:n()+"%"}}),c)),h)}getInputsAndThumbs(){const e=[],t=this.question.renderedValue;for(let s=0;s<t.length;s++){const i=d.createElement(d.Fragment,{key:s},this.getInput(s),this.getThumb(s));e.push(i)}return e}getThumb(e){const{cssClasses:t,getThumbContainerCss:s,tooltipVisibility:i,tooltipCss:n,getPercent:o,renderedValue:l,getTooltipValue:u}=this.question,c=l[e];let h=null;return i!=="never"&&(h=d.createElement("div",{className:n},d.createElement("div",{className:t.tooltipPanel},d.createElement("div",{className:t.tooltipValue},u(e))))),d.createElement("div",{className:s(e),style:{left:o(c)+"%"}},h,d.createElement("div",{className:t.thumb},d.createElement("div",{className:t.thumbDot})))}getInput(e){const{renderedMax:t,renderedMin:s,step:i,cssClasses:n,isDisabledAttr:o,renderedValue:l,handleOnChange:u,handlePointerDown:c,handlePointerUp:h,handleKeyDown:p,handleKeyUp:m,handleOnFocus:v,handleOnBlur:f}=this.question,b=l[e];return d.createElement("input",{className:n.input,id:"sjs-slider-input-"+e,type:"range",min:s,max:t,step:i,value:b,onChange:g=>{u(g.nativeEvent,e)},onPointerDown:g=>{c(g.nativeEvent)},onPointerUp:g=>{g.stopPropagation(),h(g.nativeEvent)},onKeyDown:g=>{p(g.nativeEvent)},onKeyUp:g=>{m(g.nativeEvent)},onFocus:()=>{v(e)},onBlur:()=>{f()},disabled:o,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage})}getRangeInput(){const{renderedMax:e,renderedMin:t,step:s,cssClasses:i,handleRangeOnChange:n,handleRangePointerDown:o,handleRangePointerUp:l}=this.question;return d.createElement("input",{name:"range-input",id:"sjs-slider-input-range-input",ref:this.rangeInputRef,className:i.input,type:"range","aria-hidden":"true",min:t,max:e,step:s,tabIndex:-1,onChange:u=>{n(u.nativeEvent)},onPointerDown:u=>{u.persist(),o(u.nativeEvent,this.control)},onPointerUp:u=>{l(u.nativeEvent,this.control)}})}getLabels(){const e=[],{renderedLabels:t,cssClasses:s}=this.question;for(let i=0;i<t.length;i++){const n=Ce.Instance.createElement("sv-slider-label-item",{item:t[i],question:this.question,key:t[i].id});e.push(n)}return d.createElement("div",{className:s.labelsContainer},d.createElement("div",null,e))}}ft.Instance.registerQuestion("slider",r=>d.createElement(hz,r));class pz extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return d.createElement("div",{id:this.question.inputId,className:e.root,ref:t=>this.setControl(t),"aria-live":"polite","aria-label":this.question.formatedValue},this.question.formatedValue)}}ft.Instance.registerQuestion("expression",r=>d.createElement(pz,r));class mz extends hs{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return d.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),style:this.question.getContainerStyle()},d.createElement("legend",{className:"sv-hidden"},this.question.locTitle.renderedHtml),this.question.hasColumns?this.getColumns(e):this.getItems(e))}getColumns(e){return this.question.columns.map((t,s)=>{var i=t.map((n,o)=>this.renderItem("item"+o,n,e));return d.createElement("div",{key:"column"+s+this.question.getItemsColumnKey(t),className:this.question.getColumnClass(),role:"presentation"},i)})}getItems(e){for(var t=[],s=0;s<this.question.visibleChoices.length;s++){var i=this.question.visibleChoices[s],n="item"+s;t.push(this.renderItem(n,i,e))}return t}get textStyle(){return{marginLeft:"3px",display:"inline",position:"static"}}renderItem(e,t,s){const i=d.createElement(gz,{key:e,question:this.question,item:t,cssClasses:s}),n=this.question.survey;let o=null;return n&&(o=wi.wrapItemValue(n,i,this.question,t)),o??i}}class gz extends Ft{constructor(e){super(e),this.handleOnChange=this.handleOnChange.bind(this)}getStateElement(){return this.item}componentDidMount(){super.componentDidMount(),this.reactOnStrChanged()}componentWillUnmount(){super.componentWillUnmount(),this.item.locImageLink.onChanged=function(){}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.reactOnStrChanged()}reactOnStrChanged(){this.item.locImageLink.onChanged=()=>{this.setState({locImageLinkchanged:this.state&&this.state.locImageLink?this.state.locImageLink+1:1})}}get cssClasses(){return this.props.cssClasses}get item(){return this.props.item}get question(){return this.props.question}handleOnChange(e){if(!this.question.isReadOnlyAttr){if(this.question.multiSelect)if(e.target.checked)this.question.value=this.question.value.concat(e.target.value);else{var t=this.question.value;t.splice(this.question.value.indexOf(e.target.value),1),this.question.value=t}else this.question.value=e.target.value;this.setState({value:this.question.value})}}renderElement(){const e=this.item,t=this.question,s=this.cssClasses;var i=t.isItemSelected(e),n=t.getItemClass(e),o=null;t.showLabel&&(o=d.createElement("span",{className:t.cssClasses.itemText},e.text?Ye.renderLocString(e.locText):e.value));var l={objectFit:this.question.imageFit},u=null;if(e.locImageLink.renderedHtml&&this.question.contentMode==="image"&&(u=d.createElement("img",{className:s.image,src:e.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,alt:e.locText.renderedHtml,style:l,onLoad:h=>{this.question.onContentLoaded(e,h.nativeEvent)},onError:h=>{e.onErrorHandler(e,h.nativeEvent)}})),e.locImageLink.renderedHtml&&this.question.contentMode==="video"&&(u=d.createElement("video",{controls:!0,className:s.image,src:e.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,style:l,onLoadedMetadata:h=>{this.question.onContentLoaded(e,h.nativeEvent)},onError:h=>{e.onErrorHandler(e,h.nativeEvent)}})),!e.locImageLink.renderedHtml||e.contentNotLoaded){let h={width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,objectFit:this.question.imageFit};u=d.createElement("div",{className:s.itemNoImage,style:h},s.itemNoImageSvgIcon?d.createElement(Nt,{className:s.itemNoImageSvgIcon,iconName:this.question.cssClasses.itemNoImageSvgIconId,size:48}):null)}return d.createElement("div",{className:n},d.createElement("label",{className:s.label},d.createElement("input",{className:s.itemControl,id:this.question.getItemId(e),type:this.question.inputType,name:this.question.questionName,checked:i,value:e.value,disabled:!this.question.getItemEnabled(e),readOnly:this.question.isReadOnlyAttr,onChange:this.handleOnChange,required:this.question.inputRequiredAttribute,"aria-label":e.locText.renderedHtml,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage}),d.createElement("div",{className:this.question.cssClasses.itemDecorator},d.createElement("div",{className:this.question.cssClasses.imageContainer},this.question.cssClasses.checkedItemDecorator?d.createElement("span",{className:this.question.cssClasses.checkedItemDecorator,"aria-hidden":"true"},this.question.cssClasses.checkedItemSvgIconId?d.createElement(Nt,{size:"auto",className:this.question.cssClasses.checkedItemSvgIcon,iconName:this.question.cssClasses.checkedItemSvgIconId}):null):null,u),o)))}}ft.Instance.registerQuestion("imagepicker",r=>d.createElement(mz,r));class fz extends hs{constructor(e){super(e)}componentDidMount(){super.componentDidMount(),this.question.locImageLink.onChanged=()=>{this.forceUpdate()}}componentWillUnmount(){super.componentWillUnmount(),this.question.locImageLink.onChanged=()=>{}}get question(){return this.questionBase}renderElement(){var e=this.question.getImageCss(),t={objectFit:this.question.imageFit,width:this.question.renderedStyleWidth,height:this.question.renderedStyleHeight};(!this.question.imageLink||this.question.contentNotLoaded)&&(t.display="none");var s=null;this.question.renderedMode==="image"&&(s=d.createElement("img",{className:e,src:this.question.locImageLink.renderedHtml||null,alt:this.question.renderedAltText,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,onLoad:n=>{this.question.onLoadHandler()},onError:n=>{this.question.onErrorHandler()}})),this.question.renderedMode==="video"&&(s=d.createElement("video",{controls:!0,className:e,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,onLoadedMetadata:n=>{this.question.onLoadHandler()},onError:n=>{this.question.onErrorHandler()}})),this.question.renderedMode==="youtube"&&(s=d.createElement("iframe",{className:e,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,title:this.question.renderedAltText}));var i=null;return(!this.question.imageLink||this.question.contentNotLoaded)&&(i=d.createElement("div",{className:this.question.cssClasses.noImage},d.createElement(Nt,{iconName:this.question.cssClasses.noImageSvgIconId,size:48}))),d.createElement("div",{className:this.question.cssClasses.root},s,i)}}ft.Instance.registerQuestion("image",r=>d.createElement(fz,r));class vz extends hs{constructor(e){super(e),this.state={value:this.question.value}}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;const t=this.question.showLoadingIndicator?this.renderLoadingIndicator():null;var s=this.renderCleanButton();return d.createElement("div",{className:e.root,ref:i=>this.setControl(i),style:{width:this.question.renderedCanvasWidth}},d.createElement("div",{className:e.placeholder,style:{display:this.question.needShowPlaceholder()?"":"none"}},this.renderLocString(this.question.locRenderedPlaceholder)),d.createElement("div",null,this.renderBackgroundImage(),d.createElement("canvas",{tabIndex:-1,className:this.question.cssClasses.canvas,onBlur:i=>{this.question.onBlur(i)}})),s,t)}renderBackgroundImage(){return this.question.backgroundImage?d.createElement("img",{className:this.question.cssClasses.backgroundImage,src:this.question.backgroundImage,style:{width:this.question.renderedCanvasWidth},role:"presentation"}):null}renderLoadingIndicator(){return d.createElement("div",{className:this.question.cssClasses.loadingIndicator},d.createElement(u3,null))}renderCleanButton(){if(!this.question.canShowClearButton)return null;var e=this.question.cssClasses;return d.createElement("div",{className:e.controls},d.createElement("button",{type:"button",className:e.clearButton,title:this.question.clearButtonCaption,onClick:()=>this.question.clearValue(!0)},this.question.cssClasses.clearButtonIconId?d.createElement(Nt,{iconName:this.question.cssClasses.clearButtonIconId,size:"auto"}):d.createElement("span",null,"")," "))}}ft.Instance.registerQuestion("signaturepad",r=>d.createElement(vz,r));class yz extends hs{constructor(e){super(e)}get question(){return this.questionBase}getStateElement(){return this.question}renderElement(){const e=this.renderItems();return d.createElement("div",{className:this.question.cssClasses.root},e)}renderItems(){return this.question.visibleChoices.map((e,t)=>d.createElement(xz,{key:this.question.inputId+"_"+t,item:e,question:this.question,index:t}))}}ft.Instance.registerQuestion("buttongroup",r=>d.createElement(yz,r));class xz extends Ye{constructor(e){super(e)}get index(){return this.props.index}get question(){return this.props.question}get item(){return this.props.item}getStateElement(){return this.item}renderElement(){this.model=new tq(this.question,this.item,this.index);const e=this.renderIcon(),t=this.renderInput(),s=this.renderCaption();return d.createElement("label",{className:this.model.css.label,title:this.model.caption.renderedHtml},t,d.createElement("div",{className:this.model.css.decorator},e,s))}renderIcon(){return this.model.iconName?d.createElement(Nt,{className:this.model.css.icon,iconName:this.model.iconName,size:this.model.iconSize||24}):null}renderInput(){return d.createElement("input",{className:this.model.css.control,id:this.model.id,type:"radio",name:this.model.name,checked:this.model.selected,value:this.model.value,disabled:this.model.readOnly,onChange:()=>{this.model.onChange()},"aria-required":this.model.isRequired,"aria-label":this.model.caption.renderedHtml,"aria-invalid":this.model.hasErrors,"aria-errormessage":this.model.describedBy})}renderCaption(){if(!this.model.showCaption)return null;let e=this.renderLocString(this.model.caption);return d.createElement("span",{className:this.model.css.caption,title:this.model.caption.renderedHtml},e)}}class bz extends jm{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.renderSelect(e);return d.createElement("div",{className:this.question.cssClasses.rootDropdown},t)}}ft.Instance.registerQuestion("sv-buttongroup-dropdown",r=>d.createElement(bz,r));mn.Instance.registerRenderer("buttongroup","dropdown","sv-buttongroup-dropdown");class Cz extends ac{constructor(e){super(e)}getStateElements(){const e=super.getStateElements();return this.question.contentQuestion&&e.push(this.question.contentQuestion),e}renderElement(){return co.renderQuestionBody(this.creator,this.question.contentQuestion)}}class wz extends ac{constructor(e){super(e)}canRender(){return!!this.question.contentPanel}renderElement(){return d.createElement(uc,{element:this.question.contentPanel,creator:this.creator,survey:this.question.survey})}}ft.Instance.registerQuestion("custom",r=>d.createElement(Cz,r));ft.Instance.registerQuestion("composite",r=>d.createElement(wz,r));class Sz extends Ye{get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.renderLocString(this.item.locTitle,void 0,"locString"),t=this.item.iconName?d.createElement(Nt,{className:this.model.cssClasses.itemIcon,iconName:this.item.iconName,size:this.item.iconSize,"aria-label":this.item.title}):null,s=this.item.markerIconName?d.createElement(Nt,{className:this.item.cssClasses.itemMarkerIcon,iconName:this.item.markerIconName,size:"auto"}):null;return d.createElement(d.Fragment,null,t,e,s)}}Ce.Instance.registerElement("sv-list-item-content",r=>d.createElement(Sz,r));class Ez extends Ye{get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){var e;if(!this.item)return null;const t=Ce.Instance.createElement("sv-list-item-content",{item:this.item,key:"content"+this.item.id,model:this.model});return d.createElement(d.Fragment,null,t,d.createElement(lc,{model:(e=this.item)===null||e===void 0?void 0:e.popupModel}))}}Ce.Instance.registerElement("sv-list-item-group",r=>d.createElement(Ez,r));class Vz extends d.Component{constructor(e){super(e)}get survey(){return this.props.data}render(){const e=[];return e.push(d.createElement("div",{key:"logo-image",className:this.survey.logoClassNames},d.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml||null,alt:this.survey.locTitle.renderedHtml,width:this.survey.renderedLogoWidth,height:this.survey.renderedLogoHeight,style:{objectFit:this.survey.logoFit,width:this.survey.renderedStyleLogoWidth,height:this.survey.renderedStyleLogoHeight}}))),d.createElement(d.Fragment,null,e)}}Ce.Instance.registerElement("sv-logo-image",r=>d.createElement(Vz,r));class Pz extends Ft{constructor(e){super(e),this.handleOnRowRemoveClick=this.handleOnRowRemoveClick.bind(this)}get question(){return this.props.item.data.question}get row(){return this.props.item.data.row}handleOnRowRemoveClick(e){this.question.removeRowUI(this.row)}renderElement(){var e=this.renderLocString(this.question.locRemoveRowText);return d.createElement("button",{className:this.question.getRemoveRowButtonCss(),type:"button",onClick:this.handleOnRowRemoveClick,disabled:this.question.isInputReadOnly},e,d.createElement("span",{className:this.question.cssClasses.iconRemove}))}}Ce.Instance.registerElement("sv-matrix-remove-button",r=>d.createElement(Pz,r));class Iz extends Ft{constructor(e){super(e),this.handleOnShowHideClick=this.handleOnShowHideClick.bind(this)}getStateElement(){return this.props.item}get item(){return this.props.item}get question(){return this.props.item.data.question}get row(){return this.props.item.data.row}handleOnShowHideClick(e){this.row.showHideDetailPanelClick()}renderElement(){var e=this.row.isDetailPanelShowing,t=e,s=e?this.row.detailPanelId:void 0;return d.createElement("button",{type:"button",title:this.props.item.title,onClick:this.handleOnShowHideClick,className:this.question.getDetailPanelButtonCss(this.row),"aria-expanded":t,"aria-controls":s},d.createElement(Nt,{className:this.question.getDetailPanelIconCss(this.row),iconName:this.question.getDetailPanelIconId(this.row),size:"auto"}))}}Ce.Instance.registerElement("sv-matrix-detail-button",r=>d.createElement(Iz,r));class dc extends Ft{constructor(e){super(e)}get data(){return this.props.item&&this.props.item.data||this.props.data}get question(){return this.props.item&&this.props.item.data.question||this.props.data.question}}class Tz extends dc{constructor(){super(...arguments),this.handleClick=e=>{this.question.addPanelUI()}}renderElement(){if(!this.question.canAddPanel)return null;const e=this.renderLocString(this.question.locAddPanelText);return d.createElement("button",{type:"button",id:this.question.addButtonId,className:this.question.getAddButtonCss(),onClick:this.handleClick},d.createElement("span",{className:this.question.cssClasses.buttonAddText},e))}}Ce.Instance.registerElement("sv-paneldynamic-add-btn",r=>d.createElement(Tz,r));class kz extends dc{constructor(){super(...arguments),this.handleClick=e=>{this.question.removePanelUI(this.data.panel)}}renderElement(){const e=this.renderLocString(this.question.locRemovePanelText),t=this.question.getPanelRemoveButtonId(this.data.panel);return d.createElement("button",{id:t,className:this.question.getPanelRemoveButtonCss(),onClick:this.handleClick,type:"button"},d.createElement("span",{className:this.question.cssClasses.buttonRemoveText},e),d.createElement("span",{className:this.question.cssClasses.iconRemove}))}}Ce.Instance.registerElement("sv-paneldynamic-remove-btn",r=>d.createElement(kz,r));class Nz extends dc{constructor(){super(...arguments),this.handleClick=e=>{this.question.goToPrevPanel()}}renderElement(){return d.createElement("div",{title:this.question.panelPrevText,onClick:this.handleClick,className:this.question.getPrevButtonCss()},d.createElement(Nt,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))}}Ce.Instance.registerElement("sv-paneldynamic-prev-btn",r=>d.createElement(Nz,r));class Rz extends dc{constructor(){super(...arguments),this.handleClick=e=>{this.question.goToNextPanel()}}renderElement(){return d.createElement("div",{title:this.question.panelNextText,onClick:this.handleClick,className:this.question.getNextButtonCss()},d.createElement(Nt,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))}}Ce.Instance.registerElement("sv-paneldynamic-next-btn",r=>d.createElement(Rz,r));class Lz extends dc{renderElement(){return d.createElement("div",{className:this.question.cssClasses.progressText},this.question.progressText)}}Ce.Instance.registerElement("sv-paneldynamic-progress-text",r=>d.createElement(Lz,r));class Az extends Ft{get item(){return this.props.item}canRender(){return this.item.isVisible}renderElement(){return d.createElement("input",{className:this.item.innerCss,type:"button",disabled:this.item.disabled,onMouseDown:this.item.data&&this.item.data.mouseDown,onClick:this.item.action,title:this.item.getTooltip(),value:this.item.title})}}Ce.Instance.registerElement("sv-nav-btn",r=>d.createElement(Az,r));class v3 extends d.Component{constructor(e){super(e),this.onChangedHandler=(t,s)=>{this.isRendering||this.setState({changed:this.state&&this.state.changed?this.state.changed+1:1})},this.rootRef=d.createRef()}get locStr(){return this.props.locStr}get style(){return this.props.style}componentDidMount(){this.reactOnStrChanged()}componentWillUnmount(){this.locStr&&this.locStr.onStringChanged.remove(this.onChangedHandler)}componentDidUpdate(e,t){e.locStr&&e.locStr.onStringChanged.remove(this.onChangedHandler),this.reactOnStrChanged()}reactOnStrChanged(){this.locStr&&this.locStr.onStringChanged.add(this.onChangedHandler)}render(){if(!this.locStr)return null;this.isRendering=!0;const e=this.renderString();return this.isRendering=!1,e}renderString(){const e=this.locStr.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer";if(this.locStr.hasHtml){let t={__html:this.locStr.renderedHtml};return d.createElement("span",{ref:this.rootRef,className:e,style:this.style,dangerouslySetInnerHTML:t})}return d.createElement("span",{ref:this.rootRef,className:e,style:this.style},this.locStr.renderedHtml)}}Ce.Instance.registerElement(as.defaultRenderer,r=>d.createElement(v3,r));class Dz extends d.Component{render(){return d.createElement("div",null,d.createElement("span",{className:this.props.cssClasses.error.icon||void 0,"aria-hidden":"true"}),d.createElement("span",{className:this.props.cssClasses.error.item||void 0},d.createElement(v3,{locStr:this.props.error.locText})))}}Ce.Instance.registerElement("sv-question-error",r=>d.createElement(Dz,r));class Mz extends Ye{getStateElement(){return this.item}get item(){return this.props.item}get question(){return this.props.question}componentDidUpdate(e,t){super.componentDidUpdate(e,t)}renderElement(){const{cssClasses:e,handleLabelPointerUp:t,getLabelCss:s,getPercent:i}=this.question,{value:n,locText:o}=this.item;return d.createElement("div",{key:this.item.id,className:s(o),style:{left:i(n)+"%"},onPointerUp:l=>{t(l.nativeEvent,n)}},d.createElement("div",{className:e.labelTick}),d.createElement("div",{className:e.labelText},this.renderLocString(o)))}}Ce.Instance.registerElement("sv-slider-label-item",r=>d.createElement(Mz,r));class jz extends d.Component{render(){var e,t;return d.createElement("div",{className:"sv-skeleton-element",id:(e=this.props.element)===null||e===void 0?void 0:e.id,style:{height:(t=this.props.element)===null||t===void 0?void 0:t.skeletonHeight}})}}Ce.Instance.registerElement("sv-skeleton",r=>d.createElement(jz,r));class _z extends d.Component{get model(){return this.props.model}renderLogoImage(){const e=this.model.survey.getElementWrapperComponentName(this.model.survey,"logo-image"),t=this.model.survey.getElementWrapperComponentData(this.model.survey,"logo-image");return Ce.Instance.createElement(e,{data:t})}render(){return d.createElement("div",{className:"sv-header--mobile"},this.model.survey.hasLogo?d.createElement("div",{className:"sv-header__logo"},this.renderLogoImage()):null,this.model.survey.hasTitle?d.createElement("div",{className:"sv-header__title",style:{maxWidth:this.model.renderedTextAreaWidth}},d.createElement(Zl,{element:this.model.survey})):null,this.model.survey.renderedHasDescription?d.createElement("div",{className:"sv-header__description",style:{maxWidth:this.model.renderedTextAreaWidth}},d.createElement("div",{className:this.model.survey.css.description},Ye.renderLocString(this.model.survey.locDescription))):null)}}class Oz extends d.Component{get model(){return this.props.model}renderLogoImage(){const e=this.model.survey.getElementWrapperComponentName(this.model.survey,"logo-image"),t=this.model.survey.getElementWrapperComponentData(this.model.survey,"logo-image");return Ce.Instance.createElement(e,{data:t})}render(){return d.createElement("div",{className:this.model.css,style:this.model.style},d.createElement("div",{className:"sv-header__cell-content",style:this.model.contentStyle},this.model.showLogo?d.createElement("div",{className:"sv-header__logo"},this.renderLogoImage()):null,this.model.showTitle?d.createElement("div",{className:"sv-header__title",style:{maxWidth:this.model.textAreaWidth}},d.createElement(Zl,{element:this.model.survey})):null,this.model.showDescription?d.createElement("div",{className:"sv-header__description",style:{maxWidth:this.model.textAreaWidth}},d.createElement("div",{className:this.model.survey.css.description},Ye.renderLocString(this.model.survey.locDescription))):null))}}class Fz extends Ye{get model(){return this.props.model}getStateElement(){return this.model}renderElement(){if(this.model.survey=this.props.survey,this.props.survey.headerView!=="advanced"||this.model.isEmpty)return null;let e=null;return this.props.survey.isMobile?e=d.createElement(_z,{model:this.model}):e=d.createElement("div",{className:this.model.contentClasses,style:{maxWidth:this.model.maxWidth}},this.model.cells.map((t,s)=>d.createElement(Oz,{key:s,model:t}))),d.createElement("div",{className:this.model.headerClasses,style:{height:this.model.renderedHeight}},this.model.backgroundImage?d.createElement("div",{style:this.model.backgroundImageStyle,className:this.model.backgroundImageClasses}):null,e)}componentDidMount(){super.componentDidMount(),this.model.processResponsiveness()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.model.processResponsiveness()}}Ce.Instance.registerElement("sv-header",r=>d.createElement(Fz,r));class Bz extends d.Component{constructor(e){super(e),this.onInput=t=>{this.locStr.text=t.target.innerText},this.onClick=t=>{t.preventDefault(),t.stopPropagation()},this.state={changed:0}}get locStr(){return this.props.locStr}get style(){return this.props.style}componentDidMount(){if(this.locStr){var e=this;this.locStr.onChanged=function(){e.setState({changed:e.state.changed+1})}}}componentWillUnmount(){this.locStr&&(this.locStr.onChanged=function(){})}render(){if(!this.locStr)return null;if(this.locStr.hasHtml){const e={__html:this.locStr.renderedHtml};return d.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,dangerouslySetInnerHTML:e,onBlur:this.onInput,onClick:this.onClick})}return d.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,onBlur:this.onInput,onClick:this.onClick},this.locStr.renderedHtml)}}Ce.Instance.registerElement(as.editableRenderer,r=>d.createElement(Bz,r));aq("2.3.7","survey-react-ui");const qz=({title:r="Registration Form",puck:e})=>{const t={title:r,showProgressBar:"top",showQuestionNumbers:"off",pages:[{name:"registration",elements:[{type:"text",name:"fullName",title:"Full name",isRequired:!0,placeholder:"Enter full name"},{type:"text",name:"email",title:"Email",inputType:"email",placeholder:"Pre-filled from profile creation"},{type:"text",name:"phone",title:"Phone",inputType:"tel",placeholder:"Enter phone"},{type:"dropdown",name:"ticketType",title:"Ticket type",placeholder:"Select ticket type",choices:["General Admission","VIP","Student","Early Bird","Group"]},{type:"dropdown",name:"category",title:"Category",placeholder:"Select category",choices:["Technology","Business","Education","Healthcare","Other"]},{type:"dropdown",name:"organization",title:"Organization",placeholder:"Select organization",choices:["Company A","Company B","University","Non-profit","Other"]},{type:"text",name:"address",title:"Address",placeholder:"Enter address"},{type:"dropdown",name:"dietaryRequirements",title:"Dietary requirements",placeholder:"Select dietary requirements",choices:["None","Vegetarian","Vegan","Gluten-free","Halal","Kosher","Other"]},{type:"dropdown",name:"accessibilityRequirements",title:"Accessibility requirements",placeholder:"Select accessibility requirements",choices:["None","Wheelchair access","Hearing assistance","Visual assistance","Other"]},{type:"boolean",name:"termsAccepted",title:"Terms & Conditions",isRequired:!0}]}],completeText:"Pay & Register",showCompletedPage:!1},s=new tt(t);return s.onComplete.add(i=>{console.log("Form completed with data:",i.data)}),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          /* SurveyJS modern theme variables */
          .sd-root-modern {
            --sjs-primary-backcolor: #8b5cf6 !important;
            --sjs-primary-backcolor-light: #a78bfa !important;
            --sjs-primary-backcolor-dark: #7c3aed !important;
            --sjs-primary-backcolor-dim: #ede9fe !important;
            --sjs-primary-forecolor: #ffffff !important;
            --sjs-border-default: #e5e7eb !important;
            --sjs-general-backcolor: #ffffff !important;
            --sjs-general-forecolor: #333333 !important;
          }

          /* Progress bar */
          .sd-progress {
            background-color: #f3f4f6 !important;
            border-radius: 4px !important;
            height: 4px !important;
            margin-bottom: 24px !important;
          }

          .sd-progress__bar {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important;
            border-radius: 4px !important;
          }

          /* Buttons */
          .sd-btn,
          .sd-completedpage .sd-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important;
            color: #ffffff !important;
            border: none !important;
            border-radius: 8px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            padding: 14px 24px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            width: 100% !important;
            margin-top: 20px !important;
          }

          .sd-btn:hover {
            background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%) !important;
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
          }

          /* Checkbox styling */
          .sd-input.sd-checkbox,
          .sd-checkbox input[type="checkbox"] {
            accent-color: #8b5cf6 !important;
          }

          /* Focus states */
          input:focus,
          select:focus,
          textarea:focus {
            border-color: #8b5cf6 !important;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
            outline: none !important;
          }
        `}),a.jsx("div",{ref:e==null?void 0:e.dragRef,className:"max-w-[600px] mx-auto p-5 font-sans bg-white rounded-lg shadow-sm",children:a.jsx(Jx,{model:s})})]})},zz=({formUrl:r,height:e=500,puck:t})=>r?a.jsx("div",{ref:t==null?void 0:t.dragRef,className:"my-5 rounded-lg overflow-hidden shadow-md",children:a.jsx("iframe",{src:r,width:"100%",height:e,frameBorder:"0",marginHeight:0,marginWidth:0,className:"border-none rounded-lg",title:"Google Form",children:"Loading Google Form..."})}):a.jsxs("div",{ref:t==null?void 0:t.dragRef,className:"p-5 border-2 border-dashed border-red-400 rounded-lg bg-red-50 text-red-600 text-center my-2.5",children:[a.jsx("strong",{children:"Google Form URL not provided"}),a.jsx("br",{}),a.jsx("small",{children:"Please provide a valid Google Form URL"})]}),Hz=({title:r="Live Chat",height:e="500px",backgroundColor:t="#ffffff",headerColor:s="#8b5cf6",headerTextColor:i="#ffffff",messageUserBg:n="#3b82f6",messageAgentBg:o="#e5e7eb",inputBorderColor:l="#d1d5db",buttonColor:u="#3b82f6",buttonTextColor:c="#ffffff",placeholderText:h="Type your message..."})=>{const[p,m]=d.useState([]),[v,f]=d.useState(""),b=d.useRef(null),x="livechat_messages";d.useEffect(()=>{try{const D=localStorage.getItem(x);if(D){const U=JSON.parse(D).map($=>({...$,timestamp:new Date($.timestamp)}));m(U)}}catch(D){console.error("Error loading messages from localStorage:",D)}},[]),d.useEffect(()=>{try{localStorage.setItem(x,JSON.stringify(p))}catch(D){console.error("Error saving messages to localStorage:",D)}},[p]),d.useEffect(()=>{g()},[p]);const g=()=>{var D;(D=b.current)==null||D.scrollIntoView({behavior:"smooth"})},y=D=>{if(D.preventDefault(),v.trim()==="")return;const q={id:Date.now().toString(),text:v,timestamp:new Date,sender:"user"};m(U=>[...U,q]),f("")},w=()=>{m([]),localStorage.removeItem(x)},S=()=>{const D=["Hello! How can I help you today?","I'm here to assist you with any questions.","Thank you for your message. Let me help you with that.","That's a great question! Let me provide some information.","I understand. Is there anything specific you'd like to know?","Thanks for reaching out! I'm happy to help."],q=D[Math.floor(Math.random()*D.length)],U={id:Date.now().toString(),text:q,timestamp:new Date,sender:"agent"};m($=>[...$,U])},P=D=>D.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),V={height:e,backgroundColor:t},I={backgroundColor:s,color:i},E={color:i,border:`1px solid ${i}`},R=D=>({backgroundColor:D==="user"?n:o,color:D==="user"?"#ffffff":"#1f2937"}),C={backgroundColor:t,borderTop:`1px solid ${l}`},k={border:`1px solid ${l}`},L={backgroundColor:u,color:c};return a.jsxs("div",{style:V,className:"flex flex-col rounded-xl shadow-md overflow-hidden font-sans my-4",children:[a.jsxs("div",{style:I,className:"px-5 py-4 flex justify-between items-center border-b border-black/10",children:[a.jsx("h3",{className:"text-lg font-semibold m-0",children:r}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{style:E,onClick:S,className:"bg-transparent rounded-md py-1.5 px-3 text-xs cursor-pointer transition-all duration-200 font-medium hover:bg-white/20",onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},children:"Agent Reply"}),a.jsx("button",{style:E,onClick:w,className:"bg-transparent rounded-md py-1.5 px-3 text-xs cursor-pointer transition-all duration-200 font-medium hover:bg-white/20",onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},children:"Clear Chat"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-5 flex flex-col gap-3 bg-gray-50",children:[p.length===0?a.jsx("div",{className:"text-center text-gray-400 text-sm py-10 px-5",children:"No messages yet. Start a conversation!"}):p.map(D=>a.jsxs("div",{className:`flex flex-col max-w-[70%] ${D.sender==="user"?"items-end self-end":"items-start self-start"}`,children:[a.jsx("div",{style:R(D.sender),className:`px-3.5 py-2.5 ${D.sender==="user"?"rounded-t-xl rounded-br-none rounded-bl-xl":"rounded-t-xl rounded-bl-none rounded-br-xl"} break-words text-sm leading-relaxed`,children:D.text}),a.jsx("div",{className:"text-[11px] text-gray-400 mt-1 px-1",children:P(D.timestamp)})]},D.id)),a.jsx("div",{ref:b})]}),a.jsx("form",{onSubmit:y,style:C,className:"p-4 relative",children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("input",{type:"text",value:v,onChange:D=>f(D.target.value),placeholder:h,style:k,className:"flex-1 py-3 pr-12 pl-3.5 rounded-full text-sm outline-none transition-colors duration-200 bg-gray-50",onFocus:D=>{D.currentTarget.style.borderColor=u},onBlur:D=>{D.currentTarget.style.borderColor=l}}),a.jsx("button",{type:"submit",disabled:v.trim()==="",style:L,className:`absolute right-2 border-none rounded-full w-9 h-9 flex items-center justify-center cursor-pointer transition-all duration-200 p-0 ${v.trim()===""?"opacity-40 cursor-not-allowed":"opacity-100"}`,onMouseEnter:D=>{v.trim()!==""&&(D.currentTarget.style.transform="scale(1.1)",D.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.4)")},onMouseLeave:D=>{D.currentTarget.style.transform="scale(1)",D.currentTarget.style.boxShadow="none"},children:a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),a.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})})]})},Qz=()=>{const[r,e]=d.useState(!1),[t,s]=d.useState(""),[i,n]=d.useState(""),[o,l]=d.useState(""),[u,c]=d.useState(""),[h,p]=d.useState(!1);d.useEffect(()=>{const f=localStorage.getItem("apiTestToken");f&&l(f)},[]),d.useEffect(()=>{o?localStorage.setItem("apiTestToken",o):localStorage.removeItem("apiTestToken")},[o]);const m=async()=>{e(!0),n(""),s("");try{const f=h?u:"https://jsonplaceholder.typicode.com/posts/1",b={"Content-Type":"application/json"};o.trim()&&(b.Authorization=o.startsWith("Bearer ")?o:`Bearer ${o}`);const g=await(await fetch(f,{headers:b})).json();s(JSON.stringify(g,null,2)),console.log("GET API Success:",g)}catch(f){n(`Error: ${f instanceof Error?f.message:"Unknown error"}`),console.error("GET API Error:",f)}finally{e(!1)}},v=async()=>{e(!0),n(""),s("");try{const f=h?u:"https://jsonplaceholder.typicode.com/posts",b={"Content-Type":"application/json"};o.trim()&&(b.Authorization=o.startsWith("Bearer ")?o:`Bearer ${o}`);const g=await(await fetch(f,{method:"POST",headers:b,body:JSON.stringify({title:"Test Post",body:"This is a test post from API Test Component",userId:1})})).json();s(JSON.stringify(g,null,2)),console.log("POST API Success:",g)}catch(f){n(`Error: ${f instanceof Error?f.message:"Unknown error"}`),console.error("POST API Error:",f)}finally{e(!1)}};return a.jsxs("div",{className:"p-5 max-w-[600px] mx-auto font-sans border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h2",{className:"text-gray-800 mb-5 text-center text-2xl",children:" API Test with Auth"}),a.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-5 border border-gray-300",children:[a.jsx("h3",{className:"m-0 mb-4 text-gray-700 text-base",children:" Authentication & URL Configuration"}),a.jsxs("div",{className:"flex flex-col gap-2.5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Authorization Token:"}),a.jsx("input",{type:"password",placeholder:"Enter your token (e.g., Bearer abc123 or just abc123)",value:o,onChange:f=>l(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm box-border"}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("small",{className:"text-gray-400 text-[11px]",children:'Will automatically add "Bearer " prefix if not present'}),o&&a.jsx("button",{onClick:()=>l(""),className:"text-[11px] text-red-600 bg-none border-none cursor-pointer underline",children:"Clear Token"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"useCustomUrl",checked:h,onChange:f=>p(f.target.checked),className:"m-0"}),a.jsx("label",{htmlFor:"useCustomUrl",className:"text-xs text-gray-500 cursor-pointer",children:"Use Custom API Endpoint"})]}),h&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Custom API URL:"}),a.jsx("input",{type:"url",placeholder:"https://api.example.com/endpoint",value:u,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm box-border"})]})]})]}),a.jsxs("div",{className:"flex gap-2.5 justify-center mb-5",children:[a.jsx("button",{onClick:m,disabled:r,className:`py-3 px-6 text-white border-none rounded-md ${r?"bg-gray-400 cursor-not-allowed":"bg-blue-500 cursor-pointer"} text-base font-medium`,children:r?"Loading...":"GET API"}),a.jsx("button",{onClick:v,disabled:r,className:`py-3 px-6 text-white border-none rounded-md ${r?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 cursor-pointer"} text-base font-medium`,children:r?"Loading...":"POST API"})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-md mb-4 text-sm",children:i}),t&&a.jsxs("div",{className:"bg-sky-50 border border-sky-200 rounded-md p-4 mb-4",children:[a.jsx("h3",{className:"m-0 mb-2.5 text-sky-900 text-base",children:"API Response:"}),a.jsx("pre",{className:"bg-white p-2.5 rounded text-xs text-gray-700 overflow-auto border border-gray-200 m-0",children:t})]}),a.jsxs("div",{className:"text-xs text-gray-500 text-center bg-white p-2.5 rounded border border-gray-200",children:[a.jsx("strong",{children:"Default Test API:"})," JSONPlaceholder",a.jsx("br",{}),a.jsx("strong",{children:"GET:"})," /posts/1 | ",a.jsx("strong",{children:"POST:"})," /posts",a.jsx("br",{}),a.jsx("strong",{children:"Features:"})," Token Authentication | Custom URLs"]})]})},Wz=({pdfUrl:r,height:e=600,puck:t})=>{const s=d.useRef(null),[i,n]=d.useState(!1);if(d.useEffect(()=>{const p=window.self!==window.top,m=!(t!=null&&t.dragRef),v=window.location.href.includes("preview")||window.location.search.includes("preview");let f=!1;if(s.current){let b=s.current.parentElement;for(;b&&b!==document.body;){if(b.classList.contains("puck-preview")||b.classList.contains("preview")||b.getAttribute("data-puck-preview")==="true"||b.id==="preview"){f=!0;break}b=b.parentElement}}n(p||f||m||v)},[t==null?void 0:t.dragRef]),!r)return a.jsx("div",{ref:t==null?void 0:t.dragRef,className:"py-10 px-5 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 text-gray-500 text-center my-2.5 min-h-[200px] flex items-center justify-center",children:a.jsxs("div",{children:[a.jsx("strong",{className:"block mb-2 text-base",children:"No PDF selected"}),a.jsx("small",{className:"text-sm",children:"Please select a PDF from the property sidebar"})]})});const l=r.startsWith("http://")||r.startsWith("https://")||r.startsWith("/")?r:`/${r}`,u=r.startsWith("http://")||r.startsWith("https://"),h=u?`https://docs.google.com/viewer?url=${encodeURIComponent(l)}&embedded=true`:l;return a.jsx("div",{ref:p=>{s.current=p,t!=null&&t.dragRef&&typeof t.dragRef=="function"&&t.dragRef(p)},className:`${i?"fixed inset-0 z-[9999] w-screen h-screen m-0 rounded-none shadow-none border-0":"relative w-full my-5 rounded-lg shadow-sm border border-gray-200"} p-0 bg-white overflow-hidden flex flex-col`,style:{height:i?"100vh":`${e}px`},children:a.jsx("iframe",{src:h,width:"100%",height:"100%",frameBorder:"0",className:`border-0 block flex-1 min-h-0 ${i?"rounded-none":"rounded-lg"}`,title:"PDF Viewer",children:a.jsxs("div",{className:"py-10 px-5 text-center h-full flex flex-col items-center justify-center",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"mb-3 text-gray-500",children:"Your browser does not support PDFs."}),a.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-block py-3 px-6 bg-indigo-500 text-white no-underline rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors",children:"Open PDF in New Tab"})]})})})},t1=({title:r="Register now to enjoy exclusive benefits!",subtitle:e="Don't miss out on this opportunity, join us today!",buttonText:t="Register Now",backgroundColor:s="#6938EF",textColor:i="#ffffff",buttonColor:n="#6938EF",buttonBorderColor:o="#8b5cf6",onButtonClick:l})=>{const u={backgroundColor:s,color:i},c={backgroundColor:n,borderColor:o};return a.jsx("section",{style:u,className:"w-full py-16 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-3",style:{color:i},children:r}),a.jsx("p",{className:"text-lg md:text-xl mb-8 opacity-90",style:{color:i},children:e}),a.jsx("button",{onClick:l,style:c,className:"px-8 py-3 rounded-lg text-white font-semibold border-2 transition-colors hover:opacity-90",children:t})]})})},s1=({title:r="Our Sponsors",sponsors:e=[{id:"1",name:"Sponsor 1",logoUrl:""},{id:"2",name:"Sponsor 2",logoUrl:""},{id:"3",name:"Sponsor 3",logoUrl:""},{id:"4",name:"Sponsor 4",logoUrl:""}],backgroundColor:t="#ffffff",textColor:s="#1f2937",padding:i="3rem 2rem"})=>{const n={backgroundColor:t,padding:i},o=l=>{const u=[a.jsx("div",{className:"w-32 h-32 bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 border-4 border-slate-400 rounded-full"})},"1"),a.jsx("div",{className:"w-32 h-32 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx("div",{className:"text-white text-4xl font-bold",children:"E"})},"2"),a.jsx("div",{className:"w-32 h-32 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx("div",{className:"text-white text-2xl font-bold",children:"FR"})},"3"),a.jsx("div",{className:"w-32 h-32 bg-green-600 rounded-lg flex items-center justify-center",children:a.jsx("div",{className:"text-white text-4xl font-bold",children:"Z"})},"4")];return u[l%u.length]};return a.jsx("section",{style:n,className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h2",{className:"text-[24px] md:text-[24px] font-bold mb-8 text-center",style:{color:s},children:r}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 items-center justify-items-center",children:e.map((l,u)=>a.jsxs("div",{className:"flex items-center justify-center",children:[l.logoUrl||l.logo?a.jsx("img",{src:l.logoUrl||l.logo,alt:l.name,className:"max-w-full max-h-32 object-contain",onError:c=>{const h=c.target;h.style.display="none"}}):null,!l.logoUrl&&!l.logo&&o(u)]},l.id))})]})})},r1=({title:r,items:e=[{id:"1",type:"email",title:"Email",description:"Our friendly team is here to help.",actionText:"Send us an email",actionEmail:"contact@example.com"},{id:"2",type:"office",title:"Office",description:"Come and say hello at our office HQ.",actionText:"View on map",actionUrl:"#"},{id:"3",type:"phone",title:"Phone",description:"Mon-Fri from 8am to 5pm.",actionText:"Call us now",actionPhone:"+1 (555) 000-0000"}],backgroundColor:t="#ffffff",textColor:s="#1f2937",iconColor:i="#6938EF",buttonColor:n="#6938EF",padding:o="3rem 2rem",copyrightText:l="Copyright  2024"})=>{const u={backgroundColor:t,color:s,padding:o},c=p=>{switch(p){case"email":return a.jsx(z5,{className:"h-6 w-6",style:{color:i}});case"office":return a.jsx(uR,{className:"h-6 w-6",style:{color:i}});case"phone":return a.jsx(SR,{className:"h-6 w-6",style:{color:i}});default:return null}},h=p=>{p.actionEmail?window.location.href=`mailto:${p.actionEmail}`:p.actionPhone?window.location.href=`tel:${p.actionPhone}`:p.actionUrl&&(window.location.href=p.actionUrl)};return a.jsx("footer",{style:u,className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[r&&a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-8 text-center",style:{color:s},children:r}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:e.map(p=>a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-4",children:c(p.type)}),a.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:s},children:p.title}),a.jsx("p",{className:"text-sm mb-4 opacity-80",style:{color:s},children:p.description}),a.jsx("button",{onClick:()=>h(p),style:{color:n},className:"text-sm font-medium hover:opacity-80 transition-opacity underline",children:p.actionText})]},p.id))}),l&&a.jsx("div",{className:"text-center pt-8 border-t border-slate-200",children:a.jsx("p",{className:"text-sm opacity-60",style:{color:s},children:l})})]})})},Uz=({leftTitle:r="About the event",leftContent:e="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",rightTitle:t="Sponsor",rightContent:s="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",showRightIcon:i=!0,backgroundColor:n="#ffffff",textColor:o="#000000",titleColor:l="#000000",padding:u="24px",gap:c="32px",borderRadius:h="8px",borderColor:p="#e3f2fd",borderWidth:m="1px"})=>{const v={backgroundColor:n,padding:u,borderRadius:h,border:`${m} solid ${p}`,gap:c};return a.jsxs("div",{style:v,className:"grid grid-cols-1 md:grid-cols-2 my-4 max-w-full",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("h3",{style:{color:l},className:"text-lg font-bold m-0 flex items-center gap-2",children:r}),a.jsx("p",{style:{color:o},className:"text-sm leading-relaxed m-0",children:e})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("h3",{style:{color:l},className:"text-lg font-bold m-0 flex items-center gap-2",children:[t,i&&a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("div",{className:"w-3 h-3 bg-white rounded-sm relative"})})]}),a.jsx("p",{style:{color:o},className:"text-sm leading-relaxed m-0",children:s})]})]})},$z=({title:r="Event Feedback Form",subtitle:e="We value your feedback! Please take a moment to share your thoughts about the event.",backgroundColor:t="#ffffff",textColor:s="#2c3e50",padding:i="2rem",onDataSubmit:n,saveEndpoint:o})=>{const[l,u]=d.useState(null),[c,h]=d.useState(!1),p={title:r,description:e,logoPosition:"right",pages:[{name:"page1",elements:[{type:"rating",name:"overall_satisfaction",title:"How would you rate your overall satisfaction with the event?",isRequired:!0,rateMin:1,rateMax:5,minRateDescription:"Very Dissatisfied",maxRateDescription:"Very Satisfied",rateStep:1,displayMode:"buttons",colorMode:"scale"},{type:"rating",name:"speaker_quality",title:"How would you rate the quality of our speakers?",isRequired:!0,rateMin:1,rateMax:5,minRateDescription:"Poor",maxRateDescription:"Excellent",rateStep:1,displayMode:"buttons",colorMode:"scale"},{type:"rating",name:"venue_rating",title:"How would you rate the venue and facilities?",isRequired:!0,rateMin:1,rateMax:5,minRateDescription:"Poor",maxRateDescription:"Excellent",rateStep:1,displayMode:"buttons",colorMode:"scale"}]},{name:"page2",elements:[{type:"radiogroup",name:"recommend_event",title:"Would you recommend this event to others?",isRequired:!0,choices:[{value:"definitely",text:"Definitely"},{value:"probably",text:"Probably"},{value:"maybe",text:"Maybe"},{value:"probably_not",text:"Probably Not"},{value:"definitely_not",text:"Definitely Not"}],colCount:1},{type:"checkbox",name:"favorite_aspects",title:"What were your favorite aspects of the event? (Select all that apply)",choices:[{value:"speakers",text:"Speakers"},{value:"networking",text:"Networking"},{value:"content",text:"Content"},{value:"venue",text:"Venue"},{value:"organization",text:"Organization"},{value:"food_drinks",text:"Food & Drinks"}],colCount:2}]},{name:"page3",elements:[{type:"comment",name:"improvements",title:"What could we improve for future events?",rows:4},{type:"comment",name:"additional_comments",title:"Any additional comments or feedback?",rows:4},{type:"text",name:"name",title:"Your Name",isRequired:!1,maxLength:100},{type:"text",name:"email",title:"Email Address",isRequired:!1,inputType:"email",validators:[{type:"email"}]}]}],showProgressBar:"top",progressBarType:"buttons",showQuestionNumbers:"off",showCompletedPage:!0,completedHtml:`
      <div style="text-align: center; padding: 2rem;">
        <div id="completion-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #8e44ad;"></div>
        <h3 id="completion-title" style="color: #8e44ad; margin-bottom: 1rem;">Saving your feedback...</h3>
        <p id="completion-message" style="color: #666; font-size: 1.1rem; margin-bottom: 2rem;">
          Please wait while we save your response.
        </p>
        <button id="submit-another-btn" onclick="window.location.reload()" style="
          background-color: #8e44ad;
          color: white;
          border: none;
          padding: 12px 24px;
          border-radius: 8px;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          display: none;
        " onmouseover="this.style.backgroundColor='#7d3c98'" onmouseout="this.style.backgroundColor='#8e44ad'">
          Submit Another Feedback
        </button>
      </div>
    `},m=new tt(p);m.applyTheme({cssVariables:{"--sjs-primary-color":"#8e44ad","--sjs-primary-color-hover":"#7d3c98","--sjs-primary-color-light":"#a044ad","--sjs-primary-color-foreground":"#ffffff","--sjs-general-backcolor":t,"--sjs-general-forecolor":s,"--sjs-font-family":'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',"--sjs-border-radius":"8px","--sjs-border-width":"2px"},themeName:"custom-purple",colorPalette:"light",isPanelless:!1});const v=g=>{const y=document.getElementById("completion-icon"),w=document.getElementById("completion-title"),S=document.getElementById("completion-message"),P=document.getElementById("submit-another-btn");g?(y&&(y.textContent=""),w&&(w.textContent="Thank You!"),S&&(S.textContent="Your feedback has been submitted successfully. We appreciate you taking the time to help us improve our events."),P&&(P.style.display="block")):(y&&(y.textContent=""),w&&(w.textContent="Error Saving Feedback"),S&&(S.textContent="There was an error saving your feedback. Please try again or contact support."),P&&(P.style.display="block"))},f=async g=>{try{h(!0);const y={...g,timestamp:new Date().toISOString(),formType:"event-feedback"};if(o){const w=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const S=await w.json();console.log("Data saved successfully:",S)}else{const w=JSON.parse(localStorage.getItem("feedbackData")||"[]");w.push(y),localStorage.setItem("feedbackData",JSON.stringify(w)),console.log("Data saved to localStorage:",y)}n&&n(y),v(!0)}catch(y){console.error("Error saving feedback data:",y),v(!1)}finally{h(!1)}},b=g=>{u(g.data),console.log("Survey completed:",g.data),f(g.data)},x=g=>{console.log("Current page changed:",g.currentPageNo)};return m.onComplete.add(b),m.onCurrentPageChanged.add(x),Ie.useEffect(()=>{const g=`
      .sv_main .sv_body {
        background-color: ${t};
        color: ${s};
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      }
      
      .sv_main .sv_body .sv_p_root {
        padding: ${i};
      }
      
      .sv_main .sv_body .sv_p_root .sv_p_title {
        color: #8e44ad;
        font-size: 2.5rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 0.5rem;
        background: linear-gradient(45deg, #8e44ad, #a044ad);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      
      .sv_main .sv_body .sv_p_root .sv_p_description {
        color: ${s};
        font-size: 1.1rem;
        text-align: center;
        margin-bottom: 2rem;
      }
      
      .sv_main .sv_body .sv_q_title {
        color: ${s};
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
      }
        .sd-progress-buttons__button-content{
          color: ${s} !important;
    `,y=document.createElement("style");return y.textContent=g,document.head.appendChild(y),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[t,s,i]),a.jsx("div",{style:{backgroundColor:t,borderRadius:"16px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",width:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:a.jsx(Jx,{model:m})})},Gz=({src:r="https://picsum.photos/400/300",alt:e="Test image",width:t="100%",height:s="auto",borderRadius:i="0px",objectFit:n="cover",alignment:o="center",caption:l="",showCaption:u=!1})=>{const c={width:t,height:s,borderRadius:i,objectFit:n},h={left:"text-left items-start",right:"text-right items-end",center:"text-center items-center"};return a.jsxs("div",{className:`my-4 ${h[o]} flex flex-col`,children:[r?a.jsx("img",{src:r,alt:e,style:c,className:"max-w-full block",onError:p=>{const m=p.target;m.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIG5vdCBmb3VuZDwvdGV4dD48L3N2Zz4="}}):a.jsx("div",{style:c,className:"bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-600 text-sm min-h-[200px] max-w-full block",children:" No image URL provided"}),u&&l&&a.jsx("div",{className:`mt-2 text-sm text-gray-600 italic ${h[o]}`,children:l})]})},Zz="inline-flex items-center justify-center gap-1 overflow-hidden rounded-lg border-2 border-transparent bg-primary px-3 py-2 text-sm font-semibold text-white leading-5 shadow-[0px_1px_2px_rgba(10,13,18,0.05),inset_0px_-2px_0px_rgba(10,13,18,0.05),inset_0px_0px_0px_1px_rgba(10,13,18,0.18)] outline outline-2 outline-offset-[-2px] outline-white/10 transition-colors duration-200 hover:bg-[#5a2dd4] focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",Jz=({link:r,buttonText:e="Navigate",onClick:t})=>{const s=d.useRef(null),i=d.useRef(null);d.useEffect(()=>{const o=()=>{s.current&&(s.current.style.setProperty("color","#FFFFFF","important"),s.current.style.setProperty("-webkit-text-fill-color","#FFFFFF","important")),i.current&&(i.current.style.setProperty("color","#FFFFFF","important"),i.current.style.setProperty("-webkit-text-fill-color","#FFFFFF","important"))};o();const l=setInterval(o,100);return()=>clearInterval(l)},[]);const n=()=>{t?t():r&&(r.startsWith("http://")||r.startsWith("https://")?window.open(r,"_blank"):window.location.href=r)};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        button[data-custom-schedule-button],
        button[data-custom-schedule-button] *,
        button[data-custom-schedule-button] span {
          color: #FFFFFF !important;
          -webkit-text-fill-color: #FFFFFF !important;
        }
      `}),a.jsx("div",{className:"inline-block w-full",children:a.jsx("button",{ref:s,"data-custom-schedule-button":"true",type:"button",onClick:n,className:Zz,children:a.jsx("span",{ref:i,className:"font-['Inter'] text-sm font-semibold leading-5 text-white",children:e})})})]})},Kz=r=>{var E,R,C,k,L,D,q,U,$,K;const{onChange:e}=r,t=lH(),s=t==null?void 0:t.data,i=t==null?void 0:t.onChange,n=e||i,[o,l]=d.useState(null),u=d.useRef(null);d.useEffect(()=>{s&&(l(s),u.current=s)},[s]),d.useEffect(()=>{r.data&&(l(r.data),u.current=r.data)},[r.data]);const c=o||r.data||s,h=!!(c&&c.root),p=h?c:{content:[],root:{props:{}},zones:{}};if(console.log("SchedulesSectionField rendered",{data:p,hasOnChange:!!n,contextData:s,propsData:r.data,currentData:o,hasContext:t!==null,context:t}),!n)return console.warn("SchedulesSectionField: Missing onChange",{data:p,onChange:n}),a.jsx("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-xs text-rose-700",children:"Error: Missing onChange"});const m=(R=(E=p==null?void 0:p.root)==null?void 0:E.props)==null?void 0:R.pageType,v=((k=(C=p==null?void 0:p.root)==null?void 0:C.props)==null?void 0:k.pageTitle)||((D=(L=p==null?void 0:p.root)==null?void 0:L.props)==null?void 0:D.title);if(!(m==="schedule"||v==="Schedule"))return null;const b=((U=(q=p==null?void 0:p.root)==null?void 0:q.props)==null?void 0:U.schedules)||[],[x,g]=d.useState(""),[y,w]=d.useState(!1);d.useEffect(()=>{c&&c!==o&&(l(c),u.current=c)},[c]);const S=()=>{var de,se;const M=o||p;if(!M){console.error("Cannot create schedule: no data available");return}const j=((se=(de=M==null?void 0:M.root)==null?void 0:de.props)==null?void 0:se.schedules)||[],B=`schedule-${Date.now()}`,Q={id:B,name:`Schedule ${j.length+1}`,createdAt:new Date().toISOString()},G=[...j,Q],X={...M,root:{...M.root,props:{...M.root.props,schedules:G}}};n(X),l(X),u.current=X,g(B)},P=M=>{g(M),w(!1)},V=b.find(M=>M.id===x),I=!h;return a.jsxs("div",{className:"w-full rounded-lg bg-white p-3 text-sm",children:[I&&a.jsx("div",{className:"mb-3 rounded-md border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading schedules..."}),a.jsx("div",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Schedules"}),b.length>0&&a.jsxs("div",{className:"relative mb-3",children:[a.jsxs("button",{type:"button",onClick:()=>w(!y),className:"flex w-full items-center justify-between rounded-md border border-slate-300 bg-white px-3 py-2 text-left text-sm text-slate-600 shadow-sm transition hover:border-slate-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:[a.jsx("span",{className:V?"text-slate-700":"text-slate-400",children:V?V.name:"Select schedule"}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${y?"rotate-180":"rotate-0"}`,children:a.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),y&&a.jsx("div",{className:"absolute left-0 right-0 z-50 mt-1 max-h-52 overflow-y-auto rounded-md border border-slate-200 bg-white shadow-lg",children:b.map(M=>{const j=x===M.id;return a.jsx("button",{type:"button",onClick:()=>P(M.id),className:`w-full px-3 py-2 text-left text-sm transition ${j?"bg-slate-100 font-medium text-slate-700":"text-slate-600 hover:bg-slate-50"}`,children:M.name},M.id)})})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Jz,{name:"navigateSchedule",link:(($=r.field)==null?void 0:$.link)||"/schedules",buttonText:((K=r.field)==null?void 0:K.buttonText)||"Create schedule",onClick:()=>{S(),window.dispatchEvent(new CustomEvent("navigate-to-schedule"))}})})]})},Yz=[{label:"Select a PDF...",value:""},{label:"Sample PDF (Mozilla)",value:"https://www.maricopa.gov/DocumentCenter/View/7469/Sample-Floor-Plan-PDF"},{label:"Sample PDF (W3C)",value:"https://www.africau.edu/images/default/sample.pdf"},{label:"Local PDF (test.pdf)",value:"/pdfs/test.pdf"}],Xz=({value:r="",onChange:e})=>{const t=s=>{e&&e(s.target.value)};return a.jsxs("div",{style:{width:"100%"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Select PDF"}),a.jsx("select",{value:r,onChange:t,style:{width:"100%",padding:"8px 12px",fontSize:"14px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",color:"#111827",cursor:"pointer",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:s=>{s.target.style.borderColor="#6366f1",s.target.style.boxShadow="0 0 0 3px rgba(99, 102, 241, 0.1)"},onBlur:s=>{s.target.style.borderColor="#d1d5db",s.target.style.boxShadow="none"},children:Yz.map(s=>a.jsx("option",{value:s.value,children:s.label},s.value))})]})},eH=360,tH=768,sH=1024,rH=1440,Nn={mobile:eH,tablet:tH,desktop:sH,wide:rH},iH=[{width:Nn.mobile,height:"auto",label:`Mobile (${Nn.mobile}px)`,icon:""},{width:Nn.tablet,height:"auto",label:`Tablet (${Nn.tablet}px)`,icon:""},{width:Nn.desktop,height:"auto",label:`Desktop (${Nn.desktop}px)`,icon:""},{width:Nn.wide,height:"auto",label:`Large Desktop (${Nn.wide}px)`,icon:""},{width:"100%",height:"auto",label:"Full Width",icon:""}],Uo={viewports:iH,categories:{basic:{title:"Basic Elements",icon:"fa-solid fa-font",defaultExpanded:!0,components:["Heading","Text","Button","Checkbox","Divider","Spacer","TextBlock","InputField","SelectField"],subcategories:{typography:{title:"Typography",icon:"fa-solid fa-text-width",components:["Heading","Text","TextBlock"]},interactive:{title:"Interactive",icon:"fa-solid fa-hand-pointer",components:["Button","Checkbox","InputField","SelectField"]},spacing:{title:"Spacing",icon:"fa-solid fa-arrows-vertical",components:["Divider","Spacer"]}}},layout:{title:"Layout & Containers",icon:"fa-solid fa-th-large",defaultExpanded:!0,components:["Container","FlexContainer","GridContainer","SimpleContainer","PositionedElement","GridLayout"],subcategories:{containers:{title:"Containers",icon:"fa-solid fa-square",components:["Container","SimpleContainer","GridLayout"]},flexbox:{title:"Flexbox",icon:"fa-solid fa-arrows-left-right",components:["FlexContainer"]},grid:{title:"Grid",icon:"fa-solid fa-grid-3x3",components:["GridContainer"]},positioning:{title:"Positioning",icon:"fa-solid fa-crosshairs",components:["PositionedElement"]}}},content:{title:"Content Blocks",icon:"fa-solid fa-cube",defaultExpanded:!0,components:["Card","List"],subcategories:{cards:{title:"Cards",icon:"fa-solid fa-id-card",components:["Card"]},lists:{title:"Lists",icon:"fa-solid fa-list",components:["List"]}}},advanced:{title:"Advanced Components",icon:"fa-solid fa-magic",defaultExpanded:!1,components:["HeroSection","HeroVideo","Slider","Image","SpeakerCard","SpeakersSection","SchedulePage","ScheduleSection","AboutSection","TwoColumnContent","PricingPlans","FAQSection","FAQAccordion","RegistrationCTA","Sponsors","ContactFooter","Navigation","CountdownTimer","ProgressCircleStats","HTMLContent","FeedbackForm","RegistrationForm","SessionForm","LiveChat","ApiTestComponent","PdfViewer"],subcategories:{sections:{title:"Sections",icon:"fa-solid fa-window-maximize",components:["HeroSection","HeroVideo","SchedulePage","AboutSection","TwoColumnContent","PricingPlans","FAQSection","FAQAccordion","RegistrationCTA","Sponsors","ContactFooter","HTMLContent","FeedbackForm","RegistrationForm","SessionForm"]},media:{title:"Media",icon:"fa-solid fa-image",components:["Image","Slider","PdfViewer"]},interactive:{title:"Interactive",icon:"fa-solid fa-hand-pointer",components:["SpeakerCard","SpeakersSection","ScheduleSection","Navigation","CountdownTimer","ProgressCircleStats"]}}}},components:{Heading:{label:" Heading",fields:{text:{type:"text"},level:{type:"select",options:[{label:"H1",value:1},{label:"H2",value:2},{label:"H3",value:3},{label:"H4",value:4},{label:"H5",value:5},{label:"H6",value:6}]},size:{type:"select",label:"Size",options:[{label:"XXXL (4rem)",value:"XXXL"},{label:"XXL (3.5rem)",value:"XXL"},{label:"XL (3rem)",value:"XL"},{label:"L (2.5rem)",value:"L"},{label:"M (2rem)",value:"M"},{label:"S (1.5rem)",value:"S"},{label:"XS (1.25rem)",value:"XS"}]},color:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"},align:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}]}},defaultProps:{text:"Heading",level:1,size:"M",color:"#333",align:"left"},render:HP},Text:{label:" Text",fields:{text:{type:"textarea"},size:{type:"select",options:[{label:"Small (14px)",value:"14px"},{label:"Medium (16px)",value:"16px"},{label:"Large (18px)",value:"18px"}]},color:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"},align:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}]}},defaultProps:{text:"This is some sample text. You can edit this content using the Puck editor!",size:"16px",color:"#555",align:"left"},render:Ma},Button:{label:" Button",fields:{text:{type:"text"},variant:{type:"select",options:[{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Success",value:"success"},{label:"Danger",value:"danger"}]},size:{type:"select",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}]},textColor:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"}},defaultProps:{text:"Click me",variant:"primary",size:"medium",textColor:"white"},render:kh},Card:{label:" Card",fields:{title:{type:"text"},description:{type:"textarea"},backgroundColor:{type:"text"},titleColor:{type:"text",label:"Title Color (e.g., #ff0000, red, blue)"},textColor:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"}},defaultProps:{title:"Card Title",description:"This is a card component with a title and description. You can customize the background color and content.",backgroundColor:"#fff",titleColor:"#333",textColor:"#666"},render:L_},List:{label:" List",fields:{items:{type:"textarea"},type:{type:"select",options:[{label:"Unordered List",value:"ul"},{label:"Ordered List",value:"ol"}]},textColor:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"}},defaultProps:{items:`First item
Second item
Third item`,type:"ul",textColor:"#555"},render:A_},Divider:{label:" Divider",fields:{color:{type:"text",label:"Text Color (e.g., #ff0000, red, blue)"},thickness:{type:"select",options:[{label:"Thin (1px)",value:"1px"},{label:"Medium (2px)",value:"2px"},{label:"Thick (3px)",value:"3px"}]}},defaultProps:{color:"#ddd",thickness:"1px"},render:D_},Spacer:{label:" Spacer",fields:{height:{type:"select",options:[{label:"Small (10px)",value:"10px"},{label:"Medium (20px)",value:"20px"},{label:"Large (40px)",value:"40px"},{label:"Extra Large (60px)",value:"60px"}]}},defaultProps:{height:"20px"},render:Du},Checkbox:{label:" Checkbox",fields:{label:{type:"text",label:"Label"},checked:{type:"radio",label:"State",options:[{label:"Unchecked",value:"false"},{label:"Checked",value:"true"}]}},defaultProps:{label:"Check this option",checked:"false"},render:M_},TextBlock:{fields:{title:{type:"text"}},defaultProps:{title:"Heading"},render:({title:r})=>Ie.createElement("div",{style:{padding:64}},Ie.createElement("h1",null,r))},InputField:{label:" Input Field",fields:{label:{type:"text"},placeholder:{type:"text"},value:{type:"text"},type:{type:"select",options:[{label:"Text",value:"text"},{label:"Email",value:"email"},{label:"Password",value:"password"},{label:"Number",value:"number"},{label:"Tel",value:"tel"},{label:"URL",value:"url"}]},required:{type:"radio",options:[{label:"No",value:!1},{label:"Yes",value:!0}]},disabled:{type:"radio",options:[{label:"No",value:!1},{label:"Yes",value:!0}]},icon:{type:"text"},iconPosition:{type:"select",options:[{label:"Left",value:"left"},{label:"Right",value:"right"}]},width:{type:"text"},height:{type:"text"},fontSize:{type:"text"},color:{type:"text"},backgroundColor:{type:"text"},borderColor:{type:"text"},borderRadius:{type:"text"},padding:{type:"text"},margin:{type:"text"}},defaultProps:{label:"Input Label",placeholder:"Enter text...",value:"",type:"text",required:!1,disabled:!1,icon:"",iconPosition:"left",width:"100%",height:"40px",fontSize:"14px",color:"#333333",backgroundColor:"#ffffff",borderColor:"#d1d5db",borderRadius:"6px",padding:"10px 12px",margin:"0"},render:QP},SelectField:{label:" Select Field",fields:{label:{type:"text"},options:{type:"array",arrayFields:{label:{type:"text"},value:{type:"text"}}},value:{type:"text"},placeholder:{type:"text"},required:{type:"radio",options:[{label:"No",value:!1},{label:"Yes",value:!0}]},disabled:{type:"radio",options:[{label:"No",value:!1},{label:"Yes",value:!0}]},width:{type:"text"},height:{type:"text"},fontSize:{type:"text"},color:{type:"text"},backgroundColor:{type:"text"},borderColor:{type:"text"},borderRadius:{type:"text"},padding:{type:"text"},margin:{type:"text"}},defaultProps:{label:"Select Label",options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],value:"",placeholder:"Select an option",required:!1,disabled:!1,width:"100%",height:"40px",fontSize:"14px",color:"#333333",backgroundColor:"#ffffff",borderColor:"#d1d5db",borderRadius:"6px",padding:"10px 12px",margin:"0"},render:WP},Container:{label:" Container",fields:{backgroundColor:{type:"text"},padding:{type:"select",options:[{label:"Small (10px)",value:"10px"},{label:"Medium (20px)",value:"20px"},{label:"Large (30px)",value:"30px"},{label:"Extra Large (40px)",value:"40px"}]},layout:{type:"select",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"},{label:"Grid",value:"grid"},{label:"Centered",value:"centered"}]},gap:{type:"select",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]}},defaultProps:{backgroundColor:"transparent",padding:"20px",layout:"vertical",gap:"16px"},render:j_,acceptsChildren:!0,zones:{children:["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","Container","FlexContainer","GridContainer","SimpleContainer"]}},FlexContainer:{label:" FlexContainer",fields:{direction:{type:"select",options:[{label:"Row",value:"row"},{label:"Column",value:"column"},{label:"Row Reverse",value:"row-reverse"},{label:"Column Reverse",value:"column-reverse"}]},justify:{type:"select",options:[{label:"Flex Start",value:"flex-start"},{label:"Center",value:"center"},{label:"Flex End",value:"flex-end"},{label:"Space Between",value:"space-between"},{label:"Space Around",value:"space-around"},{label:"Space Evenly",value:"space-evenly"}]},align:{type:"select",options:[{label:"Stretch",value:"stretch"},{label:"Flex Start",value:"flex-start"},{label:"Center",value:"center"},{label:"Flex End",value:"flex-end"},{label:"Baseline",value:"baseline"}]},gap:{type:"select",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]},wrap:{type:"select",options:[{label:"No Wrap",value:"nowrap"},{label:"Wrap",value:"wrap"},{label:"Wrap Reverse",value:"wrap-reverse"}]}},defaultProps:{direction:"row",justify:"flex-start",align:"stretch",gap:"16px",wrap:"nowrap"},render:__,acceptsChildren:!0,zones:{children:["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","Container","FlexContainer","GridContainer","SimpleContainer"]}},GridContainer:{label:" GridContainer",fields:{columns:{type:"select",options:[{label:"1 Column",value:1},{label:"2 Columns",value:2},{label:"3 Columns",value:3},{label:"4 Columns",value:4},{label:"5 Columns",value:5},{label:"6 Columns",value:6}]},gap:{type:"select",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]},rowGap:{type:"select",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]}},defaultProps:{columns:2,gap:"16px",rowGap:"16px"},render:O_,acceptsChildren:!0,zones:{"column-0":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"],"column-1":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"],"column-2":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"],"column-3":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"],"column-4":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"],"column-5":["Text","Button","Heading","Card","List","Checkbox","Divider","Spacer","SpeakerCard"]}},SimpleContainer:{label:" SimpleContainer",fields:{backgroundColor:{type:"text"},padding:{type:"select",options:[{label:"Small (10px)",value:"10px"},{label:"Medium (20px)",value:"20px"},{label:"Large (30px)",value:"30px"}]}},defaultProps:{backgroundColor:"#f0f8ff",padding:"20px"},render:F_,acceptsChildren:!0},PositionedElement:{label:" PositionedElement",fields:{position:{type:"select",options:[{label:"Static",value:"static"},{label:"Relative",value:"relative"},{label:"Absolute",value:"absolute"},{label:"Fixed",value:"fixed"},{label:"Sticky",value:"sticky"}]},top:{type:"text"},left:{type:"text"},right:{type:"text"},bottom:{type:"text"},zIndex:{type:"text"}},defaultProps:{position:"static",top:"auto",left:"auto",right:"auto",bottom:"auto",zIndex:"auto"},render:B_,acceptsChildren:!0},GridLayout:{label:" Grid Layout",description:"A multi-column layout with draggable components",fields:{numberOfColumns:{type:"number",label:"Number of Columns",defaultValue:2,min:1,max:4},gap:{type:"select",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]},backgroundColor:{type:"text"},padding:{type:"select",options:[{label:"Small (10px)",value:"10px"},{label:"Medium (20px)",value:"20px"},{label:"Large (30px)",value:"30px"}]}},defaultProps:{numberOfColumns:2,gap:"16px",backgroundColor:"#f8f9fa",padding:"20px"},render:({numberOfColumns:r,gap:e,backgroundColor:t,padding:s,puck:i,...n})=>{const o=Array.from({length:r},(u,c)=>c),l=Object.keys(n).some(u=>u.startsWith("column-")&&Array.isArray(n[u]));return Ie.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r}, 1fr)`,gap:e,padding:s,backgroundColor:t,borderRadius:8,minHeight:"200px",border:"1px solid #e9ecef"}},o.map(u=>{const c=`column-${u}`;if(l){const h=n[c]||[];return Ie.createElement("div",{key:u,style:{minHeight:"50px"}},Array.isArray(h)?h.map((p,m)=>{var f;const v=(f=Uo.components[p.type])==null?void 0:f.render;return v?Ie.createElement(v,{key:m,...p.props}):null}):null)}else return Ie.createElement("div",{key:u,style:{minHeight:"50px"}},Ie.createElement(yx,{zone:c}))}))},acceptsChildren:!0,zones:{"column-0":["TextBlock","Text","Button","Heading","Card"],"column-1":["TextBlock","Text","Button","Heading","Card"],"column-2":["TextBlock","Text","Button","Heading","Card"],"column-3":["TextBlock","Text","Button","Heading","Card"]}},HeroSection:{label:" HeroSection",fields:{title:{type:"text",label:"Event Title",contentEditable:!0},subtitle:{type:"textarea",label:"Location | Date",contentEditable:!0},buttons:{type:"array",label:"Buttons",arrayFields:{text:{type:"text",label:"Button Text",contentEditable:!0},link:{type:"text",label:"Button Link (URL)"},color:{type:"text",label:"Button Color (hex code)",placeholder:"#6938EF"},textColor:{type:"select",label:"Button Text Color",options:[{label:"White",value:"white"},{label:"Black",value:"black"},{label:"Blue",value:"#007bff"},{label:"Green",value:"#28a745"},{label:"Red",value:"#dc3545"},{label:"Orange",value:"#fd7e14"},{label:"Yellow",value:"#ffc107"}]},size:{type:"select",label:"Button Size",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}]}}},backgroundImage:{type:"text",label:"Background Image URL"},backgroundColor:{type:"text",label:"Background Color (fallback)"},textColor:{type:"select",label:"Text Color",options:[{label:"White",value:"white"},{label:"Black",value:"black"},{label:"Blue",value:"#007bff"},{label:"Green",value:"#28a745"},{label:"Purple",value:"#8b5cf6"},{label:"Red",value:"#dc3545"},{label:"Orange",value:"#fd7e14"},{label:"Yellow",value:"#ffc107"}]},height:{type:"select",label:"Section Height",options:[{label:"Small (300px)",value:"300px"},{label:"Medium (400px)",value:"400px"},{label:"Large (500px)",value:"500px"},{label:"Extra Large (600px)",value:"600px"},{label:"Full Screen (100vh)",value:"100vh"}]},alignment:{type:"select",label:"Content Alignment",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},overlayOpacity:{type:"select",label:"Background Overlay Opacity",options:[{label:"None (0)",value:0},{label:"Light (0.2)",value:.2},{label:"Medium (0.4)",value:.4},{label:"Dark (0.6)",value:.6},{label:"Very Dark (0.8)",value:.8}]},titleSize:{type:"select",label:"Title Size",options:[{label:"Small (2rem)",value:"2rem"},{label:"Medium (2.5rem)",value:"2.5rem"},{label:"Large (3rem)",value:"3rem"},{label:"Extra Large (3.5rem)",value:"3.5rem"},{label:"Huge (4rem)",value:"4rem"}]},subtitleSize:{type:"select",label:"Subtitle Size",options:[{label:"Small (1rem)",value:"1rem"},{label:"Medium (1.125rem)",value:"1.125rem"},{label:"Large (1.25rem)",value:"1.25rem"},{label:"Extra Large (1.5rem)",value:"1.5rem"}]},buttonColor:{type:"text",label:"Button Color (hex code)"},buttonTextColor:{type:"select",label:"Button Text Color",options:[{label:"White",value:"white"},{label:"Black",value:"black"},{label:"Blue",value:"#007bff"},{label:"Green",value:"#28a745"}]},buttonSpacing:{type:"select",label:"Button Spacing",options:[{label:"Small (8px)",value:"8px"},{label:"Medium (12px)",value:"12px"},{label:"Large (16px)",value:"16px"},{label:"Extra Large (24px)",value:"24px"}]}},defaultProps:{title:"Event Title",subtitle:"Location | Date",buttons:[{text:"Register Now",link:"#register",color:"#6938EF",textColor:"white",size:"large"}],backgroundColor:"#1a1a1a",textColor:"white",backgroundImage:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80",height:"500px",alignment:"center",overlayOpacity:.4,titleSize:"3.5rem",subtitleSize:"1.25rem",buttonSpacing:"12px"},render:Cx},Slider:{label:" Slider",fields:{slides:{type:"textarea",label:"Slide Content (one per line)"},autoplay:{type:"radio",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},autoplaySpeed:{type:"select",options:[{label:"Fast (2s)",value:2e3},{label:"Normal (3s)",value:3e3},{label:"Slow (5s)",value:5e3},{label:"Very Slow (8s)",value:8e3}]},height:{type:"select",options:[{label:"Small (300px)",value:"300px"},{label:"Medium (400px)",value:"400px"},{label:"Large (500px)",value:"500px"},{label:"Extra Large (600px)",value:"600px"}]},backgroundColor:{type:"select",options:[{label:"Light Gray",value:"#f8f9fa"},{label:"Blue",value:"#007bff"},{label:"Green",value:"#28a745"},{label:"Purple",value:"#6f42c1"},{label:"Orange",value:"#fd7e14"}]}},defaultProps:{slides:`Welcome to Slide 1
This is Slide 2
And here is Slide 3`,autoplay:!0,autoplaySpeed:3e3,showDots:!0,showArrows:!0,height:"400px",backgroundColor:"#f8f9fa"},render:z_},Image:{label:" Image",fields:{src:{type:"text",label:"Image URL"},alt:{type:"text",label:"Alt Text (for accessibility)"},width:{type:"select",options:[{label:"Auto",value:"auto"},{label:"100%",value:"100%"},{label:"75%",value:"75%"},{label:"50%",value:"50%"},{label:"25%",value:"25%"},{label:"300px",value:"300px"},{label:"400px",value:"400px"},{label:"500px",value:"500px"}]},height:{type:"select",options:[{label:"Auto",value:"auto"},{label:"200px",value:"200px"},{label:"300px",value:"300px"},{label:"400px",value:"400px"},{label:"500px",value:"500px"}]},borderRadius:{type:"select",options:[{label:"None",value:"0px"},{label:"Small (4px)",value:"4px"},{label:"Medium (8px)",value:"8px"},{label:"Large (16px)",value:"16px"},{label:"Round",value:"50%"}]},objectFit:{type:"select",options:[{label:"Cover (fill)",value:"cover"},{label:"Contain (fit)",value:"contain"},{label:"Fill (stretch)",value:"fill"},{label:"Scale Down",value:"scale-down"},{label:"None",value:"none"}]},alignment:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},caption:{type:"text",label:"Image Caption"}},defaultProps:{src:"https://picsum.photos/400/300",alt:"Image description",width:"100%",height:"auto",borderRadius:"8px",objectFit:"cover",alignment:"center",showCaption:!1,caption:""},render:Gz},SpeakerCard:{label:" Speaker Card",fields:{photo:{type:"text",label:"Photo URL",placeholder:"https://example.com/photo.jpg",contentEditable:!0},uploadedImage:{type:"text",label:"Uploaded Image (File Path)",placeholder:"File path will appear here after upload"},name:{type:"text",label:"Name",contentEditable:!0},designation:{type:"text",label:"Designation",contentEditable:!0}},defaultProps:{photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop&crop=face",uploadedImage:null,name:"Alex Thompson",designation:"Senior Developer"},render:UP},SpeakersSection:{label:" Speakers Section",fields:{title:{type:"text",label:"Section Title",placeholder:"Speakers",contentEditable:!0},showTitle:{type:"radio",label:"Show Title",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},speakers:{type:"array",label:"Speakers",arrayFields:{name:{type:"text",label:"Name"},title:{type:"text",label:"Title/Position"},image:{type:"text",label:"Image URL",placeholder:"https://example.com/photo.jpg"}}},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},padding:{type:"text",label:"Padding",placeholder:"0 2rem"},gap:{type:"text",label:"Gap Between Cards",placeholder:"2rem"},containerMaxWidth:{type:"text",label:"Container Max Width",placeholder:"max-w-7xl"},containerPadding:{type:"text",label:"Container Padding",placeholder:"px-4 sm:px-6 lg:px-8 py-8"}},defaultProps:{title:"Speakers",showTitle:!0,speakers:[{name:"Dr. Jane Doe",title:"Professor at X University",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop&crop=face"},{name:"Dr. John Smith",title:"Research Director",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop&crop=face"},{name:"Dr. Sarah Wilson",title:"Industry Expert",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop&crop=face"}],backgroundColor:"#ffffff",padding:"0 2rem",gap:"2rem",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"},render:wx},ScheduleSection:{label:" Schedule Section",fields:{sessions:{type:"array",label:"Sessions",arrayFields:{title:{type:"text",label:"Session Title"},time:{type:"text",label:"Time (e.g., 08:00 AM - 09:00 AM)"},room:{type:"text",label:"Room/Location"},mode:{type:"text",label:"Mode (e.g., In-Person, Online)"},description:{type:"text",label:"Description"},icon:{type:"text",label:"Icon (emoji or image URL)",placeholder:""}}},buttonText:{type:"text",label:"Button Text",placeholder:"View Full Schedule",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#f8f9fa"},padding:{type:"text",label:"Padding",placeholder:"2rem"},gap:{type:"text",label:"Gap Between Sessions",placeholder:"1rem"}},defaultProps:{sessions:[{title:"Welcome presentation",time:"08:00 AM - 09:00 AM",room:"Room A",mode:"In-Person",description:"Brief overview and a warm welcome to all participants. This session will cover the agenda, housekeeping rules, and introduce the keynote speakers.",icon:""},{title:"Poster presentation",time:"08:00 AM - 09:00 AM",room:"Room B",mode:"In-Person",description:"Brief overview of posters and topics. Participants will have the opportunity to view research posters and interact with presenters.",icon:""},{title:"Keynote Address",time:"09:00 AM - 10:00 AM",room:"Main Hall",mode:"In-Person",description:"Inspirational keynote presentation by industry leaders covering the latest trends and future directions in the field.",icon:""},{title:"Coffee Break",time:"10:00 AM - 10:30 AM",room:"Lobby",mode:"In-Person",description:"Networking opportunity with refreshments and informal discussions.",icon:""},{title:"Panel Discussion",time:"10:30 AM - 11:30 AM",room:"Main Hall",mode:"In-Person",description:"Expert panel discussion on current challenges and opportunities in the industry. Q&A session included.",icon:""}],buttonText:"View Full Schedule",backgroundColor:"#f8f9fa",padding:"2rem",gap:"1rem"},render:W_},AboutSection:{label:" About Section",fields:{leftTitle:{type:"text",label:"Left Column Title",placeholder:"Our Mission",contentEditable:!0},leftText:{type:"text",label:"Left Column Text",placeholder:"We are dedicated to providing innovative solutions...",contentEditable:!0},rightTitle:{type:"text",label:"Right Column Title",placeholder:"Our Vision",contentEditable:!0},rightText:{type:"text",label:"Right Column Text",placeholder:"To be the leading provider of cutting-edge technology...",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#333333"},padding:{type:"text",label:"Padding",placeholder:"3rem 2rem"}},defaultProps:{leftTitle:"Our Mission",leftText:"We are dedicated to providing innovative solutions that help our clients achieve their goals and drive success in their respective industries.",rightTitle:"Our Vision",rightText:"To be the leading provider of cutting-edge technology solutions, empowering businesses to thrive in the digital age.",backgroundColor:"#ffffff",textColor:"#333333",padding:"3rem 2rem"},render:Sx},TwoColumnContent:{label:" Two Column Content",fields:{leftTitle:{type:"text",label:"Left Column Title",placeholder:"About the event",contentEditable:!0},leftContent:{type:"textarea",label:"Left Column Content",placeholder:"Enter left column content...",contentEditable:!0},rightTitle:{type:"text",label:"Right Column Title",placeholder:"Sponsor",contentEditable:!0},rightContent:{type:"textarea",label:"Right Column Content",placeholder:"Enter right column content...",contentEditable:!0},showRightIcon:{type:"radio",label:"Show Right Icon",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#000000"},titleColor:{type:"text",label:"Title Color",placeholder:"#000000"},padding:{type:"text",label:"Padding",placeholder:"24px"},gap:{type:"text",label:"Gap",placeholder:"32px"},borderRadius:{type:"text",label:"Border Radius",placeholder:"8px"},borderColor:{type:"text",label:"Border Color",placeholder:"#e3f2fd"},borderWidth:{type:"text",label:"Border Width",placeholder:"1px"}},defaultProps:{leftTitle:"About the event",leftContent:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",rightTitle:"Sponsor",rightContent:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",showRightIcon:!0,backgroundColor:"#ffffff",textColor:"#000000",titleColor:"#000000",padding:"24px",gap:"32px",borderRadius:"8px",borderColor:"#e3f2fd",borderWidth:"1px"},render:Uz},PricingPlans:{label:" Pricing Plans",fields:{plans:{type:"array",label:"Pricing Plans",arrayFields:{icon:{type:"text",label:"Icon (emoji)",placeholder:""},title:{type:"text",label:"Plan Title",placeholder:"Basic plan",contentEditable:!0},price:{type:"text",label:"Price",placeholder:"$10",contentEditable:!0},billingNote:{type:"text",label:"Billing Note",placeholder:"Billed annually.",contentEditable:!0},features:{type:"array",label:"Features",arrayFields:{feature:{type:"text",label:"Feature",placeholder:"Access to all basic features",contentEditable:!0}}},buttonText:{type:"text",label:"Button Text",placeholder:"Get started",contentEditable:!0}}},backgroundColor:{type:"text",label:"Background Color",placeholder:"#f3e8ff"},padding:{type:"text",label:"Padding",placeholder:"6rem 2rem"}},defaultProps:{plans:[{id:"basic",icon:"",title:"Basic plan",price:"$10",billingNote:"Billed annually.",features:["Access to all basic features","Basic reporting and analytics","Up to 10 individual users","20 GB individual data","Basic chat and email support"],buttonText:"Get started"},{id:"business",icon:"",title:"Business plan",price:"$20",billingNote:"Billed annually.",features:["200+ integrations","Advanced reporting and analytics","Up to 20 individual users","40 GB individual data","Priority chat and email support"],buttonText:"Get started"},{id:"enterprise",icon:"",title:"Enterprise plan",price:"$40",billingNote:"Billed annually.",features:["Advanced custom fields","Audit log and data history","Unlimited individual users","Unlimited individual data","Personalized + priority service"],buttonText:"Get started"}],backgroundColor:"#f3e8ff",padding:"6rem 2rem"},render:U_},FAQSection:{label:" FAQ Section",fields:{title:{type:"text",label:"Title",placeholder:"Frequently asked questions",contentEditable:!0},subtitle:{type:"text",label:"Subtitle",placeholder:"Everything you need to know about the product and billing.",contentEditable:!0},faqs:{type:"array",label:"FAQ Items",arrayFields:{icon:{type:"text",label:"Icon (emoji)",placeholder:""},question:{type:"text",label:"Question",placeholder:"Is there a free trial available?",contentEditable:!0},answer:{type:"textarea",label:"Answer",placeholder:"Yes, you can try us for free for 30 days...",contentEditable:!0}}},ctaText:{type:"text",label:"Call to Action Text",placeholder:"Still have questions? Can't find the answer you're looking for? Please chat to our friendly team.",contentEditable:!0},buttonText:{type:"text",label:"Button Text",placeholder:"Get in touch",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#f8fafc"},padding:{type:"text",label:"Padding",placeholder:"6rem 2rem"}},defaultProps:{title:"Frequently asked questions",subtitle:"Everything you need to know about the product and billing.",faqs:[{id:"1",icon:"",question:"Is there a free trial available?",answer:"Yes, you can try us for free for 30 days. If you want, we'll provide you with a free, personalized 30-minute onboarding call to get you up and running as soon as possible."},{id:"2",icon:"",question:"Can I change my plan later?",answer:"Of course. Our pricing scales with your company. Chat to our friendly team to find a solution that works for you."},{id:"3",icon:"",question:"What is your cancellation policy?",answer:"We understand that things change. You can cancel your plan at any time and we'll refund you the difference already paid."},{id:"4",icon:"",question:"Can other info be added to an invoice?",answer:"Absolutely. You can add any additional information you need to your invoices, including custom fields and notes."},{id:"5",icon:"",question:"How does billing work?",answer:"We offer flexible billing options. You can choose monthly or annual billing, and we accept all major credit cards and payment methods."},{id:"6",icon:"",question:"How do I change my account email?",answer:"You can update your account email anytime from your account settings. We'll send a confirmation email to verify the change."}],ctaText:"Still have questions? Can't find the answer you're looking for? Please chat to our friendly team.",buttonText:"Get in touch",backgroundColor:"#f8fafc",padding:"6rem 2rem"},render:G_},FAQAccordion:{label:" FAQ Accordion",fields:{title:{type:"text",label:"Title",placeholder:"Frequently Asked Questions",contentEditable:!0},description:{type:"textarea",label:"Description",placeholder:"Everything you need to know about the product and billing...",contentEditable:!0},faqs:{type:"array",label:"FAQ Items",arrayFields:{question:{type:"text",label:"Question",placeholder:"What is this service about?",contentEditable:!0},answer:{type:"textarea",label:"Answer",placeholder:"This service provides comprehensive solutions...",contentEditable:!0}}},allowMultiple:{type:"radio",label:"Allow Multiple Open",options:[{label:"Single (close others)",value:!1},{label:"Multiple (keep others open)",value:!0}]},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#333333"},questionColor:{type:"text",label:"Question Color",placeholder:"#1f2937"},answerColor:{type:"text",label:"Answer Color",placeholder:"#6b7280"},borderColor:{type:"text",label:"Border Color",placeholder:"#e5e7eb"},padding:{type:"text",label:"Padding",placeholder:"3rem 2rem"},spacing:{type:"text",label:"Spacing Between Items",placeholder:"1rem"},iconColor:{type:"text",label:"Icon Color",placeholder:"#8b5cf6"},hoverColor:{type:"text",label:"Hover Background Color",placeholder:"#f8fafc"},containerMaxWidth:{type:"text",label:"Container Max Width",placeholder:"max-w-7xl"},containerPadding:{type:"text",label:"Container Padding",placeholder:"px-4 sm:px-6 lg:px-8 py-8"}},defaultProps:{title:"Frequently Asked Questions",description:"Everything you need to know about the product and billing. Can't find the answer you're looking for? Please chat to our friendly team.",faqs:[{id:"1",question:"What is this service about?",answer:"This service provides comprehensive solutions for your business needs. We offer a wide range of features and support to help you achieve your goals."},{id:"2",question:"How do I get started?",answer:"Getting started is easy! Simply sign up for an account, complete the onboarding process, and you'll be ready to use all our features within minutes."},{id:"3",question:"Is there a free trial available?",answer:"Yes, we offer a 30-day free trial for all new users. No credit card required to start your trial period."},{id:"4",question:"What kind of support do you provide?",answer:"We provide 24/7 customer support through email, chat, and phone. Our support team is always ready to help you with any questions or issues."},{id:"5",question:"Can I cancel my subscription anytime?",answer:"Absolutely! You can cancel your subscription at any time from your account settings. There are no cancellation fees or long-term contracts."}],allowMultiple:!1,backgroundColor:"#ffffff",textColor:"#333333",questionColor:"#1f2937",answerColor:"#6b7280",borderColor:"#e5e7eb",padding:"3rem 2rem",spacing:"1rem",iconColor:"#8b5cf6",hoverColor:"#f8fafc",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"},render:Ex},RegistrationCTA:{label:" Registration CTA",fields:{title:{type:"text",label:"Title",placeholder:"Register now to enjoy exclusive benefits!",contentEditable:!0},subtitle:{type:"text",label:"Subtitle",placeholder:"Don't miss out on this opportunity, join us today!",contentEditable:!0},buttonText:{type:"text",label:"Button Text",placeholder:"Register Now",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#6938EF"},textColor:{type:"text",label:"Text Color",placeholder:"#ffffff"},buttonColor:{type:"text",label:"Button Color",placeholder:"#6938EF"},buttonBorderColor:{type:"text",label:"Button Border Color",placeholder:"#8b5cf6"}},defaultProps:{title:"Register now to enjoy exclusive benefits!",subtitle:"Don't miss out on this opportunity, join us today!",buttonText:"Register Now",backgroundColor:"#6938EF",textColor:"#ffffff",buttonColor:"#6938EF",buttonBorderColor:"#8b5cf6"},render:t1},Sponsors:{label:" Sponsors",fields:{title:{type:"text",label:"Title",placeholder:"Our Sponsors",contentEditable:!0},sponsors:{type:"array",label:"Sponsors",arrayFields:{id:{type:"text",label:"ID",placeholder:"sponsor-1"},name:{type:"text",label:"Name",placeholder:"Sponsor Name",contentEditable:!0},logoUrl:{type:"text",label:"Logo URL",placeholder:"https://example.com/logo.png"}}},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#1f2937"},padding:{type:"text",label:"Padding",placeholder:"3rem 2rem"}},defaultProps:{title:"Our Sponsors",sponsors:[{id:"1",name:"Sponsor 1",logoUrl:""},{id:"2",name:"Sponsor 2",logoUrl:""},{id:"3",name:"Sponsor 3",logoUrl:""},{id:"4",name:"Sponsor 4",logoUrl:""}],backgroundColor:"#ffffff",textColor:"#1f2937",padding:"3rem 2rem"},render:s1},ContactFooter:{label:" Contact Footer",fields:{title:{type:"text",label:"Title",placeholder:"Contact Us",contentEditable:!0},items:{type:"array",label:"Contact Items",arrayFields:{id:{type:"text",label:"ID",placeholder:"item-1"},type:{type:"select",label:"Type",options:[{label:"Email",value:"email"},{label:"Office",value:"office"},{label:"Phone",value:"phone"}]},title:{type:"text",label:"Title",placeholder:"Email",contentEditable:!0},description:{type:"text",label:"Description",placeholder:"Our friendly team is here to help.",contentEditable:!0},actionText:{type:"text",label:"Action Text",placeholder:"Send us an email",contentEditable:!0},actionEmail:{type:"text",label:"Action Email",placeholder:"contact@example.com"},actionUrl:{type:"text",label:"Action URL",placeholder:"#"},actionPhone:{type:"text",label:"Action Phone",placeholder:"+1 (555) 000-0000"}}},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#1f2937"},iconColor:{type:"text",label:"Icon Color",placeholder:"#6938EF"},buttonColor:{type:"text",label:"Button Color",placeholder:"#6938EF"},padding:{type:"text",label:"Padding",placeholder:"3rem 2rem"},copyrightText:{type:"text",label:"Copyright Text",placeholder:"Copyright  2024",contentEditable:!0}},defaultProps:{items:[{id:"1",type:"email",title:"Email",description:"Our friendly team is here to help.",actionText:"Send us an email",actionEmail:"contact@example.com"},{id:"2",type:"office",title:"Office",description:"Come and say hello at our office HQ.",actionText:"View on map",actionUrl:"#"},{id:"3",type:"phone",title:"Phone",description:"Mon-Fri from 8am to 5pm.",actionText:"Call us now",actionPhone:"+1 (555) 000-0000"}],backgroundColor:"#ffffff",textColor:"#1f2937",iconColor:"#6938EF",buttonColor:"#6938EF",padding:"3rem 2rem",copyrightText:"Copyright  2024"},render:r1},FeedbackForm:{label:" Feedback Form",fields:{title:{type:"text",label:"Form Title",placeholder:"attendee Feedback",contentEditable:!0},subtitle:{type:"text",label:"Form Subtitle",placeholder:"We value your opinion! Please take a moment to share your thoughts about our event.",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},textColor:{type:"text",label:"Text Color",placeholder:"#333333"},padding:{type:"select",label:"Padding",options:[{label:"Small (1rem)",value:"1rem"},{label:"Medium (2rem)",value:"2rem"},{label:"Large (3rem)",value:"3rem"},{label:"Extra Large (4rem)",value:"4rem"}]}},defaultProps:{title:"Attendee Feedback",subtitle:"We value your opinion! Please take a moment to share your thoughts about our event.",backgroundColor:"#ffffff",textColor:"#333333",padding:"2rem"},render:$z},Navigation:{label:" Navigation",fields:{logo:{type:"text",label:"Logo URL",placeholder:"https://example.com/logo.png",contentEditable:!0},logoText:{type:"text",label:"Logo Text",placeholder:"Your Brand",contentEditable:!0},menuItems:{type:"text",label:"Menu Items",placeholder:"About|/about,Speakers|/speakers,Schedule|/schedule,Information|/information,Contact|/contact,Register|/register",contentEditable:!0},backgroundColor:{type:"select",label:"Background Color",options:[{label:"Dark Purple",value:"#27115F"},{label:"Purple",value:"#4A154B"},{label:"Blue",value:"#1e40af"},{label:"Dark Blue",value:"#1e3a8a"},{label:"Black",value:"#000000"},{label:"Dark Gray",value:"#374151"},{label:"Custom",value:"custom"}]},customBackgroundColor:{type:"text",label:"Custom Background Color (hex)",placeholder:"#27115F"},textColor:{type:"select",label:"Text Color",options:[{label:"White",value:"#ffffff"},{label:"Light Gray",value:"#f3f4f6"},{label:"Custom",value:"custom"}]},customTextColor:{type:"text",label:"Custom Text Color (hex)",placeholder:"#ffffff"},logoColor:{type:"select",label:"Logo Color",options:[{label:"White",value:"#ffffff"},{label:"Light Gray",value:"#f3f4f6"},{label:"Custom",value:"custom"}]},customLogoColor:{type:"text",label:"Custom Logo Color (hex)",placeholder:"#ffffff"},linkColor:{type:"select",label:"Link Color",options:[{label:"White",value:"#ffffff"},{label:"Light Gray",value:"#f3f4f6"},{label:"Custom",value:"custom"}]},customLinkColor:{type:"text",label:"Custom Link Color (hex)",placeholder:"#ffffff"},hoverColor:{type:"select",label:"Hover Color",options:[{label:"Light Gray",value:"#E0E0E0"},{label:"Light Purple",value:"#8b5cf6"},{label:"Blue",value:"#3b82f6"},{label:"Custom",value:"custom"}]},customHoverColor:{type:"text",label:"Custom Hover Color (hex)",placeholder:"#E0E0E0"},padding:{type:"select",label:"Padding",options:[{label:"Small (0.5rem 1rem)",value:"0.5rem 1rem"},{label:"Medium (1rem 2rem)",value:"1rem 2rem"},{label:"Large (1.5rem 3rem)",value:"1.5rem 3rem"},{label:"Custom",value:"custom"}]},customPadding:{type:"text",label:"Custom Padding",placeholder:"1rem 2rem"},alignment:{type:"select",label:"Alignment",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]}},defaultProps:{logo:"https://via.placeholder.com/40x40/007bff/ffffff?text=L",logoText:"EventPro",menuItems:"About|/about,Speakers|/speakers,Schedule|/schedule,Information|/information,Contact|/contact,Register|/register",backgroundColor:"#27115F",customBackgroundColor:"#27115F",textColor:"#ffffff",customTextColor:"#ffffff",logoColor:"#ffffff",customLogoColor:"#ffffff",linkColor:"#ffffff",customLinkColor:"#ffffff",hoverColor:"#E0E0E0",customHoverColor:"#E0E0E0",padding:"1rem 2rem",customPadding:"1rem 2rem",alignment:"left"},render:Z_},CountdownTimer:{label:" Countdown Timer",fields:{heading:{type:"text",label:"Heading",placeholder:"Abstract submission deadline in",contentEditable:!0},targetDate:{type:"text",label:"Target Date & Time",placeholder:"2024-12-31T23:59:59",contentEditable:!0}},defaultProps:{heading:"Abstract submission deadline in",targetDate:"2025-12-31T23:59:59"},render:J_},ProgressCircleStats:{label:" Progress Circle Stats",fields:{item1Value:{type:"number",label:"Item 1 - Percentage (0-100)",min:0,max:100},item1Color:{type:"text",label:"Item 1 - Color",placeholder:"#3b82f6"},item1Caption:{type:"text",label:"Item 1 - Caption",placeholder:"Found the event useful for their professional career development.",contentEditable:!0},item2Value:{type:"number",label:"Item 2 - Percentage (0-100)",min:0,max:100},item2Color:{type:"text",label:"Item 2 - Color",placeholder:"#10b981"},item2Caption:{type:"text",label:"Item 2 - Caption",placeholder:"Reported that the congress met their educational goals and learning expectations.",contentEditable:!0},item3Value:{type:"number",label:"Item 3 - Percentage (0-100)",min:0,max:100},item3Color:{type:"text",label:"Item 3 - Color",placeholder:"#f59e0b"},item3Caption:{type:"text",label:"Item 3 - Caption",placeholder:"Agreed that the information presented was well-balanced and supported by scientific evidence.",contentEditable:!0}},defaultProps:{item1Value:96.5,item1Color:"#3b82f6",item1Caption:"Found the event useful for their professional career development.",item2Value:97.4,item2Color:"#10b981",item2Caption:"Reported that the congress met their educational goals and learning expectations.",item3Value:99.3,item3Color:"#f59e0b",item3Caption:"Agreed that the information presented was well-balanced and supported by scientific evidence."},render:K_},HeroVideo:{label:" Hero Video",fields:{videoUrl:{type:"text",label:"Video URL",placeholder:"https://example.com/video.mp4",contentEditable:!0},title:{type:"text",label:"Title",contentEditable:!0},subtitle:{type:"text",label:"Subtitle",contentEditable:!0},buttonText:{type:"text",label:"Button Text",contentEditable:!0},buttonLink:{type:"text",label:"Button Link",placeholder:"/register",contentEditable:!0},backgroundColor:{type:"text",label:"Background Color",placeholder:"#000000"},textColor:{type:"text",label:"Text Color",placeholder:"#ffffff"},titleSize:{type:"select",label:"Title Size",options:[{label:"XXXL",value:"XXXL"},{label:"XXL",value:"XXL"},{label:"XL",value:"XL"},{label:"L",value:"L"},{label:"M",value:"M"},{label:"S",value:"S"},{label:"XS",value:"XS"}]},subtitleSize:{type:"select",label:"Subtitle Size",options:[{label:"XL",value:"XL"},{label:"L",value:"L"},{label:"M",value:"M"},{label:"S",value:"S"},{label:"XS",value:"XS"}]},buttonColor:{type:"text",label:"Button Color",placeholder:"#007bff"},buttonTextColor:{type:"text",label:"Button Text Color",placeholder:"#ffffff"},buttonSize:{type:"select",label:"Button Size",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}]},overlayOpacity:{type:"text",label:"Overlay Opacity",placeholder:"0.4"},alignment:{type:"select",label:"Text Alignment",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},height:{type:"text",label:"Height",placeholder:"500px"}},defaultProps:{videoUrl:"",title:"Welcome to Our Event",subtitle:"Join us for an amazing experience with industry leaders and innovative solutions",buttonText:"Register Now",buttonLink:"/register",backgroundColor:"#000000",textColor:"#ffffff",titleSize:"XL",subtitleSize:"L",buttonColor:"#007bff",buttonTextColor:"#ffffff",buttonSize:"medium",overlayOpacity:.4,alignment:"center",height:"500px"},render:q_},HTMLContent:{label:" HTML Content",fields:{htmlContent:{type:"textarea",label:"HTML Content",placeholder:"<div>Enter your HTML content here...</div>",rows:10}},defaultProps:{htmlContent:'<div style="padding: 2rem; text-align: center; background: #f8f9fa; border-radius: 8px;"><h2>HTML Content</h2><p>Add your custom HTML content here.</p></div>'},render:Y_},RegistrationForm:{label:" Registration Form",fields:{title:{type:"text",label:"Form Title",placeholder:"Registration Form"}},defaultProps:{title:"Registration Form"},render:qz},GoogleForm:{label:" Google Form",fields:{formUrl:{type:"text",label:"Google Form URL",placeholder:"https://docs.google.com/forms/d/e/..."},height:{type:"number",label:"Height (px)",placeholder:"500"}},defaultProps:{formUrl:"https://docs.google.com/forms/d/e/1FAIpQLScBIZc6q4yfDIujHpVnArjbgkktJ60pgIU6RtgSp4LwDFe4_A/viewform",height:500},render:zz},SchedulePage:{label:" Schedule Page",fields:{title:{type:"text",label:"Page Title",placeholder:"Schedule"},events:{type:"array",label:"Events",arrayFields:{id:{type:"text",label:"ID"},title:{type:"text",label:"Title"},startTime:{type:"text",label:"Start Time"},endTime:{type:"text",label:"End Time"},location:{type:"text",label:"Location"},type:{type:"select",label:"Type",options:[{label:"In-Person",value:"In-Person"},{label:"Virtual",value:"Virtual"}]},description:{type:"textarea",label:"Description"},participants:{type:"text",label:"Participants"},tags:{type:"text",label:"Tags (comma separated)"},attachments:{type:"number",label:"Attachments Count"},parentSessionId:{type:"text",label:"Parent Session ID"},isCompleted:{type:"radio",label:"Completed",options:[{label:"No",value:!1},{label:"Yes",value:!0}]},isExpanded:{type:"radio",label:"Expanded",options:[{label:"No",value:!1},{label:"Yes",value:!0}]}}}},defaultProps:{title:"Schedule",events:[{id:"1",title:"Welcome & Opening Keynote",startTime:"09:00 AM",endTime:"10:00 AM",location:"Main Hall",type:"In-Person",description:"Opening keynote address by the conference chair",participants:"Chairman: Dr. Smith, Speaker: Dr. Johnson",tags:"Keynote, Opening",attachments:2,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"2",title:"Coffee Break",startTime:"10:00 AM",endTime:"10:30 AM",location:"Lobby",type:"In-Person",description:"Networking and refreshments",participants:"",tags:"",attachments:0,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"3",title:"AI & Machine Learning Workshop",startTime:"10:30 AM",endTime:"12:00 PM",location:"Room A",type:"In-Person",description:"Hands-on workshop on AI and ML fundamentals",participants:"Instructor: Prof. Williams",tags:"Workshop, AI, ML",attachments:5,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"4",title:"Panel Discussion: Future of Tech",startTime:"10:30 AM",endTime:"12:00 PM",location:"Room B",type:"Virtual",description:"Expert panel discussing emerging technologies",participants:"Moderator: Dr. Brown, Panelists: Dr. Davis, Dr. Wilson",tags:"Panel, Discussion, Tech",attachments:1,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"5",title:"Lunch Break",startTime:"12:00 PM",endTime:"01:00 PM",location:"Dining Hall",type:"In-Person",description:"Buffet lunch and networking",participants:"",tags:"",attachments:0,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"6",title:"Poster Session",startTime:"01:00 PM",endTime:"02:30 PM",location:"Exhibition Hall",type:"In-Person",description:"Poster presentations and networking",participants:"Multiple presenters",tags:"Poster, Networking",attachments:0,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"7",title:"Advanced React Patterns",startTime:"02:30 PM",endTime:"04:00 PM",location:"Room A",type:"In-Person",description:"Deep dive into advanced React patterns and best practices",participants:"Speaker: Dr. Martinez",tags:"Workshop, React, Frontend",attachments:3,isCompleted:!1,isExpanded:!1,parentSessionId:void 0},{id:"8",title:"Closing Remarks",startTime:"04:00 PM",endTime:"04:30 PM",location:"Main Hall",type:"In-Person",description:"Conference closing and thank you notes",participants:"Chairman: Dr. Smith",tags:"Closing",attachments:0,isCompleted:!1,isExpanded:!1,parentSessionId:void 0}]},render:r=>Ie.createElement(Q_,r)},LiveChat:{label:" Live Chat",fields:{title:{type:"text",label:"Chat Title",placeholder:"Live Chat",contentEditable:!0},height:{type:"select",label:"Chat Height",options:[{label:"Small (400px)",value:"400px"},{label:"Medium (500px)",value:"500px"},{label:"Large (600px)",value:"600px"},{label:"Extra Large (700px)",value:"700px"}]},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff"},headerColor:{type:"text",label:"Header Background Color",placeholder:"#8b5cf6"},headerTextColor:{type:"text",label:"Header Text Color",placeholder:"#ffffff"},messageUserBg:{type:"text",label:"User Message Background",placeholder:"#3b82f6"},messageAgentBg:{type:"text",label:"Agent Message Background",placeholder:"#e5e7eb"},inputBorderColor:{type:"text",label:"Input Border Color",placeholder:"#d1d5db"},buttonColor:{type:"text",label:"Send Button Color",placeholder:"#8b5cf6"},buttonTextColor:{type:"text",label:"Send Button Text Color",placeholder:"#ffffff"},placeholderText:{type:"text",label:"Input Placeholder Text",placeholder:"Type your message..."}},defaultProps:{title:"Live Chat",height:"500px",backgroundColor:"#ffffff",headerColor:"#8b5cf6",headerTextColor:"#ffffff",messageUserBg:"#3b82f6",messageAgentBg:"#e5e7eb",inputBorderColor:"#d1d5db",buttonColor:"#3b82f6",buttonTextColor:"#ffffff",placeholderText:"Type your message..."},render:Hz},ApiTestComponent:{label:" API Test Component",fields:{},defaultProps:{},render:Qz},SessionForm:{label:" Session Form",fields:{sessionTitle:{type:"text",label:"Session Title"},startTime:{type:"text",label:"Start Time (HH:MM)"},startAMPM:{type:"radio",label:"Start AM/PM",options:[{label:"AM",value:"AM"},{label:"PM",value:"PM"}]},endTime:{type:"text",label:"End Time (HH:MM)"},endAMPM:{type:"radio",label:"End AM/PM",options:[{label:"AM",value:"AM"},{label:"PM",value:"PM"}]},location:{type:"text",label:"Location"},eventType:{type:"select",label:"Event Type",options:[{label:"Select event type",value:"Select event type"},{label:"In-Person",value:"In-Person"},{label:"Virtual",value:"Virtual"},{label:"Hybrid",value:"Hybrid"}]},ctaText:{type:"text",label:"Call to Action Text"},addButtonText:{type:"text",label:"Add Button Text"},cancelButtonText:{type:"text",label:"Cancel Button Text"},saveButtonText:{type:"text",label:"Save Button Text"},showActionButtons:{type:"radio",label:"Show Action Buttons (Save/Cancel)",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},backgroundColor:{type:"text",label:"Background Color"},borderRadius:{type:"text",label:"Border Radius"},padding:{type:"text",label:"Padding"}},defaultProps:{sessionTitle:"Session title",startTime:"00:00",startAMPM:"AM",endTime:"00:00",endAMPM:"AM",location:"Enter location",eventType:"Select event type",ctaText:"Click to add a section!",addButtonText:"+ Add section",cancelButtonText:"Cancel",saveButtonText:"Save",showActionButtons:!0,backgroundColor:"#ffffff",borderRadius:"12px",padding:"40px"},render:$P},PdfViewer:{label:" PDF Viewer",fields:{pdfUrl:{type:"custom",label:"Select PDF",render:r=>Ie.createElement(Xz,{...r,value:r.value||"",onChange:r.onChange})},height:{type:"number",label:"Viewer Height",placeholder:"600"}},defaultProps:{pdfUrl:"",height:600},render:Wz}},root:{fields:{pageTitle:{type:"text",label:"Page Title"},schedulesSection:{type:"custom",label:"Schedules",render:r=>{const e=r.onChange;return Ie.createElement(Kz,{...r,onChange:e})}}},defaultProps:{pageTitle:"",schedulesSection:null}}},nH=[{id:"schedule",title:"Schedule",description:"Program schedule."},{id:"sponsor",title:"Sponsor",description:"Sponsor page."},{id:"floor-plan",title:"Floor plan",description:"pdf, jpeg."},{id:"lists",title:"Lists",description:"List view."}],oH=({isVisible:r,onClose:e,onSelect:t})=>{const[s,i]=d.useState("schedule"),n=()=>{const l=s;e(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{t(l)})})},o=a.jsxs("div",{className:"flex w-full items-center justify-between px-6 pb-6 pt-4",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-slate-500 transition hover:bg-slate-100",children:[a.jsx(Il,{className:"h-4 w-4","aria-hidden":"true"}),"Need help?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"min-w-[80px] rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-slate-400 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:n,"data-modal-select-button":"true",className:"min-w-[80px] rounded-md bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90",children:"Select"})]})]});return a.jsx(Qi,{isVisible:r,onClose:e,title:"Select a page",subtitle:"Select from below templates.",width:560,height:330,maxWidth:560,borderRadius:16,padding:{top:24,right:16,bottom:24,left:16},footer:o,zIndex:10001,contentStyle:{padding:0},children:a.jsx("div",{className:"grid place-items-center gap-4 px-6 py-5 sm:grid-cols-2",children:nH.map(l=>{const u=s===l.id;return a.jsxs("button",{type:"button",onClick:()=>i(l.id),className:ci("relative flex h-16 w-[240px] max-w-[240px] flex-col gap-1 rounded-lg border bg-white p-3 text-left transition hover:border-primary/40 hover:bg-primary/5 focus:outline-none",u?"border-2 border-primary bg-primary/5":"border-slate-200"),children:[a.jsxs("div",{className:"flex flex-1 flex-col gap-1 pr-9",children:[a.jsx("span",{className:"truncate text-[15px] font-semibold text-slate-900",children:l.title}),a.jsx("span",{className:"line-clamp-2 text-[13px] text-slate-500",children:l.description})]}),a.jsx("span",{className:ci("absolute right-3 top-3 h-5 w-5 rounded-full border transition",u?"border-[6px] border-primary":"border-2 border-slate-300"),"aria-hidden":"true"})]},l.id)})})})},h2=(...r)=>r.filter(Boolean).join(" "),aH=({data:r,isInteractive:e=!1,onDataChange:t})=>{var I,E;const[s,i]=d.useState(r),[n,o]=d.useState(null),[l,u]=d.useState(null),[c,h]=d.useState(null),[p,m]=d.useState(null);Ie.useEffect(()=>{i(r)},[r]);const v=d.useCallback((R,C,k)=>{e&&(o({...C,sourceZone:k,componentId:C.componentId}),R.dataTransfer.effectAllowed="move")},[e]),f=d.useCallback((R,C)=>{e&&(R.preventDefault(),R.dataTransfer.dropEffect="move",u(C))},[e]),b=d.useCallback((R,C)=>{if(!e||!n||!t)return;R.preventDefault();const k={...s},L=n.componentId,D=n.sourceZone;if(k.content.findIndex(K=>{var M;return((M=K.props)==null?void 0:M.id)===L})===-1)return;const U=`${L}:${D}`,$=`${L}:${C}`;if(k.zones[U]&&k.zones[$]){const K=k.zones[U],M=K.findIndex(j=>j.type===n.type&&JSON.stringify(j.props)===JSON.stringify(n.props));if(M!==-1){const[j]=K.splice(M,1);k.zones[U]=K,k.zones[$]=[...k.zones[$],j],i(k),t(k)}}o(null),u(null)},[e,n,t,s]),x=d.useCallback(()=>{o(null),u(null)},[]),g=d.useCallback((R,C,k)=>{e&&(h({componentId:C,columnIndex:k}),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",`column-${C}-${k}`))},[e]),y=d.useCallback((R,C,k)=>{!e||!c||(R.preventDefault(),R.dataTransfer.dropEffect="move",m({componentId:C,columnIndex:k}))},[e,c]),w=d.useCallback((R,C,k)=>{if(!e||!c||!t)return;R.preventDefault();const{componentId:L,columnIndex:D}=c;if(L!==C){h(null),m(null);return}if(D===k){h(null),m(null);return}const q={...s},U=`${L}:column-${D}`,$=`${C}:column-${k}`;if(q.zones[U]&&q.zones[$]){const K=q.zones[U],M=q.zones[$];q.zones[U]=M,q.zones[$]=K,i(q),t(q)}h(null),m(null)},[e,c,t,s]),S=d.useCallback(()=>{h(null),m(null)},[]),P=((I=s.content)==null?void 0:I.filter(R=>R.type==="PdfViewer"))||[],V=((E=s.content)==null?void 0:E.filter(R=>R.type!=="PdfViewer"))||[];return a.jsxs("div",{className:"h-full w-full overflow-auto bg-white",children:[P.map((R,C)=>{var L;const k=(L=Uo.components[R.type])==null?void 0:L.render;if(k){const D={...R.props};return a.jsx(k,{...D},`pdf-${C}`)}return null}),a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full",children:V.length===0&&P.length===0?a.jsxs("div",{className:"space-y-2 px-5 py-[60px] text-center text-lg text-slate-500 w-full",children:[a.jsx("h2",{className:"text-2xl font-semibold text-slate-700",children:"No content to preview"}),a.jsx("p",{children:"Switch back to edit mode to add components"})]}):V.map((R,C)=>{var L,D;const k=(L=Uo.components[R.type])==null?void 0:L.render;if(k){const q=(D=R.props)==null?void 0:D.id;let U=null;if(q&&s.zones&&(U=s.zones[q],!U&&(R.type==="GridContainer"||R.type==="GridLayout"))){const K=Object.keys(s.zones).filter(M=>M.startsWith(q+":"));K.length>0&&(U={},K.forEach(M=>{const j=M.split(":")[1];U[j]=s.zones[M]}))}const $={...R.props};if(e&&($.puck={dragRef:K=>{K&&(K.draggable=!0,K.style.cursor="move")}}),U){let K=[];if(U.content&&Array.isArray(U.content)?K=U.content:U.children&&Array.isArray(U.children)?K=U.children:Array.isArray(U)?K=U:typeof U=="object"&&Object.keys(U).forEach(M=>{M.startsWith("column-")&&Array.isArray(U[M])&&(K=K.concat(U[M].map(j=>({...j,zone:M}))))}),R.type==="GridContainer"||R.type==="GridLayout"){if(Object.keys($).some(j=>j.startsWith("column-")&&Array.isArray($[j]))||(typeof U=="object"&&!Array.isArray(U)?Object.keys(U).forEach(j=>{j.startsWith("column-")&&Array.isArray(U[j])&&($[j]=U[j])}):K.forEach(j=>{const B=j.zone||"column-0";$[B]||($[B]=[]),$[B].push(j)})),e&&R.type==="GridContainer"){const j=$.columns||2,B=$.gap||"16px",Q=$.rowGap||"16px";return a.jsx("div",{className:"my-4",children:a.jsx("div",{className:"my-4 grid min-h-[100px] rounded-lg border border-slate-200 bg-slate-100 p-4",style:{gridTemplateColumns:`repeat(${j}, 1fr)`,gap:B,rowGap:Q},children:Array.from({length:j},(G,X)=>{const de=`column-${X}`,se=$[de]||[],fe=l===de,oe=(p==null?void 0:p.componentId)===q&&(p==null?void 0:p.columnIndex)===X,ie=(c==null?void 0:c.componentId)===q&&(c==null?void 0:c.columnIndex)===X,_=h2("relative min-h-[50px] rounded border border-dashed border-slate-300 p-2 transition-all duration-200",e?"cursor-move":"cursor-default",fe&&"border-2 border-sky-500 bg-sky-100",!fe&&oe&&"border-2 border-amber-500 bg-amber-100",ie&&"opacity-50");return a.jsxs("div",{className:_,draggable:e,onDragStart:O=>g(O,q,X),onDragOver:O=>{f(O,de),y(O,q,X)},onDrop:O=>{b(O,de),w(O,q,X)},onDragEnd:S,children:[e&&(ie||oe)&&a.jsx("div",{className:h2("absolute inset-x-2 -top-2 z-10 flex h-5 items-center justify-center rounded-t-md text-[11px] font-bold text-white shadow-sm",ie?"bg-blue-500":"bg-amber-500"),children:ie?"DRAGGING":"DROP HERE"}),se.length>0?se.map((O,Z)=>{var W;const le=(W=Uo.components[O.type])==null?void 0:W.render,te={...O.props};return e&&(te.puck={dragRef:he=>{he&&(he.draggable=!0,he.style.cursor="move",he.dataset.dragItem=JSON.stringify(O),he.dataset.sourceZone=de,he.addEventListener("dragstart",me=>{v(me,{...O,componentId:q},de)}),he.addEventListener("dragend",x))}}),le?a.jsx(le,{...te},Z):a.jsxs("div",{className:"cursor-move rounded border border-slate-300 bg-slate-100 p-2",draggable:!0,onDragStart:he=>{v(he,{...O,componentId:q},de)},children:["Test Draggable: ",O.type]},Z)}):a.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded border border-dashed border-slate-300 text-sm text-slate-500",children:"Drop components here"})]},X)})})},C)}}else if(K.length>0){const M=K.map((j,B)=>{var G;const Q=(G=Uo.components[j.type])==null?void 0:G.render;return Q?a.jsx(Q,{...j.props},B):null});return a.jsx(k,{...$,children:M},C)}}return a.jsx(k,{...$},C)}return null})})})]})},y3=d.createContext(null),lH=()=>d.useContext(y3),uH=({currentData:r,currentPage:e,currentPageName:t,pages:s,puckUi:i,showPreview:n,showRightSidebar:o,onPublish:l,onChange:u,onDataChange:c,onPageSelect:h,onManagePages:p,onNavigateToEditor:m,onAddComponent:v,onPreviewToggle:f,onCreatePageFromTemplate:b,onCreateNewPage:x})=>{const[g,y]=d.useState(!1),[w,S]=d.useState(!1),[P,V]=d.useState(!1),[I,E]=d.useState(!1),R=d.useRef(r),C=typeof window<"u"?localStorage.getItem("event-form-banner"):null,k=C?C.substring(0,20).replace(/[^a-zA-Z0-9]/g,""):"no-banner";d.useEffect(()=>{if(R.current=r,r!=null&&r.content){const j={};r.content.forEach((B,Q)=>{var X;const G=B.type;j[G]||(j[G]=[]),j[G].push({index:Q,id:((X=B.props)==null?void 0:X.id)||"no-id",props:B.props})})}},[r,e,t]);const{eventData:L}=Gr(),D=j=>{if(!j)return"Jan 13, 2025";try{return new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Jan 13, 2025"}};d.useEffect(()=>{const j=setTimeout(()=>{const B=localStorage.getItem("event-form-banner");if(!(r!=null&&r.content)){console.log(" EditorView useEffect - No content");return}const Q=r.content.find(le=>le.type==="HeroSection");if(!Q){console.log(" EditorView useEffect - No HeroSection found");return}const G=(L==null?void 0:L.eventName)||Q.props.title||"Event Title",X=(L==null?void 0:L.location)||"",de=D(L==null?void 0:L.startDate),se=X?`${X} | ${de}`:de||"Location | Date",fe=Q.props.backgroundImage,oe=fe==null?void 0:fe.includes("unsplash.com/photo-1540575467063"),ie=B&&(oe||fe!==B),_=Q.props.title!==G,O=Q.props.subtitle!==se,Z=ie||_||O;if(console.log(" EditorView useEffect - Checking updates:",{hasBannerInStorage:!!B,currentBanner:(fe==null?void 0:fe.substring(0,50))+"...",hasDefaultImage:oe,needsBannerUpdate:ie,needsTitleUpdate:_,needsSubtitleUpdate:O,eventName:G,subtitle:se,currentTitle:Q.props.title,currentSubtitle:Q.props.subtitle}),Z){console.log(" EditorView useEffect - Updating HeroSection with eventData");const le=r.content.map(W=>W.type==="HeroSection"?{...W,props:{...W.props,...B&&(oe||W.props.backgroundImage!==B)?{backgroundImage:B}:{},..._?{title:G}:{},...O?{subtitle:se}:{}}}:W),te={...r,content:le};u(te)}},100);return()=>clearTimeout(j)},[r,e,L,u]);const q=()=>{y(j=>!j)},U=()=>{const j=window.location.pathname;let B=null;if(j.startsWith("/event/website/editor/")){const G=j.match(/\/event\/website\/editor\/(.+)/);B=G?G[1]:null}!B&&e&&(B=e.endsWith(".json")?e.replace(".json",""):e),B||(B="welcome");const Q=`/event/website/preview/${B}`;window.location.href=Q},$=j=>{switch(j){case"html-general":y(!1),x&&x();break;case"attendee":case"schedule":case"folder":case"organization":case"hyperlink":case"qr-scanner":case"documents":case"gallery":case"forms":case"meeting-room":y(!1),x&&x();break}},K=j=>{V(!1),y(!1)},M=async j=>{E(!1),b&&await b(j),y(!0)};return d.useEffect(()=>{if(!g){['aside[class*="puck__sidebar--left"]','aside[class*="Sidebar--left"]:not([class*="right"])','nav[class*="puck__sidebar--left"]'].forEach(G=>{document.querySelectorAll(G).forEach(de=>{const se=de;se.style.removeProperty("display"),se.style.removeProperty("width"),se.style.removeProperty("visibility"),se.style.removeProperty("opacity")})});return}const j=()=>{['aside[class*="puck__sidebar--left"]','aside[class*="Sidebar--left"]:not([class*="right"])','nav[class*="puck__sidebar--left"]','[class*="ComponentList"]','[class*="component-list"]'].forEach(G=>{document.querySelectorAll(G).forEach(de=>{const se=de,fe=se.getBoundingClientRect();fe.left<350&&fe.width>100&&(se.style.setProperty("display","none","important"),se.style.setProperty("width","0","important"),se.style.setProperty("visibility","hidden","important"),se.style.setProperty("opacity","0","important"),se.style.setProperty("pointer-events","none","important"))})})};j();const B=setInterval(j,100);return()=>clearInterval(B)},[g]),a.jsxs("div",{className:"relative mt-16 flex h-[calc(100vh-64px)] flex-1 w-full",children:[n?a.jsx(Hw,{onNavigateToEditor:m,onAddComponent:v,children:a.jsx("div",{className:"w-full h-full",children:a.jsx(aH,{data:r,isInteractive:!0,onDataChange:c})})}):a.jsxs(Hw,{onNavigateToEditor:m,onAddComponent:v,children:[g&&(()=>{const j=s.filter(Q=>Q.id!=="page1").map(Q=>({id:Q.id,name:Q.name}));return!j.some(Q=>Q.id===e||Q.name===t)&&e&&e!=="page1"&&t&&j.push({id:e,name:t}),a.jsx("div",{className:"absolute inset-y-0 left-0 w-[280px] border-r border-slate-200 bg-white z-[1000]",children:a.jsx(Q5,{pages:j,currentPage:e,currentPageName:t,onPageSelect:async Q=>{if(Q!==e)try{const G=s.find(X=>X.id===Q);if(G)await h(G.filename);else{const X=Q.endsWith(".json")?Q:`${Q}.json`;await h(X)}}catch{}},onAddPage:()=>S(!0),onManagePages:p,onBackClick:U})})})(),a.jsxs("div",{className:`flex-1 h-full overflow-hidden transition-[margin-left] duration-200 ${g?"ml-[280px]":"ml-0"}`,children:[a.jsx("style",{children:`
                ${g?`
                  aside[class*="puck__sidebar--left"],
                  aside[class*="Sidebar--left"]:not([class*="right"]),
                  nav[class*="puck__sidebar--left"] {
                    display: none !important;
                    width: 0 !important;
                    visibility: hidden !important;
                    opacity: 0 !important;
                  }
                `:""}
                
                ${o?"":`
                  aside[class*="Sidebar--right"],
                  aside[class*="Sidebar_Sidebar--right_"] {
                    display: none !important;
                    width: 0 !important;
                  }
                `}
                
                [class*="DragHandle"],
                [class*="dragHandle"],
                [class*="ResizeHandle"],
                [class*="resizeHandle"],
                [class*="Sidebar__dragHandle"],
                [class*="Sidebar_Sidebar__dragHandle"],
                button[class*="dragHandle"],
                div[class*="dragHandle"],
                [data-drag-handle],
                [role="separator"] {
                  display: none !important;
                  width: 0 !important;
                  opacity: 0 !important;
                  pointer-events: none !important;
                  visibility: hidden !important;
                }
                
                .puck,
                [class*="Puck"],
                [class*="puck"] {
                  padding: 0 !important;
                  
                  gap: 0 !important;
                }
                
                main,
                main[class*="Canvas"],
                [class*="Canvas"],
                [class*="Frame"],
                section {
                  padding-left: 0 !important;
                  margin-left: 0 !important;
                }
                
                [class*="Puck"] > div,
                [class*="Puck"] section {
                  padding: 0 !important;
                 
                  gap: 0 !important;
                }

                button[data-hidden-publish-btn="true"],
                span[data-hidden-publish-btn="true"],
                button[data-testid="publish"]:not([data-custom-publish-button]),
                button[data-testid*="publish"]:not([data-custom-publish-button]),
                span[data-testid="publish"]:not([data-custom-publish-button]),
                span[data-testid*="publish"]:not([data-custom-publish-button]),
                button[aria-label*="Publish"]:not([data-custom-publish-button]),
                button[aria-label*="publish"]:not([data-custom-publish-button]),
                span[aria-label*="Publish"]:not([data-custom-publish-button]),
                span[aria-label*="publish"]:not([data-custom-publish-button]),
                button[title*="Publish"]:not([data-custom-publish-button]),
                button[title*="publish"]:not([data-custom-publish-button]),
                span[title*="Publish"]:not([data-custom-publish-button]),
                span[title*="publish"]:not([data-custom-publish-button]),
                span[class*="Button--primary"][style*="rgb(111, 66, 193)"]:not([data-custom-publish-button]),
                span[class*="Button--primary"][style*="6f42c1"]:not([data-custom-publish-button]),
                span[class*="Button--primary"]:not([data-custom-publish-button]) {
                  display: none !important;
                  visibility: hidden !important;
                  opacity: 0 !important;
                  pointer-events: none !important;
                  position: absolute !important;
                  left: -9999px !important;
                  width: 0 !important;
                  height: 0 !important;
                  padding: 0 !important;
                  margin: 0 !important;
                  overflow: hidden !important;
                }
                
                [class*="PuckHeader-inner"] {
                  display: flex !important;                 
                  white-space: nowrap !important;
                  
                }
                
                [class*="PuckHeader-title"] {
                 margin-left: auto !important;
                 margin-right: auto !important;
                }
                



                /* Style action buttons container */
                [data-action-buttons] {
                  display: flex !important;
                  align-items: center !important;
                  gap: 0 !important;
                  border-left: 1px solid #e5e7eb !important;
                  margin-left: 8px !important;
                  padding-left: 8px !important;
                  flex-shrink: 0 !important;
                }

                .puck {
                  height: 100% !important;
                }
                .puck__sidebar {
                  height: 100% !important;
                  overflow-y: auto !important;
                  max-height: calc(100vh - 64px) !important;
                }
                .puck__sidebar-content {
                  height: auto !important;
                  min-height: 100% !important;
                }
                [class*="puck__component-list"],
                [class*="puck__components"],
                [class*="puck__component-categories"] {
                  max-height: none !important;
                  overflow-y: auto !important;
                }
                .puck__sidebar [class*="scroll"],
                .puck__sidebar [class*="overflow"] {
                  overflow-y: auto !important;
                  max-height: none !important;
                }
                
                [data-puck-interactive="true"],
                [data-puck-interactive="true"] * {
                  pointer-events: auto !important;
                  cursor: pointer !important;
                }
                
                [data-puck-interactive="true"] {
                  position: relative !important;
                  z-index: 999 !important;
                }
              `}),a.jsx(y3.Provider,{value:{data:r,onChange:u},children:a.jsx(Xd,{config:Uo,data:r||{content:[],root:{props:{}},zones:{}},ui:g?{...i,leftSideBarVisible:!1,rightSideBarVisible:!0,drawer:null}:{...i,leftSideBarVisible:!0,rightSideBarVisible:o},onChange:j=>{var Q;R.current=j;const B=localStorage.getItem("event-form-banner");if(B&&(j!=null&&j.content)){const G=j.content.find(X=>X.type==="HeroSection");if(G){const X=(Q=G.props.backgroundImage)==null?void 0:Q.includes("unsplash.com/photo-1540575467063");B&&(X||G.props.backgroundImage!==B)&&(console.log(" EditorView onChange - Updating HeroSection backgroundImage from localStorage"),G.props.backgroundImage=B)}}u(j)}},`${e}-sidebar-${g}-banner-${k.substring(0,20)}`)}),a.jsx(dH,{onPreviewToggle:f,onPublish:()=>{var B;const j={...R.current,zones:((B=R.current)==null?void 0:B.zones)||{}};l(j)},showPreview:n,onBack:q})]})]}),a.jsx(s0,{isVisible:w,onClose:()=>{S(!1)},onSelect:$}),a.jsx(TR,{isVisible:P,onClose:()=>V(!1),onSelect:K}),a.jsx(oH,{isVisible:I,onClose:()=>E(!1),onSelect:M})]})},dH=({onPreviewToggle:r,onPublish:e,showPreview:t,onBack:s})=>(d.useEffect(()=>{const i=()=>new Promise(m=>{document.readyState==="complete"?m():window.addEventListener("load",()=>m(),{once:!0})}),n=()=>{var $,K,M;const m=['[class*="Header"]',"header",'[class*="puck__header"]',"[data-puck-header]"];let v=null;for(const j of m){const B=document.querySelectorAll(j);for(const Q of Array.from(B))if(Q.querySelector("button")||($=Q.textContent)!=null&&$.includes("Publish")){v=Q;break}if(v)break}if(!v)return;const f=v.querySelector("[data-puck-header-left]"),b=v.querySelector("[data-custom-preview-button]"),x=v.querySelector("[data-custom-publish-button]");if(f&&b&&x)return;b&&b.parentNode&&b.parentNode.removeChild(b),x&&x.parentNode&&x.parentNode.removeChild(x),Array.from(v.querySelectorAll("button")).filter(j=>{const B=j.textContent||"",Q=j.getAttribute("aria-label")||"",G=j.getAttribute("title")||"";return(j.getAttribute("data-testid")||"").includes("publish")||B.toLowerCase().includes("publish")||Q.toLowerCase().includes("publish")||G.toLowerCase().includes("publish")||j.className.includes("publish")||j.className.includes("Publish")}).forEach(j=>{j.hasAttribute("data-custom-publish-button")||(j.style.display="none",j.style.visibility="hidden",j.setAttribute("data-hidden-publish-btn","true"))});const w=v.querySelector('[class*="MenuBar-inner"]');if(w){w.style.setProperty("margin-left","auto","important"),w.style.setProperty("flex-shrink","0","important"),w.style.setProperty("white-space","nowrap","important");const j=w.parentElement;j&&window.getComputedStyle(j).display!=="flex"&&(j.style.setProperty("display","flex","important"),j.style.setProperty("align-items","center","important"),j.style.setProperty("width","100%","important"))}const S=v.querySelector('[class*="PuckHeader-inner"]');if(!S)return;const V=Array.from(S.querySelectorAll("*")).filter(j=>{var de;const B=j.querySelector("svg");if(B){const se=B.getAttribute("class")||"";return se.includes("lucide-panel")||se.includes("panel-right")||se.includes("panel-left")||((de=B.getAttribute("data-lucide"))==null?void 0:de.includes("panel"))}let Q="";typeof j.className=="string"?Q=j.className:j.className&&typeof j.className=="object"&&(Q=String(j.className)||"");const G=(j.getAttribute("aria-label")||"").toLowerCase(),X=(j.getAttribute("title")||"").toLowerCase();return Q.includes("lucide-panel")||Q.includes("panel-right")||Q.includes("panel-left")||G.includes("panel")||X.includes("panel")}),I=S.querySelector("[data-custom-back-button]");if(s&&V.length>0&&!I){const j=V[0],B=document.createElement("button");B.setAttribute("data-custom-back-button","true"),B.setAttribute("title","Back"),B.setAttribute("aria-label","Back"),B.style.cssText=`
          background: none;
          border: none;
          color: #6b7280;
          cursor: pointer;
          padding: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          transition: all 0.2s ease;
          flex-shrink: 0;
        `;const Q=document.createElementNS("http://www.w3.org/2000/svg","svg");Q.setAttribute("width","20"),Q.setAttribute("height","20"),Q.setAttribute("viewBox","0 0 24 24"),Q.setAttribute("fill","none"),Q.setAttribute("stroke","currentColor"),Q.setAttribute("stroke-width","2"),Q.setAttribute("stroke-linecap","round"),Q.setAttribute("stroke-linejoin","round"),Q.innerHTML='<path d="M19 12H5M12 19l-7-7 7-7"/>',B.appendChild(Q),B.addEventListener("click",de=>{de.preventDefault(),de.stopPropagation(),s()}),B.addEventListener("mouseenter",()=>{B.style.backgroundColor="#f3f4f6",B.style.color="#374151"}),B.addEventListener("mouseleave",()=>{B.style.backgroundColor="transparent",B.style.color="#6b7280"});const G=document.createElement("div");G.setAttribute("data-back-button-divider","true"),G.style.cssText=`
          width: 1px;
          height: 24px;
          background-color: #e5e7eb;
          margin: 0 8px;
          flex-shrink: 0;
        `;const X=j.parentElement;X===S?(S.insertBefore(G,j),S.insertBefore(B,G)):X?(X.insertBefore(G,j),X.insertBefore(B,G)):(S.insertBefore(G,S.firstChild),S.insertBefore(B,G))}const E=Array.from(v.querySelectorAll('button, [role="button"], span[class*="Button"]'));let R=E.find(j=>{const B=(j.getAttribute("aria-label")||"").toLowerCase(),Q=(j.getAttribute("title")||"").toLowerCase();return B.includes("undo")||Q.includes("undo")}),C=E.find(j=>{const B=(j.getAttribute("aria-label")||"").toLowerCase(),Q=(j.getAttribute("title")||"").toLowerCase();return B.includes("redo")||Q.includes("redo")}),k=null;C&&C.parentElement?k=C.parentElement:R&&R.parentElement?k=R.parentElement:C?k=C:R&&(k=R);let L=v.querySelector("[data-puck-header-left]");if(L||(L=document.createElement("div"),L.setAttribute("data-puck-header-left","true"),L.style.display="flex",L.style.alignItems="center",L.style.gap="0",L.setAttribute("data-styles-set","true"),k&&k.nextSibling?(K=k.parentElement)==null||K.insertBefore(L,k.nextSibling):k?(M=k.parentElement)==null||M.appendChild(L):v.insertBefore(L,v.firstChild)),b&&x)return;const D=L.querySelector("[data-action-buttons]");D&&D.remove();const q=document.createElement("div");q.setAttribute("data-action-buttons","true"),q.style.cssText=`
        display: flex;
        align-items: center;
        border-left: 1px solid #e5e7eb;
      `;const U=document.createElement("div");if(U.setAttribute("data-preview-container","true"),U.style.cssText=`
        display: flex;
        align-items: center;
        border-left: 1px solid #e5e7eb;
      `,!b){const j=document.createElement("button");j.setAttribute("data-custom-preview-button","true"),j.setAttribute("title",t?"Exit Preview":"Preview"),j.style.cssText=`
          background: ${t?"#7c3aed":"transparent"};
          border: none;
          color: ${t?"#ffffff":"#6b7280"};
          cursor: pointer;
          padding: 8px 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 0;
        `;const B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.setAttribute("width","20"),B.setAttribute("height","20"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.setAttribute("stroke","currentColor"),B.setAttribute("stroke-width","2"),B.innerHTML='<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',j.appendChild(B),j.addEventListener("click",r),j.addEventListener("mouseenter",()=>{t||(j.style.backgroundColor="#f3f4f6",j.style.color="#7c3aed")}),j.addEventListener("mouseleave",()=>{t?(j.style.backgroundColor="#7c3aed",j.style.color="#ffffff"):(j.style.backgroundColor="transparent",j.style.color="#6b7280")}),U.appendChild(j),q.appendChild(U)}if(!x){const j=document.createElement("button");j.setAttribute("data-custom-publish-button","true"),j.setAttribute("title","Publish"),j.style.cssText=`
          background: #7c3aed;
          border: none;
          color: #ffffff;
          cursor: pointer;
          padding: 8px 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 0;
          transition: all 0.2s ease;
        `;const B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.setAttribute("width","20"),B.setAttribute("height","20"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.setAttribute("stroke","currentColor"),B.setAttribute("stroke-width","2"),B.setAttribute("stroke-linecap","round"),B.setAttribute("stroke-linejoin","round"),B.innerHTML='<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',j.appendChild(B),j.addEventListener("click",e),j.addEventListener("mouseenter",()=>{j.style.backgroundColor="#6d28d9",j.style.opacity="0.9"}),j.addEventListener("mouseleave",()=>{j.style.backgroundColor="#7c3aed",j.style.opacity="1"});const Q=document.createElement("div");Q.setAttribute("data-publish-divider","true"),Q.style.cssText=`
          width: 1px;
          height: 24px;
          background-color: #e5e7eb;
          margin: 0 8px;
        `,q.appendChild(Q),q.appendChild(j)}q.children.length>0&&L.appendChild(q)},o=()=>{const m=document.querySelectorAll('[class*="puck"]:not([data-puck-header-left]), [class*="Puck"]:not([data-puck-header-left]), header:not([data-puck-header-left]), [class*="Header"]:not([data-puck-header-left]), [class*="Toolbar"]:not([data-puck-header-left]), [class*="toolbar"]:not([data-puck-header-left]), [class*="PuckHeader"]:not([data-puck-header-left])'),v=[];m.forEach(g=>{if(g.hasAttribute("data-puck-header-left")||g.querySelector("[data-puck-header-left]"))return;g.querySelectorAll('button:not([data-puck-header-left] *), span[class*="Button"]:not([data-puck-header-left] *), span[class*="button"]:not([data-puck-header-left] *), div[class*="Button"]:not([data-puck-header-left] *), div[class*="button"]:not([data-puck-header-left] *), [role="button"]:not([data-puck-header-left] *)').forEach(w=>{w.closest("[data-puck-header-left]")||v.push(w)})});const b=Array.from(document.querySelectorAll('button:not([data-puck-header-left] *), span[class*="Button"]:not([data-puck-header-left] *), span[class*="button"]:not([data-puck-header-left] *), [role="button"]:not([data-puck-header-left] *)')).filter(g=>!g.closest("[data-puck-header-left]"));[...new Set([...v,...b])].forEach(g=>{var K,M,j,B;if(g.hasAttribute("data-custom-publish-button")||g.hasAttribute("data-custom-preview-button"))return;if(g.hasAttribute("data-hidden-publish-btn")){if(!(window.getComputedStyle(g).display!=="none"))return;g.removeAttribute("data-hidden-publish-btn")}const y=(g.textContent||"").trim(),w=g.innerHTML||"",S=g.getAttribute("aria-label")||"",P=g.getAttribute("title")||"",V=g.getAttribute("data-testid")||"",I=g.className||"",E=g.getAttribute("style")||"",C=window.getComputedStyle(g).backgroundColor,k=C.includes("124, 58, 237")||C.includes("111, 66, 193")||C.includes("purple")||E.includes("7c3aed")||E.includes("6f42c1"),L=y.toLowerCase().includes("toggle")||y.toLowerCase().includes("sidebar")||y.toLowerCase().includes("menu")||y.toLowerCase()==="undo"||y.toLowerCase()==="redo"||y.toLowerCase().includes("undo")||y.toLowerCase().includes("redo")||I.includes("IconButton")&&!k;if(L)return;const D=V.toLowerCase().includes("publish")||y.toLowerCase()==="publish"||y.toLowerCase().includes("publish")||S.toLowerCase().includes("publish")||P.toLowerCase().includes("publish")||I.toLowerCase().includes("publish")||w.toLowerCase().includes("publish"),q=g.querySelector("svg"),U=q&&(q.innerHTML.includes("globe")||q.innerHTML.includes("Globe")||q.innerHTML.includes("circle")&&D),$=D||k&&(D||U)||U&&D;if($){try{const Q=g.parentElement,G=Q==null?void 0:Q.parentElement;g.remove(),Q&&Q.children.length===0&&Q.remove(),G&&G.children.length===0&&G.remove();return}catch{}g.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; position: absolute !important; left: -9999px !important; width: 0 !important; height: 0 !important; padding: 0 !important; margin: 0 !important; border: none !important; outline: none !important; overflow: hidden !important;",g.style.setProperty("display","none","important"),g.style.setProperty("visibility","hidden","important"),g.style.setProperty("opacity","0","important"),g.style.setProperty("pointer-events","none","important"),g.style.setProperty("position","absolute","important"),g.style.setProperty("left","-9999px","important"),g.style.setProperty("width","0","important"),g.style.setProperty("height","0","important"),g.style.setProperty("padding","0","important"),g.style.setProperty("margin","0","important"),g.style.setProperty("border","none","important"),g.style.setProperty("outline","none","important"),g.style.setProperty("overflow","hidden","important"),g.setAttribute("data-hidden-publish-btn","true"),g.setAttribute("aria-hidden","true"),g.setAttribute("tabindex","-1");try{const Q=g.parentElement;if(Q){const G=((K=Q.textContent)==null?void 0:K.toLowerCase().trim())||"";Q.children.length===1&&(G==="publish"||G.includes("publish"))?Q.remove():Array.from(Q.children).filter(se=>window.getComputedStyle(se).display!=="none").length===0&&Q.style.setProperty("display","none","important")}}catch{}}if(!$&&!g.hasAttribute("data-custom-publish-button")&&!g.hasAttribute("data-hidden-publish-btn")&&!L&&g.closest('header, [class*="Header"], [class*="Toolbar"], [class*="toolbar"], [class*="puck"], [class*="PuckHeader"]')){const G=window.getComputedStyle(g).backgroundColor,X=(g.textContent||"").trim().toLowerCase(),de=g.tagName.toUpperCase(),se=I.includes("Button"),fe=G.includes("124, 58, 237")||G.includes("111, 66, 193")||G.includes("139, 92, 246")||G.includes("147, 51, 234")||((M=g.getAttribute("style"))==null?void 0:M.includes("7c3aed"))||((j=g.getAttribute("style"))==null?void 0:j.includes("6f42c1"))||((B=g.getAttribute("style"))==null?void 0:B.includes("8b5cf6"));if(fe&&X.includes("publish")||de==="SPAN"&&se&&X.includes("publish")&&fe)try{g.remove()}catch{g.style.setProperty("display","none","important"),g.style.setProperty("visibility","hidden","important"),g.style.setProperty("opacity","0","important"),g.style.setProperty("width","0","important"),g.style.setProperty("height","0","important"),g.style.setProperty("position","absolute","important"),g.style.setProperty("left","-9999px","important"),g.setAttribute("data-hidden-publish-btn","true")}}})},l=new MutationObserver(m=>{let v=!1;m.forEach(f=>{if(f.addedNodes.length>0&&f.addedNodes.forEach(b=>{if(b.nodeType===1){const x=b,g=x.tagName.toUpperCase();g==="BUTTON"||g==="SPAN"||x.classList.toString().includes("Button")||x.getAttribute("role")==="button"?(x.textContent||"").toLowerCase().includes("publish")&&(o(),v=!0):x.querySelector('button, span[class*="Button"], [role="button"]')&&(v=!0)}}),f.type==="attributes"&&f.target){const b=f.target,x=b.tagName.toUpperCase();(x==="BUTTON"||x==="SPAN"||b.classList.toString().includes("Button")||b.getAttribute("role")==="button")&&!b.hasAttribute("data-custom-publish-button")&&(b.textContent||"").toLowerCase().includes("publish")&&o()}}),v&&(setTimeout(o,0),setTimeout(o,50))});l.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","data-testid"]}),i().then(()=>{requestAnimationFrame(()=>{n(),o()})});let u=null,c=null,h=[],p=!1;return i().then(()=>{h=[setTimeout(()=>{o()},0),setTimeout(()=>{o()},10),setTimeout(()=>{o()},50),setTimeout(()=>{o()},100),setTimeout(()=>{o()},200),setTimeout(()=>{o()},500),setTimeout(()=>{o()},1e3)];const m=setTimeout(()=>{n(),o();const b=document.querySelector("[data-custom-preview-button]"),x=document.querySelector("[data-custom-publish-button]");b&&x&&(p=!0)},100);h.push(m);const v=()=>{p?u=null:(o(),u=requestAnimationFrame(v))};v();const f=b=>{c!==null&&clearInterval(c),c=setInterval(()=>{if(p)o();else{const x=document.querySelector("[data-custom-preview-button]"),g=document.querySelector("[data-custom-publish-button]");!x||!g?(o(),n()):(p=!0,f(!0))}},b?2e3:100)};f(!1)}),()=>{h.forEach(v=>clearTimeout(v)),c!==null&&clearInterval(c),u!==null&&cancelAnimationFrame(u),l.disconnect();const m=document.querySelector('[data-custom-buttons="true"]');m&&m.remove()}},[r,e,t,s]),null),Jl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAANR0lEQVR4AX1aXYxVVxVea587M5S2045JJTKUUmhrS6igUaY2NkJSMEaTCvOi8aGML/o01BdfjFJME18dfPENfOhTZUpjNFGMUENrh9IU0loMJgUVjPZHYAaGAnP2cq+/ffa+F3uSmXvOPfvsvf7Xt79zEfqOF97ftSVQ/EavwaeQaE0vEAERBiDg0yZ9iQR6jQBIEeQc+F76RxF7NgaB7wF/b+Mgj01DiufSeCD077o1os1Jp9J3J282uHds7Oi5Ul70k/0Xn7n7jji/B4CekUUhyqS+KFYKkCtAvEhWKP/5M0kAWaS85/ejzZPOMaZ50hxk97BT0pWTe+k8fc5c7wVW5FJWgIUfaa8cSQM2ykQmMCuRhGTLiKCdBcU6xOfsHV7EnsuWKwSmas7Sg6CCY59ypVdLr7HHWZE0/uSNK7h17P6jl/h+EnRxT0TclGyJMV1HsR1Amx5pI08PooreT39k99jraWr+ZH/xPTaXPp/ES5dRAgnTeP3UeQD0T+Y0X6H4nOcmtIASU8hYcQPf4+t0vnHojrhHPLD/4vfWYIxnNVZJYrgZCBsPA/EIuzaNUdfqp3mELVuGGHQhIeGQPUvieveA51dI/9gSPN5CFTzMGr5RhCrP0+vFLb0YYQ/KMqw6D2CtSfKCv42WJSwoW4wiJ5Z6KIjl2FZyhZwMIMlrCSZWU5MGs7p+qtIyQtbSKxDhxYOossisksXs5Ua9INPz+dJSs6OXntnEGsdiUZJw0IGoSUgpBCyROgWBheNERk5DyrJw3Kd5UZ91IamQFHVyAtMh6qfYV7ya5dExvm6UJ3loq6Of6nHssxBINrnkmGa8iCaPiTVScIkuvBhJkegkSCP5SzaiPm1CILqyKqGMABWH8wOlQoAbTBJecikU1gYpJcSGFa/wlEEnXdOL8py6nSeLWZEcCNkUEl4iJqFaWr1BpgyBiibCkSqGFlGlaVqKpZL8HGpFQ9QQiCJS6JanTgoSP7hoPW0f4mDEShG2jsWw2Cmg54VY2kKLxwX1i1pRJkpCSu3Q4LK55JZkJai3Wls3QG2roKGU14EuWeRM76qHemIBFULKGNu0TTc8YVDjVWKl5fBQQdIiqipXi1YsZ8pxfEpDQisAQapKlAoFoMkYZW41hoQQZoNAYV4JKb0H1jijFEHLtXTday3O1UmkGpJEqlqLxL5FRXCrkD2TBErZHaNnJoIKrI6ONi5ngoVKY172WTnHWrN9d+R70jPU46pIS5rNPRVG9NRk8sSxNdUzBAXq0GnNGqaLegzAwl6SRBYUA1jUImE3i/UMiXvwPDC7iydLo+iz/BHQn9Vy3JO2kCzWgkbyzQWAG5cFNqA2G4LbRhGW3+UWA3G6JIYt6IIHKzTX5gGvz2s4oji1gXtWRfEGl1gO2atXkK5dBgNwClNWrLK8sNxospHUq1RWJjNCz+utNi2Ef7+zBIe+vQjlsXoiwLeeH8nu9V4gbrfwstouC774HMCJWTRfAXxinOC5l6N5SESBH399BD+8gNU6P3p+EdZvvqmFiOFHTnDSKiEzoiphbSdEyFiF4wpWTgzB+ERTTfyPuQj/Oa3ly7GO91/BK4Z3+PrD8y58d3x1OoLhJuSxr872oF94Pl4/PFTgJcdJIeNiw0syh2KlZA5fXJRiG6ePhydHBiZ/6+CSAjwSQCeu1kWkiGXQdnjfwKOw7jFpguSA7ZXZALc6/pQUW1wIJHMTyXg2ajToYg3PvKNA0j1AbkEW6r5tQzAyWlvo7dkWPlpw64Pkgz0r6JRsjnfnaqG+sJPg7pWGWtP1B8nyf5u7tQKLKW9+u38YLCsEWXXelShBcoM7HotgwmSBUne7E+HRqdoL1+cpeSEKrjRoDTmUDGq/MUtw6UIt1LbdKNZXiyH8Zl8DH3f87pdDBsnZ8qoElZAburX5POdA1tTibcOuEeqf/C8Hb6rFc9ipYOZiOjpDldvunwAYHWfjBBHqg/MIx/vyY/koDXjhxOEhFZK6PUNrxmq1R4HvW0JhTSpd00shdN+TQ9Xk75+OktCipLnUvXZ2DvDShVqYz+1E27OBeOlWoTP5wxYenIi1Fw70rEhoonqOev6xPXzdoLsfAAsjHmQCBtzwnWUDXvjzvhu2K5KOLguwx07N1kLcPQ6wcTKIkq3t1H7fl+BcXj+znehr0/Wzf51r4J3XUq9G3fVJmHuhAd+ZoXlAYiyo5c36Uc9pxeYh/NREr5r8wlwL1xZ0fyDuTQ9ePM/50Vbjvry7KeIW4fXZNK4vPx5IITZ8B+K69HnbaH3v2OwQdLFuW11UuBEhlAokC+V9rCROrrcswIOTy6D/eHP/km4SpXwGODazVN1floRZvTmUAsAbBwemga/slqYsntzydG2AV2YbuDLfPa/FQmWyvbnkaohFVamyndQj6yZHaLivpJ46cCPVa+8JAP+cqxd/aFsDo6tCTvSLqXSenaujka1+17iSBDzPlqlBLxxOuZBLqBSLYP1Heo/0iCBQFru4aq1sdewE4vpdtRe4pJ7+1U1R+u3U4Ob7kvfx6dL9AY/siwPWf3xXnl/yiPvO5h2xmugPSYGrCxbe4AUhlL0HQmtbECuNvq/R1k26R3hkavmAF949vCQNbW7mevX9vQk3pdJJnugc9ycP1gqMpQRfv90rieVS+v7R7bWSi/MpXA834Ems9A2Y0oFyGW3J2zTmmtv1h7RpSMLfu61ubP+aW4K5mRu40Gf9L04PyzzuxbOvDRQy2DptIdqtI7vStROAD0zU41+dVd5Jq12ndGu9IJADJm1mBm6dQOrCYO3kYGM7se+j6jpZHlY+1sUtG+fYz5cGFFidwKJ22Y7IagXyI22frseeSb3jzPFGADej07oyGRbiuG8N37Sy3yyy36z5yYlhXDExBB93bN69LAMuTri3En66fL7We+POAHetsi5rPcSxFFt67ebBZP71vkarohjYQWcwLCQ5ILQpek9oK4BniDD58NNTy/+v8HeOB1iTQKA0QtnKK4LtP57Y3ZDD4WhNKnd0Q55ferpWmjv41QX1aOsGsmITbBKztsMKZceKGix/49uWwdAo3lIBDp2hUQu/pMR7af9wvq+88sboznElDQ1DkcNix2PsjCemgJb1eeGPB3TfIWHt4DM92oE5gL7Pwb900MO7bu2Fz07flp/lhHsz9Yr+Y8NkTwFgtrjCY1azzaAt4PBowM/vrJ89cqCBq/Ndf/KqxFtKMtYFlbBAAUjCy6Aiv3yk64embof35mrhVia4cfuqHjBhxWCZ97oc+ytTsvq+mev8IzvTGHvngMX+NuguW8u3UCup92xLle60oR87zhxH2vSk5Cg6z4rf/e9PKL9JkcWUm+d8aajg7vXlgmxXG1k/ynUwLjTklxBc2jwglc8vX274fI3QkdT3csTZ7/IdA+R3BpmhRn0efVNvDKjQXcFY0CAlK7PJ4PQHsxXGTEvz02zRBiMHOSlIQsegscvOaAQjxlq5Y8DcN+p2N1ge6eZeOdYg0KHjjZQyYFrFhA/GFigHJGKSs+DByLyunyplzFYXJdgraAxa5inB3r4I5ePUrgrK9/hVAM8tvoyQCSByBlHDmoxKNOVVIaUqJeB73AMk5kv2V1EGRhc5k0tV6Jty0WKSMrUo/LP0D6Up+TGnIINPL59otJmxgzKlipnZcOg8K1fmBQFy6bIXlXuzBTvu0/nNjkLUa6UWM8dO/hqBjO5ShtoNr1wRm7HVd2miHGZqUBm/oLZjVdDWklGh5Eqd5DZqLRhB7FXIxHaJvS5ZdYKOWiRJwOAWl0ZkyqGWWs8GpQ2Z2Y9ouUQat23FjWpI6VucaK86EDLlqfR1xciRkckSQl7fK7fqa05969J3BOnUMVUiCRty00gBEDlUufzKyZZUvlMXl3Di9wNoFnaVQV8jFckqr02QvCxwyeAVjBmUJAb8e9JujVohm1nI1cbcFHUq8nc0RrlLBuhOQi2i6Uqa+oSmCGYylsh51PxOgAUGf/MTFE4I6UuG+RuGzVZMiKujn0mhD6e4ZL9kqFP3BGggi0r6RCdW4KW4qSXfBBU8TRq/BAVUJgd2Ha7qILHinkwidN879u92Ymr5iuSyuU6GpRBelIvMRqDzj2SLQ6tY3MEWddgp71F9bH7Rk3lT26wI44E6Hzl0rwTP+xAs9r7QvU8O1qnRoIjE897wwtgPXk6mnMlAySyZAZPu4zo+1DxBlTWgA4KFQBV2RwOLTs6SkgktFaCx86TRNb5XMdrdIsXG/WzH2IFzEorXw8izadDJFoBuDeQMs7vgGjrVniHD4ewRVwxgQDEypo18+wp5Cxp9X+LbxzxMkKvvNU4uhrhXnZCOQ2Pfv3QDhrem9Jhpbc/p3JBtK7MSWUiBGsFj2X9e4BwrxmI/QYWw8l3Q11yWc6TP2U8ZqPSkUOuiTOepMHP98s2tU2MHuh97lMc3L/50TVrh2SbEjelyY9CfFUjOy08MDKCh/sIEBNhRBwDlu+x8A3kG3hAcHBY/MbAxChJFywr8yXoQz6U1X0oaHJq65xdHS3n/B4WQvSlKvBCsAAAAAElFTkSuQmCC",x3="/assets/background-BtBDK_v3.png",cH=({onSubmit:r,onForgotPassword:e,onGoogleSignIn:t,onMicrosoftSignIn:s,onMagicLinkSignIn:i,onNavigateToRegistration:n})=>{const[o,l]=d.useState(""),[u,c]=d.useState(""),[h,p]=d.useState(!1),m=v=>{v.preventDefault(),r&&r(o,u)};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center overflow-hidden relative p-4 sm:p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110",style:{backgroundImage:`url(${x3})`}}),a.jsx("div",{className:"absolute inset-0 bg-black/50 "}),a.jsx("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center justify-start overflow-hidden rounded-xl sm:rounded-2xl bg-white my-auto max-h-[95vh] overflow-y-auto shadow-[0px_3px_3px_-1.5px_rgba(10,12.67,18,0.04)]",children:a.jsxs("div",{className:"relative flex w-full flex-col items-center justify-start",children:[a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-3 sm:gap-4 self-stretch pt-4 sm:pt-6 px-4 sm:px-6",children:[a.jsx("div",{className:"relative h-10 w-10 sm:h-12 sm:w-12 overflow-hidden rounded-lg",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-full w-full object-cover"})}),a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-0.5 self-stretch",children:[a.jsx("div",{className:"w-full break-words text-center text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-[#181D27]",children:"Log in to your account"}),a.jsx("div",{className:"w-full break-words text-center text-xs sm:text-sm font-normal leading-4 sm:leading-5 text-[#535862]",children:"Welcome back! Please enter your details."})]})]}),a.jsx("button",{type:"button",onClick:()=>{},className:"absolute right-2 top-2 sm:right-3 sm:top-3 inline-flex h-9 w-9 sm:h-11 sm:w-11 items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2 touch-manipulation","aria-label":"Close",children:a.jsx("div",{className:"relative h-5 w-5 sm:h-6 sm:w-6 overflow-hidden",children:a.jsx(hi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#A4A7AE]"})})}),a.jsx("div",{className:"h-4 sm:h-5 w-full self-stretch"}),a.jsx("form",{onSubmit:m,className:"flex w-full flex-col items-start justify-start gap-4 sm:gap-5 self-stretch px-4 sm:px-6",children:a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-4 sm:gap-5 self-stretch rounded-xl",children:[a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-3 sm:gap-4 self-stretch",children:[a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-1.5 self-stretch",children:[a.jsxs("div",{className:"inline-flex items-start justify-start gap-0.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"Email"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-red-500",children:"*"})]}),a.jsx("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch rounded-lg bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-1 outline-[#D5D7DA] -outline-offset-1",children:a.jsx("div",{className:"flex flex-1 items-center justify-start gap-2",children:a.jsx("input",{id:"email",type:"email",value:o,onChange:v=>l(v.target.value),placeholder:"Enter your email",className:"flex-1 bg-transparent text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#181D27] placeholder:text-[#717680] outline-none",required:!0})})})]}),a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-1.5 self-stretch",children:[a.jsxs("div",{className:"inline-flex items-start justify-start gap-0.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"Password"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-red-500",children:"*"})]}),a.jsx("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch rounded-lg bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-1 outline-[#D5D7DA] -outline-offset-1",children:a.jsx("div",{className:"flex flex-1 items-center justify-start gap-2",children:a.jsx("input",{id:"password",type:"password",value:u,onChange:v=>c(v.target.value),placeholder:"",className:"flex-1 bg-transparent text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#181D27] placeholder:text-[#717680] outline-none",required:!0})})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row w-full items-start sm:items-center justify-between gap-2 sm:gap-0 self-stretch",children:[a.jsxs("div",{className:"flex items-start justify-start gap-2",children:[a.jsx("div",{className:"flex items-center justify-center pt-0.5",children:a.jsx("input",{type:"checkbox",checked:h,onChange:v=>p(v.target.checked),className:"h-4 w-4 sm:h-4 sm:w-4 rounded border border-[#D5D7DA] touch-manipulation"})}),a.jsx("div",{className:"inline-flex flex-col items-start justify-start",children:a.jsx("div",{className:"self-stretch break-words text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"Remember for 30 days"})})]}),e&&a.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:a.jsx("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-1 touch-manipulation",children:a.jsx("span",{className:"break-words text-xs sm:text-sm font-semibold leading-4 sm:leading-5 text-[#5925DC]",children:"Forgot password"})})})]})]})}),a.jsxs("div",{className:"inline-flex h-full w-full flex-col items-start justify-start self-stretch px-4 sm:px-6 pb-6 gap-3",children:[a.jsx("button",{type:"button",onClick:m,className:"inline-flex w-full mt-4 items-center justify-center self-stretch overflow-hidden rounded-lg px-4 py-2.5 sm:py-2.5 touch-manipulation bg-[#6938EF] shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-2 outline-white -outline-offset-2 gap-1.5",children:a.jsx("div",{className:"flex items-center justify-center px-0.5",children:a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:"Sign in"})})}),a.jsx(gh,{provider:"google",onClick:t,size:"lg"}),a.jsx(gh,{provider:"microsoft",onClick:s,size:"lg"}),a.jsx(gh,{provider:"magic-link",onClick:i,size:"lg"}),n&&a.jsx("div",{className:"flex w-full items-center justify-center mt-2",children:a.jsx("button",{type:"button",onClick:n,className:"break-words text-xs sm:text-sm font-semibold leading-4 sm:leading-5 text-[#5925DC] hover:underline touch-manipulation",children:"Don't have an account? Create one"})})]})]})})]})},hH=async r=>{try{const e=await fetch(Cs.AUTH.REGISTER_SEND_OTP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})});if(!e||!e.ok){if(!e){const s="Cannot connect to the server. Please make sure the backend server is running on http://localhost:8000";throw console.error("Network error: Server is not reachable",Cs.AUTH.REGISTER_SEND_OTP),st.error(s),new Error(s)}try{const s=await e.json(),i=s.message||`Server error (${e.status})`,n=s.errors||[],o=n.length>0?n.join(", "):i;throw st.error(o),new Error(o)}catch{const i=`Server error: ${e.status} ${e.statusText}`;throw st.error(i),new Error(i)}}let t;try{t=await e.json()}catch(s){const i="Invalid response from server. Please try again.";throw console.error("Failed to parse response:",s),st.error(i),new Error(i)}if(t.status==="error"){const s=t.message||"Failed to send OTP",i=t.errors||[],n=i.length>0?i.join(", "):s;throw st.error(n),new Error(n)}return t.status==="success"&&st.success(t.message||"OTP sent successfully"),t}catch(e){if(e instanceof TypeError&&e.message.includes("fetch")){const s=`Cannot connect to the server. Please check:
1. Backend server is running on http://localhost:8000
2. CORS is properly configured
3. No firewall is blocking the connection`;throw console.error("Network error when sending OTP:",e),st.error("Connection error. Please check if the server is running."),new Error(s)}if(e instanceof Error&&(e.message.startsWith("Cannot connect")||e.message.startsWith("Server error")||e.message.startsWith("Invalid response")))throw e;console.error("Error sending OTP:",e);const t=e instanceof Error?e.message:"Failed to send OTP. Please try again.";throw st.error(t),new Error(t)}},pH=async(r,e)=>{try{const t=await fetch(Cs.AUTH.REGISTER_VERIFY_OTP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:e})});if(!t||!t.ok){if(!t){const i="Cannot connect to the server. Please make sure the backend server is running on http://localhost:8000";throw console.error("Network error: Server is not reachable",Cs.AUTH.REGISTER_VERIFY_OTP),st.error(i),new Error(i)}try{const i=await t.json(),n=i.message||`Server error (${t.status})`,o=i.errors||[],l=o.length>0?o.join(", "):n;throw st.error(l),new Error(l)}catch{const n=`Server error: ${t.status} ${t.statusText}`;throw st.error(n),new Error(n)}}let s;try{s=await t.json()}catch(i){const n="Invalid response from server. Please try again.";throw console.error("Failed to parse response:",i),st.error(n),new Error(n)}if(s.status==="error"){const i=s.message||"Failed to verify OTP",n=s.errors||[],o=n.length>0?n.join(", "):i;throw st.error(o),new Error(o)}return s.status==="success"&&st.success(s.message||"OTP verified successfully"),s}catch(t){if(t instanceof TypeError&&t.message.includes("fetch")){const i=`Cannot connect to the server. Please check:
1. Backend server is running on http://localhost:8000
2. CORS is properly configured
3. No firewall is blocking the connection`;throw console.error("Network error when verifying OTP:",t),st.error("Connection error. Please check if the server is running."),new Error(i)}if(t instanceof Error&&(t.message.startsWith("Cannot connect")||t.message.startsWith("Server error")||t.message.startsWith("Invalid response")))throw t;console.error("Error verifying OTP:",t);const s=t instanceof Error?t.message:"Failed to verify OTP. Please try again.";throw st.error(s),new Error(s)}},mH=async(r,e)=>{try{const t=await fetch(Cs.AUTH.CREATE_PASSWORD,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r,password:e})});if(!t||!t.ok){if(!t){const i="Cannot connect to the server. Please make sure the backend server is running on http://localhost:8000";throw console.error("Network error: Server is not reachable",Cs.AUTH.CREATE_PASSWORD),st.error(i),new Error(i)}try{const i=await t.json();console.error("Backend error response for createPassword:",i),console.error("Request body sent:",{email:r,password:"***"});let n=i.message||i.detail||`Server error (${t.status})`;const o=i.errors||[];if(i.non_field_errors&&i.non_field_errors.length>0)n=i.non_field_errors.join(", ");else if(typeof i=="object"&&!i.message){const u=Object.keys(i);if(u.length>0){const c=i[u[0]];n=Array.isArray(c)?c.join(", "):String(c)}}const l=o.length>0?o.join(", "):n;throw st.error(l),new Error(l)}catch(i){const n=`Server error: ${t.status} ${t.statusText}`;throw console.error("Failed to parse error response:",i),st.error(n),new Error(n)}}let s;try{s=await t.json()}catch(i){const n="Invalid response from server. Please try again.";throw console.error("Failed to parse response:",i),st.error(n),new Error(n)}if(s.status==="error"){const i=s.message||"Failed to create password",n=s.errors||[],o=n.length>0?n.join(", "):i;throw st.error(o),new Error(o)}return s.status==="success"&&st.success(s.message||"Password created successfully"),s}catch(t){if(t instanceof TypeError&&t.message.includes("fetch")){const i=`Cannot connect to the server. Please check:
1. Backend server is running on http://localhost:8000
2. CORS is properly configured
3. No firewall is blocking the connection`;throw console.error("Network error when creating password:",t),st.error("Connection error. Please check if the server is running."),new Error(i)}if(t instanceof Error&&(t.message.startsWith("Cannot connect")||t.message.startsWith("Server error")||t.message.startsWith("Invalid response")))throw t;console.error("Error creating password:",t);const s=t instanceof Error?t.message:"Failed to create password. Please try again.";throw st.error(s),new Error(s)}},gH=async r=>{try{const e=localStorage.getItem("accessToken");if(!e){const n="Authentication required. Please login again.";throw st.error(n),new Error(n)}const t={name:r};console.log("Creating organization with request:",{url:Cs.AUTH.CREATE_ORGANIZATION,method:"POST",body:t,hasAccessToken:!!e});const s=await fetch(Cs.AUTH.CREATE_ORGANIZATION,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include",body:JSON.stringify(t)});if(console.log("Organization creation response status:",s.status,s.statusText),!s||!s.ok){if(!s){const n="Cannot connect to the server. Please make sure the backend server is running on http://localhost:8000";throw console.error("Network error: Server is not reachable",Cs.AUTH.CREATE_ORGANIZATION),st.error(n),new Error(n)}try{const n=await s.text();console.error(`Backend error (${s.status}):`,n),console.error("Response headers:",Object.fromEntries(s.headers.entries()));let o;try{o=JSON.parse(n)}catch{console.error("Error response is not JSON. Raw response:",n.substring(0,500));const p=s.status===500?"Internal server error. The server encountered an unexpected error. Please check the backend logs or try again later.":`Server error: ${s.status} ${s.statusText}`;throw st.error(p),new Error(p)}console.error("Parsed backend error response:",o);let l=o.message||o.detail||o.error||`Server error (${s.status})`;const u=o.errors||[];if(o.non_field_errors&&o.non_field_errors.length>0)l=o.non_field_errors.join(", ");else if(typeof o=="object"&&!o.message&&!o.detail){const h=Object.keys(o);if(h.length>0){const p=o[h[0]];l=Array.isArray(p)?p.join(", "):String(p)}}s.status===500&&(l=l||"Internal server error occurred. Please check the backend server logs for details.",console.error("500 Internal Server Error details:",{message:o.message,detail:o.detail,errors:o.errors,fullResponse:o}));const c=u.length>0?u.join(", "):l;throw st.error(c),new Error(c)}catch(n){const o=s.status===500?"Internal server error. The server encountered an unexpected error. Please check the backend server logs or try again later.":`Server error: ${s.status} ${s.statusText}`;throw console.error("Failed to parse error response:",n),console.error("Response status:",s.status,s.statusText),st.error(o),new Error(o)}}let i;try{const n=await s.json();if(console.log("Organization API response:",n),console.log("Response data type:",typeof n.data,"Value:",n.data),!n||typeof n!="object")throw console.error("Response is not an object:",n,typeof n),new Error("Invalid response format from server: response is not an object");if(n.status==="error"){const l=n.message||"Failed to create organization",u=n.errors||[],c=u.length>0?u.join(", "):l;throw st.error(c),new Error(c)}if(n.status!=="success"){const l=`Unexpected response status: ${n.status}. Expected 'success'.`;throw console.error("Unexpected response status:",n.status),st.error("Server error: Unexpected response status."),new Error(l)}let o=n.data;if(typeof o=="string"&&o===""){const l='Backend returned empty organization data. The API response has status "success" but the "data" field is an empty string. Please check the backend implementation to ensure it returns the organization object in the "data" field.';throw console.error(l),console.error("Full API response:",JSON.stringify(n,null,2)),st.error("Server error: Organization data not returned. Please try again or contact support."),new Error(l)}if(!o||typeof o!="object"){const l=`Invalid response format: organization data should be an object, but received ${typeof o}. Value: ${JSON.stringify(o)}`;throw console.error("Organization data is missing or not an object:",o,"Type:",typeof o),console.error("Full API response:",JSON.stringify(n,null,2)),st.error("Server error: Invalid organization data format."),new Error(l)}if(o.data&&typeof o.data=="object"&&o.data.uuid&&(console.log("Detected nested data structure, extracting from responseData.data"),o=o.data),!o.uuid)throw console.error("Missing uuid field in organization data:",o),new Error("Invalid response format from server: missing uuid in organization data");if(!o.name)throw console.error("Missing name field in organization data:",o),new Error("Invalid response format from server: missing name in organization data");i={uuid:String(o.uuid),name:String(o.name),registration_number:o.registration_number||null,tax_number:o.tax_number||null,affiliations:o.affiliations||null,email:o.email||null,website_url:o.website_url||null},console.log("Parsed organization data:",i)}catch(n){if(n instanceof Error&&n.message.includes("Invalid response format"))throw console.error("Validation error:",n.message),st.error(n.message),n;const o="Invalid response from server. Please try again.";throw console.error("Failed to parse organization response:",n),console.error("Response status:",s.status,s.statusText),st.error(o),new Error(o)}return st.success("Organization created successfully"),i}catch(e){if(e instanceof TypeError&&e.message.includes("fetch")){const s=`Cannot connect to the server. Please check:
1. Backend server is running on http://localhost:8000
2. CORS is properly configured
3. No firewall is blocking the connection`;throw console.error("Network error when creating organization:",e),st.error("Connection error. Please check if the server is running."),new Error(s)}if(e instanceof Error&&(e.message.startsWith("Cannot connect")||e.message.startsWith("Server error")||e.message.startsWith("Invalid response")||e.message.startsWith("Authentication required")))throw e;console.error("Error creating organization:",e);const t=e instanceof Error?e.message:"Failed to create organization. Please try again.";throw st.error(t),new Error(t)}},fH=({onSubmit:r,onTermsClick:e,onAlreadyHaveAccount:t,onClose:s})=>{const[i,n]=d.useState(""),[o,l]=d.useState(!1),[u,c]=d.useState(!1),[h,p]=d.useState(null),m=async v=>{if(v.preventDefault(),p(null),!o){p("Please accept the Terms and Conditions");return}if(!i.trim()){p("Please enter your email");return}c(!0);try{(await hH(i.trim())).status==="success"&&r&&r(i.trim())}catch(f){p(f instanceof Error?f.message:"Failed to send OTP. Please try again.")}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center overflow-hidden relative p-4 sm:p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110",style:{backgroundImage:`url(${x3})`}}),a.jsx("div",{className:"absolute inset-0 bg-black/50"}),a.jsx("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center justify-start overflow-hidden rounded-xl sm:rounded-2xl bg-white my-auto max-h-[95vh] overflow-y-auto shadow-[0px_3px_3px_-1.5px_rgba(10,12.67,18,0.04)]",children:a.jsxs("div",{className:"relative flex w-full flex-col items-center justify-start",children:[a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-3 sm:gap-4 self-stretch pt-4 sm:pt-6 px-4 sm:px-6",children:[a.jsx("div",{className:"relative h-10 w-10 sm:h-12 sm:w-12 overflow-hidden rounded-lg",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-full w-full object-cover"})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-0.5 self-stretch",children:a.jsx("div",{className:"w-full break-words text-center text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-[#181D27]",children:"Create an account"})})]}),a.jsx("button",{type:"button",onClick:s,className:"absolute right-2 top-2 sm:right-3 sm:top-3 inline-flex h-9 w-9 sm:h-11 sm:w-11 items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2 touch-manipulation hover:bg-slate-100 transition-colors","aria-label":"Close",children:a.jsx("div",{className:"relative h-5 w-5 sm:h-6 sm:w-6 overflow-hidden",children:a.jsx(hi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#A4A7AE]"})})}),a.jsx("div",{className:"h-4 sm:h-5 w-full self-stretch"}),a.jsx("form",{onSubmit:m,className:"flex w-full flex-col items-start justify-start gap-4 sm:gap-5 self-stretch px-4 sm:px-6",children:a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-4 sm:gap-5 self-stretch rounded-xl",children:[a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-1.5 self-stretch",children:[a.jsxs("div",{className:"inline-flex items-start justify-start gap-0.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"Email"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-red-500",children:"*"})]}),a.jsx("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch rounded-lg bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] hover:shadow-md outline outline-1 outline-[#D5D7DA] -outline-offset-1",children:a.jsx("div",{className:"flex flex-1 items-center justify-start gap-2",children:a.jsx("input",{id:"email",type:"email",value:i,onChange:v=>n(v.target.value),placeholder:"Enter your email",className:"flex-1 bg-transparent text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#181D27] placeholder:text-[#717680] outline-none",required:!0})})})]}),a.jsxs("div",{className:"flex w-full items-start justify-start gap-2 self-stretch",children:[a.jsx("div",{className:"flex items-center justify-center pt-0.5",children:a.jsx("input",{type:"checkbox",id:"terms",checked:o,onChange:v=>l(v.target.checked),className:"h-4 w-4 sm:h-4 sm:w-4 rounded border border-[#D5D7DA] touch-manipulation",required:!0})}),a.jsxs("label",{htmlFor:"terms",className:"flex-1 break-words text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651] cursor-pointer",children:["I accept the"," ",e?a.jsx("button",{type:"button",onClick:e,className:"text-[#6938EF] hover:underline focus:outline-none",children:"Terms and Conditions"}):a.jsx("span",{className:"text-[#6938EF]",children:"Terms and Conditions"})]})]})]})}),a.jsxs("div",{className:"inline-flex h-full w-full flex-col items-start justify-start self-stretch px-4 sm:px-6 pb-6 gap-3",children:[a.jsx("button",{type:"button",onClick:m,disabled:!o||u,className:"inline-flex w-full mt-4 items-center justify-center self-stretch overflow-hidden rounded-lg px-4 py-2.5 sm:py-2.5 touch-manipulation bg-[#6938EF] shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] outline outline-2 outline-white -outline-offset-2 gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#5925DC] transition-colors",children:a.jsx("div",{className:"flex items-center justify-center px-0.5",children:u?a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:"Sending..."}):a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:"Get started"})})}),t&&a.jsx("div",{className:"flex w-full items-center justify-center",children:a.jsx("button",{type:"button",onClick:t,className:"break-words text-xs sm:text-sm font-semibold leading-4 sm:leading-5 text-[#5925DC] hover:underline touch-manipulation",children:"Already have an account?"})})]})]})})]})},vH=({email:r,onVerify:e,onResendCode:t,isLoading:s=!1,error:i=null,onCodeChange:n})=>{const[o,l]=d.useState(["","","","","",""]),u=d.useRef([]);d.useEffect(()=>{var f;(f=u.current[0])==null||f.focus()},[]),d.useEffect(()=>{const f=o.join(""),b=o.every(x=>x!=="");if(f.length===6&&b&&!s&&e){const x=setTimeout(()=>{e(f)},300);return()=>clearTimeout(x)}},[o,s,e]);const c=(f,b)=>{var g;if(b&&!/^\d$/.test(b))return;const x=[...o];x[f]=b,l(x),n&&b&&n(),b&&f<5&&((g=u.current[f+1])==null||g.focus())},h=(f,b)=>{var x,g,y;b.key==="Backspace"&&!o[f]&&f>0&&((x=u.current[f-1])==null||x.focus()),b.key==="ArrowLeft"&&f>0&&((g=u.current[f-1])==null||g.focus()),b.key==="ArrowRight"&&f<5&&((y=u.current[f+1])==null||y.focus())},p=f=>{var x,g;f.preventDefault();const b=f.clipboardData.getData("text").trim();if(/^\d{6}$/.test(b)){const y=b.split(""),w=[...o];y.forEach((S,P)=>{P<6&&(w[P]=S)}),l(w),y.length===6?(x=u.current[5])==null||x.focus():(g=u.current[y.length])==null||g.focus()}},m=()=>{const f=o.join("");f.length===6&&e&&e(f)},v=o.every(f=>f!=="");return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"w-full max-w-md flex flex-col items-center justify-start gap-6 sm:gap-8",children:[a.jsx("div",{className:"relative h-12 w-12 sm:h-14 sm:w-14 overflow-hidden rounded-lg",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-full w-full object-cover"})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-2",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold leading-7 sm:leading-8 text-[#181D27] text-center",children:"Verify your email address"})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-4",children:a.jsxs("p",{className:"text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#414651] text-center max-w-md",children:["We emailed you a six-digit code to ",a.jsx("strong",{className:"font-semibold text-[#181D27]",children:r}),". Enter the code below to confirm your email address."]})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-4",children:a.jsx("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:o.map((f,b)=>a.jsx("input",{ref:x=>{u.current[b]=x},type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:x=>c(b,x.target.value),onKeyDown:x=>h(b,x),onPaste:b===0?p:void 0,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-lg sm:text-xl font-semibold rounded-lg border border-[#D5D7DA] bg-white focus:border-[#6938EF] focus:outline-none focus:ring-2 focus:ring-[#6938EF]/20 transition-colors",placeholder:"-","aria-label":`Digit ${b+1}`},b))})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start",children:a.jsx("p",{className:"text-xs sm:text-sm font-normal leading-4 sm:leading-5 text-[#535862] text-center",children:"Make sure to keep this window open while check your inbox"})}),i&&a.jsx("div",{className:"flex w-full items-center justify-start self-stretch",children:a.jsx("p",{className:"text-xs sm:text-sm font-normal leading-4 sm:leading-5 text-red-500 text-center",children:i})}),a.jsxs("div",{className:"flex w-full flex-col items-center justify-start gap-4 mt-2",children:[a.jsx("button",{type:"button",onClick:m,disabled:!v||s,className:"inline-flex w-full items-center justify-center self-stretch overflow-hidden rounded-lg px-4 py-2.5 sm:py-3 touch-manipulation bg-[#6938EF] shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#5925DC] transition-colors",children:a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:s?"Verifying...":"Verify"})}),t&&a.jsx("div",{className:"flex w-full items-center justify-center",children:a.jsx("button",{type:"button",onClick:t,className:"break-words text-xs sm:text-sm font-semibold leading-4 sm:leading-5 text-[#5925DC] hover:underline touch-manipulation",children:"Didn't receive the code? Resend"})})]})]})})},yH=({onSubmit:r,isLoading:e=!1,error:t=null,onPasswordChange:s})=>{const[i,n]=d.useState(""),[o,l]=d.useState(!1),u=c=>{c.preventDefault(),i&&r&&r(i)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"w-full max-w-md flex flex-col items-center justify-start gap-6 sm:gap-8 bg-white rounded-xl sm:rounded-2xl shadow-[3px_3px_3px_3px_rgba(10,10,10,0.04)] p-6 sm:p-8 transform hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"relative h-12 w-12 sm:h-14 sm:w-14 overflow-hidden rounded-lg",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-full w-full object-cover"})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-2",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold leading-7 sm:leading-8 text-[#181D27] text-center",children:"Create new password"})}),a.jsxs("form",{onSubmit:u,className:"flex w-full flex-col items-start justify-start gap-4 sm:gap-5",children:[a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-1.5 self-stretch",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"New Password"}),a.jsxs("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch rounded-lg bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] hover:shadow-md   outline outline-1 outline-[#D5D7DA] -outline-offset-1 relative",children:[a.jsx("input",{id:"password",type:o?"text":"password",value:i,onChange:c=>{n(c.target.value),s&&c.target.value&&s()},placeholder:"Enter password",className:"flex-1 bg-transparent text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#181D27] placeholder:text-[#717680] outline-none pr-10",required:!0}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 flex items-center justify-center text-[#717680] hover:text-[#414651] transition-colors","aria-label":o?"Hide password":"Show password",children:o?a.jsx(fR,{className:"h-5 w-5"}):a.jsx(Ho,{className:"h-5 w-5"})})]})]}),t&&a.jsx("div",{className:"flex w-full items-center justify-start self-stretch",children:a.jsx("p",{className:"text-xs sm:text-sm font-normal leading-4 sm:leading-5 text-red-500",children:t})}),a.jsx("button",{type:"submit",disabled:!i||e,className:"inline-flex w-full mt-2 items-center justify-center self-stretch overflow-hidden rounded-lg px-4 py-2.5 sm:py-3 touch-manipulation bg-[#6938EF] shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#5925DC] transition-colors",children:a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:e?"Creating...":"Continue"})})]})]})})},xH=({onSubmit:r,isLoading:e=!1,error:t=null,onNameChange:s})=>{const[i,n]=d.useState(""),o=l=>{l.preventDefault(),i.trim()&&r&&r(i.trim())};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:`w-full max-w-md flex flex-col items-center justify-start gap-6 sm:gap-8 bg-white rounded-xl 
      sm:rounded-2xl shadow-[3px_3px_3px_3px_rgba(10,12.67,18,0.04)] p-6 sm:p-8 transform hover:scale-105 transition-transform duration-300`,children:[a.jsx("div",{className:"relative h-12 w-12 sm:h-14 sm:w-14 overflow-hidden rounded-lg",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-full w-full object-cover"})}),a.jsx("div",{className:"flex w-full flex-col items-center justify-start gap-2",children:a.jsx("p",{className:"text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#414651] text-center max-w-md",children:"Create events, build templates, manage your team, and more, all from one place."})}),a.jsxs("form",{onSubmit:o,className:"flex w-full flex-col items-start justify-start gap-4 sm:gap-5",children:[a.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-1.5 self-stretch",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium leading-4 sm:leading-5 text-[#414651]",children:"Organization Name"}),a.jsx("div",{className:"inline-flex w-full items-center justify-start gap-2 self-stretch rounded-lg bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 hover:shadow-md outline outline-1 outline-[#D5D7DA] -outline-offset-1",children:a.jsx("div",{className:"flex flex-1 items-center justify-start gap-2",children:a.jsx("input",{id:"eventspaceName",type:"text",value:i,onChange:l=>{n(l.target.value),s&&l.target.value&&s()},placeholder:"Enter organization name",className:"flex-1 bg-transparent text-sm sm:text-base font-normal leading-5 sm:leading-6 text-[#181D27] placeholder:text-[#717680] outline-none ",required:!0})})})]}),t&&a.jsx("div",{className:"flex w-full items-center justify-start self-stretch",children:a.jsx("p",{className:"text-xs sm:text-sm font-normal leading-4 sm:leading-5 text-red-500",children:t})}),a.jsx("button",{type:"submit",disabled:!i.trim()||e,className:"inline-flex w-full mt-2 items-center justify-center self-stretch overflow-hidden rounded-lg px-4 py-2.5 sm:py-3 touch-manipulation bg-[#6938EF] shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#5925DC] transition-colors",children:a.jsx("span",{className:"break-words text-sm sm:text-base font-semibold leading-5 sm:leading-6 text-white",children:e?"Creating...":"Complete setup"})})]})]})})},p2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAoCAYAAABad6BNAAAPxElEQVR4Ae1dW2wc1Rn+z5l1bjixQ6GUJlGWAhGpQHFQi9MHqI0CKupDbq1UlUqxK1XiyUmeqj7FkSpVfcIxL30pcR6QeGhCoqoVDZHYIECYUnB6oQXSsgGiCrUQx9BAHM+c/rczc2a93h0bEkw7nzzamTmXGc9+85/v/Oc/Zw004Il/DfSBS7ZXIthmXVKNrHPWgcEPsJBAZOjYGQsO9wGMw3NAaY7T6C/Lk+B5kHwJl+V8vLlEymA65puIjJmIo+TA6tW1OpQoMU8Yv3Po/N7uzmRqP3JwLxEOyYmkTAyRUMiHxHNEyoTJSucqQlisBMkLGUn9Pian5I342JM+q4ePw5fDwshlC0ToSShRoiCYyETipfGHTyPpNiGZTEBIJ8eJyxEUy0V6jshYoXzGkdV2DeVByoLxx/yCaB6uw0GaXyw+W/mJmYrpL8lcoijIOCKhLu6PjemJwRjcgDfHn4Y+Ez62mCZbwmmW0tjeSj6kocE0Q3ZXyiRsg63sO603rJPqojST5sfrANLc9HTMJPuhRImCMIfOP1RFlr2Z07ihTHDc9ENqQVnfokVmaSCfbFX1U45dYGVTHTxLenhrHalm9tfPpAfcu/L6Wg1KlGiDSpzAfuOlMhERP5IwR6qikdGsZhM+R2UsfiYkKqgEmlE0wPgpx87XKHsmqIg0NZ40pL5llzISfR3ZdC5A6gPPmG24X4MSJdrAoiToCaQAqDRwuXMiEYw0+1ZlgciPhKhoWF6wfMBj4qDLJIPKBzwde/kQyIicrGA1bkx2XbcdSpQogAppYzaRTk2mY7vKNpGtrNhnSiMbiWR2YlK9JVa7TGlsTJ3kt2FdDKvWPnGQ2nIqk+iVDZV3RGw54JehCiVKFECFPb3UpAM39k6dEmyDnbbyAMJrC2Jx6dByLisigmWASgSqD/Ut1UP1eZpSEhPdqDxhMmum9CUi34cjOnNKZKBEiUKokDQwIHbRpLbROfJIRExEp8bSKq0yBc1MpDKGPMwJyKuQsHoW3QxaB9fAx2TLjR5KdWSXnUhwf5JfqwRKHpcoigrThYWBDGA4kQfS6WL3GoF7ZMbxAIf2z7yhprPc0VPaSaeNrbey14i/OZE+pZI79lbYaMfPBJ1AvijWQJa9RIkCqIgvmOUBXJpK4I+Hp5lbxKtlqwDuGojEkoIq26CwY0aj9kV/229HrMoNgOvWWPjGzhhEMzt47mgF3ntHytPxtwenTefKRF8HlRjcGZR9UdZGr1iiRHuIRWbrmbiOLgtnTsTm33+N0ww3bLSwvreBT0JYtttE1pd+BeZ3j2R5fvDzmIUBWdj3zkXmlz9eMuvC3xm6ZIS88pI4sdRqplVnJ6YwkfGlOgTFcRxbi2Narg8/dgdpBzFtAlpfaw9+9OjhWcw/HKQN4Mc3oRgmsey+JvWP4EdXu/vBfOTV2eaPMd9gQ/p8nonHAaynHtRBA1NVPTyNaSPt7qMJLuD2Cm6nwrqLoOF/yD3rEBXp5ollpc/bdi2BZ3/6UZrh2dEZWPfYEm7wY/VCqLSQDiJuT41mCuDaNQBf2+k5aODkoWjWRZ88vAQe+OFl19mZeA2tqlqIK9fA+5mftBiYR96zuB3TfSLJE7h163EVt/425fdC9uU2frF9kH8xWqGO274m57cF9ffhl9k/BwHoZRoIjgcb0gdg/jis9+XRpxuhBrP/32b3MSfwfxnG/+VAwbzbG+ullxzLzwpdsJnPVrpXG3Z2wNJVmSF8ezyG8+eAfMYm8DX7Mu7MC8DpHjf3irROnPg5Jk7aWTd4ccrA709UDOWb0Xr9cLUIEhrfM9zhhCsMfSiHg1N9aqWbQi1uNTh1EK4sqiAv2v8KhvEZPlww754m5/Y2y2izuAciDproVRbuGFiay/TnI3E6aBEMdnCX7uWGR7x1SEmJHHz+iDHvnWvOxWeOdvCAChPWBAMlGuMhAykWFggi100ttkarMtZw3GogJowBGWvTVNbb3Ec7y+/RM48vP0S76+1rkmcCPjkar0ktRT1I39vKWBAwvQpZSxBiD6Z1N56sJOIwYEWrXga3YddS89Lox2mml8cuw52DHbB8JXC/zEuKyXNgJo5k3b87d4LrWovMJBmCzHxyNE/EDb0JvD4u5/42HsGrL1bMxrtm5MY1D7k4YhbuNGCyYIs8OR8tRhoUH04Nsge3W5vAXBOmD78anGprjeerCVuAvvyzzTRq0Ws7N0upTX6K9zfXdet6bfp8OjhPxqLWoprhYJ++B09e+iTpFbaiIi1idZip1TUr1kZwY28lzXRpyqFVnvHD1+Cb/VMH49yVN++0HD1HcuGNcQPvB5Lj2jWOO4Ehjo52QCAnmg1tX033W6jb6GE1a8IGgv1au07hFcDD7SzZYgU+qxrkrXLXXHnV4oYd5r0NZQcay1RiJosG76RjcGhd96yA33x/Ks145qkZ6BnoEE8wMu7yVAxnX8yscTd28tZvoRg2EbYvHc1z8FtDCaxea+BWtMpvqFV+Da3yhx9YQFecXpeseeICP/NCLfI2fBjr50hLPRYh6EGr1ajqKdJnwz5dm7qwEzcG7dHdynPQ6GWYA3XItwJPYJ2br4QlvQroLpiPrHVV9+u4HQeRKV7WcT9GXw5GJR0/C0hM+1/srTi0yuaf49L0n8NO39vjCazrtaxFXnvKwYV3MrLeM1RhbUsUvXDOuT8czUi4Gkl++/3knTDmgSEHbzyY3fGJsQ7YMTTNjV4sUZzis4ZPhB7I3GONOAuZx6IR1Fz5h9Xd8LCGg3x1PH8Y2oO+uIEW6UWIXMPtNG4PB3U+TWSGzxHUjRcSudYie9gPoZZvUl2Se4I6dod1kLTw3gIvG9LotHVb852+8dFLadTb86PT6fmuNQZu3xWlkXInR/OW9OZegCWdErRP+7f0Zi/AybEIPpiKOI3mmKRSw/CwzNUe2aOHFepifqBNmror7anIQXVxeM0qbgvxEV8VUP8i2EZwI208HGSp43ZqjrJ9kG+BWPI18S5tDzt9mUV2WQCE5YFia27+7lI38chFMz0lfCKr/PGH4N7/S2ymzmUcu/X+KI2MoKL1F/L8u3dI9a+MZbs7tjo4My5XI1fcc0esu2+QnHlIZR3inuEBkoUqC/7S5+oUzTl9St98KptrwkAebDXIOpdFb0QdinsmWgLvjTp7myDrkFLz2wOLE/tbpNHz39FCGg0E+7WGfPTcvUvO92OG6cDG6kbzvmGJMabYYOMqndZsHFyeu8rEo5fNy4emc+c27+5I3XOnURtPBiS/CS0wejJAp0lxJ+7ruxwsX5WVf+VkxNOmxP0GWRy0WzCRuTc+xzbZpuxYwzERZj4utxxa3EfhOgLsgHynpwqfL1DneHOLkcoq5PshOWOkMq8WnEr9zJYD2TVmLQ4HO/i8hdsGVuQu9qexS1A/OZMef3VnBTrXeo+HhWcOzuTybxnIAvHZLYfnlqyy5u7dGdnJJff6i9kCApm/+upDCVYLTtHDqgbHB+Azgr6EZOEX+6Tc/mALJRG1IK06fMPBPr3sx5vkCeVFt/fikB/ZmSyAPoWnGQ6QuBt6O8y745f5+NJUXjbQkLZMQE3gLewYXgiscRd28jbcF7Eng45NGjIH7u5BZ048ktXz69GKufWxyz6QFHxc9AKxSUfg5kI97PE2AZG1r8n52jwtaXeb+yAcK9BKpKDrY500kLFoNXL4bPFeyfpS/8LLIO91afY/h/2QYWgOkhfU8fUvBLWWtUqiMQ0uGw5OgzS9P+OOoWvg3QdnX/e6jRF8qZe8FRx0ySOAIe4Z6mBPBnB4EMcpc/XUi1vWBQ47fubv45KXrPJ/0BW3ojMJZqgsWFtsh9ajczVo0WtWVxx9AY0adAzmB3rY7QhXg3laWLy/MW2G98Mih/Y7yDvzip6qgtx3LsakydD/qRb1zerHWB1qlmn9MiBhHNjc3Lrrtywlqzyr0tsHl4oEQKJewMGPV49msoLiNdZt8XKBaex8vIZT+bJ1KF/fyUd5SYFU2sQLt8ifBhrda0VdblcFGgW2aO6nFVQTh8RtNkQdxlW064c0duS3V7KpSAYiJg9BpjX5+cwUr/zl+5aBlxeEzjUWbtm5jH2/5CV7AV1zIW7ZamEla2cJvBcrK4HzvI+7N/Ua+Aq64v6hVrl2ODL9gw6uWWU53cK8vG/z0a5vFsgzBsX9niGo6atDcTSzxgeDa7caPWwc8SpyrfA5TRQoQy+Lt45zPbcatAG5EHWI3P9f632ati7HdSOMtalrUuWVr2vSPPT+AVmrAoCXXomYaUmw9oSuHoRpH78Va/B84lAacOyFljUzU+gyuyC2ncovR4u8YlW2noWsd2FMeqz1UzD/9BToCkUA13TF7pqV2UpG/V94/BOOjZT4f0CFXGI0LKyzRNgMk/82zoyhOoitWb7OKHEtL6rCM6pp8Tf8q6w0KCciTTe88IpOTNV51xLvnI088/oYbil6MJavoheHe4Q4JCIztY2f8VSiRAHw5NMs1iKRJQBYNaesy2DSACrOb/kd8OFzIgeczpSW6HvZlzFDQcQzS2RgROMpnAb1e8pz5TNI6Kics1eiICpCWZ4BnVpknhXtktBzIXChN4OJa2TGXzaBlO2qy+ZTs5XlAZckM8e6zgC/LNQL9COKYrOlnNT1mfb2Snx+UImFUrqwikzD16lP4H3LqVk06eIVPoiZu3JRQHdx/zqe+WHVFSxTl4xJ68imTJmgaEpnp+vNGWNKi1yiEGhABHui2Gs0svqPzPBXfZsSPIATY0neDbLDEXcRZVEM0raRLNrCvmmjrOWFANTsunTtDF3vwp9NQz1cFvXh7GkoUaIAaAHN44m63WhwJPFLy3KQD6RDxokG0/OUKI1yS1y2XpwMb2vMBp3XZWh5Tp4zEATu++VlJUBf4y/8HMDUjyz3UMQ9VKIEWCTwcV2Y0MUcC6GzNJi0NpxLJ4MZMp+OZ5IkWcinCddADgntZN9lc/7yAx486VVfhHACKi+YOF1stm2JEvbx1T+pIXlGdLKn8cFCsQbtJEamISUpqS3LijhYsTOGIIKOyex0+hRLEOeDkWSKFKgl9tbcQmrZlcBijWFkx41jdShRogB4sOEjWHIAtexESiiZym+yiDghqbegzlvmTAYYv5yAzrfj8rFR2SDSxc3ozOhsaQHLvow4C+6XVe+dmbhoobTGJQqDiXxs9b7Jj2BZP/JrRKwx6NrFlrt//DMMDlLLHHspQCTkWAsrywmQ9Q1CQl1orZ1/MSCVGrrPssZPPI2dPXjpg5n+wdVjiz1UscQiwiw/7ffO/6yK7rT9SL1NSMWeKP2xmmTWz5GJ3UX3W+6nFmSYOx3aDn9qgd1q8tMM/ifMaB0itMd1rOMYFj3+o+t/UYMSJeaJ/wKd4WEz/nmzgwAAAABJRU5ErkJggg==",bH=[{id:"events",label:"Events",icon:a.jsx(xR,{className:"h-5 w-5"})},{id:"team",label:"Team",icon:a.jsx(H5,{className:"h-5 w-5"})},{id:"templates",label:"Templates",icon:a.jsx(vR,{className:"h-5 w-5"})},{id:"reports",label:"Reports",icon:a.jsx(aR,{className:"h-5 w-5"})},{id:"settings",label:"Settings",icon:a.jsx(VR,{className:"h-5 w-5"})},{id:"billing",label:"Billing",icon:a.jsx(pR,{className:"h-5 w-5"})}],CH=({organizationName:r="Web Summit",activeItemId:e="events",onItemClick:t,onOrganizationChange:s,isOpen:i=!1,onClose:n})=>{const[o,l]=d.useState(!1);return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"fixed inset-0 z-[45] bg-black/50 backdrop-blur-sm lg:hidden",onClick:n,"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-screen w-[250px] bg-[#1e1b4b] transform transition-transform duration-300 ease-in-out overflow-y-auto ${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:z-40`,style:i?{zIndex:60}:void 0,children:a.jsxs("div",{className:"w-full min-h-full flex flex-col items-start",children:[a.jsxs("div",{className:"self-stretch px-5 pt-6 pb-4 flex flex-col items-start gap-6 flex-shrink-0",children:[a.jsxs("div",{className:"w-full flex items-center justify-between gap-2",children:[a.jsx("div",{className:"inline-flex items-center gap-2.5 flex-1 min-w-0",children:a.jsx("img",{src:p2,alt:"Eventira Logo",className:"h-10 w-auto max-w-[200px] object-contain",onError:()=>{console.error("Logo image failed to load:",p2)}})}),n&&a.jsx("button",{type:"button",onClick:n,className:"lg:hidden flex items-center justify-center text-white hover:bg-white/30 active:bg-white/40 transition-all -mt-10  shadow-lg bg-white/10 flex-shrink-0","aria-label":"Close menu",children:a.jsx(hi,{className:"h-4 w-4",strokeWidth:2.5})})]}),a.jsxs("div",{className:"self-stretch p-3 relative bg-gradient-to-br from-[#3E1C96] to-[#5925DC] rounded-xl outline outline-2 outline-[#4DEF8E] flex items-center justify-between cursor-pointer",style:{outlineOffset:"-2px"},onClick:()=>l(!o),children:[a.jsx("div",{className:"flex-1 flex items-center gap-2",children:a.jsx("div",{className:"flex flex-col items-start",children:a.jsx("div",{className:"text-white text-sm font-semibold leading-5",style:{fontFamily:"Inter"},children:r})})}),a.jsx("div",{className:"p-1.5 overflow-hidden rounded-md flex items-center justify-center",children:a.jsx(cl,{className:`h-4 w-4 text-[#D9D6FE] transition-transform ${o?"rotate-180":""}`})})]}),o&&a.jsx("div",{className:"self-stretch -mt-5 p-3 bg-[rgba(39,17,95,0.95)] rounded-xl border border-[rgba(77,239,142,0.3)]",children:a.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),l(!1),s==null||s()},className:"w-full py-2 px-3 text-left text-white text-sm font-medium rounded-md bg-transparent border-none cursor-pointer hover:bg-white/10 transition-colors",style:{fontFamily:"Inter"},children:"Switch organization"})})]}),a.jsx("div",{className:"self-stretch px-4 py-4 flex flex-col items-start gap-1 flex-shrink-0",children:bH.map(u=>{const c=u.id===e;return a.jsx("div",{className:"self-stretch py-0.5 overflow-hidden inline-flex items-center",children:a.jsx("button",{type:"button",onClick:()=>{t==null||t(u.id),n==null||n()},className:`flex-1 flex items-center gap-3 px-3 py-2 ${c?"bg-[#4A1FB8] rounded-lg":" rounded-md hover:bg-white/10"} border-none cursor-pointer transition-all duration-200`,children:a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 relative overflow-hidden flex items-center justify-center flex-shrink-0",children:a.jsx("div",{className:"text-white",children:u.icon})}),a.jsx("div",{className:"text-white text-base font-semibold leading-6",style:{fontFamily:"Inter"},children:u.label})]})})},u.id)})})]})})]})},wH=({title:r,onSearchClick:e,onNotificationClick:t,onProfileClick:s,onLogout:i,onNewEventClick:n,onMenuClick:o,isSidebarOpen:l=!1,userAvatarUrl:u,userEmail:c})=>{const[h,p]=d.useState(!1),m=d.useRef(null);d.useEffect(()=>{const b=x=>{m.current&&!m.current.contains(x.target)&&p(!1)};return h&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[h]);const v=()=>{p(!h),s==null||s()},f=()=>{p(!1),i==null||i()};return a.jsx("nav",{className:"fixed top-0 left-0 lg:left-[250px] right-0 h-16 bg-white border-b border-[#E9EAEB] flex items-center shadow-md z-50 overflow-visible",style:l?{zIndex:45}:void 0,children:a.jsxs("div",{className:"w-full h-full px-3 sm:px-6 lg:px-8 xl:px-12 2xl:px-8 flex items-center justify-between min-w-0",children:[o&&a.jsx("button",{type:"button",onClick:o,className:"lg:hidden flex items-center justify-center w-10 h-10 rounded-lg bg-slate-100 border-2 border-slate-400 hover:bg-slate-200 hover:border-slate-500 active:bg-slate-300 transition-all shadow-md flex-shrink-0","aria-label":"Toggle menu",children:a.jsx("svg",{className:"h-6 w-6 text-slate-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 lg:ml-auto flex-shrink-0 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[a.jsx("button",{type:"button",onClick:e,className:"flex items-center svg-ic  justify-center w-9 h-9 sm:w-10 sm:h-10 rounded-md hover:bg-slate-100 active:bg-slate-200 transition-colors flex-shrink-0","aria-label":"Search",children:a.jsx(ua,{className:"h-5 w-5 text-slate-700 stroke-[#334155] stroke-[2] fill-none"})}),a.jsx("button",{type:"button",onClick:t,className:"flex items-center svg-ic justify-center w-9 h-9 sm:w-10 sm:h-10 rounded-md hover:bg-slate-100 active:bg-slate-200 transition-colors flex-shrink-0","aria-label":"Notifications",children:a.jsx(Ky,{className:"h-5 w-5  stroke-[red] fill-[#334155]"})})]}),a.jsxs("div",{className:"relative flex flex-col items-start flex-shrink-0",ref:m,children:[a.jsx("button",{type:"button",onClick:v,className:"w-9 h-9 sm:w-10 svg-ic sm:h-10 rounded-full overflow-hidden border border-[rgba(0,0,0,0.08)] hover:border-[rgba(0,0,0,0.12)] transition-colors flex-shrink-0","aria-label":"Profile",children:u?a.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover "}):a.jsx("div",{className:"w-full h-full bg-slate-200 flex items-center justify-center",children:a.jsx(pl,{className:"h-5 w-5 text-slate-500"})})}),h&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-lg border border-slate-200 bg-white shadow-lg py-1 z-50",children:[c&&a.jsx("div",{className:"px-4 py-2 border-b border-slate-200",children:a.jsx("p",{className:"text-sm font-medium text-slate-900",children:c})}),a.jsx("div",{className:"py-1",children:a.jsxs("button",{type:"button",onClick:()=>{p(!1),s==null||s()},className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:[a.jsx(pl,{className:"h-4 w-4"}),a.jsx("span",{children:"Profile"})]})}),a.jsx("div",{className:"border-t border-slate-200 py-1",children:a.jsxs("button",{type:"button",onClick:f,className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{children:"Logout"})]})})]})]})]})]})})},Kg=({title:r,value:e,icon:t,iconBgColor:s})=>a.jsxs("div",{className:"w-full h-full bg-white inline-flex flex-col items-start justify-start p-5 rounded-xl border border-[#E9EAEB] gap-5 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] transition-all duration-300 hover:shadow-[0px_4px_8px_rgba(10,12.67,18,0.1)]",children:[a.jsxs("div",{className:"self-stretch inline-flex items-center justify-start gap-2",children:[a.jsx("div",{className:"flex items-center justify-center overflow-hidden w-12 h-12 rounded-full",style:{background:s},children:a.jsx("div",{className:"w-6 h-6",children:t})}),a.jsx("div",{className:"flex-1 text-[#181D27] text-base font-semibold leading-6 break-words",style:{fontFamily:"Inter, sans-serif"},children:r})]}),a.jsx("div",{className:"self-stretch inline-flex items-end justify-start gap-4",children:a.jsx("div",{className:"flex-1 flex flex-col items-start justify-start gap-3",children:a.jsx("div",{className:"self-stretch text-[#181D27] text-[30px] font-semibold leading-[38px] break-words",style:{fontFamily:"Inter, sans-serif"},children:e})})})]}),SH=({totalEvents:r=15,liveEvents:e=2,eventDrafts:t=3})=>a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsx(Kg,{title:"Total Events",value:r,icon:a.jsx(md,{className:"h-6 w-6 text-[#4A1FB8]"}),iconBgColor:"#EBE9FE"}),a.jsx(Kg,{title:"Live Events",value:e,icon:a.jsx(oR,{className:"h-6 w-6 text-[#0E9384]"}),iconBgColor:"#EBE9FE"}),a.jsx(Kg,{title:"Event Drafts",value:t,icon:a.jsx(gR,{className:"h-6 w-6 text-[#C01048]"}),iconBgColor:"#EBE9FE"})]}),EH=({searchValue:r="",onSearchChange:e,dateRange:t,onDateRangeChange:s,onFilterClick:i})=>a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-full sm:w-[500px] bg-white overflow-hidden rounded-lg border border-[#D5D7DA] outline outline-1 outline-[#D5D7DA] outline-offset-[-1px] inline-flex items-center justify-start gap-2 shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] px-3 py-2",children:a.jsxs("div",{className:"flex-1 flex items-center justify-start gap-2 min-w-0",children:[a.jsx("div",{className:"w-5 h-5 relative overflow-hidden flex items-center justify-center flex-shrink-0",children:a.jsx(ua,{className:"w-[15px] h-[15px] text-[#A4A7AE]",strokeWidth:1.67})}),a.jsx("input",{type:"text",value:r,onChange:n=>e==null?void 0:e(n.target.value),placeholder:"Search events",className:"flex-1 bg-transparent border-none outline-none text-base placeholder:text-[#717680] text-[#181D27] leading-6 break-words min-w-0",style:{fontFamily:"Inter, sans-serif",fontWeight:"400"}})]})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(MR,{id:"date-range-picker",value:t,onChange:n=>s==null?void 0:s(n),placeholder:"Select date range"}),a.jsx("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center rounded-lg border border-[#D5D7DA] bg-white p-2 hover:bg-slate-50 transition-colors flex-shrink-0","aria-label":"Filter",children:a.jsx(Yy,{className:"h-5 w-5 text-slate-500"})})]})]}),b3=[{id:"1",name:"Global Tech Innovation Summit 2025",status:"Live",attendanceType:"Online",registrations:300,eventDate:"Jan 13, 2025",createdBy:"Olivia Rhye"},{id:"2",name:"Healthcare Leaders Conference...",status:"Live",attendanceType:"Offline",registrations:400,eventDate:"Jan 15, 2025",createdBy:"Phoenix Baker"},{id:"3",name:"Future of Design Expo & Awards",status:"Live",attendanceType:"Hybrid",registrations:200,eventDate:"Jan 20, 2025",createdBy:"Lana Steiner"},{id:"4",name:"Global Tech Innovation Summit 2025",status:"Draft",attendanceType:"Online",registrations:100,eventDate:"Feb 1, 2025",createdBy:"Demi Wilkinson"}],VH=({status:r})=>{const e={Live:"bg-green-100 text-green-700",Draft:"bg-red-100 text-red-700"};return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e[r]}`,children:r})},PH=({type:r})=>{const e={Online:"bg-purple-100 text-purple-700",Offline:"bg-pink-100 text-pink-700",Hybrid:"bg-blue-100 text-blue-700"};return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e[r]}`,children:r})},IH=({events:r=b3,onEditClick:e,onSort:t,searchValue:s=""})=>{const[i,n]=d.useState(),o=u=>{n(u),t==null||t(u.column)},l=d.useMemo(()=>[{id:"name",header:"Event name",sortable:!0,sortAccessor:u=>u.name,render:u=>a.jsx("div",{className:"font-medium text-slate-900",children:u.name})},{id:"status",header:"Status",sortable:!0,sortAccessor:u=>u.status,render:u=>a.jsx(VH,{status:u.status})},{id:"attendanceType",header:"Attendance type",sortable:!0,sortAccessor:u=>u.attendanceType,render:u=>a.jsx(PH,{type:u.attendanceType})},{id:"registrations",header:"Registrations",sortable:!0,sortAccessor:u=>u.registrations,render:u=>a.jsx("div",{children:u.registrations})},{id:"eventDate",header:"Event date",sortable:!0,sortAccessor:u=>u.eventDate,render:u=>a.jsx("div",{children:u.eventDate})},{id:"createdBy",header:"Created by",sortable:!0,sortAccessor:u=>u.createdBy,render:u=>a.jsx("div",{children:u.createdBy})},{id:"actions",header:"",sortable:!1,align:"right",render:u=>a.jsx("button",{type:"button",onClick:()=>e==null?void 0:e(u.id),className:"text-[#6938EF] hover:text-[#5925DC] transition-colors","aria-label":`Edit ${u.name}`,children:a.jsx(np,{className:"h-4 w-5 text-[#A4A7AE]"})})}],[e]);return a.jsx(em,{data:r,columns:l,getRowKey:u=>u.id,sortDescriptor:i,onSortChange:o,size:"md",emptyState:a.jsx("div",{className:"flex min-h-[200px] items-center justify-center text-sm text-slate-500",children:s.trim()?`No events found matching "${s}".`:"No events available."})})},TH=({title:r="Web Submit Events",onNewEventClick:e,searchValue:t,onSearchChange:s,dateRange:i,onDateRangeChange:n,onFilterClick:o,onEditEvent:l,onSortEvents:u,totalEvents:c,liveEvents:h,eventDrafts:p,events:m})=>a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-primary-dark",children:r}),a.jsxs("button",{type:"button",onClick:e,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-sm font-semibold text-white hover:bg-primary-dark transition-colors",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New event"})]})]}),a.jsx(SH,{totalEvents:c,liveEvents:h,eventDrafts:p}),a.jsx(EH,{searchValue:t,onSearchChange:s,dateRange:i,onDateRangeChange:n,onFilterClick:o}),a.jsx(IH,{events:m,onEditClick:l,onSort:u,searchValue:t})]}),Ah=[{value:"America/New_York",label:"New York, NY, USA (GMT-5)",city:"New York",country:"USA",offset:"GMT-5",searchTerms:["New York","NYC","Eastern Time","ET","EST","EDT","America","United States","USA"]},{value:"America/Chicago",label:"Chicago, IL, USA (GMT-6)",city:"Chicago",country:"USA",offset:"GMT-6",searchTerms:["Chicago","Central Time","CT","CST","CDT"]},{value:"America/Denver",label:"Denver, CO, USA (GMT-7)",city:"Denver",country:"USA",offset:"GMT-7",searchTerms:["Denver","Mountain Time","MT","MST","MDT"]},{value:"America/Los_Angeles",label:"Los Angeles, CA, USA (GMT-8)",city:"Los Angeles",country:"USA",offset:"GMT-8",searchTerms:["Los Angeles","LA","Pacific Time","PT","PST","PDT","California"]},{value:"America/Phoenix",label:"Phoenix, AZ, USA (GMT-7)",city:"Phoenix",country:"USA",offset:"GMT-7",searchTerms:["Phoenix","Arizona","Mountain Standard Time"]},{value:"America/Toronto",label:"Toronto, ON, Canada (GMT-5)",city:"Toronto",country:"Canada",offset:"GMT-5",searchTerms:["Toronto","Canada","Eastern Time"]},{value:"America/Vancouver",label:"Vancouver, BC, Canada (GMT-8)",city:"Vancouver",country:"Canada",offset:"GMT-8",searchTerms:["Vancouver","Canada","Pacific Time"]},{value:"America/Mexico_City",label:"Mexico City, Mexico (GMT-6)",city:"Mexico City",country:"Mexico",offset:"GMT-6",searchTerms:["Mexico City","Mexico","Central Time"]},{value:"America/Sao_Paulo",label:"So Paulo, Brazil (GMT-3)",city:"So Paulo",country:"Brazil",offset:"GMT-3",searchTerms:["So Paulo","Sao Paulo","Brazil","Brasilia Time"]},{value:"America/Buenos_Aires",label:"Buenos Aires, Argentina (GMT-3)",city:"Buenos Aires",country:"Argentina",offset:"GMT-3",searchTerms:["Buenos Aires","Argentina"]},{value:"America/Lima",label:"Lima, Peru (GMT-5)",city:"Lima",country:"Peru",offset:"GMT-5",searchTerms:["Lima","Peru"]},{value:"Europe/London",label:"London, UK (GMT+0)",city:"London",country:"UK",offset:"GMT+0",searchTerms:["London","UK","United Kingdom","GMT","Greenwich","British Time"]},{value:"Europe/Paris",label:"Paris, France (GMT+1)",city:"Paris",country:"France",offset:"GMT+1",searchTerms:["Paris","France","Central European Time","CET","CEST"]},{value:"Europe/Berlin",label:"Berlin, Germany (GMT+1)",city:"Berlin",country:"Germany",offset:"GMT+1",searchTerms:["Berlin","Germany","Central European Time","CET","CEST"]},{value:"Europe/Rome",label:"Rome, Italy (GMT+1)",city:"Rome",country:"Italy",offset:"GMT+1",searchTerms:["Rome","Italy","Central European Time"]},{value:"Europe/Madrid",label:"Madrid, Spain (GMT+1)",city:"Madrid",country:"Spain",offset:"GMT+1",searchTerms:["Madrid","Spain","Central European Time"]},{value:"Europe/Amsterdam",label:"Amsterdam, Netherlands (GMT+1)",city:"Amsterdam",country:"Netherlands",offset:"GMT+1",searchTerms:["Amsterdam","Netherlands","Holland","Central European Time"]},{value:"Europe/Brussels",label:"Brussels, Belgium (GMT+1)",city:"Brussels",country:"Belgium",offset:"GMT+1",searchTerms:["Brussels","Belgium","Central European Time"]},{value:"Europe/Stockholm",label:"Stockholm, Sweden (GMT+1)",city:"Stockholm",country:"Sweden",offset:"GMT+1",searchTerms:["Stockholm","Sweden","Central European Time"]},{value:"Europe/Zurich",label:"Zurich, Switzerland (GMT+1)",city:"Zurich",country:"Switzerland",offset:"GMT+1",searchTerms:["Zurich","Switzerland","Central European Time"]},{value:"Europe/Vienna",label:"Vienna, Austria (GMT+1)",city:"Vienna",country:"Austria",offset:"GMT+1",searchTerms:["Vienna","Austria","Central European Time"]},{value:"Europe/Warsaw",label:"Warsaw, Poland (GMT+1)",city:"Warsaw",country:"Poland",offset:"GMT+1",searchTerms:["Warsaw","Poland","Central European Time"]},{value:"Europe/Athens",label:"Athens, Greece (GMT+2)",city:"Athens",country:"Greece",offset:"GMT+2",searchTerms:["Athens","Greece","Eastern European Time","EET"]},{value:"Europe/Helsinki",label:"Helsinki, Finland (GMT+2)",city:"Helsinki",country:"Finland",offset:"GMT+2",searchTerms:["Helsinki","Finland","Eastern European Time"]},{value:"Europe/Dublin",label:"Dublin, Ireland (GMT+0)",city:"Dublin",country:"Ireland",offset:"GMT+0",searchTerms:["Dublin","Ireland","GMT"]},{value:"Europe/Lisbon",label:"Lisbon, Portugal (GMT+0)",city:"Lisbon",country:"Portugal",offset:"GMT+0",searchTerms:["Lisbon","Portugal","GMT"]},{value:"Europe/Moscow",label:"Moscow, Russia (GMT+3)",city:"Moscow",country:"Russia",offset:"GMT+3",searchTerms:["Moscow","Russia","Moscow Time"]},{value:"Asia/Dubai",label:"Dubai, UAE (GMT+4)",city:"Dubai",country:"UAE",offset:"GMT+4",searchTerms:["Dubai","UAE","United Arab Emirates","Gulf Time"]},{value:"Asia/Kolkata",label:"Mumbai, India (GMT+5:30)",city:"Mumbai",country:"India",offset:"GMT+5:30",searchTerms:["Mumbai","Bombay","India","IST","Indian Standard Time","Delhi","Bangalore","Kolkata","Calcutta"]},{value:"Asia/Bangkok",label:"Bangkok, Thailand (GMT+7)",city:"Bangkok",country:"Thailand",offset:"GMT+7",searchTerms:["Bangkok","Thailand"]},{value:"Asia/Singapore",label:"Singapore (GMT+8)",city:"Singapore",country:"Singapore",offset:"GMT+8",searchTerms:["Singapore","SGT"]},{value:"Asia/Hong_Kong",label:"Hong Kong (GMT+8)",city:"Hong Kong",country:"Hong Kong",offset:"GMT+8",searchTerms:["Hong Kong","HKT"]},{value:"Asia/Shanghai",label:"Shanghai, China (GMT+8)",city:"Shanghai",country:"China",offset:"GMT+8",searchTerms:["Shanghai","China","Beijing","CST","China Standard Time"]},{value:"Asia/Tokyo",label:"Tokyo, Japan (GMT+9)",city:"Tokyo",country:"Japan",offset:"GMT+9",searchTerms:["Tokyo","Japan","JST","Japan Standard Time"]},{value:"Asia/Seoul",label:"Seoul, South Korea (GMT+9)",city:"Seoul",country:"South Korea",offset:"GMT+9",searchTerms:["Seoul","Korea","KST","Korean Standard Time"]},{value:"Australia/Sydney",label:"Sydney, Australia (GMT+10)",city:"Sydney",country:"Australia",offset:"GMT+10",searchTerms:["Sydney","Australia","AEST","AEDT","Australian Eastern Time"]},{value:"Australia/Melbourne",label:"Melbourne, Australia (GMT+10)",city:"Melbourne",country:"Australia",offset:"GMT+10",searchTerms:["Melbourne","Australia","AEST","AEDT"]},{value:"Australia/Brisbane",label:"Brisbane, Australia (GMT+10)",city:"Brisbane",country:"Australia",offset:"GMT+10",searchTerms:["Brisbane","Australia","AEST"]},{value:"Australia/Perth",label:"Perth, Australia (GMT+8)",city:"Perth",country:"Australia",offset:"GMT+8",searchTerms:["Perth","Australia","AWST"]},{value:"Pacific/Auckland",label:"Auckland, New Zealand (GMT+12)",city:"Auckland",country:"New Zealand",offset:"GMT+12",searchTerms:["Auckland","New Zealand","NZST","NZDT"]},{value:"Africa/Johannesburg",label:"Johannesburg, South Africa (GMT+2)",city:"Johannesburg",country:"South Africa",offset:"GMT+2",searchTerms:["Johannesburg","South Africa","SAST"]},{value:"Africa/Cairo",label:"Cairo, Egypt (GMT+2)",city:"Cairo",country:"Egypt",offset:"GMT+2",searchTerms:["Cairo","Egypt","Eastern European Time"]},{value:"Africa/Lagos",label:"Lagos, Nigeria (GMT+1)",city:"Lagos",country:"Nigeria",offset:"GMT+1",searchTerms:["Lagos","Nigeria","West Africa Time","WAT"]}],m2=r=>{var e,t,s,i,n;try{const o=new Date,l=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",hour12:!1}),u=new Intl.DateTimeFormat("en-US",{timeZone:r,hour:"2-digit",minute:"2-digit",hour12:!1}),c=l.formatToParts(o),h=u.formatToParts(o),p=parseInt(((e=c.find(V=>V.type==="hour"))==null?void 0:e.value)||"0",10),m=parseInt(((t=c.find(V=>V.type==="minute"))==null?void 0:t.value)||"0",10),v=parseInt(((s=h.find(V=>V.type==="hour"))==null?void 0:s.value)||"0",10),f=parseInt(((i=h.find(V=>V.type==="minute"))==null?void 0:i.value)||"0",10),b=p*60+m,x=v*60+f,g=b-x;let y=g;Math.abs(g)>720&&(y=g>0?g-1440:g+1440);const w=Math.floor(Math.abs(y)/60),S=Math.abs(y)%60,P=y>=0?"+":"-";return S===0?`GMT${P}${w}`:`GMT${P}${w}:${S.toString().padStart(2,"0")}`}catch{return((n=Ah.find(o=>o.value===r))==null?void 0:n.offset)||"GMT+0"}},kH=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return null}},NH=({value:r,onChange:e,className:t=""})=>{var b;const[s,i]=d.useState(!1),[n,o]=d.useState(""),[l,u]=d.useState(null),c=d.useRef(null),h=d.useRef(null);d.useEffect(()=>{const x=kH();u(x),!r&&x&&e(x)},[]),d.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&(i(!1),o(""))};return s&&(document.addEventListener("mousedown",x),setTimeout(()=>{var g;return(g=h.current)==null?void 0:g.focus()},0)),()=>{document.removeEventListener("mousedown",x)}},[s]);const p=Ah.filter(x=>{if(!n.trim())return!0;const g=n.toLowerCase();return x.city.toLowerCase().includes(g)||x.country.toLowerCase().includes(g)||x.offset.toLowerCase().includes(g)||x.searchTerms.some(y=>y.toLowerCase().includes(g))}),m=Ah.find(x=>x.value===r),v=m?`${m.city}, ${m.country} (${m2(r)})`:r||"Select timezone",f=x=>{e(x),i(!1),o("")};return a.jsxs("div",{className:`relative ${t}`,ref:c,children:[a.jsxs("button",{type:"button",onClick:()=>i(!s),className:"w-full appearance-none rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-700 shadow-sm transition placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 flex items-center justify-between",children:[a.jsx("span",{className:r?"text-slate-700":"text-slate-400",children:v}),a.jsx(cl,{className:`h-4 w-4 text-slate-400 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-80 overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-2 border-b border-slate-200",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:a.jsx(ua,{className:"h-4 w-4 text-slate-400"})}),a.jsx("input",{ref:h,type:"text",value:n,onChange:x=>o(x.target.value),placeholder:"Search by city, country, or timezone...",className:"w-full pl-10 pr-8 py-2 text-sm border border-slate-300 rounded-md focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),n&&a.jsx("button",{type:"button",onClick:()=>o(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(Xy,{className:"h-4 w-4"})})]})}),l&&l!==r&&a.jsxs("div",{className:"px-4 py-2 text-xs text-slate-500 bg-slate-50 border-b border-slate-200",children:["Your timezone: ",((b=Ah.find(x=>x.value===l))==null?void 0:b.label)||l]}),a.jsx("div",{className:"overflow-y-auto max-h-64",children:p.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"No timezones found"}):p.map(x=>{const g=m2(x.value),y=x.value===r,w=x.value===l;return a.jsx("button",{type:"button",onClick:()=>f(x.value),className:`w-full text-left px-4 py-2.5 text-sm hover:bg-slate-50 transition-colors ${y?"bg-primary/10 text-primary font-medium":"text-slate-700"} ${w&&!y?"bg-slate-50":""}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",children:[x.city,", ",x.country]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[g," ",w&&a.jsx("span",{className:"text-primary",children:" Detected"})]})]}),y&&a.jsx("div",{className:"ml-2 text-primary",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},x.value)})})]})]})},RH=({formData:r,updateFormData:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Event name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r.eventName,onChange:t=>e({eventName:t.target.value}),placeholder:"Highly important conference of 2025",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[180px_180px_1fr] gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Start date",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pC,{id:"start-date",value:r.startDate,onChange:t=>e({startDate:t}),placeholder:"Select date"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["End date",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pC,{id:"end-date",value:r.endDate,onChange:t=>e({endDate:t}),placeholder:"Select date"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Timezone",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(NH,{value:r.timezone,onChange:t=>e({timezone:t}),className:"w-full"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Location",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:a.jsx(ua,{className:"h-4 w-4 text-slate-400"})}),a.jsx("input",{type:"text",value:r.location,onChange:t=>e({location:t.target.value}),placeholder:"New York, NY",className:"w-full rounded-lg border border-slate-300 bg-white pl-10 pr-10 py-2 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),r.location&&a.jsx("button",{type:"button",onClick:()=>e({location:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(Xy,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Attendees",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:r.attendees||"",onChange:t=>e({attendees:parseInt(t.target.value)||0}),placeholder:"120",min:"0",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Event experience"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"eventExperience",value:"in-person",checked:r.eventExperience==="in-person",onChange:t=>e({eventExperience:t.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"In-person"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"eventExperience",value:"virtual",checked:r.eventExperience==="virtual",onChange:t=>e({eventExperience:t.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Virtual"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"eventExperience",value:"hybrid",checked:r.eventExperience==="hybrid",onChange:t=>e({eventExperience:t.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Hybrid"})]})]})]})]}),g2=({label:r,accept:e="image/*",maxSize:t="800400px",value:s,onChange:i,maxWidth:n,maxHeight:o})=>{const[l,u]=d.useState(null),[c,h]=d.useState(!1),p=d.useRef(null),m=d.useRef(null);d.useEffect(()=>()=>{m.current&&(clearInterval(m.current),m.current=null)},[]);const v=d.useCallback(I=>{m.current&&(clearInterval(m.current),m.current=null),i(I),u({file:I,progress:0,status:"uploading"}),m.current=setInterval(()=>{u(R=>{if(!R)return m.current&&(clearInterval(m.current),m.current=null),null;const C=Math.min(R.progress+10,100),k=C>=100?"complete":"uploading";return C>=100&&m.current&&(clearInterval(m.current),m.current=null),{...R,progress:C,status:k}})},200)},[i]),f=I=>{I.preventDefault(),I.stopPropagation(),h(!0)},b=I=>{I.preventDefault(),I.stopPropagation(),I.dataTransfer.dropEffect="copy"},x=I=>{I.preventDefault(),I.stopPropagation();const E=I.currentTarget.getBoundingClientRect(),R=I.clientX,C=I.clientY;(R<E.left||R>=E.right||C<E.top||C>=E.bottom)&&h(!1)},g=I=>{var R;I.preventDefault(),I.stopPropagation(),h(!1);const E=I.dataTransfer.files;if(E&&E.length>0){const C=E[0];if(e&&e!=="*/*"&&e!=="image/*"){const k=e.split(",").map(D=>D.trim()),L="."+((R=C.name.split(".").pop())==null?void 0:R.toLowerCase());if(!k.some(D=>D.includes(L)||D.includes("image/*")))return}v(C)}},y=()=>{var I;(I=p.current)==null||I.click()},w=I=>{const E=I.target.files;E&&E.length>0&&v(E[0])},S=()=>{m.current&&(clearInterval(m.current),m.current=null),i(null),u(null),p.current&&(p.current.value="")},P=I=>I<1024?I+" B":I<1024*1024?(I/1024).toFixed(1)+" KB":(I/(1024*1024)).toFixed(1)+" MB",V=I=>{var E;return((E=I.split(".").pop())==null?void 0:E.toUpperCase())||""};return a.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[a.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:r}),a.jsx("div",{onDragEnter:f,onDragOver:b,onDragLeave:x,onDrop:g,onClick:y,className:`self-stretch px-6 py-4 bg-white rounded-xl outline outline-1 outline-offset-[-1px] flex flex-col items-center gap-1 cursor-pointer transition-colors ${c?"outline-[#6938EF] outline-2 bg-[#6938EF]/5":"outline-[#D5D7DA]"}`,children:a.jsxs("div",{className:"self-stretch flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 relative bg-white shadow-[0px_1px_2px_rgba(10,12.67,18,0.05)] rounded-lg outline outline-1 outline-[#D5D7DA] outline-offset-[-1px] flex items-center justify-center",children:a.jsx("div",{className:"w-5 h-5 relative overflow-hidden",children:a.jsx(kl,{className:"w-[16.67px] h-[15px] text-[#414651]",strokeWidth:1.67})})}),a.jsxs("div",{className:"self-stretch flex flex-col items-center gap-1",children:[a.jsxs("div",{className:"self-stretch flex justify-center items-start gap-1",children:[a.jsx("div",{className:"text-[#5925DC] text-sm font-semibold leading-5",children:"Click to upload"}),a.jsx("div",{className:"text-[#535862] text-sm font-normal leading-5",children:"or drag and drop"})]}),a.jsxs("div",{className:"self-stretch text-center text-[#535862] text-xs font-normal leading-[18px]",children:["SVG, PNG, JPG or GIF (max. ",t,")"]})]})]})}),a.jsx("input",{ref:p,type:"file",accept:e,onChange:w,className:"hidden"}),s&&l&&a.jsx("div",{className:"self-stretch flex flex-col gap-3",children:a.jsxs("div",{className:"self-stretch p-4 relative bg-white rounded-xl outline outline-1 outline-[#E9EAEB] outline-offset-[-1px] flex items-start",children:[a.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[a.jsxs("div",{className:"w-10 h-10 relative flex-shrink-0",children:[a.jsxs("div",{className:"w-8 h-10 left-[7px] top-0 absolute",children:[a.jsx("div",{className:"w-8 h-10 left-0 top-0 absolute rounded border-[1.5px] border-[#D5D7DA]"}),a.jsx("div",{className:"w-[11.5px] h-[11.5px] left-[20px] top-[0.5px] absolute rounded border-[1.5px] border-[#D5D7DA]"})]}),a.jsx("div",{className:"px-[3px] py-[2px] left-[1px] top-[18px] absolute bg-[#6938EF] rounded justify-start items-start inline-flex",children:a.jsx("div",{className:"text-center text-white text-[10px] font-bold",children:V(l.file.name)})})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[a.jsxs("div",{className:"self-stretch flex flex-col gap-0.5",children:[a.jsx("div",{className:"self-stretch text-[#414651] text-sm font-medium leading-5",children:l.file.name}),a.jsxs("div",{className:"self-stretch flex items-center gap-2",children:[a.jsxs("div",{className:"text-[#535862] text-sm font-normal leading-5",children:[P(l.file.size*l.progress/100)," of ",P(l.file.size)]}),l.status==="uploading"&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 relative overflow-hidden",children:a.jsx("div",{className:"w-[13.33px] h-3 left-[1.33px] top-0.5 absolute",children:a.jsx("div",{className:"w-[13.33px] h-3 border-[1.5px] border-[#A4A7AE] rounded-full animate-spin"})})}),a.jsx("div",{className:"text-[#717680] text-sm font-medium leading-5",children:"Uploading..."})]})]})]}),l.status==="uploading"&&a.jsxs("div",{className:"self-stretch flex items-center gap-3",children:[a.jsxs("div",{className:"flex-1 h-2 relative rounded-lg",children:[a.jsx("div",{className:"w-full h-2 absolute left-0 top-0 bg-[#E9EAEB] rounded-full"}),a.jsx("div",{className:"h-2 absolute left-0 top-0 bg-[#6938EF] rounded-full transition-all duration-300",style:{width:`${l.progress}%`}})]}),a.jsxs("div",{className:"text-[#414651] text-sm font-medium leading-5",children:[l.progress,"%"]})]})]})]}),a.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),S()},className:"absolute top-2 right-2 p-1.5 rounded-md flex items-center justify-center hover:bg-slate-50 transition-colors",children:a.jsx(Xy,{className:"w-4 h-4 text-[#A4A7AE]",strokeWidth:1.5})})]})})]})},LH=({formData:r,updateFormData:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(g2,{label:"Logo",accept:"image/*",maxSize:"800400px",value:r.logo,onChange:t=>e({logo:t}),maxWidth:"800",maxHeight:"400"}),a.jsx(g2,{label:"Banner",accept:"image/*",maxSize:"800400px",value:r.banner,onChange:t=>e({banner:t}),maxWidth:"800",maxHeight:"400"})]}),AH=2,DH=({onClose:r,onSubmit:e})=>{const{setEventData:t}=Gr(),[s,i]=d.useState(1),[n,o]=d.useState({eventName:"",startDate:"",endDate:"",timezone:"",fixTimezoneForAttendees:!0,location:"",attendees:0,eventExperience:"",logo:null,banner:null}),l=p=>{o(m=>({...m,...p}))},u=()=>{s===1?n.eventName&&n.startDate&&n.endDate&&n.timezone&&n.location&&n.attendees>0&&i(2):s===AH?(t(n),console.log("Form Data for Backend:",n),window.history.pushState({},"","/event/create/template"),window.dispatchEvent(new PopStateEvent("popstate"))):i(s+1)},c=()=>{s>1&&i(s-1)},h=()=>!!(n.eventName&&n.startDate&&n.endDate&&n.timezone&&n.location&&n.attendees>0);return a.jsx("div",{className:"min-h-screen w-full bg-white flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[a.jsx("div",{className:"flex justify-center pt-6 pb-4",children:a.jsx("img",{src:Jl,alt:"Logo",className:"h-12 w-12 object-contain"})}),a.jsx("div",{className:"text-center mb-6",children:s===1?a.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Set up your event details."}):a.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Customize your design."})}),a.jsx("div",{className:"px-6 mb-6",children:a.jsx(k6,{steps:[{title:"Event details",description:"Name and email"},{title:"Design",description:"Font and colours"}],currentStep:s})}),a.jsx("div",{className:"px-6 pb-6",children:s===1?a.jsx(RH,{formData:n,updateFormData:l}):a.jsx(LH,{formData:n,updateFormData:l})}),a.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between gap-4",children:[a.jsx("button",{type:"button",onClick:s===1?r:c,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors",children:s===1?"Cancel":"Previous"}),a.jsx("button",{type:"button",onClick:u,disabled:s===1&&!h(),className:"px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[#6938EF]",children:"Next"})]})]})})},MH=()=>{const{eventData:r}=Gr(),[e,t]=d.useState("");d.useEffect(()=>{if(r!=null&&r.banner&&r.banner instanceof File){const u=new FileReader;u.onload=()=>{const c=u.result;t(c),localStorage.setItem("event-form-banner",c)},u.onerror=()=>{console.error("Error reading banner file")},u.readAsDataURL(r.banner)}else{const u=localStorage.getItem("event-form-banner");u&&t(u)}},[r]);const s=()=>{window.history.pushState({},"","/dashboard"),localStorage.setItem("reopen-event-form-step","2"),window.dispatchEvent(new PopStateEvent("popstate"))},i=()=>{window.history.pushState({},"","/event/website"),window.dispatchEvent(new PopStateEvent("popstate"))},n=()=>{console.log("Create from scratch - to be implemented")},o=()=>r!=null&&r.startDate?new Date(r.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Jan 13, 2025",l=[{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"}];return a.jsxs("div",{className:"min-h-screen w-full bg-white",children:[a.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"Customize your design."}),a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors",children:"+ Create from scratch"})]}),a.jsxs("main",{className:"pt-20 pb-24 w-full overflow-x-hidden bg-white",children:[a.jsx("div",{className:"w-full",children:a.jsx(Cx,{title:(r==null?void 0:r.eventName)||"HIC 2025",subtitle:`${(r==null?void 0:r.location)||"New York, NY"} | ${o()}`,buttons:[{text:"Register Now",link:"#register",color:"#6938EF",textColor:"white",size:"large"}],backgroundColor:"#1a1a1a",textColor:"#FFFFFF",backgroundImage:e||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80",height:"500px",alignment:"center",overlayOpacity:.4})}),a.jsx("div",{className:"w-full",children:a.jsx(Sx,{leftTitle:"About Event",leftText:"We are dedicated to providing innovative solutions that help our clients achieve their goals and drive success in their respective industries."})}),a.jsx("div",{className:"w-full",children:a.jsx(wx,{speakers:l,title:"Speakers",showTitle:!0,containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"})}),a.jsx("div",{className:"w-full",children:a.jsx(t1,{})}),a.jsx("div",{className:"w-full",children:a.jsx(s1,{})}),a.jsx("div",{className:"w-full",children:a.jsx(Ex,{title:"Frequently Asked Questions",description:"Everything you need to know about the product and billing. Can't find the answer you're looking for? Please chat to our friendly team",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"})}),a.jsx("div",{className:"w-full",children:a.jsx(r1,{})})]}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-slate-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors",children:"Previous"}),a.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors",children:"Next"})]})]})},jH=({pageId:r,onBackClick:e,userAvatarUrl:t})=>{var L;const{eventData:s}=Gr(),[i,n]=d.useState(""),[o,l]=d.useState("preview"),[u]=d.useState([{id:"welcome",name:"Welcome"}]),[c,h]=d.useState(r||"welcome"),[p,m]=d.useState(!1),[v,f]=d.useState({title:"Welcome",icon:"user",desktopMaxWidth:"700",desktopMaxWidthUnit:"px",browser:"app",featurePermission:"everyone",visibility:"show",hideOnMobile:!1,showFeatureInMenu:!1,setAsDesktopHome:!0,setAsMobileHome:!1});d.useEffect(()=>{if(s!=null&&s.banner&&s.banner instanceof File){const D=new FileReader;D.onload=()=>{const q=D.result;n(q),localStorage.setItem("event-form-banner",q),console.log(" WebsitePreviewPage: Banner loaded from eventData File")},D.onerror=()=>{console.error(" Error reading banner file")},D.readAsDataURL(s.banner)}else{const D=localStorage.getItem("event-form-banner");D?(n(D),console.log(" WebsitePreviewPage: Banner loaded from localStorage")):console.log(" WebsitePreviewPage: No banner found in eventData or localStorage")}},[s]),d.useEffect(()=>{r&&h(r)},[r]);const b=()=>{console.log("Search clicked")},x=()=>{console.log("Notification clicked")},g=()=>{console.log("Profile clicked")},y=()=>{window.history.pushState({},"","/event/website"),window.dispatchEvent(new PopStateEvent("popstate")),e&&e()},w=()=>{window.history.pushState({},"",`/event/website/editor/${c}`),window.dispatchEvent(new PopStateEvent("popstate"))},S=D=>{h(D),window.history.pushState({},"",`/event/website/preview/${D}`)},P=()=>{console.log("Add page clicked")},V=()=>{m(!0)},I=D=>{console.log("Selected page type:",D),m(!1)},E=()=>{y()},R=()=>s!=null&&s.startDate?new Date(s.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Jan 13, 2025",C=[{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"},{name:"Speaker Name",title:"Speaker Title",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"}];d.useEffect(()=>{o==="preview"&&console.log(" WebsitePreviewPage: Rendering new template with components:",["HeroSection","AboutSection","SpeakersSection","RegistrationCTA","Sponsors","FAQAccordion","ContactFooter"])},[o]);const k=((L=u.find(D=>D.id===c))==null?void 0:L.name)||"Welcome";return a.jsxs("div",{className:"h-screen overflow-hidden bg-white flex flex-col",children:[a.jsx(vo,{eventName:(s==null?void 0:s.eventName)||"Highly important conference of 2025",isDraft:!0,onBackClick:y,onSearchClick:b,onNotificationClick:x,onProfileClick:g,userAvatarUrl:t}),a.jsxs("div",{className:"flex flex-1 overflow-hidden mt-16",children:[a.jsx(Q5,{pages:u,currentPage:c,currentPageName:k,onPageSelect:S,onAddPage:P,onManagePages:E,onBackClick:y}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Event Website"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx(np,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-[#6938EF] hover:bg-[#5925DC] transition-colors",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New page"]})]})]}),a.jsxs("div",{className:"flex gap-6 mb-6 border-b border-slate-200",children:[a.jsx("button",{onClick:()=>l("preview"),className:`pb-3 px-1 text-sm font-medium transition-colors ${o==="preview"?"text-[#6938EF] border-b-2 border-[#6938EF]":"text-slate-600 hover:text-slate-900"}`,children:"Preview"}),a.jsx("button",{onClick:()=>l("settings"),className:`pb-3 px-1 text-sm font-medium transition-colors ${o==="settings"?"text-[#6938EF] border-b-2 border-[#6938EF]":"text-slate-600 hover:text-slate-900"}`,children:"Settings"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o==="preview"&&a.jsxs("div",{className:"w-full bg-white",children:[a.jsx("div",{className:"w-full",children:a.jsx(Cx,{title:(s==null?void 0:s.eventName)||"HIC 2025",subtitle:`${(s==null?void 0:s.location)||"New York, NY"} | ${R()}`,buttons:[{text:"Register Now",link:"#register",color:"#6938EF",textColor:"white",size:"large"}],backgroundColor:"#1a1a1a",textColor:"#FFFFFF",backgroundImage:i||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80",height:"500px",alignment:"center",overlayOpacity:.4})}),a.jsx("div",{className:"w-full",children:a.jsx(Sx,{leftTitle:"About Event",leftText:"We are dedicated to providing innovative solutions that help our clients achieve their goals and drive success in their respective industries."})}),a.jsx("div",{className:"w-full",children:a.jsx(wx,{speakers:C,title:"Speakers",showTitle:!0,containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"})}),a.jsx("div",{className:"w-full",children:a.jsx(t1,{})}),a.jsx("div",{className:"w-full",children:a.jsx(s1,{})}),a.jsx("div",{className:"w-full",children:a.jsx(Ex,{title:"Frequently Asked Questions",description:"Everything you need to know about the product and billing. Can't find the answer you're looking for? Please chat to our friendly team",containerMaxWidth:"max-w-7xl",containerPadding:"px-4 sm:px-6 lg:px-8 py-8"})}),a.jsx("div",{className:"w-full",children:a.jsx(r1,{})})]}),o==="settings"&&a.jsxs("div",{className:"max-w-3xl space-y-6",children:[a.jsx("div",{children:a.jsx(Qu,{label:"Title",value:v.title,onChange:D=>f({...v,title:D.target.value}),className:"w-full"})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-1",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Icon"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:v.icon,onChange:D=>f({...v,icon:D.target.value}),className:"w-full appearance-none rounded-lg border border-slate-300 bg-white px-3 py-2 pl-10 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"user",children:"Change icon"}),a.jsx("option",{value:"home",children:"Home"}),a.jsx("option",{value:"calendar",children:"Calendar"}),a.jsx("option",{value:"users",children:"Users"}),a.jsx("option",{value:"settings",children:"Settings"})]}),a.jsx(pl,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"m6 9 6 6 6-6"})})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-1",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Desktop container max width"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",value:v.desktopMaxWidth,onChange:D=>f({...v,desktopMaxWidth:D.target.value}),className:"w-32 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),a.jsxs("select",{value:v.desktopMaxWidthUnit,onChange:D=>f({...v,desktopMaxWidthUnit:D.target.value}),className:"w-20 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[a.jsx("option",{value:"px",children:"px"}),a.jsx("option",{value:"%",children:"%"}),a.jsx("option",{value:"rem",children:"rem"})]})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-2",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Browser"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"browser",value:"app",checked:v.browser==="app",onChange:D=>f({...v,browser:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Open website in app"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"browser",value:"browser",checked:v.browser==="browser",onChange:D=>f({...v,browser:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Open website in browser"})]})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-2",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Feature permission (Who has access)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"featurePermission",value:"everyone",checked:v.featurePermission==="everyone",onChange:D=>f({...v,featurePermission:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Everyone"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"featurePermission",value:"logged-in",checked:v.featurePermission==="logged-in",onChange:D=>f({...v,featurePermission:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Logged in users"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"featurePermission",value:"guests",checked:v.featurePermission==="guests",onChange:D=>f({...v,featurePermission:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Guests (Non-logged in users)"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"featurePermission",value:"groups",checked:v.featurePermission==="groups",onChange:D=>f({...v,featurePermission:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Users in certain groups"})]})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-2",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Visibility"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:"show",checked:v.visibility==="show",onChange:D=>f({...v,visibility:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Show feature in menu"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:"show-no-access",checked:v.visibility==="show-no-access",onChange:D=>f({...v,visibility:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Show feature in menu, even if user has not access"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:"hide",checked:v.visibility==="hide",onChange:D=>f({...v,visibility:D.target.value}),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Hide feature for now"})]})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-2",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Platform"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v.hideOnMobile,onChange:D=>f({...v,hideOnMobile:D.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Hide on mobile"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v.showFeatureInMenu,onChange:D=>f({...v,showFeatureInMenu:D.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Show feature in menu, even if user has not access"})]})]})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex w-full flex-col gap-2",children:[a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Home page"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v.setAsDesktopHome,onChange:D=>f({...v,setAsDesktopHome:D.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Set as desktop home page"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v.setAsMobileHome,onChange:D=>f({...v,setAsMobileHome:D.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary/20"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Set as mobile home page"})]})]})]})})]})]})]})]}),a.jsx(s0,{isVisible:p,onClose:()=>m(!1),onSelect:I})]})},_H=({organizationName:r,title:e="Web Submit Events",userAvatarUrl:t,userEmail:s,onSidebarItemClick:i,onSearchClick:n,onNotificationClick:o,onProfileClick:l,onLogout:u,onNewEventClick:c,onEditEvent:h,onSortEvents:p})=>{const[m,v]=d.useState("events"),[f,b]=d.useState(""),[x,g]=d.useState({start:null,end:null}),[y,w]=d.useState(!1),[S,P]=d.useState(!1),[V,I]=d.useState(!1),[E,R]=d.useState(!1),[C,k]=d.useState(!1),[L,D]=d.useState("");d.useEffect(()=>{const X=()=>{const oe=window.location.pathname;if(!oe.startsWith("/event/website/editor/"))if(oe==="/event/create/template")I(!0),P(!1),R(!1),k(!1);else if(oe.startsWith("/event/website/preview/")){const ie=oe.match(/\/event\/website\/preview\/(.+)/),_=ie?ie[1]:"welcome";D(_),k(!0),R(!1),I(!1),P(!1)}else oe==="/event/website"?(R(!0),I(!1),P(!1),k(!1)):(I(!1),R(!1),k(!1))};X();const de=()=>{X()},se=()=>{I(!1),R(!1),P(!0)},fe=setInterval(X,100);return window.addEventListener("popstate",de),window.addEventListener("open-event-form",se),()=>{clearInterval(fe),window.removeEventListener("popstate",de),window.removeEventListener("open-event-form",se)}},[]);const[q]=d.useState(b3),U=X=>{try{const de=new Date(X);return isNaN(de.getTime())?null:de}catch{return null}},$=d.useMemo(()=>{const X=q.length,de=q.filter(fe=>fe.status==="Live").length,se=q.filter(fe=>fe.status==="Draft").length;return{totalEvents:X,liveEvents:de,eventDrafts:se}},[q]),K=d.useMemo(()=>{let X=q;if(x.start&&x.end&&(X=X.filter(de=>{const se=U(de.eventDate);if(!se)return!1;const fe=new Date(se.getFullYear(),se.getMonth(),se.getDate()),oe=new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate()),ie=new Date(x.end.getFullYear(),x.end.getMonth(),x.end.getDate());return fe>=oe&&fe<=ie})),f.trim()){const de=f.toLowerCase().trim();X=X.filter(se=>{const fe=se.name.toLowerCase().includes(de),oe=se.status.toLowerCase().includes(de),ie=se.attendanceType.toLowerCase().includes(de),_=se.createdBy.toLowerCase().includes(de),O=se.eventDate.toLowerCase().includes(de),Z=se.registrations.toString().includes(de);return fe||oe||ie||_||O||Z})}return X},[q,f,x]),M=X=>{v(X),i==null||i(X),w(!1)},j=()=>{w(!y)},B=()=>{P(!0),c==null||c()},Q=()=>{P(!1)},G=X=>{console.log("Event form submitted:",X),P(!1),c==null||c()};return C?a.jsx(jH,{pageId:L,onBackClick:()=>{window.history.pushState({},"","/event/website"),window.dispatchEvent(new PopStateEvent("popstate"))},userAvatarUrl:t}):E?a.jsx(mE,{onBackClick:()=>{window.history.pushState({},"","/dashboard"),window.dispatchEvent(new PopStateEvent("popstate"))},userAvatarUrl:t}):V?a.jsx(MH,{}):S?a.jsx(DH,{onClose:Q,onSubmit:G}):a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx(CH,{organizationName:r,activeItemId:m,onItemClick:M,isOpen:y,onClose:()=>w(!1)}),a.jsx(wH,{title:e,onSearchClick:n,onNotificationClick:o,onProfileClick:l,onLogout:u,onNewEventClick:B,userAvatarUrl:t,userEmail:s,onMenuClick:j,isSidebarOpen:y}),a.jsx("main",{className:"lg:ml-[250px] mt-16 p-4 sm:p-6",children:a.jsx(TH,{title:e,onNewEventClick:B,searchValue:f,onSearchChange:b,dateRange:x,onDateRangeChange:g,onEditEvent:h,onSortEvents:p,events:K,totalEvents:$.totalEvents,liveEvents:$.liveEvents,eventDrafts:$.eventDrafts})})]})},OH=()=>{const r=["button",'button[type="submit"]',".puck__button","[data-puck-button]",'button[data-testid="publish"]','button[aria-label*="Publish"]','button[title*="Publish"]',".puck__toolbar button",".puck__header button",".puck__actions button",".puck__footer button",'[role="button"]','[type="button"]','[type="submit"]','*[class*="button"]','*[class*="Button"]','*[class*="btn"]','*[class*="Btn"]'];let e=0;r.forEach(t=>{try{document.querySelectorAll(t).forEach(i=>{var n,o,l;i instanceof HTMLElement&&((((n=i.textContent)==null?void 0:n.trim().toLowerCase())||"").includes("publish")||i.getAttribute("data-testid")==="publish"||(o=i.getAttribute("aria-label"))!=null&&o.toLowerCase().includes("publish")||(l=i.getAttribute("title"))!=null&&l.toLowerCase().includes("publish"))&&(i.style.backgroundColor="#6f42c1",i.style.setProperty("background-color","#6f42c1","important"),i.style.color="white",i.style.setProperty("color","white","important"),i.style.borderColor="#6f42c1",i.style.setProperty("border-color","#6f42c1","important"),i.setAttribute("style",i.getAttribute("style")+"; background-color: #6f42c1 !important; color: white !important; border-color: #6f42c1 !important;"),i.querySelectorAll("*").forEach(h=>{h instanceof HTMLElement&&(h.style.color="white",h.style.setProperty("color","white","important"),h.style.backgroundColor="transparent",h.style.setProperty("background-color","transparent","important"))}),e++)})}catch{}})},f2=r=>!!(r.dataset.preserveColor==="true"||r.closest('[data-preserve-color="true"]')||Array.from(r.classList).some(t=>t.startsWith("text-")||t.startsWith("!text-"))),Rn=()=>{const r=s=>{f2(s)||(s.style.color="#000000",s.style.setProperty("color","#000000","important"),s.style.cssText+="color: #000000 !important;")},e=[".puck",'[class*="puck"]','[class*="Puck"]','[class*="editor"]','[class*="Editor"]','div[class*="puck"]','div[class*="Puck"]'],t=new Set;e.forEach(s=>{document.querySelectorAll(s).forEach(i=>{i instanceof HTMLElement&&t.add(i)})}),t.forEach(s=>{f2(s)||r(s),s.querySelectorAll("*").forEach(n=>{n instanceof HTMLElement&&r(n)})}),OH()},FH=()=>{Rn();const r=[setTimeout(Rn,1e3),setTimeout(Rn,2e3),setTimeout(Rn,3e3),setTimeout(Rn,5e3),setTimeout(Rn,1e4)],e=new MutationObserver(()=>{Rn()});e.observe(document.body,{childList:!0,subtree:!0});const t=setInterval(Rn,2e3);return()=>{r.forEach(s=>clearTimeout(s)),e.disconnect(),clearInterval(t)}},BH=()=>{const[r,e]=d.useState(()=>localStorage.getItem("isAuthenticated")==="true"),[t,s]=d.useState(!1),[i,n]=d.useState(!1),[o,l]=d.useState(!1),[u,c]=d.useState(!1),[h,p]=d.useState(""),[m,v]=d.useState(!1),[f,b]=d.useState(null),[x,g]=d.useState(!1),[y,w]=d.useState(null),[S,P]=d.useState(!1),[V,I]=d.useState(null),[E,R]=d.useState(!1),[C,k]=d.useState("dashboard"),[L,D]=d.useState(void 0),[q,U]=d.useState(!1),[$]=d.useState(!0),[K]=d.useState(!0),{currentData:M,setCurrentData:j,currentPage:B,setCurrentPage:Q,currentPageName:G,setCurrentPageName:X,pages:de,showPageManager:se,setShowPageManager:fe,showPageNameDialog:oe,setShowPageNameDialog:ie,loadPages:_,loadPage:O,createNewPage:Z,confirmNewPage:le,createPageFromTemplate:te}=YN(),{handlePublish:W,handleDataChange:he}=sR(M,j,B,G,Q,_),{handleProfileClick:me,handlePageCreationSelect:Ve,handleNavigateToEditor:Me,handleAddComponent:Le}=rR({setCurrentView:k,setCurrentData:j,setPuckUi:D,setShowPreview:R,createNewPage:Z}),ze=je=>{je==="schedule-session"?k("schedule"):je==="communications"?k("communication"):je==="resource-management"&&k("resource-management")},et=()=>{k("editor")},nt=()=>{k("events")},Bt=(je,Ae)=>{e(!0),localStorage.setItem("isAuthenticated","true")},Fs=je=>{p(je),s(!1),n(!0)},Rr=async je=>{v(!0),b(null);try{(await pH(h,je)).status==="success"&&(n(!1),l(!0))}catch(Ae){const vt=Ae instanceof Error?Ae.message:"Failed to verify OTP. Please try again.";b(vt)}finally{v(!1)}},hr=async je=>{g(!0),w(null);try{const Ae=await mH(h,je);if(Ae.data){const{access:vt,refresh:qt,user:xs}=Ae.data;vt&&localStorage.setItem("accessToken",vt),qt&&localStorage.setItem("refreshToken",qt),xs!=null&&xs.email&&localStorage.setItem("userEmail",xs.email)}l(!1),c(!0)}catch(Ae){const vt=Ae instanceof Error?Ae.message:"Failed to create password. Please try again.";w(vt)}finally{g(!1)}},Zr=async je=>{P(!0),I(null);try{const Ae=await gH(je);Ae.uuid&&(localStorage.setItem("organizationUuid",Ae.uuid),localStorage.setItem("organizationName",Ae.name)),e(!0),localStorage.setItem("isAuthenticated","true"),c(!1),k("dashboard"),st.success("Organization created successfully!"),dt.debug(" Organization created, navigating to dashboard")}catch(Ae){const vt=Ae instanceof Error?Ae.message:"Failed to create organization. Please try again.";I(vt)}finally{P(!1)}},rt=()=>{},ye=()=>{e(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userEmail"),localStorage.removeItem("organizationUuid"),localStorage.removeItem("organizationName"),st.success("Logged out successfully")},Ue=()=>{e(!0),localStorage.setItem("isAuthenticated","true")},Je=()=>{e(!0),localStorage.setItem("isAuthenticated","true")},Xe=()=>{};d.useEffect(()=>{if(!E&&r)return FH()},[E,r]);const xe=d.useRef(O),Pe=d.useRef(C);if(d.useEffect(()=>{xe.current=O},[O]),d.useEffect(()=>{Pe.current=C},[C]),d.useEffect(()=>{if(!r)return;let je="";const Ae=()=>{const qt=window.location.pathname;if(qt!==je)if(je=qt,qt.startsWith("/event/website/editor/")){const xs=qt.match(/\/event\/website\/editor\/(.+)/),Jr=xs?xs[1]:"welcome";Pe.current!=="editor"&&k("editor"),R(!1);const Sn=Jr.endsWith(".json")?Jr:`${Jr}.json`;xe.current(Sn).catch(wo=>{})}else qt.startsWith("/event/hub")?Pe.current!=="events"&&k("events"):(qt.startsWith("/event/website/preview/")||qt.startsWith("/event/website"))&&Pe.current!=="dashboard"&&k("dashboard")};Ae();const vt=()=>{Ae()};return window.addEventListener("popstate",vt),()=>{window.removeEventListener("popstate",vt)}},[r]),d.useEffect(()=>{if(!r)return;const je=()=>{k("schedule")};return window.addEventListener("navigate-to-schedule",je),()=>{window.removeEventListener("navigate-to-schedule",je)}},[r]),!r)return u?a.jsx(xH,{onSubmit:Zr,isLoading:S,error:V,onNameChange:()=>I(null)}):o?a.jsx(yH,{onSubmit:hr,isLoading:x,error:y,onPasswordChange:()=>w(null)}):i?a.jsx(vH,{email:h,onVerify:Rr,onResendCode:rt,isLoading:m,error:f,onCodeChange:()=>b(null)}):t?a.jsx(fH,{onSubmit:Fs,onTermsClick:()=>{},onAlreadyHaveAccount:()=>s(!1),onClose:()=>s(!1)}):a.jsx(cH,{onSubmit:Bt,onGoogleSignIn:Ue,onMicrosoftSignIn:Je,onMagicLinkSignIn:Xe,onForgotPassword:()=>{},onNavigateToRegistration:()=>s(!0)});if(C==="dashboard"){const je=localStorage.getItem("organizationName")||"Web Summit",Ae=localStorage.getItem("userEmail")||"";return a.jsx(_5,{children:a.jsx(_H,{organizationName:je,title:"Web Submit Events",userAvatarUrl:"",userEmail:Ae,onSidebarItemClick:vt=>{vt==="events"&&k("events")},onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:me,onLogout:ye,onNewEventClick:()=>{},onEditEvent:vt=>{},onSortEvents:vt=>{}})})}return C==="events"?a.jsx(u9,{eventName:"Highly important conference of 2025",isDraft:!0,onBackClick:et,userAvatarUrl:"",onCardClick:ze}):C==="schedule"?a.jsx(pE,{eventName:"Highly important conference of 2025",isDraft:!0,onBackClick:nt,userAvatarUrl:"",scheduleName:"Schedule 1",onCardClick:ze}):C==="communication"?a.jsx(cE,{eventName:"Highly important conference of 2025",isDraft:!0,onBackClick:nt,userAvatarUrl:"",onCardClick:ze}):C==="resource-management"?a.jsx(hE,{eventName:"Highly important conference of 2025",isDraft:!0,onBackClick:nt,userAvatarUrl:"",onCardClick:ze}):a.jsx(qH,{currentData:M,currentPage:B,currentPageName:G,pages:de,puckUi:L,showPreview:E,showLeftSidebar:$,showRightSidebar:K,showPageManager:se,showPageNameDialog:oe,showPageCreationModal:q,onPublish:W,onDataChange:he,setCurrentData:j,loadPage:O,setShowPageManager:fe,setShowPageNameDialog:ie,setCurrentPageName:X,confirmNewPage:le,setShowPageCreationModal:U,handlePageCreationSelect:Ve,handleNavigateToEditor:Me,handleAddComponent:Le,setShowPreview:R,handleBackToEditor:et,createPageFromTemplate:te,createNewPage:Z,handleProfileClick:me})},qH=r=>{const{eventData:e}=Gr(),t=localStorage.getItem("userAvatarUrl")||"";return a.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[a.jsx(vo,{eventName:(e==null?void 0:e.eventName)||"Highly important conference of 2025",isDraft:!0,onBackClick:r.handleBackToEditor,onSearchClick:()=>{},onNotificationClick:()=>{},onProfileClick:r.handleProfileClick,userAvatarUrl:t}),a.jsx(iR,{pages:r.pages,currentPage:r.currentPage,onPageSelect:r.loadPage,isVisible:r.showPageManager}),a.jsx(nR,{isVisible:r.showPageNameDialog,pageName:r.currentPageName,onPageNameChange:r.setCurrentPageName,onConfirm:r.confirmNewPage,onCancel:()=>r.setShowPageNameDialog(!1)}),a.jsx(s0,{isVisible:r.showPageCreationModal,onClose:()=>r.setShowPageCreationModal(!1),onSelect:r.handlePageCreationSelect}),a.jsx(uH,{currentData:r.currentData,currentPage:r.currentPage,currentPageName:r.currentPageName,pages:r.pages,puckUi:r.puckUi,showPreview:r.showPreview,showLeftSidebar:r.showLeftSidebar,showRightSidebar:r.showRightSidebar,showPageManager:r.showPageManager,onPublish:r.onPublish,onChange:r.onDataChange,onDataChange:r.setCurrentData,onPageSelect:r.loadPage,onAddPage:()=>r.setShowPageCreationModal(!0),onManagePages:()=>r.setShowPageManager(!r.showPageManager),onNavigateToEditor:r.handleNavigateToEditor,onAddComponent:r.handleAddComponent,onPreviewToggle:()=>r.setShowPreview(!r.showPreview),onBack:r.handleBackToEditor,onCreatePageFromTemplate:r.createPageFromTemplate,onCreateNewPage:r.createNewPage})]})};class zH extends d.Component{constructor(t){super(t);Q1(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,s){dt.error("Error Boundary caught an error:",t),dt.error("Error Info:",s),this.setState({error:t,errorInfo:s})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 p-10 font-sans",children:a.jsxs("div",{className:"max-w-[600px] rounded-xl bg-white p-10 shadow-lg",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mb-4 text-6xl",children:""}),a.jsx("h1",{className:"mb-3 text-2xl font-semibold text-slate-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"text-base text-slate-500",children:"We're sorry for the inconvenience. The application encountered an unexpected error."})]}),this.state.error&&a.jsxs("div",{className:"mb-6 rounded-lg border border-rose-200 bg-rose-50 p-4",children:[a.jsx("h3",{className:"mb-2 text-sm font-semibold text-rose-900",children:"Error Details:"}),a.jsx("p",{className:"break-words font-mono text-xs text-rose-800",children:this.state.error.toString()})]}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{type:"button",onClick:this.handleReset,className:"rounded-lg bg-primary px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-primary/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Try Again"}),a.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"rounded-lg border border-slate-300 px-6 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300/60",children:"Reload Page"})]})]})}):this.props.children}}Yg.createRoot(document.getElementById("root")).render(a.jsx(Ie.StrictMode,{children:a.jsx(zH,{children:a.jsxs(_5,{children:[a.jsx(BH,{}),a.jsx(KN,{})]})})}));export{a as j,Po as z};
